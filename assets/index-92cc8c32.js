function _mergeNamespaces(_e,et){for(var tt=0;tt<et.length;tt++){const nt=et[tt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const rt in nt)if(rt!=="default"&&!(rt in _e)){const it=Object.getOwnPropertyDescriptor(nt,rt);it&&Object.defineProperty(_e,rt,it.get?it:{enumerable:!0,get:()=>nt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))nt(rt);new MutationObserver(rt=>{for(const it of rt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&nt(ot)}).observe(document,{childList:!0,subtree:!0});function tt(rt){const it={};return rt.integrity&&(it.integrity=rt.integrity),rt.referrerPolicy&&(it.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?it.credentials="include":rt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(rt){if(rt.ep)return;rt.ep=!0;const it=tt(rt);fetch(rt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$5=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$4&&_e[z$4]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$3(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$3.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$1(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,et,tt){var nt,rt={},it=null,ot=null;if(et!=null)for(nt in et.ref!==void 0&&(ot=et.ref),et.key!==void 0&&(it=""+et.key),et)J.call(et,nt)&&!L$2.hasOwnProperty(nt)&&(rt[nt]=et[nt]);var at=arguments.length-2;if(at===1)rt.children=tt;else if(1<at){for(var st=Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt+2];rt.children=st}if(_e&&_e.defaultProps)for(nt in at=_e.defaultProps,at)rt[nt]===void 0&&(rt[nt]=at[nt]);return{$$typeof:l$5,type:_e,key:it,ref:ot,props:rt,_owner:K$1.current}}function N$3(_e,et){return{$$typeof:l$5,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$5}function escape(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$3=/\/+/g;function Q$2(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):et.toString(36)}function R$2(_e,et,tt,nt,rt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$5:case n$5:ot=!0}}if(ot)return ot=_e,rt=rt(ot),_e=nt===""?"."+Q$2(ot,0):nt,I$2(rt)?(tt="",_e!=null&&(tt=_e.replace(P$3,"$&/")+"/"),R$2(rt,et,tt,"",function(lt){return lt})):rt!=null&&(O$3(rt)&&(rt=N$3(rt,tt+(!rt.key||ot&&ot.key===rt.key?"":(""+rt.key).replace(P$3,"$&/")+"/")+_e)),et.push(rt)),1;if(ot=0,nt=nt===""?".":nt+":",I$2(_e))for(var at=0;at<_e.length;at++){it=_e[at];var st=nt+Q$2(it,at);ot+=R$2(it,et,tt,st,rt)}else if(st=A$4(_e),typeof st=="function")for(_e=st.call(_e),at=0;!(it=_e.next()).done;)it=it.value,st=nt+Q$2(it,at++),ot+=R$2(it,et,tt,st,rt);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$4(_e,et,tt){if(_e==null)return _e;var nt=[],rt=0;return R$2(_e,nt,"","",function(it){return et.call(tt,it,rt++)}),nt}function T$1(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$4,forEach:function(_e,et,tt){S$4(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$4(_e,function(){et++}),et},toArray:function(_e){return S$4(_e,function(et){return et})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$3;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var nt=C$1({},_e.props),rt=_e.key,it=_e.ref,ot=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,ot=K$1.current),et.key!==void 0&&(rt=""+et.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(st in et)J.call(et,st)&&!L$2.hasOwnProperty(st)&&(nt[st]=et[st]===void 0&&at!==void 0?at[st]:et[st])}var st=arguments.length-2;if(st===1)nt.children=tt;else if(1<st){at=Array(st);for(var lt=0;lt<st;lt++)at[lt]=arguments[lt+2];nt.children=at}return{$$typeof:l$5,type:_e.type,key:rt,ref:it,props:nt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$3,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$4,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var et=M$4.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$5,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$1}};react_production_min.memo=function(_e,et){return{$$typeof:x$5,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,et){return U$2.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$2.current.useEffect(_e,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$2.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$2.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$2.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$2.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$2.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$2.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React16=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:React16},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$3=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$4=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,et,tt){var nt,rt={},it=null,ot=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(ot=et.ref);for(nt in et)m$4.call(et,nt)&&!p$6.hasOwnProperty(nt)&&(rt[nt]=et[nt]);if(_e&&_e.defaultProps)for(nt in et=_e.defaultProps,et)rt[nt]===void 0&&(rt[nt]=et[nt]);return{$$typeof:k$3,type:_e,key:it,ref:ot,props:rt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===_e)return document.styleSheets[et]}function createStyleElement(_e){var et=document.createElement("style");return et.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&et.setAttribute("nonce",_e.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function _e(tt){var nt=this;this._insertTag=function(rt){var it;nt.tags.length===0?nt.insertionPoint?it=nt.insertionPoint.nextSibling:nt.prepend?it=nt.container.firstChild:it=nt.before:it=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(rt,it),nt.tags.push(rt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var et=_e.prototype;return et.hydrate=function(nt){nt.forEach(this._insertTag)},et.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(rt);try{it.insertRule(nt,it.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(nt));this.ctr++},et.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash(_e,et){return charat(_e,0)^45?(((et<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,et){return(_e=et.exec(_e))?_e[0]:_e}function replace(_e,et,tt){return _e.replace(et,tt)}function indexof(_e,et){return _e.indexOf(et)}function charat(_e,et){return _e.charCodeAt(et)|0}function substr(_e,et,tt){return _e.slice(et,tt)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append$1(_e,et){return et.push(_e),_e}function combine(_e,et){return _e.map(et).join("")}var line$2=1,column=1,length=0,position=0,character=0,characters="";function node(_e,et,tt,nt,rt,it,ot){return{value:_e,root:et,parent:tt,type:nt,props:rt,children:it,line:line$2,column,length:ot,return:""}}function copy$1(_e,et){return assign$1(node("",null,null,"",null,null,0),_e,{length:-_e.length},et)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line$2--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line$2++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(_e,et){return substr(characters,_e,et)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line$2=column=1,length=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek$1())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(et<6&&peek$1()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,et){for(;next()&&_e+character!==47+10;)if(_e+character===42+42&&peek$1()===47)break;return"/*"+slice(et,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek$1());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,et,tt,nt,rt,it,ot,at,st){for(var lt=0,ut=0,ct=ot,ft=0,dt=0,ht=0,mt=1,yt=1,pt=1,vt=0,gt="",xt=rt,wt=it,bt=nt,St=gt;yt;)switch(ht=vt,vt=next()){case 40:if(ht!=108&&charat(St,ct-1)==58){indexof(St+=replace(delimit(vt),"&","&\f"),"&\f")!=-1&&(pt=-1);break}case 34:case 39:case 91:St+=delimit(vt);break;case 9:case 10:case 13:case 32:St+=whitespace(ht);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),et,tt),st);break;default:St+="/"}break;case 123*mt:at[lt++]=strlen(St)*pt;case 125*mt:case 59:case 0:switch(vt){case 0:case 125:yt=0;case 59+ut:pt==-1&&(St=replace(St,/\f/g,"")),dt>0&&strlen(St)-ct&&append$1(dt>32?declaration(St+";",nt,tt,ct-1):declaration(replace(St," ","")+";",nt,tt,ct-2),st);break;case 59:St+=";";default:if(append$1(bt=ruleset(St,et,tt,lt,ut,rt,at,gt,xt=[],wt=[],ct),it),vt===123)if(ut===0)parse(St,et,bt,bt,xt,it,ct,at,wt);else switch(ft===99&&charat(St,3)===110?100:ft){case 100:case 108:case 109:case 115:parse(_e,bt,bt,nt&&append$1(ruleset(_e,bt,bt,0,0,rt,at,gt,rt,xt=[],ct),wt),rt,wt,ct,at,nt?xt:wt);break;default:parse(St,bt,bt,bt,[""],wt,0,at,wt)}}lt=ut=dt=0,mt=pt=1,gt=St="",ct=ot;break;case 58:ct=1+strlen(St),dt=ht;default:if(mt<1){if(vt==123)--mt;else if(vt==125&&mt++==0&&prev()==125)continue}switch(St+=from(vt),vt*mt){case 38:pt=ut>0?1:(St+="\f",-1);break;case 44:at[lt++]=(strlen(St)-1)*pt,pt=1;break;case 64:peek$1()===45&&(St+=delimit(next())),ft=peek$1(),ut=ct=strlen(gt=St+=identifier(caret())),vt++;break;case 45:ht===45&&strlen(St)==2&&(mt=0)}}return it}function ruleset(_e,et,tt,nt,rt,it,ot,at,st,lt,ut){for(var ct=rt-1,ft=rt===0?it:[""],dt=sizeof(ft),ht=0,mt=0,yt=0;ht<nt;++ht)for(var pt=0,vt=substr(_e,ct+1,ct=abs(mt=ot[ht])),gt=_e;pt<dt;++pt)(gt=trim(mt>0?ft[pt]+" "+vt:replace(vt,/&\f/g,ft[pt])))&&(st[yt++]=gt);return node(_e,et,tt,rt===0?RULESET:at,st,lt,ut)}function comment(_e,et,tt){return node(_e,et,tt,COMMENT$1,from(char()),substr(_e,2,-2),0)}function declaration(_e,et,tt,nt){return node(_e,et,tt,DECLARATION,substr(_e,0,nt),substr(_e,nt+1,-1),nt)}function serialize(_e,et){for(var tt="",nt=sizeof(_e),rt=0;rt<nt;rt++)tt+=et(_e[rt],rt,_e,et)||"";return tt}function stringify(_e,et,tt,nt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT$1:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,nt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(tt=serialize(_e.children,nt))?_e.return=_e.value+"{"+tt+"}":""}function middleware(_e){var et=sizeof(_e);return function(tt,nt,rt,it){for(var ot="",at=0;at<et;at++)ot+=_e[at](tt,nt,rt,it)||"";return ot}}function rulesheet(_e){return function(et){et.root||(et=et.return)&&_e(et)}}function memoize(_e){var et=Object.create(null);return function(tt){return et[tt]===void 0&&(et[tt]=_e(tt)),et[tt]}}var identifierWithPointTracking=function(et,tt,nt){for(var rt=0,it=0;rt=it,it=peek$1(),rt===38&&it===12&&(tt[nt]=1),!token(it);)next();return slice(et,position)},toRules=function(et,tt){var nt=-1,rt=44;do switch(token(rt)){case 0:rt===38&&peek$1()===12&&(tt[nt]=1),et[nt]+=identifierWithPointTracking(position-1,tt,nt);break;case 2:et[nt]+=delimit(rt);break;case 4:if(rt===44){et[++nt]=peek$1()===58?"&\f":"",tt[nt]=et[nt].length;break}default:et[nt]+=from(rt)}while(rt=next());return et},getRules=function(et,tt){return dealloc(toRules(alloc(et),tt))},fixedElements=new WeakMap,compat=function(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var tt=et.value,nt=et.parent,rt=et.column===nt.column&&et.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(et.props.length===1&&tt.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!rt){fixedElements.set(et,!0);for(var it=[],ot=getRules(tt,it),at=nt.props,st=0,lt=0;st<ot.length;st++)for(var ut=0;ut<at.length;ut++,lt++)et.props[lt]=it[st]?ot[st].replace(/&\f/g,at[ut]):at[ut]+" "+ot[st]}}},removeLabel=function(et){if(et.type==="decl"){var tt=et.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(et.return="",et.value="")}};function prefix(_e,et){switch(hash(_e,et)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace(_e,"-grow","")+WEBKIT+_e+MS+replace(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace(replace(replace(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-et>6)switch(charat(_e,et+1)){case 109:if(charat(_e,et+4)!==45)break;case 102:return replace(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,et+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace(_e,"stretch","fill-available"),et)+_e:_e}break;case 4949:if(charat(_e,et+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace(_e,":",":"+WEBKIT)+_e;case 101:return replace(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,et+11)){case 114:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function(et,tt,nt,rt){if(et.length>-1&&!et.return)switch(et.type){case DECLARATION:et.return=prefix(et.value,et.length);break;case KEYFRAMES:return serialize([copy$1(et,{value:replace(et.value,"@","@"+WEBKIT)})],rt);case RULESET:if(et.length)return combine(et.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$1(et,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize([copy$1(et,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(et,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(et,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(et){var tt=et.key;if(tt==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(mt){var yt=mt.getAttribute("data-emotion");yt.indexOf(" ")!==-1&&(document.head.appendChild(mt),mt.setAttribute("data-s",""))})}var rt=et.stylisPlugins||defaultStylisPlugins,it={},ot,at=[];ot=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(mt){for(var yt=mt.getAttribute("data-emotion").split(" "),pt=1;pt<yt.length;pt++)it[yt[pt]]=!0;at.push(mt)});var st,lt=[compat,removeLabel];{var ut,ct=[stringify,rulesheet(function(mt){ut.insert(mt)})],ft=middleware(lt.concat(rt,ct)),dt=function(yt){return serialize(compile(yt),ft)};st=function(yt,pt,vt,gt){ut=vt,dt(yt?yt+"{"+pt.styles+"}":pt.styles),gt&&(ht.inserted[pt.name]=!0)}}var ht={key:tt,sheet:new StyleSheet({key:tt,container:ot,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:it,registered:{},insert:st};return ht.sheet.hydrate(at),ht};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$2.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$4=typeof Symbol=="function"&&Symbol.for,c$2=b$4?Symbol.for("react.element"):60103,d$3=b$4?Symbol.for("react.portal"):60106,e$2=b$4?Symbol.for("react.fragment"):60107,f$3=b$4?Symbol.for("react.strict_mode"):60108,g$3=b$4?Symbol.for("react.profiler"):60114,h$4=b$4?Symbol.for("react.provider"):60109,k$2=b$4?Symbol.for("react.context"):60110,l$3=b$4?Symbol.for("react.async_mode"):60111,m$3=b$4?Symbol.for("react.concurrent_mode"):60111,n$3=b$4?Symbol.for("react.forward_ref"):60112,p$5=b$4?Symbol.for("react.suspense"):60113,q$1=b$4?Symbol.for("react.suspense_list"):60120,r$3=b$4?Symbol.for("react.memo"):60115,t$3=b$4?Symbol.for("react.lazy"):60116,v$4=b$4?Symbol.for("react.block"):60121,w$4=b$4?Symbol.for("react.fundamental"):60117,x$4=b$4?Symbol.for("react.responder"):60118,y$4=b$4?Symbol.for("react.scope"):60119;function z$3(_e){if(typeof _e=="object"&&_e!==null){var et=_e.$$typeof;switch(et){case c$2:switch(_e=_e.type,_e){case l$3:case m$3:case e$2:case g$3:case f$3:case p$5:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$2:case n$3:case t$3:case r$3:case h$4:return _e;default:return et}}case d$3:return et}}}function A$3(_e){return z$3(_e)===m$3}reactIs_production_min.AsyncMode=l$3;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$4;reactIs_production_min.Element=c$2;reactIs_production_min.ForwardRef=n$3;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$3;reactIs_production_min.Memo=r$3;reactIs_production_min.Portal=d$3;reactIs_production_min.Profiler=g$3;reactIs_production_min.StrictMode=f$3;reactIs_production_min.Suspense=p$5;reactIs_production_min.isAsyncMode=function(_e){return A$3(_e)||z$3(_e)===l$3};reactIs_production_min.isConcurrentMode=A$3;reactIs_production_min.isContextConsumer=function(_e){return z$3(_e)===k$2};reactIs_production_min.isContextProvider=function(_e){return z$3(_e)===h$4};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$2};reactIs_production_min.isForwardRef=function(_e){return z$3(_e)===n$3};reactIs_production_min.isFragment=function(_e){return z$3(_e)===e$2};reactIs_production_min.isLazy=function(_e){return z$3(_e)===t$3};reactIs_production_min.isMemo=function(_e){return z$3(_e)===r$3};reactIs_production_min.isPortal=function(_e){return z$3(_e)===d$3};reactIs_production_min.isProfiler=function(_e){return z$3(_e)===g$3};reactIs_production_min.isStrictMode=function(_e){return z$3(_e)===f$3};reactIs_production_min.isSuspense=function(_e){return z$3(_e)===p$5};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$2||_e===m$3||_e===g$3||_e===f$3||_e===p$5||_e===q$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$3||_e.$$typeof===r$3||_e.$$typeof===h$4||_e.$$typeof===k$2||_e.$$typeof===n$3||_e.$$typeof===w$4||_e.$$typeof===x$4||_e.$$typeof===y$4||_e.$$typeof===v$4)};reactIs_production_min.typeOf=z$3;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(_e,et,tt){var nt="";return tt.split(" ").forEach(function(rt){_e[rt]!==void 0?et.push(_e[rt]+";"):nt+=rt+" "}),nt}var registerStyles=function(et,tt,nt){var rt=et.key+"-"+tt.name;(nt===!1||isBrowser$1===!1)&&et.registered[rt]===void 0&&(et.registered[rt]=tt.styles)},insertStyles=function(et,tt,nt){registerStyles(et,tt,nt);var rt=et.key+"-"+tt.name;if(et.inserted[tt.name]===void 0){var it=tt;do et.insert(tt===it?"."+rt:"",it,et.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var et=0,tt,nt=0,rt=_e.length;rt>=4;++nt,rt-=4)tt=_e.charCodeAt(nt)&255|(_e.charCodeAt(++nt)&255)<<8|(_e.charCodeAt(++nt)&255)<<16|(_e.charCodeAt(++nt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,et=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch(rt){case 3:et^=(_e.charCodeAt(nt+2)&255)<<16;case 2:et^=(_e.charCodeAt(nt+1)&255)<<8;case 1:et^=_e.charCodeAt(nt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(et){return et.charCodeAt(1)===45},isProcessableValue=function(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(et,tt){switch(et){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(animationRegex,function(nt,rt,it){return cursor={name:rt,styles:it,next:cursor},rt})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof tt=="number"&&tt!==0?tt+"px":tt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,et,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;if(tt.styles!==void 0){var nt=tt.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var rt=tt.styles+";";return rt}return createStringFromObject(_e,et,tt)}case"function":{if(_e!==void 0){var it=cursor,ot=tt(_e);return cursor=it,handleInterpolation(_e,et,ot)}break}}if(et==null)return tt;var at=et[tt];return at!==void 0?at:tt}function createStringFromObject(_e,et,tt){var nt="";if(Array.isArray(tt))for(var rt=0;rt<tt.length;rt++)nt+=handleInterpolation(_e,et,tt[rt])+";";else for(var it in tt){var ot=tt[it];if(typeof ot!="object")et!=null&&et[ot]!==void 0?nt+=it+"{"+et[ot]+"}":isProcessableValue(ot)&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(et==null||et[ot[0]]===void 0))for(var at=0;at<ot.length;at++)isProcessableValue(ot[at])&&(nt+=processStyleName(it)+":"+processStyleValue(it,ot[at])+";");else{var st=handleInterpolation(_e,et,ot);switch(it){case"animation":case"animationName":{nt+=processStyleName(it)+":"+st+";";break}default:nt+=it+"{"+st+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(et,tt,nt){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var rt=!0,it="";cursor=void 0;var ot=et[0];ot==null||ot.raw===void 0?(rt=!1,it+=handleInterpolation(nt,tt,ot)):it+=ot[0];for(var at=1;at<et.length;at++)it+=handleInterpolation(nt,tt,et[at]),rt&&(it+=ot[at]);labelPattern.lastIndex=0;for(var st="",lt;(lt=labelPattern.exec(it))!==null;)st+="-"+lt[1];var ut=murmur2(it)+st;return{name:ut,styles:it,next:cursor}},syncFallback=function(et){return et()},useInsertionEffect=React["useInsertionEffect"]?React["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,hasOwnProperty$3={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function(et){return reactExports.forwardRef(function(tt,nt){var rt=reactExports.useContext(EmotionCacheContext);return et(tt,rt,nt)})},ThemeContext$1=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(et,tt){var nt={};for(var rt in tt)hasOwnProperty$3.call(tt,rt)&&(nt[rt]=tt[rt]);return nt[typePropName]=et,nt},Insertion$1=function(et){var tt=et.cache,nt=et.serialized,rt=et.isStringTag;return registerStyles(tt,nt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,nt,rt)}),null},Emotion=withEmotionCache(function(_e,et,tt){var nt=_e.css;typeof nt=="string"&&et.registered[nt]!==void 0&&(nt=et.registered[nt]);var rt=_e[typePropName],it=[nt],ot="";typeof _e.className=="string"?ot=getRegisteredStyles(et.registered,it,_e.className):_e.className!=null&&(ot=_e.className+" ");var at=serializeStyles(it,void 0,reactExports.useContext(ThemeContext$1));ot+=et.key+"-"+at.name;var st={};for(var lt in _e)hasOwnProperty$3.call(_e,lt)&&lt!=="css"&&lt!==typePropName&&(st[lt]=_e[lt]);return st.ref=tt,st.className=ot,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:et,serialized:at,isStringTag:typeof rt=="string"}),reactExports.createElement(rt,st))}),Emotion$1=Emotion,Fragment=jsxRuntimeExports.Fragment;function jsx(_e,et,tt){return hasOwnProperty$3.call(et,"css")?jsxRuntimeExports.jsx(Emotion$1,createEmotionProps(_e,et),tt):jsxRuntimeExports.jsx(_e,et,tt)}function jsxs(_e,et,tt){return hasOwnProperty$3.call(et,"css")?jsxRuntimeExports.jsxs(Emotion$1,createEmotionProps(_e,et),tt):jsxRuntimeExports.jsxs(_e,et,tt)}var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(zt,jt){var Wt=zt.length;zt.push(jt);e:for(;0<Wt;){var Nt=Wt-1>>>1,Lt=zt[Nt];if(0<rt(Lt,jt))zt[Nt]=jt,zt[Wt]=Lt,Wt=Nt;else break e}}function tt(zt){return zt.length===0?null:zt[0]}function nt(zt){if(zt.length===0)return null;var jt=zt[0],Wt=zt.pop();if(Wt!==jt){zt[0]=Wt;e:for(var Nt=0,Lt=zt.length,Jt=Lt>>>1;Nt<Jt;){var qt=2*(Nt+1)-1,Kt=zt[qt],dn=qt+1,gn=zt[dn];if(0>rt(Kt,Wt))dn<Lt&&0>rt(gn,Kt)?(zt[Nt]=gn,zt[dn]=Wt,Nt=dn):(zt[Nt]=Kt,zt[qt]=Wt,Nt=qt);else if(dn<Lt&&0>rt(gn,Wt))zt[Nt]=gn,zt[dn]=Wt,Nt=dn;else break e}}return jt}function rt(zt,jt){var Wt=zt.sortIndex-jt.sortIndex;return Wt!==0?Wt:zt.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,at=ot.now();_e.unstable_now=function(){return ot.now()-at}}var st=[],lt=[],ut=1,ct=null,ft=3,dt=!1,ht=!1,mt=!1,yt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(zt){for(var jt=tt(lt);jt!==null;){if(jt.callback===null)nt(lt);else if(jt.startTime<=zt)nt(lt),jt.sortIndex=jt.expirationTime,et(st,jt);else break;jt=tt(lt)}}function xt(zt){if(mt=!1,gt(zt),!ht)if(tt(st)!==null)ht=!0,Zt(wt);else{var jt=tt(lt);jt!==null&&Ht(xt,jt.startTime-zt)}}function wt(zt,jt){ht=!1,mt&&(mt=!1,pt(kt),kt=-1),dt=!0;var Wt=ft;try{for(gt(jt),ct=tt(st);ct!==null&&(!(ct.expirationTime>jt)||zt&&!At());){var Nt=ct.callback;if(typeof Nt=="function"){ct.callback=null,ft=ct.priorityLevel;var Lt=Nt(ct.expirationTime<=jt);jt=_e.unstable_now(),typeof Lt=="function"?ct.callback=Lt:ct===tt(st)&&nt(st),gt(jt)}else nt(st);ct=tt(st)}if(ct!==null)var Jt=!0;else{var qt=tt(lt);qt!==null&&Ht(xt,qt.startTime-jt),Jt=!1}return Jt}finally{ct=null,ft=Wt,dt=!1}}var bt=!1,St=null,kt=-1,Rt=5,Et=-1;function At(){return!(_e.unstable_now()-Et<Rt)}function Tt(){if(St!==null){var zt=_e.unstable_now();Et=zt;var jt=!0;try{jt=St(!0,zt)}finally{jt?It():(bt=!1,St=null)}}else bt=!1}var It;if(typeof vt=="function")It=function(){vt(Tt)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,Pt=_t.port2;_t.port1.onmessage=Tt,It=function(){Pt.postMessage(null)}}else It=function(){yt(Tt,0)};function Zt(zt){St=zt,bt||(bt=!0,It())}function Ht(zt,jt){kt=yt(function(){zt(_e.unstable_now())},jt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(zt){zt.callback=null},_e.unstable_continueExecution=function(){ht||dt||(ht=!0,Zt(wt))},_e.unstable_forceFrameRate=function(zt){0>zt||125<zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<zt?Math.floor(1e3/zt):5},_e.unstable_getCurrentPriorityLevel=function(){return ft},_e.unstable_getFirstCallbackNode=function(){return tt(st)},_e.unstable_next=function(zt){switch(ft){case 1:case 2:case 3:var jt=3;break;default:jt=ft}var Wt=ft;ft=jt;try{return zt()}finally{ft=Wt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(zt,jt){switch(zt){case 1:case 2:case 3:case 4:case 5:break;default:zt=3}var Wt=ft;ft=zt;try{return jt()}finally{ft=Wt}},_e.unstable_scheduleCallback=function(zt,jt,Wt){var Nt=_e.unstable_now();switch(typeof Wt=="object"&&Wt!==null?(Wt=Wt.delay,Wt=typeof Wt=="number"&&0<Wt?Nt+Wt:Nt):Wt=Nt,zt){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=Wt+Lt,zt={id:ut++,callback:jt,priorityLevel:zt,startTime:Wt,expirationTime:Lt,sortIndex:-1},Wt>Nt?(zt.sortIndex=Wt,et(lt,zt),tt(st)===null&&zt===tt(lt)&&(mt?(pt(kt),kt=-1):mt=!0,Ht(xt,Wt-Nt))):(zt.sortIndex=Lt,et(st,zt),ht||dt||(ht=!0,Zt(wt))),zt},_e.unstable_shouldYield=At,_e.unstable_wrapCallback=function(zt){var jt=ft;return function(){var Wt=ft;ft=jt;try{return zt.apply(this,arguments)}finally{ft=Wt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,nt){if(et===null||typeof et>"u"||pa(_e,et,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$3(_e,et,tt,nt,rt,it,ot){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=rt,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=ot}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$2[_e]=new v$3(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$2[et]=new v$3(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$2[_e]=new v$3(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$2[_e]=new v$3(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$2[_e]=new v$3(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$2[_e]=new v$3(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$2[_e]=new v$3(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$2[_e]=new v$3(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$2[_e]=new v$3(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$2[et]=new v$3(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$2[et]=new v$3(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$2[et]=new v$3(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$2[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$2[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,nt){var rt=z$2.hasOwnProperty(et)?z$2[et]:null;(rt!==null?rt.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,rt,nt)&&(tt=null),nt||rt===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):rt.mustUseProperty?_e[rt.propertyName]=tt===null?rt.type===3?!1:"":tt:(et=rt.attributeName,nt=rt.attributeNamespace,tt===null?_e.removeAttribute(et):(rt=rt.type,tt=rt===3||rt===4&&tt===!0?"":""+tt,nt?_e.setAttributeNS(nt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$2=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(lt){var nt=lt}Reflect.construct(_e,[],et)}else{try{et.call()}catch(lt){nt=lt}_e.call(et.prototype)}else{try{throw Error()}catch(lt){nt=lt}_e()}}catch(lt){if(lt&&nt&&typeof lt.stack=="string"){for(var rt=lt.stack.split(`
`),it=nt.stack.split(`
`),ot=rt.length-1,at=it.length-1;1<=ot&&0<=at&&rt[ot]!==it[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(rt[ot]!==it[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||rt[ot]!==it[at]){var st=`
`+rt[ot].replace(" at new "," at ");return _e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",_e.displayName)),st}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),nt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var rt=tt.get,it=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return rt.call(this)},set:function(ot){nt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(ot){nt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),nt="";return _e&&(nt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=nt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A$2({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:nt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),nt=et.type;if(tt!=null)nt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(nt==="submit"||nt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,nt){if(_e=_e.options,et){et={};for(var rt=0;rt<tt.length;rt++)et["$"+tt[rt]]=!0;for(tt=0;tt<_e.length;tt++)rt=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==rt&&(_e[tt].selected=rt),rt&&nt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===tt){_e[rt].selected=!0,nt&&(_e[rt].defaultSelected=!0);return}et!==null||_e[rt].disabled||(et=_e[rt])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$2({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$4(92));if(eb(tt)){if(1<tt.length)throw Error(p$4(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),nt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),nt!=null&&(_e.defaultValue=""+nt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,nt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,nt,rt)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,rt=rb(tt,et[tt],nt);tt==="float"&&(tt="cssFloat"),nt?_e.setProperty(tt,rt):_e[tt]=rt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$4(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$4(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$4(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(_e=_e.type,nt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!nt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$4(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,nt,rt,it,ot,at,st){var lt=Array.prototype.slice.call(arguments,3);try{et.apply(tt,lt)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,nt,rt,it,ot,at,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,nt,rt,it,ot,at,st){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=lt)}}function Vb(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$4(188));return et!==_e?null:_e}for(var tt=_e,nt=et;;){var rt=tt.return;if(rt===null)break;var it=rt.alternate;if(it===null){if(nt=rt.return,nt!==null){tt=nt;continue}break}if(rt.child===it.child){for(it=rt.child;it;){if(it===tt)return Xb(rt),_e;if(it===nt)return Xb(rt),et;it=it.sibling}throw Error(p$4(188))}if(tt.return!==nt.return)tt=rt,nt=it;else{for(var ot=!1,at=rt.child;at;){if(at===tt){ot=!0,tt=rt,nt=it;break}if(at===nt){ot=!0,nt=rt,tt=it;break}at=at.sibling}if(!ot){for(at=it.child;at;){if(at===tt){ot=!0,tt=it,nt=rt;break}if(at===nt){ot=!0,nt=it,tt=rt;break}at=at.sibling}if(!ot)throw Error(p$4(189))}}if(tt.alternate!==nt)throw Error(p$4(190))}if(tt.tag!==3)throw Error(p$4(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var nt=0,rt=_e.suspendedLanes,it=_e.pingedLanes,ot=tt&268435455;if(ot!==0){var at=ot&~rt;at!==0?nt=tc(at):(it&=ot,it!==0&&(nt=tc(it)))}else ot=tt&~rt,ot!==0?nt=tc(ot):it!==0&&(nt=tc(it));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&rt)&&(rt=nt&-nt,it=et&-et,rt>=it||rt===16&&(it&4194240)!==0))return et;if(nt&4&&(nt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=nt;0<et;)tt=31-oc(et),rt=1<<tt,nt|=_e[tt],et&=~rt;return nt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,nt=_e.pingedLanes,rt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),at=1<<ot,st=rt[ot];st===-1?(!(at&tt)||at&nt)&&(rt[ot]=vc(at,et)):st<=et&&(_e.expiredLanes|=at),it&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var nt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var rt=31-oc(tt),it=1<<rt;et[rt]=0,nt[rt]=-1,_e[rt]=-1,tt&=~it}}function Cc(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var nt=31-oc(tt),rt=1<<nt;rt&et|_e[nt]&et&&(_e[nt]|=et),tt&=~rt}}var C=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,nt,rt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[rt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=nt,et=_e.targetContainers,rt!==null&&et.indexOf(rt)===-1&&et.push(rt),_e)}function Uc(_e,et,tt,nt,rt){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,nt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,nt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,nt,rt),!0;case"pointerover":var it=rt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,tt,nt,rt)),!0;case"gotpointercapture":return it=rt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,tt,nt,rt)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===_e&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===_e&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,nt){var rt=C,it=cd.transition;cd.transition=null;try{C=1,fd(_e,et,tt,nt)}finally{C=rt,cd.transition=it}}function gd(_e,et,tt,nt){var rt=C,it=cd.transition;cd.transition=null;try{C=4,fd(_e,et,tt,nt)}finally{C=rt,cd.transition=it}}function fd(_e,et,tt,nt){if(dd){var rt=Yc(_e,et,tt,nt);if(rt===null)hd(_e,et,nt,id,tt),Sc(_e,nt);else if(Uc(rt,_e,et,tt,nt))nt.stopPropagation();else if(Sc(_e,nt),et&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var it=Cb(rt);if(it!==null&&Ec(it),it=Yc(_e,et,tt,nt),it===null&&hd(_e,et,nt,id,tt),it===rt)break;rt=it}rt!==null&&nt.stopPropagation()}else hd(_e,et,nt,null,tt)}}var id=null;function Yc(_e,et,tt,nt){if(id=null,_e=xb(nt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,nt,rt="value"in kd?kd.value:kd.textContent,it=rt.length;for(_e=0;_e<tt&&et[_e]===rt[_e];_e++);var ot=tt-_e;for(nt=1;nt<=ot&&et[tt-nt]===rt[it-nt];nt++);return md=rt.slice(_e,1<nt?1-nt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,nt,rt,it,ot){this._reactName=tt,this._targetInst=rt,this.type=nt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(tt=_e[at],this[at]=tt?tt(it):it[at]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,et){switch(_e){case"compositionend":return he(et);case"keypress":return et.which!==32?null:(fe=!0,ee);case"textInput":return _e=et.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,et){if(ie)return _e==="compositionend"||!ae&&ge(_e,et)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de&&et.locale!=="ko"?null:et.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le[_e.type]:et==="textarea"}function ne(_e,et,tt,nt){Eb(nt),et=oe(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,nt),_e.push({event:tt,listeners:et}))}var pe=null,qe=null;function re$1(_e){se(_e,0)}function te(_e){var et=ue(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne(et,qe,_e,xb(_e)),Jb(re$1,et)}}function Ce(_e,et,tt){_e==="focusin"?(Ae(),pe=et,qe=tt,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,et){if(_e==="click")return te(et)}function Fe(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),nt=Object.keys(et);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var rt=tt[nt];if(!ja.call(et,rt)||!He(_e[rt],et[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=_e+tt.textContent.length,_e<=et&&nt>=et)return{node:tt,offset:et-_e};_e=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me(),tt=_e.focusedElem,nt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne(tt)){if(et=nt.start,_e=nt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=tt.textContent.length,it=Math.min(nt.start,rt);nt=nt.end===void 0?it:Math.min(nt.end,rt),!_e.extend&&it>nt&&(rt=nt,nt=it,it=rt),rt=Ke(tt,it);var ot=Ke(tt,nt);rt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(et=et.createRange(),et.setStart(rt.node,rt.offset),_e.removeAllRanges(),it>nt?(_e.addRange(et),_e.extend(ot.node,ot.offset)):(et.setEnd(ot.node,ot.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,et,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se&&Ie(Se,nt)||(Se=nt,nt=oe(Re,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:nt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var nt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(nt,et,void 0,_e),_e.currentTarget=null}function se(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=nt.event;nt=nt.listeners;e:{var it=void 0;if(et)for(var ot=nt.length-1;0<=ot;ot--){var at=nt[ot],st=at.instance,lt=at.currentTarget;if(at=at.listener,st!==it&&rt.isPropagationStopped())break e;nf(rt,at,lt),it=st}else for(ot=0;ot<nt.length;ot++){if(at=nt[ot],st=at.instance,lt=at.currentTarget,at=at.listener,st!==it&&rt.isPropagationStopped())break e;nf(rt,at,lt),it=st}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var nt=_e+"__bubble";tt.has(nt)||(pf(et,_e,2,!1),tt.add(nt))}function qf(_e,et,tt){var nt=0;et&&(nt|=4),pf(tt,_e,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,nt){switch(jd(et)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}tt=rt.bind(null,et,tt,_e),rt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(rt=!0),nt?rt!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:rt}):_e.addEventListener(et,tt,!0):rt!==void 0?_e.addEventListener(et,tt,{passive:rt}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,nt,rt){var it=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var ot=nt.tag;if(ot===3||ot===4){var at=nt.stateNode.containerInfo;if(at===rt||at.nodeType===8&&at.parentNode===rt)break;if(ot===4)for(ot=nt.return;ot!==null;){var st=ot.tag;if((st===3||st===4)&&(st=ot.stateNode.containerInfo,st===rt||st.nodeType===8&&st.parentNode===rt))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(st=ot.tag,st===5||st===6){nt=it=ot;continue e}at=at.parentNode}}nt=nt.return}Jb(function(){var lt=it,ut=xb(tt),ct=[];e:{var ft=df.get(_e);if(ft!==void 0){var dt=td,ht=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ht="focus",dt=Fd;break;case"focusout":ht="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var mt=(et&4)!==0,yt=!mt&&_e==="scroll",pt=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var vt=lt,gt;vt!==null;){gt=vt;var xt=gt.stateNode;if(gt.tag===5&&xt!==null&&(gt=xt,pt!==null&&(xt=Kb(vt,pt),xt!=null&&mt.push(tf(vt,xt,gt)))),yt)break;vt=vt.return}0<mt.length&&(ft=new dt(ft,ht,null,tt,ut),ct.push({event:ft,listeners:mt}))}}if(!(et&7)){e:{if(ft=_e==="mouseover"||_e==="pointerover",dt=_e==="mouseout"||_e==="pointerout",ft&&tt!==wb&&(ht=tt.relatedTarget||tt.fromElement)&&(Wc(ht)||ht[uf]))break e;if((dt||ft)&&(ft=ut.window===ut?ut:(ft=ut.ownerDocument)?ft.defaultView||ft.parentWindow:window,dt?(ht=tt.relatedTarget||tt.toElement,dt=lt,ht=ht?Wc(ht):null,ht!==null&&(yt=Vb(ht),ht!==yt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(dt=null,ht=lt),dt!==ht)){if(mt=Bd,xt="onMouseLeave",pt="onMouseEnter",vt="mouse",(_e==="pointerout"||_e==="pointerover")&&(mt=Td,xt="onPointerLeave",pt="onPointerEnter",vt="pointer"),yt=dt==null?ft:ue(dt),gt=ht==null?ft:ue(ht),ft=new mt(xt,vt+"leave",dt,tt,ut),ft.target=yt,ft.relatedTarget=gt,xt=null,Wc(ut)===lt&&(mt=new mt(pt,vt+"enter",ht,tt,ut),mt.target=gt,mt.relatedTarget=yt,xt=mt),yt=xt,dt&&ht)t:{for(mt=dt,pt=ht,vt=0,gt=mt;gt;gt=vf(gt))vt++;for(gt=0,xt=pt;xt;xt=vf(xt))gt++;for(;0<vt-gt;)mt=vf(mt),vt--;for(;0<gt-vt;)pt=vf(pt),gt--;for(;vt--;){if(mt===pt||pt!==null&&mt===pt.alternate)break t;mt=vf(mt),pt=vf(pt)}mt=null}else mt=null;dt!==null&&wf(ct,ft,dt,mt,!1),ht!==null&&yt!==null&&wf(ct,yt,ht,mt,!0)}}e:{if(ft=lt?ue(lt):window,dt=ft.nodeName&&ft.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ft.type==="file")var wt=ve;else if(me(ft))if(we)wt=Fe;else{wt=De;var bt=Ce}else(dt=ft.nodeName)&&dt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(wt=Ee);if(wt&&(wt=wt(_e,lt))){ne(ct,wt,tt,ut);break e}bt&&bt(_e,ft,lt),_e==="focusout"&&(bt=ft._wrapperState)&&bt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(bt=lt?ue(lt):window,_e){case"focusin":(me(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ct,tt,ut);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,tt,ut)}var St;if(ae)e:{switch(_e){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie?ge(_e,tt)&&(kt="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(kt="onCompositionStart");kt&&(de&&tt.locale!=="ko"&&(ie||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie&&(St=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(lt,kt),0<bt.length&&(kt=new Ld(kt,_e,null,tt,ut),ct.push({event:kt,listeners:bt}),St?kt.data=St:(St=he(tt),St!==null&&(kt.data=St)))),(St=ce?je(_e,tt):ke(_e,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ut=new Ld("onBeforeInput","beforeinput",null,tt,ut),ct.push({event:ut,listeners:lt}),ut.data=St))}se(ct,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe(_e,et){for(var tt=et+"Capture",nt=[];_e!==null;){var rt=_e,it=rt.stateNode;rt.tag===5&&it!==null&&(rt=it,it=Kb(_e,tt),it!=null&&nt.unshift(tf(_e,it,rt)),it=Kb(_e,et),it!=null&&nt.push(tf(_e,it,rt))),_e=_e.return}return nt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,nt,rt){for(var it=et._reactName,ot=[];tt!==null&&tt!==nt;){var at=tt,st=at.alternate,lt=at.stateNode;if(st!==null&&st===nt)break;at.tag===5&&lt!==null&&(at=lt,rt?(st=Kb(tt,it),st!=null&&ot.unshift(tf(tt,st,at))):rt||(st=Kb(tt,it),st!=null&&ot.push(tf(tt,st,at)))),tt=tt.return}ot.length!==0&&_e.push({event:et,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,nt=0;do{var rt=tt.nextSibling;if(_e.removeChild(tt),rt&&rt.nodeType===8)if(tt=rt.data,tt==="/$"){if(nt===0){_e.removeChild(rt),bd(et);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=rt}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$2(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var nt=_e.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var rt={},it;for(it in tt)rt[it]=et[it];return nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(_e,et,tt){if(H$2.current!==Vf)throw Error(p$4(168));G$1(H$2,et),G$1(Wf,tt)}function bg(_e,et,tt){var nt=_e.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var rt in nt)if(!(rt in et))throw Error(p$4(108,Ra(_e)||"Unknown",rt));return A$2({},tt,nt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,tt){var nt=_e.stateNode;if(!nt)throw Error(p$4(169));tt?(_e=bg(_e,et,Xf),nt.__reactInternalMemoizedMergedChildContext=_e,E$2(Wf),E$2(H$2),G$1(H$2,_e)):E$2(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C;try{var tt=eg;for(C=1;_e<tt.length;_e++){var nt=tt[_e];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var nt=rg;_e=sg;var rt=32-oc(nt)-1;nt&=~(1<<rt),tt+=1;var it=32-oc(et)+rt;if(30<it){var ot=rt-rt%5;it=(nt&(1<<ot)-1).toString(32),nt>>=ot,rt-=ot,rg=1<<32-oc(et)+rt|tt<<rt|nt,sg=it+_e}else rg=1<<it|tt<<rt|nt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$4(418));et=Lf(tt.nextSibling);var nt=xg;et&&Cg(_e,et)?Ag(nt,tt):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et){if(_e&&_e.defaultProps){et=A$2({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var et=Mg.current;E$2(Mg),_e._currentValue=et}function Sg(_e,et,tt){for(;_e!==null;){var nt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),_e===tt)break;_e=_e.return}}function Tg(_e,et){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var et=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return et}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,et,tt,nt){var rt=et.interleaved;return rt===null?(tt.next=tt,Xg(et)):(tt.next=rt.next,rt.next=tt),et.interleaved=tt,Zg(_e,nt)}function Zg(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function dh(_e,et,tt){var nt=_e.updateQueue;if(nt===null)return null;if(nt=nt.shared,K&2){var rt=nt.pending;return rt===null?et.next=et:(et.next=rt.next,rt.next=et),nt.pending=et,Zg(_e,tt)}return rt=nt.interleaved,rt===null?(et.next=et,Xg(nt)):(et.next=rt.next,rt.next=et),nt.interleaved=et,Zg(_e,tt)}function eh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc(_e,tt)}}function fh(_e,et){var tt=_e.updateQueue,nt=_e.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var rt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var ot={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?rt=it=ot:it=it.next=ot,tt=tt.next}while(tt!==null);it===null?rt=it=et:it=it.next=et}else rt=it=et;tt={baseState:nt.baseState,firstBaseUpdate:rt,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function gh(_e,et,tt,nt){var rt=_e.updateQueue;$g=!1;var it=rt.firstBaseUpdate,ot=rt.lastBaseUpdate,at=rt.shared.pending;if(at!==null){rt.shared.pending=null;var st=at,lt=st.next;st.next=null,ot===null?it=lt:ot.next=lt,ot=st;var ut=_e.alternate;ut!==null&&(ut=ut.updateQueue,at=ut.lastBaseUpdate,at!==ot&&(at===null?ut.firstBaseUpdate=lt:at.next=lt,ut.lastBaseUpdate=st))}if(it!==null){var ct=rt.baseState;ot=0,ut=lt=st=null,at=it;do{var ft=at.lane,dt=at.eventTime;if((nt&ft)===ft){ut!==null&&(ut=ut.next={eventTime:dt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var ht=_e,mt=at;switch(ft=et,dt=tt,mt.tag){case 1:if(ht=mt.payload,typeof ht=="function"){ct=ht.call(dt,ct,ft);break e}ct=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=mt.payload,ft=typeof ht=="function"?ht.call(dt,ct,ft):ht,ft==null)break e;ct=A$2({},ct,ft);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,ft=rt.effects,ft===null?rt.effects=[at]:ft.push(at))}else dt={eventTime:dt,lane:ft,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ut===null?(lt=ut=dt,st=ct):ut=ut.next=dt,ot|=ft;if(at=at.next,at===null){if(at=rt.shared.pending,at===null)break;ft=at,at=ft.next,ft.next=null,rt.lastBaseUpdate=ft,rt.shared.pending=null}}while(1);if(ut===null&&(st=ct),rt.baseState=st,rt.firstBaseUpdate=lt,rt.lastBaseUpdate=ut,et=rt.shared.interleaved,et!==null){rt=et;do ot|=rt.lane,rt=rt.next;while(rt!==et)}else it===null&&(rt.shared.lanes=0);hh|=ot,_e.lanes=ot,_e.memoizedState=ct}}function ih(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var nt=_e[et],rt=nt.callback;if(rt!==null){if(nt.callback=null,nt=tt,typeof rt!="function")throw Error(p$4(191,rt));rt.call(nt)}}}var jh=new aa.Component().refs;function kh(_e,et,tt,nt){et=_e.memoizedState,tt=tt(nt,et),tt=tt==null?et:A$2({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var nt=L$1(),rt=lh(_e),it=ch(nt,rt);it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,rt),et!==null&&(mh(et,_e,rt,nt),eh(et,_e,rt))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var nt=L$1(),rt=lh(_e),it=ch(nt,rt);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,rt),et!==null&&(mh(et,_e,rt,nt),eh(et,_e,rt))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=L$1(),nt=lh(_e),rt=ch(tt,nt);rt.tag=2,et!=null&&(rt.callback=et),et=dh(_e,rt,nt),et!==null&&(mh(et,_e,nt,tt),eh(et,_e,nt))}};function oh(_e,et,tt,nt,rt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(nt,it,ot):et.prototype&&et.prototype.isPureReactComponent?!Ie(tt,nt)||!Ie(rt,it):!0}function ph(_e,et,tt){var nt=!1,rt=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(rt=Zf(et)?Xf:H$2.current,nt=et.contextTypes,it=(nt=nt!=null)?Yf(_e,rt):Vf),et=new et(tt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=nh,_e.stateNode=et,et._reactInternals=_e,nt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=it),et}function qh(_e,et,tt,nt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,nt),et.state!==_e&&nh.enqueueReplaceState(et,et.state,null)}function rh(_e,et,tt,nt){var rt=_e.stateNode;rt.props=tt,rt.state=_e.memoizedState,rt.refs=jh,ah(_e);var it=et.contextType;typeof it=="object"&&it!==null?rt.context=Vg(it):(it=Zf(et)?Xf:H$2.current,rt.context=Yf(_e,it)),rt.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,et,it,tt),rt.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(et=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),et!==rt.state&&nh.enqueueReplaceState(rt,rt.state,null),gh(_e,tt,rt,nt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$4(309));var nt=tt.stateNode}if(!nt)throw Error(p$4(147,_e));var rt=nt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(ot){var at=rt.refs;at===jh&&(at=rt.refs={}),ot===null?delete at[it]:at[it]=ot},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$4(284));if(!tt._owner)throw Error(p$4(290,_e))}return _e}function th(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function uh(_e){var et=_e._init;return et(_e._payload)}function vh(_e){function et(pt,vt){if(_e){var gt=pt.deletions;gt===null?(pt.deletions=[vt],pt.flags|=16):gt.push(vt)}}function tt(pt,vt){if(!_e)return null;for(;vt!==null;)et(pt,vt),vt=vt.sibling;return null}function nt(pt,vt){for(pt=new Map;vt!==null;)vt.key!==null?pt.set(vt.key,vt):pt.set(vt.index,vt),vt=vt.sibling;return pt}function rt(pt,vt){return pt=wh(pt,vt),pt.index=0,pt.sibling=null,pt}function it(pt,vt,gt){return pt.index=gt,_e?(gt=pt.alternate,gt!==null?(gt=gt.index,gt<vt?(pt.flags|=2,vt):gt):(pt.flags|=2,vt)):(pt.flags|=1048576,vt)}function ot(pt){return _e&&pt.alternate===null&&(pt.flags|=2),pt}function at(pt,vt,gt,xt){return vt===null||vt.tag!==6?(vt=xh(gt,pt.mode,xt),vt.return=pt,vt):(vt=rt(vt,gt),vt.return=pt,vt)}function st(pt,vt,gt,xt){var wt=gt.type;return wt===ya?ut(pt,vt,gt.props.children,xt,gt.key):vt!==null&&(vt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===vt.type)?(xt=rt(vt,gt.props),xt.ref=sh(pt,vt,gt),xt.return=pt,xt):(xt=yh(gt.type,gt.key,gt.props,null,pt.mode,xt),xt.ref=sh(pt,vt,gt),xt.return=pt,xt)}function lt(pt,vt,gt,xt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==gt.containerInfo||vt.stateNode.implementation!==gt.implementation?(vt=zh(gt,pt.mode,xt),vt.return=pt,vt):(vt=rt(vt,gt.children||[]),vt.return=pt,vt)}function ut(pt,vt,gt,xt,wt){return vt===null||vt.tag!==7?(vt=Ah(gt,pt.mode,xt,wt),vt.return=pt,vt):(vt=rt(vt,gt),vt.return=pt,vt)}function ct(pt,vt,gt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=xh(""+vt,pt.mode,gt),vt.return=pt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return gt=yh(vt.type,vt.key,vt.props,null,pt.mode,gt),gt.ref=sh(pt,null,vt),gt.return=pt,gt;case wa:return vt=zh(vt,pt.mode,gt),vt.return=pt,vt;case Ha:var xt=vt._init;return ct(pt,xt(vt._payload),gt)}if(eb(vt)||Ka(vt))return vt=Ah(vt,pt.mode,gt,null),vt.return=pt,vt;th(pt,vt)}return null}function ft(pt,vt,gt,xt){var wt=vt!==null?vt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return wt!==null?null:at(pt,vt,""+gt,xt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===wt?st(pt,vt,gt,xt):null;case wa:return gt.key===wt?lt(pt,vt,gt,xt):null;case Ha:return wt=gt._init,ft(pt,vt,wt(gt._payload),xt)}if(eb(gt)||Ka(gt))return wt!==null?null:ut(pt,vt,gt,xt,null);th(pt,gt)}return null}function dt(pt,vt,gt,xt,wt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return pt=pt.get(gt)||null,at(vt,pt,""+xt,wt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return pt=pt.get(xt.key===null?gt:xt.key)||null,st(vt,pt,xt,wt);case wa:return pt=pt.get(xt.key===null?gt:xt.key)||null,lt(vt,pt,xt,wt);case Ha:var bt=xt._init;return dt(pt,vt,gt,bt(xt._payload),wt)}if(eb(xt)||Ka(xt))return pt=pt.get(gt)||null,ut(vt,pt,xt,wt,null);th(vt,xt)}return null}function ht(pt,vt,gt,xt){for(var wt=null,bt=null,St=vt,kt=vt=0,Rt=null;St!==null&&kt<gt.length;kt++){St.index>kt?(Rt=St,St=null):Rt=St.sibling;var Et=ft(pt,St,gt[kt],xt);if(Et===null){St===null&&(St=Rt);break}_e&&St&&Et.alternate===null&&et(pt,St),vt=it(Et,vt,kt),bt===null?wt=Et:bt.sibling=Et,bt=Et,St=Rt}if(kt===gt.length)return tt(pt,St),I$1&&tg(pt,kt),wt;if(St===null){for(;kt<gt.length;kt++)St=ct(pt,gt[kt],xt),St!==null&&(vt=it(St,vt,kt),bt===null?wt=St:bt.sibling=St,bt=St);return I$1&&tg(pt,kt),wt}for(St=nt(pt,St);kt<gt.length;kt++)Rt=dt(St,pt,kt,gt[kt],xt),Rt!==null&&(_e&&Rt.alternate!==null&&St.delete(Rt.key===null?kt:Rt.key),vt=it(Rt,vt,kt),bt===null?wt=Rt:bt.sibling=Rt,bt=Rt);return _e&&St.forEach(function(At){return et(pt,At)}),I$1&&tg(pt,kt),wt}function mt(pt,vt,gt,xt){var wt=Ka(gt);if(typeof wt!="function")throw Error(p$4(150));if(gt=wt.call(gt),gt==null)throw Error(p$4(151));for(var bt=wt=null,St=vt,kt=vt=0,Rt=null,Et=gt.next();St!==null&&!Et.done;kt++,Et=gt.next()){St.index>kt?(Rt=St,St=null):Rt=St.sibling;var At=ft(pt,St,Et.value,xt);if(At===null){St===null&&(St=Rt);break}_e&&St&&At.alternate===null&&et(pt,St),vt=it(At,vt,kt),bt===null?wt=At:bt.sibling=At,bt=At,St=Rt}if(Et.done)return tt(pt,St),I$1&&tg(pt,kt),wt;if(St===null){for(;!Et.done;kt++,Et=gt.next())Et=ct(pt,Et.value,xt),Et!==null&&(vt=it(Et,vt,kt),bt===null?wt=Et:bt.sibling=Et,bt=Et);return I$1&&tg(pt,kt),wt}for(St=nt(pt,St);!Et.done;kt++,Et=gt.next())Et=dt(St,pt,kt,Et.value,xt),Et!==null&&(_e&&Et.alternate!==null&&St.delete(Et.key===null?kt:Et.key),vt=it(Et,vt,kt),bt===null?wt=Et:bt.sibling=Et,bt=Et);return _e&&St.forEach(function(Tt){return et(pt,Tt)}),I$1&&tg(pt,kt),wt}function yt(pt,vt,gt,xt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var wt=gt.key,bt=vt;bt!==null;){if(bt.key===wt){if(wt=gt.type,wt===ya){if(bt.tag===7){tt(pt,bt.sibling),vt=rt(bt,gt.props.children),vt.return=pt,pt=vt;break e}}else if(bt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===bt.type){tt(pt,bt.sibling),vt=rt(bt,gt.props),vt.ref=sh(pt,bt,gt),vt.return=pt,pt=vt;break e}tt(pt,bt);break}else et(pt,bt);bt=bt.sibling}gt.type===ya?(vt=Ah(gt.props.children,pt.mode,xt,gt.key),vt.return=pt,pt=vt):(xt=yh(gt.type,gt.key,gt.props,null,pt.mode,xt),xt.ref=sh(pt,vt,gt),xt.return=pt,pt=xt)}return ot(pt);case wa:e:{for(bt=gt.key;vt!==null;){if(vt.key===bt)if(vt.tag===4&&vt.stateNode.containerInfo===gt.containerInfo&&vt.stateNode.implementation===gt.implementation){tt(pt,vt.sibling),vt=rt(vt,gt.children||[]),vt.return=pt,pt=vt;break e}else{tt(pt,vt);break}else et(pt,vt);vt=vt.sibling}vt=zh(gt,pt.mode,xt),vt.return=pt,pt=vt}return ot(pt);case Ha:return bt=gt._init,yt(pt,vt,bt(gt._payload),xt)}if(eb(gt))return ht(pt,vt,gt,xt);if(Ka(gt))return mt(pt,vt,gt,xt);th(pt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,vt!==null&&vt.tag===6?(tt(pt,vt.sibling),vt=rt(vt,gt),vt.return=pt,pt=vt):(tt(pt,vt),vt=xh(gt,pt.mode,xt),vt.return=pt,pt=vt),ot(pt)):tt(pt,vt)}return yt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$4(174));return _e}function Ih(_e,et){switch(G$1(Gh,et),G$1(Fh,_e),G$1(Eh,Dh),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$2(Eh),G$1(Eh,et)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(_e){Hh(Gh.current);var et=Hh(Eh.current),tt=lb(et,_e.type);et!==tt&&(G$1(Fh,_e),G$1(Eh,tt))}function Lh(_e){Fh.current===_e&&(E$2(Eh),E$2(Fh))}var M$3=Uf(0);function Mh(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$4(321))}function Wh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He(_e[tt],et[tt]))return!1;return!0}function Xh(_e,et,tt,nt,rt,it){if(Rh=it,N$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=tt(nt,rt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$4(301));it+=1,P$2=O$2=null,et.updateQueue=null,Ph.current=$h,_e=tt(nt,rt)}while(Th)}if(Ph.current=ai,et=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$2=null,Sh=!1,et)throw Error(p$4(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e,P$2}function di(){if(O$2===null){var _e=N$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$2.next;var et=P$2===null?N$2.memoizedState:P$2.next;if(et!==null)P$2=et,O$2=_e;else{if(_e===null)throw Error(p$4(310));O$2=_e,_e={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$2.memoizedState=P$2=_e:P$2=P$2.next=_e}return P$2}function ei(_e,et){return typeof et=="function"?et(_e):et}function fi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$4(311));tt.lastRenderedReducer=_e;var nt=O$2,rt=nt.baseQueue,it=tt.pending;if(it!==null){if(rt!==null){var ot=rt.next;rt.next=it.next,it.next=ot}nt.baseQueue=rt=it,tt.pending=null}if(rt!==null){it=rt.next,nt=nt.baseState;var at=ot=null,st=null,lt=it;do{var ut=lt.lane;if((Rh&ut)===ut)st!==null&&(st=st.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),nt=lt.hasEagerState?lt.eagerState:_e(nt,lt.action);else{var ct={lane:ut,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};st===null?(at=st=ct,ot=nt):st=st.next=ct,N$2.lanes|=ut,hh|=ut}lt=lt.next}while(lt!==null&&lt!==it);st===null?ot=nt:st.next=at,He(nt,et.memoizedState)||(Ug=!0),et.memoizedState=nt,et.baseState=ot,et.baseQueue=st,tt.lastRenderedState=nt}if(_e=tt.interleaved,_e!==null){rt=_e;do it=rt.lane,N$2.lanes|=it,hh|=it,rt=rt.next;while(rt!==_e)}else rt===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function gi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$4(311));tt.lastRenderedReducer=_e;var nt=tt.dispatch,rt=tt.pending,it=et.memoizedState;if(rt!==null){tt.pending=null;var ot=rt=rt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==rt);He(it,et.memoizedState)||(Ug=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,nt]}function hi(){}function ii(_e,et){var tt=N$2,nt=di(),rt=et(),it=!He(nt.memoizedState,rt);if(it&&(nt.memoizedState=rt,Ug=!0),nt=nt.queue,ji(ki.bind(null,tt,nt,_e),[_e]),nt.getSnapshot!==et||it||P$2!==null&&P$2.memoizedState.tag&1){if(tt.flags|=2048,li$1(9,mi.bind(null,tt,nt,rt,et),void 0,null),R$1===null)throw Error(p$4(349));Rh&30||ni(tt,et,rt)}return rt}function ni(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function mi(_e,et,tt,nt){et.value=tt,et.getSnapshot=nt,oi(et)&&pi$1(_e)}function ki(_e,et,tt){return tt(function(){oi(et)&&pi$1(_e)})}function oi(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He(_e,tt)}catch{return!0}}function pi$1(_e){var et=Zg(_e,1);et!==null&&mh(et,_e,1,-1)}function qi(_e){var et=ci();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ri.bind(null,N$2,_e),[et.memoizedState,_e]}function li$1(_e,et,tt,nt){return _e={tag:_e,create:et,destroy:tt,deps:nt,next:null},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(nt=tt.next,tt.next=_e,_e.next=nt,et.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,et,tt,nt){var rt=ci();N$2.flags|=_e,rt.memoizedState=li$1(1|et,tt,void 0,nt===void 0?null:nt)}function ui(_e,et,tt,nt){var rt=di();nt=nt===void 0?null:nt;var it=void 0;if(O$2!==null){var ot=O$2.memoizedState;if(it=ot.destroy,nt!==null&&Wh(nt,ot.deps)){rt.memoizedState=li$1(et,tt,it,nt);return}}N$2.flags|=_e,rt.memoizedState=li$1(1|et,tt,it,nt)}function vi(_e,et){return ti(8390656,8,_e,et)}function ji(_e,et){return ui(2048,8,_e,et)}function wi(_e,et){return ui(4,2,_e,et)}function xi(_e,et){return ui(4,4,_e,et)}function yi(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function zi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ui(4,4,yi.bind(null,et,_e),tt)}function Ai(){}function Bi(_e,et){var tt=di();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(tt.memoizedState=[_e,et],_e)}function Ci(_e,et){var tt=di();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function Di(_e,et,tt){return Rh&21?(He(tt,et)||(tt=yc(),N$2.lanes|=tt,hh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=tt)}function Ei(_e,et){var tt=C;C=tt!==0&&4>tt?tt:4,_e(!0);var nt=Qh.transition;Qh.transition={};try{_e(!1),et()}finally{C=tt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(_e,et,tt){var nt=lh(_e);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(et,tt);else if(tt=Yg(_e,et,tt,nt),tt!==null){var rt=L$1();mh(tt,_e,nt,rt),Ji(tt,et,nt)}}function ri(_e,et,tt){var nt=lh(_e),rt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(et,rt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var ot=et.lastRenderedState,at=it(ot,tt);if(rt.hasEagerState=!0,rt.eagerState=at,He(at,ot)){var st=et.interleaved;st===null?(rt.next=rt,Xg(et)):(rt.next=st.next,st.next=rt),et.interleaved=rt;return}}catch{}finally{}tt=Yg(_e,et,rt,nt),tt!==null&&(rt=L$1(),mh(tt,_e,nt,rt),Ji(tt,et,nt))}}function Hi(_e){var et=_e.alternate;return _e===N$2||et!==null&&et===N$2}function Ii(_e,et){Th=Sh=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Ji(_e,et,tt){if(tt&4194240){var nt=et.lanes;nt&=_e.pendingLanes,tt|=nt,et.lanes=tt,Cc(_e,tt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,et){return ci().memoizedState=[_e,et===void 0?null:et],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ti(4194308,4,yi.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ti(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ti(4,2,_e,et)},useMemo:function(_e,et){var tt=ci();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var nt=ci();return et=tt!==void 0?tt(et):et,nt.memoizedState=nt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},nt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$2,_e),[nt.memoizedState,_e]},useRef:function(_e){var et=ci();return _e={current:_e},et.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),et=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var nt=N$2,rt=ci();if(I$1){if(tt===void 0)throw Error(p$4(407));tt=tt()}else{if(tt=et(),R$1===null)throw Error(p$4(349));Rh&30||ni(nt,et,tt)}rt.memoizedState=tt;var it={value:tt,getSnapshot:et};return rt.queue=it,vi(ki.bind(null,nt,it,_e),[_e]),nt.flags|=2048,li$1(9,mi.bind(null,nt,it,tt,et),void 0,null),tt},useId:function(){var _e=ci(),et=R$1.identifierPrefix;if(I$1){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Uh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Vh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return O$2===null?et.memoizedState=_e:Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,et){try{var tt="",nt=et;do tt+=Pa(nt),nt=nt.return;while(nt);var rt=tt}catch(it){rt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:rt,digest:null}}function Li(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Mi(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,et,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var nt=et.value;return tt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(_e,et)},tt}function Ri(_e,et,tt){tt=ch(-1,tt),tt.tag=3;var nt=_e.type.getDerivedStateFromError;if(typeof nt=="function"){var rt=et.value;tt.payload=function(){return nt(rt)},tt.callback=function(){Mi(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(_e,et),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=et.stack;this.componentDidCatch(et.value,{componentStack:ot!==null?ot:""})}),tt}function Ti(_e,et,tt){var nt=_e.pingCache;if(nt===null){nt=_e.pingCache=new Ni;var rt=new Set;nt.set(et,rt)}else rt=nt.get(et),rt===void 0&&(rt=new Set,nt.set(et,rt));rt.has(tt)||(rt.add(tt),_e=Ui.bind(null,_e,et,tt),et.then(_e,_e))}function Vi(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,et,tt,nt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=ch(-1,1),et.tag=2,dh(tt,et,1))),tt.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,et,tt,nt){et.child=_e===null?Ch(et,null,tt,nt):Bh(et,_e.child,tt,nt)}function Zi(_e,et,tt,nt,rt){tt=tt.render;var it=et.ref;return Tg(et,rt),nt=Xh(_e,et,tt,nt,it,rt),tt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~rt,$i(_e,et,rt)):(I$1&&tt&&vg(et),et.flags|=1,Yi(_e,et,nt,rt),et.child)}function aj(_e,et,tt,nt,rt){if(_e===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,cj(_e,et,it,nt,rt)):(_e=yh(tt.type,null,nt,et,et.mode,rt),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&rt)){var ot=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(ot,nt)&&_e.ref===et.ref)return $i(_e,et,rt)}return et.flags|=1,_e=wh(it,nt),_e.ref=et.ref,_e.return=et,et.child=_e}function cj(_e,et,tt,nt,rt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,nt)&&_e.ref===et.ref)if(Ug=!1,et.pendingProps=nt=it,(_e.lanes&rt)!==0)_e.flags&131072&&(Ug=!0);else return et.lanes=_e.lanes,$i(_e,et,rt)}return dj(_e,et,tt,nt,rt)}function ej(_e,et,tt){var nt=et.pendingProps,rt=nt.children,it=_e!==null?_e.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if(!(tt&1073741824))return _e=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(fj,gj),gj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=nt}else it!==null?(nt=it.baseLanes|tt,et.memoizedState=null):nt=tt,G$1(fj,gj),gj|=nt;return Yi(_e,et,rt,tt),et.child}function hj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function dj(_e,et,tt,nt,rt){var it=Zf(tt)?Xf:H$2.current;return it=Yf(et,it),Tg(et,rt),tt=Xh(_e,et,tt,nt,it,rt),nt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~rt,$i(_e,et,rt)):(I$1&&nt&&vg(et),et.flags|=1,Yi(_e,et,tt,rt),et.child)}function ij(_e,et,tt,nt,rt){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(Tg(et,rt),et.stateNode===null)jj(_e,et),ph(et,tt,nt),rh(et,tt,nt,rt),nt=!0;else if(_e===null){var ot=et.stateNode,at=et.memoizedProps;ot.props=at;var st=ot.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(tt)?Xf:H$2.current,lt=Yf(et,lt));var ut=tt.getDerivedStateFromProps,ct=typeof ut=="function"||typeof ot.getSnapshotBeforeUpdate=="function";ct||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==nt||st!==lt)&&qh(et,ot,nt,lt),$g=!1;var ft=et.memoizedState;ot.state=ft,gh(et,nt,ot,rt),st=et.memoizedState,at!==nt||ft!==st||Wf.current||$g?(typeof ut=="function"&&(kh(et,tt,ut,nt),st=et.memoizedState),(at=$g||oh(et,tt,at,nt,ft,st,lt))?(ct||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(et.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=st),ot.props=nt,ot.state=st,ot.context=lt,nt=at):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{ot=et.stateNode,bh(_e,et),at=et.memoizedProps,lt=et.type===et.elementType?at:Lg(et.type,at),ot.props=lt,ct=et.pendingProps,ft=ot.context,st=tt.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(tt)?Xf:H$2.current,st=Yf(et,st));var dt=tt.getDerivedStateFromProps;(ut=typeof dt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==ct||ft!==st)&&qh(et,ot,nt,st),$g=!1,ft=et.memoizedState,ot.state=ft,gh(et,nt,ot,rt);var ht=et.memoizedState;at!==ct||ft!==ht||Wf.current||$g?(typeof dt=="function"&&(kh(et,tt,dt,nt),ht=et.memoizedState),(lt=$g||oh(et,tt,lt,nt,ft,ht,st)||!1)?(ut||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(nt,ht,st),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(nt,ht,st)),typeof ot.componentDidUpdate=="function"&&(et.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=ht),ot.props=nt,ot.state=ht,ot.context=st,nt=lt):(typeof ot.componentDidUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=1024),nt=!1)}return kj(_e,et,tt,nt,it,rt)}function kj(_e,et,tt,nt,rt,it){hj(_e,et);var ot=(et.flags&128)!==0;if(!nt&&!ot)return rt&&dg(et,tt,!1),$i(_e,et,it);nt=et.stateNode,Xi.current=et;var at=ot&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,_e!==null&&ot?(et.child=Bh(et,_e.child,null,it),et.child=Bh(et,null,at,it)):Yi(_e,et,at,it),et.memoizedState=nt.state,rt&&dg(et,tt,!0),et.child}function lj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),Ih(_e,et.containerInfo)}function mj(_e,et,tt,nt,rt){return Ig(),Jg(rt),et.flags|=256,Yi(_e,et,tt,nt),et.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,et,tt){var nt=et.pendingProps,rt=M$3.current,it=!1,ot=(et.flags&128)!==0,at;if((at=ot)||(at=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),at?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G$1(M$3,rt&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(ot=nt.children,_e=nt.fallback,it?(nt=et.mode,it=et.child,ot={mode:"hidden",children:ot},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=qj(ot,nt,0,null),_e=Ah(_e,nt,tt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=oj(tt),et.memoizedState=nj,_e):rj(et,ot));if(rt=_e.memoizedState,rt!==null&&(at=rt.dehydrated,at!==null))return sj(_e,et,ot,nt,at,rt,tt);if(it){it=nt.fallback,ot=et.mode,rt=_e.child,at=rt.sibling;var st={mode:"hidden",children:nt.children};return!(ot&1)&&et.child!==rt?(nt=et.child,nt.childLanes=0,nt.pendingProps=st,et.deletions=null):(nt=wh(rt,st),nt.subtreeFlags=rt.subtreeFlags&14680064),at!==null?it=wh(at,it):(it=Ah(it,ot,tt,null),it.flags|=2),it.return=et,nt.return=et,nt.sibling=it,et.child=nt,nt=it,it=et.child,ot=_e.child.memoizedState,ot=ot===null?oj(tt):{baseLanes:ot.baseLanes|tt,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~tt,et.memoizedState=nj,nt}return it=_e.child,_e=it.sibling,nt=wh(it,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=tt),nt.return=et,nt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=nt,et.memoizedState=null,nt}function rj(_e,et){return et=qj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function tj(_e,et,tt,nt){return nt!==null&&Jg(nt),Bh(et,_e.child,null,tt),_e=rj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function sj(_e,et,tt,nt,rt,it,ot){if(tt)return et.flags&256?(et.flags&=-257,nt=Li(Error(p$4(422))),tj(_e,et,ot,nt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=nt.fallback,rt=et.mode,nt=qj({mode:"visible",children:nt.children},rt,0,null),it=Ah(it,rt,ot,null),it.flags|=2,nt.return=et,it.return=et,nt.sibling=it,et.child=nt,et.mode&1&&Bh(et,_e.child,null,ot),et.child.memoizedState=oj(ot),et.memoizedState=nj,it);if(!(et.mode&1))return tj(_e,et,ot,null);if(rt.data==="$!"){if(nt=rt.nextSibling&&rt.nextSibling.dataset,nt)var at=nt.dgst;return nt=at,it=Error(p$4(419)),nt=Li(it,nt,void 0),tj(_e,et,ot,nt)}if(at=(ot&_e.childLanes)!==0,Ug||at){if(nt=R$1,nt!==null){switch(ot&-ot){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(nt.suspendedLanes|ot)?0:rt,rt!==0&&rt!==it.retryLane&&(it.retryLane=rt,Zg(_e,rt),mh(nt,_e,rt,-1))}return uj(),nt=Li(Error(p$4(421))),tj(_e,et,ot,nt)}return rt.data==="$?"?(et.flags|=128,et.child=_e.child,et=vj.bind(null,_e),rt._reactRetry=et,null):(_e=it.treeContext,yg=Lf(rt.nextSibling),xg=et,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=rj(et,nt.children),et.flags|=4096,et)}function wj(_e,et,tt){_e.lanes|=et;var nt=_e.alternate;nt!==null&&(nt.lanes|=et),Sg(_e.return,et,tt)}function xj(_e,et,tt,nt,rt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:rt}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=rt)}function yj(_e,et,tt){var nt=et.pendingProps,rt=nt.revealOrder,it=nt.tail;if(Yi(_e,et,nt.children,tt),nt=M$3.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,tt,et);else if(_e.tag===19)wj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}nt&=1}if(G$1(M$3,nt),!(et.mode&1))et.memoizedState=null;else switch(rt){case"forwards":for(tt=et.child,rt=null;tt!==null;)_e=tt.alternate,_e!==null&&Mh(_e)===null&&(rt=tt),tt=tt.sibling;tt=rt,tt===null?(rt=et.child,et.child=null):(rt=tt.sibling,tt.sibling=null),xj(et,!1,rt,tt,it);break;case"backwards":for(tt=null,rt=et.child,et.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Mh(_e)===null){et.child=rt;break}_e=rt.sibling,rt.sibling=tt,tt=rt,rt=_e}xj(et,!0,tt,null,it);break;case"together":xj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function jj(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function $i(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),hh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$4(153));if(et.child!==null){for(_e=et.child,tt=wh(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=wh(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function zj(_e,et,tt){switch(et.tag){case 3:lj(et),Ig();break;case 5:Kh(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:Ih(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,rt=et.memoizedProps.value;G$1(Mg,nt._currentValue),nt._currentValue=rt;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(M$3,M$3.current&1),et.flags|=128,null):tt&et.child.childLanes?pj(_e,et,tt):(G$1(M$3,M$3.current&1),_e=$i(_e,et,tt),_e!==null?_e.sibling:null);G$1(M$3,M$3.current&1);break;case 19:if(nt=(tt&et.childLanes)!==0,_e.flags&128){if(nt)return yj(_e,et,tt);et.flags|=128}if(rt=et.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(M$3,M$3.current),nt)break;return null;case 22:case 23:return et.lanes=0,ej(_e,et,tt)}return $i(_e,et,tt)}var Aj,Bj,Cj,Dj;Aj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(_e,et,tt,nt){var rt=_e.memoizedProps;if(rt!==nt){_e=et.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":rt=Ya(_e,rt),nt=Ya(_e,nt),it=[];break;case"select":rt=A$2({},rt,{value:void 0}),nt=A$2({},nt,{value:void 0}),it=[];break;case"textarea":rt=gb(_e,rt),nt=gb(_e,nt),it=[];break;default:typeof rt.onClick!="function"&&typeof nt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,nt);var ot;tt=null;for(lt in rt)if(!nt.hasOwnProperty(lt)&&rt.hasOwnProperty(lt)&&rt[lt]!=null)if(lt==="style"){var at=rt[lt];for(ot in at)at.hasOwnProperty(ot)&&(tt||(tt={}),tt[ot]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?it||(it=[]):(it=it||[]).push(lt,null));for(lt in nt){var st=nt[lt];if(at=rt!=null?rt[lt]:void 0,nt.hasOwnProperty(lt)&&st!==at&&(st!=null||at!=null))if(lt==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||st&&st.hasOwnProperty(ot)||(tt||(tt={}),tt[ot]="");for(ot in st)st.hasOwnProperty(ot)&&at[ot]!==st[ot]&&(tt||(tt={}),tt[ot]=st[ot])}else tt||(it||(it=[]),it.push(lt,tt)),tt=st;else lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,at=at?at.__html:void 0,st!=null&&at!==st&&(it=it||[]).push(lt,st)):lt==="children"?typeof st!="string"&&typeof st!="number"||(it=it||[]).push(lt,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(st!=null&&lt==="onScroll"&&D$1("scroll",_e),it||at===st||(it=[])):(it=it||[]).push(lt,st))}tt&&(it=it||[]).push("style",tt);var lt=it;(et.updateQueue=lt)&&(et.flags|=4)}};Dj=function(_e,et,tt,nt){tt!==nt&&(et.flags|=4)};function Ej(_e,et){if(!I$1)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:nt.sibling=null}}function S$3(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,nt=0;if(et)for(var rt=_e.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags&14680064,nt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)tt|=rt.lanes|rt.childLanes,nt|=rt.subtreeFlags,nt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=nt,_e.childLanes=tt,et}function Fj(_e,et,tt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(et),null;case 1:return Zf(et.type)&&$f(),S$3(et),null;case 3:return nt=et.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,et),S$3(et),null;case 5:Lh(et);var rt=Hh(Gh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Cj(_e,et,tt,nt,rt),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$4(166));return S$3(et),null}if(_e=Hh(Eh.current),Gg(et)){nt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=it,_e=(et.mode&1)!==0,tt){case"dialog":D$1("cancel",nt),D$1("close",nt);break;case"iframe":case"object":case"embed":D$1("load",nt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],nt);break;case"source":D$1("error",nt);break;case"img":case"image":case"link":D$1("error",nt),D$1("load",nt);break;case"details":D$1("toggle",nt);break;case"input":Za(nt,it),D$1("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",nt);break;case"textarea":hb(nt,it),D$1("invalid",nt)}ub(tt,it),rt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var at=it[ot];ot==="children"?typeof at=="string"?nt.textContent!==at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,_e),rt=["children",at]):typeof at=="number"&&nt.textContent!==""+at&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,at,_e),rt=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D$1("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=rt,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{ot=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof nt.is=="string"?_e=ot.createElement(tt,{is:nt.is}):(_e=ot.createElement(tt),tt==="select"&&(ot=_e,nt.multiple?ot.multiple=!0:nt.size&&(ot.size=nt.size))):_e=ot.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=nt,Aj(_e,et,!1,!1),et.stateNode=_e;e:{switch(ot=vb(tt,nt),tt){case"dialog":D$1("cancel",_e),D$1("close",_e),rt=nt;break;case"iframe":case"object":case"embed":D$1("load",_e),rt=nt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],_e);rt=nt;break;case"source":D$1("error",_e),rt=nt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),rt=nt;break;case"details":D$1("toggle",_e),rt=nt;break;case"input":Za(_e,nt),rt=Ya(_e,nt),D$1("invalid",_e);break;case"option":rt=nt;break;case"select":_e._wrapperState={wasMultiple:!!nt.multiple},rt=A$2({},nt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,nt),rt=gb(_e,nt),D$1("invalid",_e);break;default:rt=nt}ub(tt,rt),at=rt;for(it in at)if(at.hasOwnProperty(it)){var st=at[it];it==="style"?sb(_e,st):it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(_e,st)):it==="children"?typeof st=="string"?(tt!=="textarea"||st!=="")&&ob(_e,st):typeof st=="number"&&ob(_e,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?st!=null&&it==="onScroll"&&D$1("scroll",_e):st!=null&&ta(_e,it,st,ot))}switch(tt){case"input":Va(_e),db(_e,nt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":nt.value!=null&&_e.setAttribute("value",""+Sa(nt.value));break;case"select":_e.multiple=!!nt.multiple,it=nt.value,it!=null?fb(_e,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(_e,!!nt.multiple,nt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$3(et),null;case 6:if(_e&&et.stateNode!=null)Dj(_e,et,_e.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$4(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(et)){if(nt=et.stateNode,tt=et.memoizedProps,nt[Of]=et,(it=nt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(nt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$3(et),null;case 13:if(E$2(M$3),nt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),nt!==null&&nt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$4(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$4(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$3(et),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(nt=nt!==null,nt!==(_e!==null&&_e.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(_e===null||M$3.current&1?T===0&&(T=3):uj())),et.updateQueue!==null&&(et.flags|=4),S$3(et),null);case 4:return Jh(),Bj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$3(et),null;case 10:return Rg(et.type._context),S$3(et),null;case 17:return Zf(et.type)&&$f(),S$3(et),null;case 19:if(E$2(M$3),it=et.memoizedState,it===null)return S$3(et),null;if(nt=(et.flags&128)!==0,ot=it.rendering,ot===null)if(nt)Ej(it,!1);else{if(T!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(ot=Mh(_e),ot!==null){for(et.flags|=128,Ej(it,!1),nt=ot.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=tt,tt=et.child;tt!==null;)it=tt,_e=nt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G$1(M$3,M$3.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$1()>Hj&&(et.flags|=128,nt=!0,Ej(it,!1),et.lanes=4194304)}else{if(!nt)if(_e=Mh(ot),_e!==null){if(et.flags|=128,nt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$1)return S$3(et),null}else 2*B$1()-it.renderingStartTime>Hj&&tt!==1073741824&&(et.flags|=128,nt=!0,Ej(it,!1),et.lanes=4194304);it.isBackwards?(ot.sibling=et.child,et.child=ot):(tt=it.last,tt!==null?tt.sibling=ot:et.child=ot,it.last=ot)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$1(),et.sibling=null,tt=M$3.current,G$1(M$3,nt?tt&1|2:tt&1),et):(S$3(et),null);case 22:case 23:return Ij(),nt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?gj&1073741824&&(S$3(et),et.subtreeFlags&6&&(et.flags|=8192)):S$3(et),null;case 24:return null;case 25:return null}throw Error(p$4(156,et.tag))}function Jj(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Lh(et),null;case 13:if(E$2(M$3),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$4(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$2(M$3),null;case 4:return Jh(),null;case 10:return Rg(et.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$1(_e,et,nt)}else tt.current=null}function Nj(_e,et,tt){try{tt()}catch(nt){W$1(_e,et,nt)}}var Oj=!1;function Pj(_e,et){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var rt=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var ot=0,at=-1,st=-1,lt=0,ut=0,ct=_e,ft=null;t:for(;;){for(var dt;ct!==tt||rt!==0&&ct.nodeType!==3||(at=ot+rt),ct!==it||nt!==0&&ct.nodeType!==3||(st=ot+nt),ct.nodeType===3&&(ot+=ct.nodeValue.length),(dt=ct.firstChild)!==null;)ft=ct,ct=dt;for(;;){if(ct===_e)break t;if(ft===tt&&++lt===rt&&(at=ot),ft===it&&++ut===nt&&(st=ot),(dt=ct.nextSibling)!==null)break;ct=ft,ft=ct.parentNode}ct=dt}tt=at===-1||st===-1?null:{start:at,end:st}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V=et;V!==null;)if(et=V,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V=_e;else for(;V!==null;){et=V;try{var ht=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var mt=ht.memoizedProps,yt=ht.memoizedState,pt=et.stateNode,vt=pt.getSnapshotBeforeUpdate(et.elementType===et.type?mt:Lg(et.type,mt),yt);pt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var gt=et.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(xt){W$1(et,et.return,xt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V=_e;break}V=et.return}return ht=Oj,Oj=!1,ht}function Qj(_e,et,tt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var rt=nt=nt.next;do{if((rt.tag&_e)===_e){var it=rt.destroy;rt.destroy=void 0,it!==void 0&&Nj(et,tt,it)}rt=rt.next}while(rt!==nt)}}function Rj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==et)}}function Sj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Tj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Tj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}function Xj(_e,et,tt){var nt=_e.tag;if(nt===5||nt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(nt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,et,tt),_e=_e.sibling;_e!==null;)Xj(_e,et,tt),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,et,tt){for(tt=tt.child;tt!==null;)ak(_e,et,tt),tt=tt.sibling}function ak(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,et);case 6:var nt=X$1,rt=Yj;X$1=null,Zj(_e,et,tt),X$1=nt,Yj=rt,X$1!==null&&(Yj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X$1,tt.stateNode));break;case 4:nt=X$1,rt=Yj,X$1=tt.stateNode.containerInfo,Yj=!0,Zj(_e,et,tt),X$1=nt,Yj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){rt=nt=nt.next;do{var it=rt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Nj(tt,et,ot),rt=rt.next}while(rt!==nt)}Zj(_e,et,tt);break;case 1:if(!U$1&&(Mj(tt,et),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(at){W$1(tt,et,at)}Zj(_e,et,tt);break;case 21:Zj(_e,et,tt);break;case 22:tt.mode&1?(U$1=(nt=U$1)||tt.memoizedState!==null,Zj(_e,et,tt),U$1=nt):Zj(_e,et,tt);break;default:Zj(_e,et,tt)}}function bk(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Lj),et.forEach(function(nt){var rt=ck.bind(null,_e,nt);tt.has(nt)||(tt.add(nt),nt.then(rt,rt))})}}function dk(_e,et){var tt=et.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var rt=tt[nt];try{var it=_e,ot=et,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X$1=at.stateNode,Yj=!1;break e;case 3:X$1=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$1===null)throw Error(p$4(160));ak(it,ot,rt),X$1=null,Yj=!1;var st=rt.alternate;st!==null&&(st.return=null),rt.return=null}catch(lt){W$1(rt,et,lt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)ek(et,_e),et=et.sibling}function ek(_e,et){var tt=_e.alternate,nt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(et,_e),fk(_e),nt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(mt){W$1(_e,_e.return,mt)}try{Qj(5,_e,_e.return)}catch(mt){W$1(_e,_e.return,mt)}}break;case 1:dk(et,_e),fk(_e),nt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(et,_e),fk(_e),nt&512&&tt!==null&&Mj(tt,tt.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(mt){W$1(_e,_e.return,mt)}}if(nt&4&&(rt=_e.stateNode,rt!=null)){var it=_e.memoizedProps,ot=tt!==null?tt.memoizedProps:it,at=_e.type,st=_e.updateQueue;if(_e.updateQueue=null,st!==null)try{at==="input"&&it.type==="radio"&&it.name!=null&&ab(rt,it),vb(at,ot);var lt=vb(at,it);for(ot=0;ot<st.length;ot+=2){var ut=st[ot],ct=st[ot+1];ut==="style"?sb(rt,ct):ut==="dangerouslySetInnerHTML"?nb(rt,ct):ut==="children"?ob(rt,ct):ta(rt,ut,ct,lt)}switch(at){case"input":bb(rt,it);break;case"textarea":ib(rt,it);break;case"select":var ft=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!it.multiple;var dt=it.value;dt!=null?fb(rt,!!it.multiple,dt,!1):ft!==!!it.multiple&&(it.defaultValue!=null?fb(rt,!!it.multiple,it.defaultValue,!0):fb(rt,!!it.multiple,it.multiple?[]:"",!1))}rt[Pf]=it}catch(mt){W$1(_e,_e.return,mt)}}break;case 6:if(dk(et,_e),fk(_e),nt&4){if(_e.stateNode===null)throw Error(p$4(162));rt=_e.stateNode,it=_e.memoizedProps;try{rt.nodeValue=it}catch(mt){W$1(_e,_e.return,mt)}}break;case 3:if(dk(et,_e),fk(_e),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(mt){W$1(_e,_e.return,mt)}break;case 4:dk(et,_e),fk(_e);break;case 13:dk(et,_e),fk(_e),rt=_e.child,rt.flags&8192&&(it=rt.memoizedState!==null,rt.stateNode.isHidden=it,!it||rt.alternate!==null&&rt.alternate.memoizedState!==null||(gk=B$1())),nt&4&&bk(_e);break;case 22:if(ut=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U$1=(lt=U$1)||ut,dk(et,_e),U$1=lt):dk(et,_e),fk(_e),nt&8192){if(lt=_e.memoizedState!==null,(_e.stateNode.isHidden=lt)&&!ut&&_e.mode&1)for(V=_e,ut=_e.child;ut!==null;){for(ct=V=ut;V!==null;){switch(ft=V,dt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var ht=ft.stateNode;if(typeof ht.componentWillUnmount=="function"){nt=ft,tt=ft.return;try{et=nt,ht.props=et.memoizedProps,ht.state=et.memoizedState,ht.componentWillUnmount()}catch(mt){W$1(nt,tt,mt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(ct);continue}}dt!==null?(dt.return=ft,V=dt):hk(ct)}ut=ut.sibling}e:for(ut=null,ct=_e;;){if(ct.tag===5){if(ut===null){ut=ct;try{rt=ct.stateNode,lt?(it=rt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(at=ct.stateNode,st=ct.memoizedProps.style,ot=st!=null&&st.hasOwnProperty("display")?st.display:null,at.style.display=rb("display",ot))}catch(mt){W$1(_e,_e.return,mt)}}}else if(ct.tag===6){if(ut===null)try{ct.stateNode.nodeValue=lt?"":ct.memoizedProps}catch(mt){W$1(_e,_e.return,mt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===_e)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===_e)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===_e)break e;ut===ct&&(ut=null),ct=ct.return}ut===ct&&(ut=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:dk(et,_e),fk(_e),nt&4&&bk(_e);break;case 21:break;default:dk(et,_e),fk(_e)}}function fk(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Uj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$4(160))}switch(nt.tag){case 5:var rt=nt.stateNode;nt.flags&32&&(ob(rt,""),nt.flags&=-33);var it=Vj(_e);Xj(_e,it,rt);break;case 3:case 4:var ot=nt.stateNode.containerInfo,at=Vj(_e);Wj(_e,at,ot);break;default:throw Error(p$4(161))}}catch(st){W$1(_e,_e.return,st)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function ik(_e,et,tt){V=_e,jk(_e)}function jk(_e,et,tt){for(var nt=(_e.mode&1)!==0;V!==null;){var rt=V,it=rt.child;if(rt.tag===22&&nt){var ot=rt.memoizedState!==null||Kj;if(!ot){var at=rt.alternate,st=at!==null&&at.memoizedState!==null||U$1;at=Kj;var lt=U$1;if(Kj=ot,(U$1=st)&&!lt)for(V=rt;V!==null;)ot=V,st=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(rt):st!==null?(st.return=ot,V=st):kk(rt);for(;it!==null;)V=it,jk(it),it=it.sibling;V=rt,Kj=at,U$1=lt}lk(_e)}else rt.subtreeFlags&8772&&it!==null?(it.return=rt,V=it):lk(_e)}}function lk(_e){for(;V!==null;){var et=V;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Rj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$1)if(tt===null)nt.componentDidMount();else{var rt=et.elementType===et.type?tt.memoizedProps:Lg(et.type,tt.memoizedProps);nt.componentDidUpdate(rt,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&ih(et,it,nt);break;case 3:var ot=et.updateQueue;if(ot!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}ih(et,ot,tt)}break;case 5:var at=et.stateNode;if(tt===null&&et.flags&4){tt=at;var st=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&tt.focus();break;case"img":st.src&&(tt.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var lt=et.alternate;if(lt!==null){var ut=lt.memoizedState;if(ut!==null){var ct=ut.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$1||et.flags&512&&Sj(et)}catch(ft){W$1(et,et.return,ft)}}if(et===_e){V=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function hk(_e){for(;V!==null;){var et=V;if(et===_e){V=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V=tt;break}V=et.return}}function kk(_e){for(;V!==null;){var et=V;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Rj(4,et)}catch(st){W$1(et,tt,st)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var rt=et.return;try{nt.componentDidMount()}catch(st){W$1(et,rt,st)}}var it=et.return;try{Sj(et)}catch(st){W$1(et,it,st)}break;case 5:var ot=et.return;try{Sj(et)}catch(st){W$1(et,ot,st)}}}catch(st){W$1(et,et.return,st)}if(et===_e){V=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V=at;break}V=et.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,et,tt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac(_e,tt,nt),(!(K&2)||_e!==R$1)&&(_e===R$1&&(!(K&2)&&(rk|=tt),T===4&&Dk(_e,Z$1)),Ek(_e,nt),tt===1&&K===0&&!(et.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,et){var tt=_e.callbackNode;wc(_e,et);var nt=uc(_e,_e===R$1?Z$1:0);if(nt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=nt&-nt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Hk(_e,et){if(Bk=-1,Ck=0,K&6)throw Error(p$4(327));var tt=_e.callbackNode;if(Ik()&&_e.callbackNode!==tt)return null;var nt=uc(_e,_e===R$1?Z$1:0);if(nt===0)return null;if(nt&30||nt&_e.expiredLanes||et)et=Jk(_e,nt);else{et=nt;var rt=K;K|=2;var it=Kk();(R$1!==_e||Z$1!==et)&&(vk=null,Hj=B$1()+500,Lk(_e,et));do try{Mk();break}catch(at){Nk(_e,at)}while(1);Qg(),nk.current=it,K=rt,Y!==null?et=0:(R$1=null,Z$1=0,et=T)}if(et!==0){if(et===2&&(rt=xc(_e),rt!==0&&(nt=rt,et=Ok(_e,rt))),et===1)throw tt=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),tt;if(et===6)Dk(_e,nt);else{if(rt=_e.current.alternate,!(nt&30)&&!Pk(rt)&&(et=Jk(_e,nt),et===2&&(it=xc(_e),it!==0&&(nt=it,et=Ok(_e,it))),et===1))throw tt=qk,Lk(_e,0),Dk(_e,nt),Ek(_e,B$1()),tt;switch(_e.finishedWork=rt,_e.finishedLanes=nt,et){case 0:case 1:throw Error(p$4(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,nt),(nt&130023424)===nt&&(et=gk+500-B$1(),10<et)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&nt)!==nt){L$1(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),et);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,nt),(nt&4194240)===nt)break;for(et=_e.eventTimes,rt=-1;0<nt;){var ot=31-oc(nt);it=1<<ot,ot=et[ot],ot>rt&&(rt=ot),nt&=~it}if(nt=rt,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),nt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(_e,B$1()),_e.callbackNode===tt?Hk.bind(null,_e):null}function Ok(_e,et){var tt=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,et).flags|=256),_e=Jk(_e,et),_e!==2&&(et=uk,uk=tt,et!==null&&Gj(et)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.getSnapshot;rt=rt.value;try{if(!He(it(),rt))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Dk(_e,et){for(et&=~sk,et&=~rk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),nt=1<<tt;_e[tt]=-1,et&=~nt}}function Fk(_e){if(K&6)throw Error(p$4(327));Ik();var et=uc(_e,0);if(!(et&1))return Ek(_e,B$1()),null;var tt=Jk(_e,et);if(_e.tag!==0&&tt===2){var nt=xc(_e);nt!==0&&(et=nt,tt=Ok(_e,nt))}if(tt===1)throw tt=qk,Lk(_e,0),Dk(_e,et),Ek(_e,B$1()),tt;if(tt===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,et){var tt=K;K|=1;try{return _e(et)}finally{K=tt,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var et=K;K|=1;var tt=pk.transition,nt=C;try{if(pk.transition=null,C=1,_e)return _e()}finally{C=nt,pk.transition=tt,K=et,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y!==null)for(tt=Y.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$3);break;case 19:E$2(M$3);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$1=_e,Y=_e=wh(_e.current,null),Z$1=gj=et,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(et=0;et<Wg.length;et++)if(tt=Wg[et],nt=tt.interleaved,nt!==null){tt.interleaved=null;var rt=nt.next,it=tt.pending;if(it!==null){var ot=it.next;it.next=rt,nt.next=ot}tt.pending=nt}Wg=null}return _e}function Nk(_e,et){do{var tt=Y;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$2.memoizedState;nt!==null;){var rt=nt.queue;rt!==null&&(rt.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$2=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T=1,qk=et,Y=null;break}e:{var it=_e,ot=tt.return,at=tt,st=et;if(et=Z$1,at.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var lt=st,ut=at,ct=ut.tag;if(!(ut.mode&1)&&(ct===0||ct===11||ct===15)){var ft=ut.alternate;ft?(ut.updateQueue=ft.updateQueue,ut.memoizedState=ft.memoizedState,ut.lanes=ft.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var dt=Vi(ot);if(dt!==null){dt.flags&=-257,Wi(dt,ot,at,it,et),dt.mode&1&&Ti(it,lt,et),et=dt,st=lt;var ht=et.updateQueue;if(ht===null){var mt=new Set;mt.add(st),et.updateQueue=mt}else ht.add(st);break e}else{if(!(et&1)){Ti(it,lt,et),uj();break e}st=Error(p$4(426))}}else if(I$1&&at.mode&1){var yt=Vi(ot);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Wi(yt,ot,at,it,et),Jg(Ki(st,at));break e}}it=st=Ki(st,at),T!==4&&(T=2),tk===null?tk=[it]:tk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var pt=Oi(it,st,et);fh(it,pt);break e;case 1:at=st;var vt=it.type,gt=it.stateNode;if(!(it.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){it.flags|=65536,et&=-et,it.lanes|=et;var xt=Ri(it,at,et);fh(it,xt);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(wt){et=wt,Y===tt&&tt!==null&&(Y=tt=tt.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(_e,et){var tt=K;K|=2;var nt=Kk();(R$1!==_e||Z$1!==et)&&(vk=null,Lk(_e,et));do try{Uk();break}catch(rt){Nk(_e,rt)}while(1);if(Qg(),K=tt,nk.current=nt,Y!==null)throw Error(p$4(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var et=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,et===null?Tk(_e):Y=et,ok.current=null}function Tk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Jj(tt,et),tt!==null){tt.flags&=32767,Y=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T=6,Y=null;return}}else if(tt=Fj(tt,et,gj),tt!==null){Y=tt;return}if(et=et.sibling,et!==null){Y=et;return}Y=et=_e}while(et!==null);T===0&&(T=5)}function Qk(_e,et,tt){var nt=C,rt=pk.transition;try{pk.transition=null,C=1,Xk(_e,et,tt,nt)}finally{pk.transition=rt,C=nt}return null}function Xk(_e,et,tt,nt){do Ik();while(xk!==null);if(K&6)throw Error(p$4(327));tt=_e.finishedWork;var rt=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(_e,it),_e===R$1&&(Y=R$1=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var ot=C;C=1;var at=K;K|=4,ok.current=null,Pj(_e,tt),ek(tt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,ik(tt),dc(),K=at,C=ot,pk.transition=it}else _e.current=tt;if(wk&&(wk=!1,xk=_e,yk=rt),it=_e.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(_e,B$1()),et!==null)for(nt=_e.onRecoverableError,tt=0;tt<et.length;tt++)rt=et[tt],nt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),et=pk.transition,tt=C;try{if(pk.transition=null,C=16>_e?16:_e,xk===null)var nt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$4(331));var rt=K;for(K|=4,V=_e.current;V!==null;){var it=V,ot=it.child;if(V.flags&16){var at=it.deletions;if(at!==null){for(var st=0;st<at.length;st++){var lt=at[st];for(V=lt;V!==null;){var ut=V;switch(ut.tag){case 0:case 11:case 15:Qj(8,ut,it)}var ct=ut.child;if(ct!==null)ct.return=ut,V=ct;else for(;V!==null;){ut=V;var ft=ut.sibling,dt=ut.return;if(Tj(ut),ut===lt){V=null;break}if(ft!==null){ft.return=dt,V=ft;break}V=dt}}}var ht=it.alternate;if(ht!==null){var mt=ht.child;if(mt!==null){ht.child=null;do{var yt=mt.sibling;mt.sibling=null,mt=yt}while(mt!==null)}}V=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V=ot;else e:for(;V!==null;){if(it=V,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var pt=it.sibling;if(pt!==null){pt.return=it.return,V=pt;break e}V=it.return}}var vt=_e.current;for(V=vt;V!==null;){ot=V;var gt=ot.child;if(ot.subtreeFlags&2064&&gt!==null)gt.return=ot,V=gt;else e:for(ot=vt;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(wt){W$1(at,at.return,wt)}if(at===ot){V=null;break e}var xt=at.sibling;if(xt!==null){xt.return=at.return,V=xt;break e}V=at.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}nt=!0}return nt}finally{C=tt,pk.transition=et}}return!1}function Yk(_e,et,tt){et=Ki(tt,et),et=Oi(_e,et,1),_e=dh(_e,et,1),et=L$1(),_e!==null&&(Ac(_e,1,et),Ek(_e,et))}function W$1(_e,et,tt){if(_e.tag===3)Yk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Yk(et,_e,tt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){_e=Ki(tt,_e),_e=Ri(et,_e,1),et=dh(et,_e,1),_e=L$1(),et!==null&&(Ac(et,1,_e),Ek(et,_e));break}}et=et.return}}function Ui(_e,et,tt){var nt=_e.pingCache;nt!==null&&nt.delete(et),et=L$1(),_e.pingedLanes|=_e.suspendedLanes&tt,R$1===_e&&(Z$1&tt)===tt&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(_e,0):sk|=tt),Ek(_e,et)}function Zk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=L$1();_e=Zg(_e,et),_e!==null&&(Ac(_e,et,tt),Ek(_e,tt))}function vj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Zk(_e,tt)}function ck(_e,et){var tt=0;switch(_e.tag){case 13:var nt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(tt=rt.retryLane);break;case 19:nt=_e.stateNode;break;default:throw Error(p$4(314))}nt!==null&&nt.delete(et),Zk(_e,tt)}var Wk;Wk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return Ug=!1,zj(_e,et,tt);Ug=!!(_e.flags&131072)}else Ug=!1,I$1&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;jj(_e,et),_e=et.pendingProps;var rt=Yf(et,H$2.current);Tg(et,tt),rt=Xh(null,et,nt,_e,rt,tt);var it=bi();return et.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(it=!0,cg(et)):it=!1,et.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,ah(et),rt.updater=nh,et.stateNode=rt,rt._reactInternals=et,rh(et,nt,_e,tt),et=kj(null,et,nt,!0,it,tt)):(et.tag=0,I$1&&it&&vg(et),Yi(null,et,rt,tt),et=et.child),et;case 16:nt=et.elementType;e:{switch(jj(_e,et),_e=et.pendingProps,rt=nt._init,nt=rt(nt._payload),et.type=nt,rt=et.tag=$k(nt),_e=Lg(nt,_e),rt){case 0:et=dj(null,et,nt,_e,tt);break e;case 1:et=ij(null,et,nt,_e,tt);break e;case 11:et=Zi(null,et,nt,_e,tt);break e;case 14:et=aj(null,et,nt,Lg(nt.type,_e),tt);break e}throw Error(p$4(306,nt,""))}return et;case 0:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Lg(nt,rt),dj(_e,et,nt,rt,tt);case 1:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Lg(nt,rt),ij(_e,et,nt,rt,tt);case 3:e:{if(lj(et),_e===null)throw Error(p$4(387));nt=et.pendingProps,it=et.memoizedState,rt=it.element,bh(_e,et),gh(et,nt,null,tt);var ot=et.memoizedState;if(nt=ot.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){rt=Ki(Error(p$4(423)),et),et=mj(_e,et,nt,tt,rt);break e}else if(nt!==rt){rt=Ki(Error(p$4(424)),et),et=mj(_e,et,nt,tt,rt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$1=!0,zg=null,tt=Ch(et,null,nt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===rt){et=$i(_e,et,tt);break e}Yi(_e,et,nt,tt)}et=et.child}return et;case 5:return Kh(et),_e===null&&Eg(et),nt=et.type,rt=et.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=rt.children,Ef(nt,rt)?ot=null:it!==null&&Ef(nt,it)&&(et.flags|=32),hj(_e,et),Yi(_e,et,ot,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return pj(_e,et,tt);case 4:return Ih(et,et.stateNode.containerInfo),nt=et.pendingProps,_e===null?et.child=Bh(et,null,nt,tt):Yi(_e,et,nt,tt),et.child;case 11:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Lg(nt,rt),Zi(_e,et,nt,rt,tt);case 7:return Yi(_e,et,et.pendingProps,tt),et.child;case 8:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(nt=et.type._context,rt=et.pendingProps,it=et.memoizedProps,ot=rt.value,G$1(Mg,nt._currentValue),nt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===rt.children&&!Wf.current){et=$i(_e,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var at=it.dependencies;if(at!==null){ot=it.child;for(var st=at.firstContext;st!==null;){if(st.context===nt){if(it.tag===1){st=ch(-1,tt&-tt),st.tag=2;var lt=it.updateQueue;if(lt!==null){lt=lt.shared;var ut=lt.pending;ut===null?st.next=st:(st.next=ut.next,ut.next=st),lt.pending=st}}it.lanes|=tt,st=it.alternate,st!==null&&(st.lanes|=tt),Sg(it.return,tt,et),at.lanes|=tt;break}st=st.next}}else if(it.tag===10)ot=it.type===et.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$4(341));ot.lanes|=tt,at=ot.alternate,at!==null&&(at.lanes|=tt),Sg(ot,tt,et),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===et){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Yi(_e,et,rt.children,tt),et=et.child}return et;case 9:return rt=et.type,nt=et.pendingProps.children,Tg(et,tt),rt=Vg(rt),nt=nt(rt),et.flags|=1,Yi(_e,et,nt,tt),et.child;case 14:return nt=et.type,rt=Lg(nt,et.pendingProps),rt=Lg(nt.type,rt),aj(_e,et,nt,rt,tt);case 15:return cj(_e,et,et.type,et.pendingProps,tt);case 17:return nt=et.type,rt=et.pendingProps,rt=et.elementType===nt?rt:Lg(nt,rt),jj(_e,et),et.tag=1,Zf(nt)?(_e=!0,cg(et)):_e=!1,Tg(et,tt),ph(et,nt,rt),rh(et,nt,rt,tt),kj(null,et,nt,!0,_e,tt);case 19:return yj(_e,et,tt);case 22:return ej(_e,et,tt)}throw Error(p$4(156,et.tag))};function Gk(_e,et){return ac(_e,et)}function al(_e,et,tt,nt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,nt){return new al(_e,et,tt,nt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function yh(_e,et,tt,nt,rt,it){var ot=2;if(nt=_e,typeof _e=="function")bj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Ah(tt.children,rt,it,et);case za:ot=8,rt|=8;break;case Aa:return _e=Bg(12,tt,et,rt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,tt,et,rt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,tt,et,rt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(tt,rt,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,nt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return et=Bg(ot,tt,et,rt),et.elementType=_e,et.type=nt,et.lanes=it,et}function Ah(_e,et,tt,nt){return _e=Bg(7,_e,nt,et),_e.lanes=tt,_e}function qj(_e,et,tt,nt){return _e=Bg(22,_e,nt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function xh(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function zh(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function bl(_e,et,tt,nt,rt){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function cl(_e,et,tt,nt,rt,it,ot,at,st){return _e=new bl(_e,et,tt,at,st),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,et,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:_e,containerInfo:et,implementation:tt}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$4(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function fl(_e,et,tt,nt,rt,it,ot,at,st){return _e=cl(tt,nt,!0,_e,rt,it,ot,at,st),_e.context=el(null),tt=_e.current,nt=L$1(),rt=lh(tt),it=ch(nt,rt),it.callback=et??null,dh(tt,it,rt),_e.current.lanes=rt,Ac(_e,rt,nt),Ek(_e,nt),_e}function gl(_e,et,tt,nt){var rt=et.current,it=L$1(),ot=lh(rt);return tt=el(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=ch(it,ot),et.payload={element:_e},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),_e=dh(rt,et,ot),_e!==null&&(mh(_e,rt,ot,it),eh(_e,rt,ot)),ot}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function jl(_e,et){il(_e,et),(_e=_e.alternate)&&il(_e,et)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$4(409));gl(_e,et,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),et[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,et,tt,nt,rt){if(rt){if(typeof nt=="function"){var it=nt;nt=function(){var lt=hl(ot);it.call(lt)}}var ot=fl(et,nt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ot}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof nt=="function"){var at=nt;nt=function(){var lt=hl(st);at.call(lt)}}var st=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(et,st,tt,nt)}),st}function sl(_e,et,tt,nt,rt){var it=tt._reactRootContainer;if(it){var ot=it;if(typeof rt=="function"){var at=rt;rt=function(){var st=hl(ot);at.call(st)}}gl(et,ot,_e,rt)}else ot=rl(tt,et,_e,rt,nt);return hl(ot)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Ek(et,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(_e,1);if(nt!==null){var rt=L$1();mh(nt,_e,1,rt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=Zg(_e,134217728);if(et!==null){var tt=L$1();mh(et,_e,134217728,tt)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=lh(_e),tt=Zg(_e,et);if(tt!==null){var nt=L$1();mh(tt,_e,et,nt)}jl(_e,et)}};Hc=function(){return C};Ic=function(_e,et){var tt=C;try{return C=_e,et()}finally{C=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var nt=tt[et];if(nt!==_e&&nt.form===_e.form){var rt=Db(nt);if(!rt)throw Error(p$4(90));Wa(nt),bb(nt,rt)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(et))throw Error(p$4(200));return dl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!ol(_e))throw Error(p$4(299));var tt=!1,nt="",rt=ll;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(rt=et.onRecoverableError)),et=cl(_e,1,!1,null,null,tt,!1,nt,rt),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!pl(et))throw Error(p$4(200));return sl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!ol(_e))throw Error(p$4(405));var nt=tt!=null&&tt.hydratedSources||null,rt=!1,it="",ot=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(rt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(ot=tt.onRecoverableError)),et=fl(et,null,_e,1,tt??null,rt,!1,it,ot),_e[uf]=et.current,sf(_e),nt)for(_e=0;_e<nt.length;_e++)tt=nt[_e],rt=tt._getVersion,rt=rt(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,rt]:et.mutableSourceEagerHydrationData.push(tt,rt);return new nl(et)};reactDom_production_min.render=function(_e,et,tt){if(!pl(et))throw Error(p$4(200));return sl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$4(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,nt){if(!pl(tt))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return sl(_e,et,tt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends$1.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(_e){_e===void 0&&(_e={});function et(rt,it){let{pathname:ot="/",search:at="",hash:st=""}=parsePath(rt.location.hash.substr(1));return createLocation("",{pathname:ot,search:at,hash:st},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function tt(rt,it){let ot=rt.document.querySelector("base"),at="";if(ot&&ot.getAttribute("href")){let st=rt.location.href,lt=st.indexOf("#");at=lt===-1?st:st.slice(0,lt)}return at+"#"+(typeof it=="string"?it:createPath(it))}function nt(rt,it){warning(rt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(it)+")")}return getUrlBasedHistory(et,tt,nt,_e)}function invariant(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,tt,nt){return tt===void 0&&(tt=null),_extends$1({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:tt,key:et&&et.key||nt||createKey()})}function createPath(_e){let{pathname:et="/",search:tt="",hash:nt=""}=_e;return tt&&tt!=="?"&&(et+=tt.charAt(0)==="?"?tt:"?"+tt),nt&&nt!=="#"&&(et+=nt.charAt(0)==="#"?nt:"#"+nt),et}function parsePath(_e){let et={};if(_e){let tt=_e.indexOf("#");tt>=0&&(et.hash=_e.substr(tt),_e=_e.substr(0,tt));let nt=_e.indexOf("?");nt>=0&&(et.search=_e.substr(nt),_e=_e.substr(0,nt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,tt,nt){nt===void 0&&(nt={});let{window:rt=document.defaultView,v5Compat:it=!1}=nt,ot=rt.history,at=Action.Pop,st=null,lt=ut();lt==null&&(lt=0,ot.replaceState(_extends$1({},ot.state,{idx:lt}),""));function ut(){return(ot.state||{idx:null}).idx}function ct(){at=Action.Pop;let yt=ut(),pt=yt==null?null:yt-lt;lt=yt,st&&st({action:at,location:mt.location,delta:pt})}function ft(yt,pt){at=Action.Push;let vt=createLocation(mt.location,yt,pt);tt&&tt(vt,yt),lt=ut()+1;let gt=getHistoryState(vt,lt),xt=mt.createHref(vt);try{ot.pushState(gt,"",xt)}catch{rt.location.assign(xt)}it&&st&&st({action:at,location:mt.location,delta:1})}function dt(yt,pt){at=Action.Replace;let vt=createLocation(mt.location,yt,pt);tt&&tt(vt,yt),lt=ut();let gt=getHistoryState(vt,lt),xt=mt.createHref(vt);ot.replaceState(gt,"",xt),it&&st&&st({action:at,location:mt.location,delta:0})}function ht(yt){let pt=rt.location.origin!=="null"?rt.location.origin:rt.location.href,vt=typeof yt=="string"?yt:createPath(yt);return invariant(pt,"No window.location.(origin|href) available to create URL for href: "+vt),new URL(vt,pt)}let mt={get action(){return at},get location(){return _e(rt,ot)},listen(yt){if(st)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,ct),st=yt,()=>{rt.removeEventListener(PopStateEventType,ct),st=null}},createHref(yt){return et(rt,yt)},createURL:ht,encodeLocation(yt){let pt=ht(yt);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:ft,replace:dt,go(yt){return ot.go(yt)}};return mt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,et,tt){tt===void 0&&(tt="/");let nt=typeof et=="string"?parsePath(et):et,rt=stripBasename(nt.pathname||"/",tt);if(rt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let at=0;ot==null&&at<it.length;++at)ot=matchRouteBranch(it[at],safelyDecodeURI(rt));return ot}function flattenRoutes(_e,et,tt,nt){et===void 0&&(et=[]),tt===void 0&&(tt=[]),nt===void 0&&(nt="");let rt=(it,ot,at)=>{let st={relativePath:at===void 0?it.path||"":at,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};st.relativePath.startsWith("/")&&(invariant(st.relativePath.startsWith(nt),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(nt.length));let lt=joinPaths([nt,st.relativePath]),ut=tt.concat(st);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(it.children,et,ut,lt)),!(it.path==null&&!it.index)&&et.push({path:lt,score:computeScore(lt,it.index),routesMeta:ut})};return _e.forEach((it,ot)=>{var at;if(it.path===""||!((at=it.path)!=null&&at.includes("?")))rt(it,ot);else for(let st of explodeOptionalSegments(it.path))rt(it,ot,st)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[tt,...nt]=et,rt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(nt.length===0)return rt?[it,""]:[it];let ot=explodeOptionalSegments(nt.join("/")),at=[];return at.push(...ot.map(st=>st===""?it:[it,st].join("/"))),rt&&at.push(...ot),at.map(st=>_e.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(_e){_e.sort((et,tt)=>et.score!==tt.score?tt.score-et.score:compareIndexes(et.routesMeta.map(nt=>nt.childrenIndex),tt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let tt=_e.split("/"),nt=tt.length;return tt.some(isSplat)&&(nt+=splatPenalty),et&&(nt+=indexRouteValue),tt.filter(rt=>!isSplat(rt)).reduce((rt,it)=>rt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((nt,rt)=>nt===et[rt])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et){let{routesMeta:tt}=_e,nt={},rt="/",it=[];for(let ot=0;ot<tt.length;++ot){let at=tt[ot],st=ot===tt.length-1,lt=rt==="/"?et:et.slice(rt.length)||"/",ut=matchPath({path:at.relativePath,caseSensitive:at.caseSensitive,end:st},lt);if(!ut)return null;Object.assign(nt,ut.params);let ct=at.route;it.push({params:nt,pathname:joinPaths([rt,ut.pathname]),pathnameBase:normalizePathname(joinPaths([rt,ut.pathnameBase])),route:ct}),ut.pathnameBase!=="/"&&(rt=joinPaths([rt,ut.pathnameBase]))}return it}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[tt,nt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=et.match(tt);if(!rt)return null;let it=rt[0],ot=it.replace(/(.)\/+$/,"$1"),at=rt.slice(1);return{params:nt.reduce((lt,ut,ct)=>{if(ut==="*"){let ft=at[ct]||"";ot=it.slice(0,it.length-ft.length).replace(/(.)\/+$/,"$1")}return lt[ut]=safelyDecodeURIComponent(at[ct]||"",ut),lt},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let nt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(ot,at)=>(nt.push(at),"/([^\\/]+)"));return _e.endsWith("*")?(nt.push("*"),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,et?void 0:"i"),nt]}function safelyDecodeURI(_e){try{return decodeURI(_e)}catch(et){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),_e}}function safelyDecodeURIComponent(_e,et){try{return decodeURIComponent(_e)}catch(tt){return warning(!1,'The value for the URL param "'+et+'" will not be decoded because'+(' the string "'+_e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let tt=et.endsWith("/")?et.length-1:et.length,nt=_e.charAt(tt);return nt&&nt!=="/"?null:_e.slice(tt)||"/"}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(_e[nt]=tt[nt])}return _e},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutes(_e,et){return useRoutesImpl(_e,et)}function useRoutesImpl(_e,et,tt){useInRouterContext()||invariant(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),it=rt[rt.length-1],ot=it?it.params:{};it&&it.pathname;let at=it?it.pathnameBase:"/";it&&it.route;let st=useLocation(),lt;if(et){var ut;let mt=typeof et=="string"?parsePath(et):et;at==="/"||(ut=mt.pathname)!=null&&ut.startsWith(at)||invariant(!1),lt=mt}else lt=st;let ct=lt.pathname||"/",ft=at==="/"?ct:ct.slice(at.length)||"/",dt=matchRoutes(_e,{pathname:ft}),ht=_renderMatches(dt&&dt.map(mt=>Object.assign({},mt,{params:Object.assign({},ot,mt.params),pathname:joinPaths([at,nt.encodeLocation?nt.encodeLocation(mt.pathname).pathname:mt.pathname]),pathnameBase:mt.pathnameBase==="/"?at:joinPaths([at,nt.encodeLocation?nt.encodeLocation(mt.pathnameBase).pathname:mt.pathnameBase])})),rt,tt);return et&&ht?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},lt),navigationType:Action.Pop}},ht):ht}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),tt=_e instanceof Error?_e.stack:null,rt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),tt?reactExports.createElement("pre",{style:rt},tt):null,it)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,tt){return tt.location!==et.location||tt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error||tt.error,location:tt.location,revalidation:et.revalidation||tt.revalidation}}componentDidCatch(et,tt){console.error("React Router caught the following error during render",et,tt)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:et,match:tt,children:nt}=_e,rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=tt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},nt)}function _renderMatches(_e,et,tt){var nt;if(et===void 0&&(et=[]),tt===void 0&&(tt=null),_e==null){var rt;if((rt=tt)!=null&&rt.errors)_e=tt.matches;else return null}let it=_e,ot=(nt=tt)==null?void 0:nt.errors;if(ot!=null){let at=it.findIndex(st=>st.route.id&&(ot==null?void 0:ot[st.route.id]));at>=0||invariant(!1),it=it.slice(0,Math.min(it.length,at+1))}return it.reduceRight((at,st,lt)=>{let ut=st.route.id?ot==null?void 0:ot[st.route.id]:null,ct=null;tt&&(ct=st.route.errorElement||defaultErrorElement);let ft=et.concat(it.slice(0,lt+1)),dt=()=>{let ht;return ut?ht=ct:st.route.Component?ht=reactExports.createElement(st.route.Component,null):st.route.element?ht=st.route.element:ht=at,reactExports.createElement(RenderedRoute,{match:st,routeContext:{outlet:at,matches:ft,isDataRoute:tt!=null},children:ht})};return tt&&(st.route.ErrorBoundary||st.route.errorElement||lt===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:ct,error:ut,children:dt(),routeContext:{outlet:null,matches:ft,isDataRoute:!0}}):dt()},null)}var DataRouterHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(_e){_e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return et||invariant(!1),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return et||invariant(!1),et}function useCurrentRouteId(_e){let et=useRouteContext(),tt=et.matches[et.matches.length-1];return tt.route.id||invariant(!1),tt.route.id}function useRouteError(){var _e;let et=reactExports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et||((_e=tt.errors)==null?void 0:_e[nt])}function Route(_e){invariant(!1)}function Router(_e){let{basename:et="/",children:tt=null,location:nt,navigationType:rt=Action.Pop,navigator:it,static:ot=!1}=_e;useInRouterContext()&&invariant(!1);let at=et.replace(/^\/*/,"/"),st=reactExports.useMemo(()=>({basename:at,navigator:it,static:ot}),[at,it,ot]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:lt="/",search:ut="",hash:ct="",state:ft=null,key:dt="default"}=nt,ht=reactExports.useMemo(()=>{let mt=stripBasename(lt,at);return mt==null?null:{location:{pathname:mt,search:ut,hash:ct,state:ft,key:dt},navigationType:rt}},[at,lt,ut,ct,ft,dt,rt]);return ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:st},reactExports.createElement(LocationContext.Provider,{children:tt,value:ht}))}function Routes(_e){let{children:et,location:tt}=_e;return useRoutes(createRoutesFromChildren(et),tt)}var AwaitRenderStatus;(function(_e){_e[_e.pending=0]="pending",_e[_e.success=1]="success",_e[_e.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(_e,et){et===void 0&&(et=[]);let tt=[];return reactExports.Children.forEach(_e,(nt,rt)=>{if(!reactExports.isValidElement(nt))return;let it=[...et,rt];if(nt.type===reactExports.Fragment){tt.push.apply(tt,createRoutesFromChildren(nt.props.children,it));return}nt.type!==Route&&invariant(!1),!nt.props.index||!nt.props.children||invariant(!1);let ot={id:nt.props.id||it.join("-"),caseSensitive:nt.props.caseSensitive,element:nt.props.element,Component:nt.props.Component,index:nt.props.index,path:nt.props.path,loader:nt.props.loader,action:nt.props.action,errorElement:nt.props.errorElement,ErrorBoundary:nt.props.ErrorBoundary,hasErrorBoundary:nt.props.ErrorBoundary!=null||nt.props.errorElement!=null,shouldRevalidate:nt.props.shouldRevalidate,handle:nt.props.handle,lazy:nt.props.lazy};nt.props.children&&(ot.children=createRoutesFromChildren(nt.props.children,it)),tt.push(ot)}),tt}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function HashRouter(_e){let{basename:et,children:tt,window:nt}=_e,rt=reactExports.useRef();rt.current==null&&(rt.current=createHashHistory({window:nt,v5Compat:!0}));let it=rt.current,[ot,at]=reactExports.useState({action:it.action,location:it.location});return reactExports.useLayoutEffect(()=>it.listen(at),[it]),reactExports.createElement(Router,{basename:et,children:tt,location:ot.location,navigationType:ot.action,navigator:it})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmitImpl="useSubmitImpl",_e.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var Global=withEmotionCache(function(_e,et){var tt=_e.styles,nt=serializeStyles([tt],void 0,reactExports.useContext(ThemeContext$1)),rt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var it=et.key+"-global",ot=new et.sheet.constructor({key:it,nonce:et.sheet.nonce,container:et.sheet.container,speedy:et.sheet.isSpeedy}),at=!1,st=document.querySelector('style[data-emotion="'+it+" "+nt.name+'"]');return et.sheet.tags.length&&(ot.before=et.sheet.tags[0]),st!==null&&(at=!0,st.setAttribute("data-emotion",it),ot.hydrate([st])),rt.current=[ot,at],function(){ot.flush()}},[et]),useInsertionEffectWithLayoutFallback(function(){var it=rt.current,ot=it[0],at=it[1];if(at){it[1]=!1;return}if(nt.next!==void 0&&insertStyles(et,nt.next,!0),ot.tags.length){var st=ot.tags[ot.tags.length-1].nextElementSibling;ot.before=st,ot.flush()}et.insert("",nt,ot,!1)},[et,nt.name]),null});function css(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return serializeStyles(et)}var keyframes=function(){var et=css.apply(void 0,arguments),tt="animation-"+et.name;return{name:tt,styles:"@keyframes "+tt+"{"+et.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const defaultModifiers={ctrl:!1,shift:void 0,alt:!1};function cleanShortcuts(_e){const et=[];for(const tt of _e)for(const nt of tt){const[rt,...it]=shortcutToObjects(nt.shortcut);et.push({shortcut:rt,aliases:it,handler:nt.handler,meta:nt.meta,maxFrequency:nt.maxFrequency??0})}return et}function shortcutToObjects(_e){return typeof _e=="string"?[{...defaultModifiers,key:_e.toLowerCase()}]:Array.isArray(_e)?_e.map(et=>typeof et=="string"?{...defaultModifiers,key:et.toLowerCase()}:"key"in et?{...defaultModifiers,...et,key:et.key.toLowerCase()}:{...defaultModifiers,...et,code:et.code.toLowerCase()}):"key"in _e?[{...defaultModifiers,..._e,key:_e.key.toLowerCase()}]:[{...defaultModifiers,..._e,code:_e.code.toLowerCase()}]}const isMac=typeof navigator<"u"&&navigator.platform==="MacIntel";function isMultiplatformCtrlKey(_e){return isMac?_e.metaKey:_e.ctrlKey}function shortcutToKeys(_e){return[...shortcutObjectToKey(_e.shortcut),..._e.aliases.map(shortcutObjectToKey).flat()]}function shortcutObjectToKey(_e){const et=`ctrl[${boolToString(_e.ctrl)}]_alt[${boolToString(_e.alt)}]`;let tt;return"key"in _e?tt=`key[${_e.key}]_${et}`:tt=`code[${_e.code}]_${et}`,typeof _e.shift=="boolean"?[`${tt}_shift[${boolToString(_e.shift)}]`]:[`${tt}_shift[true]`,`${tt}_shift[false]`]}function eventToKeyOrCode(_e){const et=`ctrl[${boolToString(isMultiplatformCtrlKey(_e))}]_alt[${boolToString(_e.altKey)}]_shift[${boolToString(_e.shiftKey)}]`;return{key:`key[${_e.key.toLowerCase()}]_${et}`,code:`code[${_e.code.toLowerCase()}]_${et}`}}function boolToString(_e){return _e?"true":"false"}function combineShortcuts(_e){const et={};for(const tt of _e){const nt=shortcutToKeys(tt);for(const rt of nt)et[rt]!==void 0&&console.warn(`A global shortcut was already defined for key the combination ${rt}. It will be overridden.`),et[rt]=tt}return et}const inputElements=new Set(["INPUT","TEXTAREA","SELECT"]);function shouldIgnoreElement(_e){return inputElements.has(_e.tagName)||_e.isContentEditable||_e.hasAttribute("data-kbs-ignore")}function useLastTriggerRef(){return reactExports.useRef({keyOrCode:"",timestamp:0})}function getKeyDownHandler(_e,et){return function(nt){if(shouldIgnoreElement(nt.target))return;const{key:rt,code:it}=eventToKeyOrCode(nt);let ot,at;if(et[rt]?(at=et[rt],ot=rt):(at=et[it],ot=it),at){if(nt.stopPropagation(),nt.preventDefault(),at.maxFrequency>0){const st=performance.now();if(nt.repeat&&_e.current.keyOrCode===ot&&st-_e.current.timestamp<1e3/at.maxFrequency)return;_e.current={keyOrCode:ot,timestamp:st}}at.handler(nt)}}}const initialKbsState={inputShortcuts:[],cleanedShortcuts:[],combinedShortcuts:{},disableCount:0},kbsContext=reactExports.createContext(initialKbsState),kbsDispatchContext=reactExports.createContext(null);function useKbsUncheckedDispatch(){return reactExports.useContext(kbsDispatchContext)}function kbsReducer(_e,et){switch(et.type){case"INIT":{const tt=[..._e.inputShortcuts,et.shortcuts],nt=cleanShortcuts(tt);return{..._e,inputShortcuts:tt,cleanedShortcuts:nt,combinedShortcuts:combineShortcuts(nt)}}case"CLEANUP":{const tt=_e.inputShortcuts.filter(rt=>rt!==et.shortcuts),nt=cleanShortcuts(tt);return{..._e,inputShortcuts:tt,cleanedShortcuts:nt,combinedShortcuts:combineShortcuts(nt)}}case"DISABLE_GLOBAL":return{..._e,disableCount:_e.disableCount+1};case"ENABLE_GLOBAL":return{..._e,disableCount:_e.disableCount-1};default:throw new Error("unreachable")}}function KbsProvider(_e){const[et,tt]=reactExports.useReducer(kbsReducer,initialKbsState),nt=useLastTriggerRef();return reactExports.useEffect(()=>{if(et.disableCount!==0)return;const rt=getKeyDownHandler(nt,et.combinedShortcuts);return document.body.addEventListener("keydown",rt),()=>document.body.removeEventListener("keydown",rt)},[et.disableCount,et.combinedShortcuts,nt]),jsxRuntimeExports.jsx(kbsContext.Provider,{value:et,children:jsxRuntimeExports.jsx(kbsDispatchContext.Provider,{value:tt,children:_e.children})})}function useKbs(_e){const et=useLastTriggerRef(),tt=reactExports.useMemo(()=>combineShortcuts(cleanShortcuts([_e])),[_e]);return{tabIndex:0,onKeyDown:reactExports.useMemo(()=>getKeyDownHandler(et,tt),[et,tt])}}function useKbsDisableGlobal(_e=!0){const et=useKbsUncheckedDispatch();reactExports.useEffect(()=>{if(!(!_e||!et))return et({type:"DISABLE_GLOBAL"}),()=>et({type:"ENABLE_GLOBAL"})},[et,_e])}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(_e){return!!_e&&!!_e[DRAFT_STATE]}function isDraftable(_e){var et;return _e?isPlainObject$1(_e)||Array.isArray(_e)||!!_e[DRAFTABLE]||!!((et=_e.constructor)!=null&&et[DRAFTABLE])||isMap(_e)||isSet(_e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$1(_e){if(!_e||typeof _e!="object")return!1;const et=getPrototypeOf(_e);if(et===null)return!0;const tt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return tt===Object?!0:typeof tt=="function"&&Function.toString.call(tt)===objectCtorString}function each(_e,et){getArchtype(_e)===0?Object.entries(_e).forEach(([tt,nt])=>{et(tt,nt,_e)}):_e.forEach((tt,nt)=>et(nt,tt,_e))}function getArchtype(_e){const et=_e[DRAFT_STATE];return et?et.type_:Array.isArray(_e)?1:isMap(_e)?2:isSet(_e)?3:0}function has(_e,et){return getArchtype(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function set(_e,et,tt){const nt=getArchtype(_e);nt===2?_e.set(et,tt):nt===3?_e.add(tt):_e[et]=tt}function is(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function isMap(_e){return _e instanceof Map}function isSet(_e){return _e instanceof Set}function latest(_e){return _e.copy_||_e.base_}function shallowCopy(_e,et){if(isMap(_e))return new Map(_e);if(isSet(_e))return new Set(_e);if(Array.isArray(_e))return Array.prototype.slice.call(_e);if(!et&&isPlainObject$1(_e))return getPrototypeOf(_e)?{..._e}:Object.assign(Object.create(null),_e);const tt=Object.getOwnPropertyDescriptors(_e);delete tt[DRAFT_STATE];let nt=Reflect.ownKeys(tt);for(let rt=0;rt<nt.length;rt++){const it=nt[rt],ot=tt[it];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(tt[it]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:_e[it]})}return Object.create(getPrototypeOf(_e),tt)}function freeze(_e,et=!1){return isFrozen(_e)||isDraft(_e)||!isDraftable(_e)||(getArchtype(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=dontMutateFrozenCollections),Object.freeze(_e),et&&each(_e,(tt,nt)=>freeze(nt,!0))),_e}function dontMutateFrozenCollections(){die(2)}function isFrozen(_e){return Object.isFrozen(_e)}var plugins={};function getPlugin(_e){const et=plugins[_e];return et||die(0,_e),et}var currentScope;function getCurrentScope(){return currentScope}function createScope(_e,et){return{drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_e,et){et&&(getPlugin("Patches"),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope(_e){leaveScope(_e),_e.drafts_.forEach(revokeDraft),_e.drafts_=null}function leaveScope(_e){_e===currentScope&&(currentScope=_e.parent_)}function enterScope(_e){return currentScope=createScope(currentScope,_e)}function revokeDraft(_e){const et=_e[DRAFT_STATE];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const tt=et.drafts_[0];return _e!==void 0&&_e!==tt?(tt[DRAFT_STATE].modified_&&(revokeScope(et),die(4)),isDraftable(_e)&&(_e=finalize(et,_e),et.parent_||maybeFreeze(et,_e)),et.patches_&&getPlugin("Patches").generateReplacementPatches_(tt[DRAFT_STATE].base_,_e,et.patches_,et.inversePatches_)):_e=finalize(et,tt,[]),revokeScope(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING?_e:void 0}function finalize(_e,et,tt){if(isFrozen(et))return et;const nt=et[DRAFT_STATE];if(!nt)return each(et,(rt,it)=>finalizeProperty(_e,nt,et,rt,it,tt)),et;if(nt.scope_!==_e)return et;if(!nt.modified_)return maybeFreeze(_e,nt.base_,!0),nt.base_;if(!nt.finalized_){nt.finalized_=!0,nt.scope_.unfinalizedDrafts_--;const rt=nt.copy_;let it=rt,ot=!1;nt.type_===3&&(it=new Set(rt),rt.clear(),ot=!0),each(it,(at,st)=>finalizeProperty(_e,nt,rt,at,st,tt,ot)),maybeFreeze(_e,rt,!1),tt&&_e.patches_&&getPlugin("Patches").generatePatches_(nt,tt,_e.patches_,_e.inversePatches_)}return nt.copy_}function finalizeProperty(_e,et,tt,nt,rt,it,ot){if(isDraft(rt)){const at=it&&et&&et.type_!==3&&!has(et.assigned_,nt)?it.concat(nt):void 0,st=finalize(_e,rt,at);if(set(tt,nt,st),isDraft(st))_e.canAutoFreeze_=!1;else return}else ot&&tt.add(rt);if(isDraftable(rt)&&!isFrozen(rt)){if(!_e.immer_.autoFreeze_&&_e.unfinalizedDrafts_<1)return;finalize(_e,rt),(!et||!et.scope_.parent_)&&maybeFreeze(_e,rt)}}function maybeFreeze(_e,et,tt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze(et,tt)}function createProxyProxy(_e,et){const tt=Array.isArray(_e),nt={type_:tt?1:0,scope_:et?et.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let rt=nt,it=objectTraps;tt&&(rt=[nt],it=arrayTraps);const{revoke:ot,proxy:at}=Proxy.revocable(rt,it);return nt.draft_=at,nt.revoke_=ot,at}var objectTraps={get(_e,et){if(et===DRAFT_STATE)return _e;const tt=latest(_e);if(!has(tt,et))return readPropFromProto(_e,tt,et);const nt=tt[et];return _e.finalized_||!isDraftable(nt)?nt:nt===peek(_e.base_,et)?(prepareCopy(_e),_e.copy_[et]=createProxy(nt,_e)):nt},has(_e,et){return et in latest(_e)},ownKeys(_e){return Reflect.ownKeys(latest(_e))},set(_e,et,tt){const nt=getDescriptorFromProto(latest(_e),et);if(nt!=null&&nt.set)return nt.set.call(_e.draft_,tt),!0;if(!_e.modified_){const rt=peek(latest(_e),et),it=rt==null?void 0:rt[DRAFT_STATE];if(it&&it.base_===tt)return _e.copy_[et]=tt,_e.assigned_[et]=!1,!0;if(is(tt,rt)&&(tt!==void 0||has(_e.base_,et)))return!0;prepareCopy(_e),markChanged(_e)}return _e.copy_[et]===tt&&(tt!==void 0||et in _e.copy_)||Number.isNaN(tt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=tt,_e.assigned_[et]=!0),!0},deleteProperty(_e,et){return peek(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_[et]=!1,prepareCopy(_e),markChanged(_e)):delete _e.assigned_[et],_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const tt=latest(_e),nt=Reflect.getOwnPropertyDescriptor(tt,et);return nt&&{writable:!0,configurable:_e.type_!==1||et!=="length",enumerable:nt.enumerable,value:tt[et]}},defineProperty(){die(11)},getPrototypeOf(_e){return getPrototypeOf(_e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(_e,et)=>{arrayTraps[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}});arrayTraps.deleteProperty=function(_e,et){return arrayTraps.set.call(this,_e,et,void 0)};arrayTraps.set=function(_e,et,tt){return objectTraps.set.call(this,_e[0],et,tt,_e[0])};function peek(_e,et){const tt=_e[DRAFT_STATE];return(tt?latest(tt):_e)[et]}function readPropFromProto(_e,et,tt){var rt;const nt=getDescriptorFromProto(et,tt);return nt?"value"in nt?nt.value:(rt=nt.get)==null?void 0:rt.call(_e.draft_):void 0}function getDescriptorFromProto(_e,et){if(!(et in _e))return;let tt=getPrototypeOf(_e);for(;tt;){const nt=Object.getOwnPropertyDescriptor(tt,et);if(nt)return nt;tt=getPrototypeOf(tt)}}function markChanged(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged(_e.parent_))}function prepareCopy(_e){_e.copy_||(_e.copy_=shallowCopy(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(et,tt,nt)=>{if(typeof et=="function"&&typeof tt!="function"){const it=tt;tt=et;const ot=this;return function(st=it,...lt){return ot.produce(st,ut=>tt.call(this,ut,...lt))}}typeof tt!="function"&&die(6),nt!==void 0&&typeof nt!="function"&&die(7);let rt;if(isDraftable(et)){const it=enterScope(this),ot=createProxy(et,void 0);let at=!0;try{rt=tt(ot),at=!1}finally{at?revokeScope(it):leaveScope(it)}return usePatchesInScope(it,nt),processResult(rt,it)}else if(!et||typeof et!="object"){if(rt=tt(et),rt===void 0&&(rt=et),rt===NOTHING&&(rt=void 0),this.autoFreeze_&&freeze(rt,!0),nt){const it=[],ot=[];getPlugin("Patches").generateReplacementPatches_(et,rt,it,ot),nt(it,ot)}return rt}else die(1,et)},this.produceWithPatches=(et,tt)=>{if(typeof et=="function")return(ot,...at)=>this.produceWithPatches(ot,st=>et(st,...at));let nt,rt;return[this.produce(et,tt,(ot,at)=>{nt=ot,rt=at}),nt,rt]},typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze),typeof(_e==null?void 0:_e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_e.useStrictShallowCopy)}createDraft(_e){isDraftable(_e)||die(8),isDraft(_e)&&(_e=current(_e));const et=enterScope(this),tt=createProxy(_e,void 0);return tt[DRAFT_STATE].isManual_=!0,leaveScope(et),tt}finishDraft(_e,et){const tt=_e&&_e[DRAFT_STATE];(!tt||!tt.isManual_)&&die(9);const{scope_:nt}=tt;return usePatchesInScope(nt,et),processResult(void 0,nt)}setAutoFreeze(_e){this.autoFreeze_=_e}setUseStrictShallowCopy(_e){this.useStrictShallowCopy_=_e}applyPatches(_e,et){let tt;for(tt=et.length-1;tt>=0;tt--){const rt=et[tt];if(rt.path.length===0&&rt.op==="replace"){_e=rt.value;break}}tt>-1&&(et=et.slice(tt+1));const nt=getPlugin("Patches").applyPatches_;return isDraft(_e)?nt(_e,et):this.produce(_e,rt=>nt(rt,et))}};function createProxy(_e,et){const tt=isMap(_e)?getPlugin("MapSet").proxyMap_(_e,et):isSet(_e)?getPlugin("MapSet").proxySet_(_e,et):createProxyProxy(_e,et);return(et?et.scope_:getCurrentScope()).drafts_.push(tt),tt}function current(_e){return isDraft(_e)||die(10,_e),currentImpl(_e)}function currentImpl(_e){if(!isDraftable(_e)||isFrozen(_e))return _e;const et=_e[DRAFT_STATE];let tt;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,tt=shallowCopy(_e,et.scope_.immer_.useStrictShallowCopy_)}else tt=shallowCopy(_e,!0);return each(tt,(nt,rt)=>{set(tt,nt,currentImpl(rt))}),et&&(et.finalized_=!1),tt}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);const accordionContext=reactExports.createContext(null),reducer$1=produce((_e,et)=>{switch(et.type){case"TOGGLE":{const tt=getItem(et.payload,_e.items);return tt?(tt.isOpen=!tt.isOpen,_e):(_e.items.push({isOpen:!0,title:et.payload}),_e)}case"CLEAR":{const tt=getItem(et.payload,_e.items);if(!tt)return _e.items.push({isOpen:!0,title:et.payload}),_e;for(const nt of _e.items)nt.isOpen=nt.title===tt.title;return _e}case"REMOVE_ITEM":return _e.items=_e.items.filter(tt=>tt.title!==et.payload),_e;case"CREATE_ITEM":return _e.items.push(et.payload),_e;case"CHANGE_ITEM":{const tt=getItem(et.payload.title,_e.items);return tt&&(tt.isOpen=et.payload.isOpen),_e}default:return _e}});function useAccordionContext(_e,et){const tt=reactExports.useContext(accordionContext);if(!tt)throw new Error("AccordionContext was not found");const[nt,rt]=tt;reactExports.useEffect(()=>(rt.create(_e,et),()=>rt.remove(_e)),[et,_e,rt]);let it=getItem(_e,nt.items);return reactExports.useMemo(()=>({item:it,utils:{clear:()=>rt.clear(_e),toggle:()=>rt.toggle(_e),remove:()=>rt.remove(_e),create:ot=>rt.create(_e,ot)}}),[it,_e,rt])}function AccordionProvider(_e){const[et,tt]=reactExports.useReducer(reducer$1,{items:[]}),nt=reactExports.useMemo(()=>({change:(it,ot)=>tt({type:"CHANGE_ITEM",payload:{isOpen:ot,title:it}}),clear:it=>tt({type:"CLEAR",payload:it}),toggle:it=>tt({type:"TOGGLE",payload:it}),remove:it=>tt({type:"REMOVE_ITEM",payload:it}),create:(it,ot)=>{const at={title:it,isOpen:ot||!1};return tt({type:"CREATE_ITEM",payload:at}),at}}),[tt]),rt=reactExports.useMemo(()=>[{items:et.items},nt],[et.items,nt]);return jsxRuntimeExports.jsx(accordionContext.Provider,{value:rt,children:_e.children})}function getItem(_e,et){return et.find(nt=>nt.title===_e)}const styles$7={container:css({display:"flex",flexDirection:"column",height:"100%",width:"100%"}),item:_e=>css([{display:"flex",flexDirection:"column"},_e&&{flex:"1 1 0%"}]),header:css({cursor:"pointer",padding:"5px 12px",display:"flex",alignItems:"center",fontSize:"1em",borderColor:"rgb(213, 213, 213) currentcolor currentcolor",borderStyle:"solid none none",color:"rgb(45, 45, 45)",fontWeight:"bold",textDecoration:"none",textShadow:"rgb(255, 255, 255) 0px 1px 0px",background:"rgb(255, 255, 255) linear-gradient(rgb(240, 240, 240) 5%, rgb(225, 225, 225) 100%) repeat scroll 0% 0%"})};function Accordion(_e){return jsx("div",{css:styles$7.container,children:_e.children})}Accordion.Item=function(et){const{item:tt,utils:nt}=useAccordionContext(et.title,et.defaultOpened),rt=reactExports.useCallback(ot=>{ot.shiftKey?nt.clear():nt.toggle()},[nt]);let it=!1;return tt&&(it=tt.isOpen),jsxs("div",{style:{flex:it?"1 1 1px":"none",display:"flex",flexDirection:"column"},children:[jsx("button",{onClick:rt,type:"button",style:{display:"flex",alignItems:"center",width:"100%",userSelect:"none"},css:styles$7.header,children:et.title}),jsx("div",{style:{display:it?"flex":"none",flex:it?"1 1 1px":"none",backgroundColor:"white",maxHeight:"100%",overflow:"hidden"},children:jsx("div",{style:{height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column"},children:et.children})})]})};function Button(_e){const{backgroundColor:et={basic:"hsl(21deg, 90%, 48%)",hover:"hsl(21deg, 90%, 40%)"},color:tt={basic:"white",hover:"white"},style:nt,onClick:rt,children:it}=_e;return jsx("button",{style:nt,onClick:rt,css:css({display:"flex",alignItems:"center",paddingLeft:10,paddingRight:10,paddingTop:6,paddingBottom:6,borderWidth:1,borderColor:"transparent",fontSize:"1.125em",borderRadius:6,color:tt.basic,minWidth:30,justifyContent:"center",backgroundColor:et.basic,":hover":{color:tt.hover,backgroundColor:et.hover}}),type:"button",children:it})}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(et){return et!=="theme"},getDefaultShouldForwardProp=function(et){return typeof et=="string"&&et.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(et,tt,nt){var rt;if(tt){var it=tt.shouldForwardProp;rt=et.__emotion_forwardProp&&it?function(ot){return et.__emotion_forwardProp(ot)&&it(ot)}:it}return typeof rt!="function"&&nt&&(rt=et.__emotion_forwardProp),rt},Insertion=function(et){var tt=et.cache,nt=et.serialized,rt=et.isStringTag;return registerStyles(tt,nt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,nt,rt)}),null},createStyled=function _e(et,tt){var nt=et.__emotion_real===et,rt=nt&&et.__emotion_base||et,it,ot;tt!==void 0&&(it=tt.label,ot=tt.target);var at=composeShouldForwardProps(et,tt,nt),st=at||getDefaultShouldForwardProp(rt),lt=!st("as");return function(){var ut=arguments,ct=nt&&et.__emotion_styles!==void 0?et.__emotion_styles.slice(0):[];if(it!==void 0&&ct.push("label:"+it+";"),ut[0]==null||ut[0].raw===void 0)ct.push.apply(ct,ut);else{ct.push(ut[0][0]);for(var ft=ut.length,dt=1;dt<ft;dt++)ct.push(ut[dt],ut[0][dt])}var ht=withEmotionCache(function(mt,yt,pt){var vt=lt&&mt.as||rt,gt="",xt=[],wt=mt;if(mt.theme==null){wt={};for(var bt in mt)wt[bt]=mt[bt];wt.theme=reactExports.useContext(ThemeContext$1)}typeof mt.className=="string"?gt=getRegisteredStyles(yt.registered,xt,mt.className):mt.className!=null&&(gt=mt.className+" ");var St=serializeStyles(ct.concat(xt),yt.registered,wt);gt+=yt.key+"-"+St.name,ot!==void 0&&(gt+=" "+ot);var kt=lt&&at===void 0?getDefaultShouldForwardProp(vt):st,Rt={};for(var Et in mt)lt&&Et==="as"||kt(Et)&&(Rt[Et]=mt[Et]);return Rt.className=gt,Rt.ref=pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:yt,serialized:St,isStringTag:typeof vt=="string"}),reactExports.createElement(vt,Rt))});return ht.displayName=it!==void 0?it:"Styled("+(typeof rt=="string"?rt:rt.displayName||rt.name||"Component")+")",ht.defaultProps=et.defaultProps,ht.__emotion_real=ht,ht.__emotion_base=rt,ht.__emotion_styles=ct,ht.__emotion_forwardProp=at,Object.defineProperty(ht,"toString",{value:function(){return"."+ot}}),ht.withComponent=function(mt,yt){return _e(mt,_extends$2({},tt,yt,{shouldForwardProp:composeShouldForwardProps(ht,yt,!0)})).apply(void 0,ct)},ht}},tags$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags$1.forEach(function(_e){newStyled[_e]=newStyled(_e)});newStyled.div`
  display: inline-flex;
  border-radius: 0.375rem;
  isolation: isolate;
`;newStyled.button`
  position: relative;
  display: inline-flex;
  align-items: center;
  font-weight: 500;
  font-size: 0.875rem;
  line-height: 1.25rem;
  padding-left: 1rem;
  padding-right: 1rem;
  padding-top: 5px;
  padding-bottom: 5px;
  border-width: 1px;
  border-top-left-radius: ${({isLast:_e})=>!_e&&"0.375rem"};
  border-bottom-left-radius: ${({isLast:_e})=>!_e&&"0.375rem"};

  border-top-right-radius: ${({isLast:_e})=>_e&&"0.375rem"};
  border-bottom-right-radius: ${({isLast:_e})=>_e&&"0.375rem"};
  margin-left: ${({isLast:_e})=>_e&&"-1px"};
`;const rootLayoutContext=reactExports.createContext(null);function useRootLayoutContext(){const _e=reactExports.useContext(rootLayoutContext);if(!_e)throw new Error("RootLayoutContext was not found");return _e}function RootLayoutProvider(_e){return jsxRuntimeExports.jsx(rootLayoutContext.Provider,{value:_e.innerRef,children:_e.children})}function useOnOff(_e=!1){const[et,tt]=reactExports.useState(_e),nt=reactExports.useCallback(()=>tt(!0),[]),rt=reactExports.useCallback(()=>tt(!1),[]),it=reactExports.useCallback(()=>tt(!et),[et]);return[et,nt,rt,it]}function Portal(_e){const et=useRootLayoutContext();return reactDomExports.createPortal(_e.children,et)}var freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),_root=root$2,root$1=_root,Symbol$3=root$1.Symbol,_Symbol=Symbol$3,Symbol$2=_Symbol,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,nativeObjectToString$1=objectProto$2.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag$1(_e){var et=hasOwnProperty$2.call(_e,symToStringTag$1),tt=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var nt=!0}catch{}var rt=nativeObjectToString$1.call(_e);return nt&&(et?_e[symToStringTag$1]=tt:delete _e[symToStringTag$1]),rt}var _getRawTag=getRawTag$1,objectProto$1=Object.prototype,nativeObjectToString=objectProto$1.toString;function objectToString$1(_e){return nativeObjectToString.call(_e)}var _objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag$1(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}var _baseGetTag=baseGetTag$1;function isObjectLike$2(_e){return _e!=null&&typeof _e=="object"}var isObjectLike_1=isObjectLike$2;const UP_KEY_CODE=38,DOWN_KEY_CODE=40;var baseGetTag=_baseGetTag,isObjectLike$1=isObjectLike_1,argsTag="[object Arguments]";function baseIsArguments$1(_e){return isObjectLike$1(_e)&&baseGetTag(_e)==argsTag}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike=isObjectLike_1,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty,propertyIsEnumerable$1=objectProto.propertyIsEnumerable;baseIsArguments(function(){return arguments}());var isBuffer={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer.exports;(function(_e,et){var tt=_root,nt=stubFalse_1,rt=et&&!et.nodeType&&et,it=rt&&!0&&_e&&!_e.nodeType&&_e,ot=it&&it.exports===rt,at=ot?tt.Buffer:void 0,st=at?at.isBuffer:void 0,lt=st||nt;_e.exports=lt})(isBuffer,isBuffer.exports);isBuffer.exports;var _nodeUtil={exports:{}};_nodeUtil.exports;(function(_e,et){var tt=_freeGlobal,nt=et&&!et.nodeType&&et,rt=nt&&!0&&_e&&!_e.nodeType&&_e,it=rt&&rt.exports===nt,ot=it&&tt.process,at=function(){try{var st=rt&&rt.require&&rt.require("util").types;return st||ot&&ot.binding&&ot.binding("util")}catch{}}();_e.exports=at})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,nodeUtil=_nodeUtilExports;nodeUtil&&nodeUtil.isTypedArray;var names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};flip$1(names);function flip$1(_e){var et={};for(var tt in _e)_e.hasOwnProperty(tt)&&(et[_e[tt]]=tt);return et}newStyled.button`
  position: relative;
  width: 100%;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
  height: 30px;
  padding: 5px;
`;newStyled.div`
  height: 100%;
  width: 100%;
  border-radius: 0.125rem;
`;function colors(_e){for(var et=_e.length/6|0,tt=new Array(et),nt=0;nt<et;)tt[nt]="#"+_e.slice(nt*6,++nt*6);return tt}const schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");function define(_e,et,tt){_e.prototype=et.prototype=tt,tt.constructor=_e}function extend(_e,et){var tt=Object.create(_e.prototype);for(var nt in et)tt[nt]=et[nt];return tt}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var et,tt;return _e=(_e+"").trim().toLowerCase(),(et=reHex.exec(_e))?(tt=et[1].length,et=parseInt(et[1],16),tt===6?rgbn(et):tt===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):tt===8?rgba(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):tt===4?rgba(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(_e))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(_e))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(_e))?rgba(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(_e))?rgba(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,et,tt,nt){return nt<=0&&(_e=et=tt=NaN),new Rgb(_e,et,tt,nt)}function rgbConvert(_e){return _e instanceof Color$1||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,et,tt,nt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,et,tt,nt??1)}function Rgb(_e,et,tt,nt){this.r=+_e,this.g=+et,this.b=+tt,this.opacity=+nt}define(Rgb,rgb$1,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,et,tt,nt){return nt<=0?_e=et=tt=NaN:tt<=0||tt>=1?_e=et=NaN:et<=0&&(_e=NaN),new Hsl(_e,et,tt,nt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color$1||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var et=_e.r/255,tt=_e.g/255,nt=_e.b/255,rt=Math.min(et,tt,nt),it=Math.max(et,tt,nt),ot=NaN,at=it-rt,st=(it+rt)/2;return at?(et===it?ot=(tt-nt)/at+(tt<nt)*6:tt===it?ot=(nt-et)/at+2:ot=(et-tt)/at+4,at/=st<.5?it+rt:2-it-rt,ot*=60):at=st>0&&st<1?0:ot,new Hsl(ot,at,st,_e.opacity)}function hsl(_e,et,tt,nt){return arguments.length===1?hslConvert(_e):new Hsl(_e,et,tt,nt??1)}function Hsl(_e,et,tt,nt){this.h=+_e,this.s=+et,this.l=+tt,this.opacity=+nt}define(Hsl,hsl,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,et=isNaN(_e)||isNaN(this.s)?0:this.s,tt=this.l,nt=tt+(tt<.5?tt:1-tt)*et,rt=2*tt-nt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,rt,nt),hsl2rgb(_e,rt,nt),hsl2rgb(_e<120?_e+240:_e-120,rt,nt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,et,tt){return(_e<60?et+(tt-et)*_e/60:_e<180?tt:_e<240?et+(tt-et)*(240-_e)/60:et)*255}const constant$1=_e=>()=>_e;function linear$1(_e,et){return function(tt){return _e+tt*et}}function exponential(_e,et,tt){return _e=Math.pow(_e,tt),et=Math.pow(et,tt)-_e,tt=1/tt,function(nt){return Math.pow(_e+nt*et,tt)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(et,tt){return tt-et?exponential(et,tt,_e):constant$1(isNaN(et)?tt:et)}}function nogamma(_e,et){var tt=et-_e;return tt?linear$1(_e,tt):constant$1(isNaN(_e)?et:_e)}const rgb=function _e(et){var tt=gamma(et);function nt(rt,it){var ot=tt((rt=rgb$1(rt)).r,(it=rgb$1(it)).r),at=tt(rt.g,it.g),st=tt(rt.b,it.b),lt=nogamma(rt.opacity,it.opacity);return function(ut){return rt.r=ot(ut),rt.g=at(ut),rt.b=st(ut),rt.opacity=lt(ut),rt+""}}return nt.gamma=_e,nt}(1);function numberArray(_e,et){et||(et=[]);var tt=_e?Math.min(et.length,_e.length):0,nt=et.slice(),rt;return function(it){for(rt=0;rt<tt;++rt)nt[rt]=_e[rt]*(1-it)+et[rt]*it;return nt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,et){var tt=et?et.length:0,nt=_e?Math.min(tt,_e.length):0,rt=new Array(nt),it=new Array(tt),ot;for(ot=0;ot<nt;++ot)rt[ot]=interpolate(_e[ot],et[ot]);for(;ot<tt;++ot)it[ot]=et[ot];return function(at){for(ot=0;ot<nt;++ot)it[ot]=rt[ot](at);return it}}function date$1(_e,et){var tt=new Date;return _e=+_e,et=+et,function(nt){return tt.setTime(_e*(1-nt)+et*nt),tt}}function interpolateNumber(_e,et){return _e=+_e,et=+et,function(tt){return _e*(1-tt)+et*tt}}function object(_e,et){var tt={},nt={},rt;(_e===null||typeof _e!="object")&&(_e={}),(et===null||typeof et!="object")&&(et={});for(rt in et)rt in _e?tt[rt]=interpolate(_e[rt],et[rt]):nt[rt]=et[rt];return function(it){for(rt in tt)nt[rt]=tt[rt](it);return nt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$3(_e){return function(){return _e}}function one(_e){return function(et){return _e(et)+""}}function string(_e,et){var tt=reA.lastIndex=reB.lastIndex=0,nt,rt,it,ot=-1,at=[],st=[];for(_e=_e+"",et=et+"";(nt=reA.exec(_e))&&(rt=reB.exec(et));)(it=rt.index)>tt&&(it=et.slice(tt,it),at[ot]?at[ot]+=it:at[++ot]=it),(nt=nt[0])===(rt=rt[0])?at[ot]?at[ot]+=rt:at[++ot]=rt:(at[++ot]=null,st.push({i:ot,x:interpolateNumber(nt,rt)})),tt=reB.lastIndex;return tt<et.length&&(it=et.slice(tt),at[ot]?at[ot]+=it:at[++ot]=it),at.length<2?st[0]?one(st[0].x):zero$3(et):(et=st.length,function(lt){for(var ut=0,ct;ut<et;++ut)at[(ct=st[ut]).i]=ct.x(lt);return at.join("")})}function interpolate(_e,et){var tt=typeof et,nt;return et==null||tt==="boolean"?constant$1(et):(tt==="number"?interpolateNumber:tt==="string"?(nt=color(et))?(et=nt,rgb):string:et instanceof color?rgb:et instanceof Date?date$1:isNumberArray(et)?numberArray:Array.isArray(et)?genericArray:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?object:interpolateNumber)(_e,et)}function interpolateRound(_e,et){return _e=+_e,et=+et,function(tt){return Math.round(_e*(1-tt)+et*tt)}}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React16.createContext&&React16.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(_e){for(var et,tt=1,nt=arguments.length;tt<nt;tt++){et=arguments[tt];for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(_e[rt]=et[rt])}return _e},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(_e,et){var tt={};for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&et.indexOf(nt)<0&&(tt[nt]=_e[nt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,nt=Object.getOwnPropertySymbols(_e);rt<nt.length;rt++)et.indexOf(nt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,nt[rt])&&(tt[nt[rt]]=_e[nt[rt]]);return tt};function Tree2Element(_e){return _e&&_e.map(function(et,tt){return React16.createElement(et.tag,__assign({key:tt},et.attr),Tree2Element(et.child))})}function GenIcon(_e){return function(et){return React16.createElement(IconBase,__assign({attr:__assign({},_e.attr)},et),Tree2Element(_e.child))}}function IconBase(_e){var et=function(tt){var nt=_e.attr,rt=_e.size,it=_e.title,ot=__rest(_e,["attr","size","title"]),at=rt||tt.size||"1em",st;return tt.className&&(st=tt.className),_e.className&&(st=(st?st+" ":"")+_e.className),React16.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,nt,ot,{className:st,style:__assign(__assign({color:_e.color||tt.color},tt.style),_e.style),height:at,width:at,xmlns:"http://www.w3.org/2000/svg"}),it&&React16.createElement("title",null,it),_e.children)};return IconContext!==void 0?React16.createElement(IconContext.Consumer,null,function(tt){return et(tt)}):et(DefaultContext)}function FaBug(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"}}]})(_e)}function FaChevronDown(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(_e)}function FaCloudUploadAlt(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"}}]})(_e)}function FaFileExport(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(_e)}function FaFileImport(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"}}]})(_e)}function FaFilter(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(_e)}function FaQuestionCircle(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(_e)}function FaTimes(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(_e)}function FaTrash(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(_e)}function FaWrench(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(_e)}function FaRegWindowMaximize(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V192h416v234z"}}]})(_e)}newStyled.div`
  position: relative;
  width: 100%;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
`;newStyled.button`
  position: relative;
  width: 100%;
  height: 30px;
  padding: 3px;
`;newStyled(FaChevronDown)`
  position: absolute;
  height: 100%;
  top: 0;
  right: 0.5rem;
`;newStyled.ul`
  position: absolute;
  width: 100%;
  margin-top: 5px;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
  padding-inline: 3px;
  padding-bottom: 5px;
`;newStyled.li`
  display: flex;
  flex-direction: column;
  padding-top: 5px;
  cursor: pointer;
  ${_e=>!_e.active&&"opacity: 0.8;"}
  ${_e=>_e.active&&"font-weight: bold;"}
`;var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var _e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=_e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var _e=requireReactPropTypesSecret();function et(){}function tt(){}return tt.resetWarningCache=et,factoryWithThrowingShims=function(){function nt(ot,at,st,lt,ut,ct){if(ct!==_e){var ft=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ft.name="Invariant Violation",ft}}nt.isRequired=nt;function rt(){return nt}var it={array:nt,bigint:nt,bool:nt,func:nt,number:nt,object:nt,string:nt,symbol:nt,any:nt,arrayOf:rt,element:nt,elementType:nt,instanceOf:rt,node:nt,objectOf:rt,oneOf:rt,oneOfType:rt,shape:rt,exact:rt,checkPropTypes:tt,resetWarningCache:et};return it.PropTypes=it,it},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const s$2=getDefaultExportFromCjs(propTypesExports);function __awaiter(_e,et,tt,nt){function rt(it){return it instanceof tt?it:new tt(function(ot){ot(it)})}return new(tt||(tt=Promise))(function(it,ot){function at(ut){try{lt(nt.next(ut))}catch(ct){ot(ct)}}function st(ut){try{lt(nt.throw(ut))}catch(ct){ot(ct)}}function lt(ut){ut.done?it(ut.value):rt(ut.value).then(at,st)}lt((nt=nt.apply(_e,et||[])).next())})}function __generator(_e,et){var tt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},nt,rt,it,ot;return ot={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function at(lt){return function(ut){return st([lt,ut])}}function st(lt){if(nt)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,lt[0]&&(tt=0)),tt;)try{if(nt=1,rt&&(it=lt[0]&2?rt.return:lt[0]?rt.throw||((it=rt.return)&&it.call(rt),0):rt.next)&&!(it=it.call(rt,lt[1])).done)return it;switch(rt=0,it&&(lt=[lt[0]&2,it.value]),lt[0]){case 0:case 1:it=lt;break;case 4:return tt.label++,{value:lt[1],done:!1};case 5:tt.label++,rt=lt[1],lt=[0];continue;case 7:lt=tt.ops.pop(),tt.trys.pop();continue;default:if(it=tt.trys,!(it=it.length>0&&it[it.length-1])&&(lt[0]===6||lt[0]===2)){tt=0;continue}if(lt[0]===3&&(!it||lt[1]>it[0]&&lt[1]<it[3])){tt.label=lt[1];break}if(lt[0]===6&&tt.label<it[1]){tt.label=it[1],it=lt;break}if(it&&tt.label<it[2]){tt.label=it[2],tt.ops.push(lt);break}it[2]&&tt.ops.pop(),tt.trys.pop();continue}lt=et.call(_e,tt)}catch(ut){lt=[6,ut],rt=0}finally{nt=it=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}}function __read(_e,et){var tt=typeof Symbol=="function"&&_e[Symbol.iterator];if(!tt)return _e;var nt=tt.call(_e),rt,it=[],ot;try{for(;(et===void 0||et-- >0)&&!(rt=nt.next()).done;)it.push(rt.value)}catch(at){ot={error:at}}finally{try{rt&&!rt.done&&(tt=nt.return)&&tt.call(nt)}finally{if(ot)throw ot.error}}return it}function __spreadArray(_e,et,tt){if(tt||arguments.length===2)for(var nt=0,rt=et.length,it;nt<rt;nt++)(it||!(nt in et))&&(it||(it=Array.prototype.slice.call(et,0,nt)),it[nt]=et[nt]);return _e.concat(it||Array.prototype.slice.call(et))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(_e,et){var tt=withMimeType(_e);if(typeof tt.path!="string"){var nt=_e.webkitRelativePath;Object.defineProperty(tt,"path",{value:typeof et=="string"?et:typeof nt=="string"&&nt.length>0?nt:_e.name,writable:!1,configurable:!1,enumerable:!0})}return tt}function withMimeType(_e){var et=_e.name,tt=et&&et.lastIndexOf(".")!==-1;if(tt&&!_e.type){var nt=et.split(".").pop().toLowerCase(),rt=COMMON_MIME_TYPES.get(nt);rt&&Object.defineProperty(_e,"type",{value:rt,writable:!1,configurable:!1,enumerable:!0})}return _e}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return isObject(_e)&&isDataTransfer(_e.dataTransfer)?[2,getDataTransferFiles(_e.dataTransfer,_e.type)]:isChangeEvt(_e)?[2,getInputFiles(_e)]:Array.isArray(_e)&&_e.every(function(tt){return"getFile"in tt&&typeof tt.getFile=="function"})?[2,getFsHandleFiles(_e)]:[2,[]]})})}function isDataTransfer(_e){return isObject(_e)}function isChangeEvt(_e){return isObject(_e)&&isObject(_e.target)}function isObject(_e){return typeof _e=="object"&&_e!==null}function getInputFiles(_e){return fromList(_e.target.files).map(function(et){return toFileWithPath(et)})}function getFsHandleFiles(_e){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:return[4,Promise.all(_e.map(function(nt){return nt.getFile()}))];case 1:return et=tt.sent(),[2,et.map(function(nt){return toFileWithPath(nt)})]}})})}function getDataTransferFiles(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,nt;return __generator(this,function(rt){switch(rt.label){case 0:return _e.items?(tt=fromList(_e.items).filter(function(it){return it.kind==="file"}),et!=="drop"?[2,tt]:[4,Promise.all(tt.map(toFilePromises))]):[3,2];case 1:return nt=rt.sent(),[2,noIgnoredFiles(flatten(nt))];case 2:return[2,noIgnoredFiles(fromList(_e.files).map(function(it){return toFileWithPath(it)}))]}})})}function noIgnoredFiles(_e){return _e.filter(function(et){return FILES_TO_IGNORE.indexOf(et.name)===-1})}function fromList(_e){if(_e===null)return[];for(var et=[],tt=0;tt<_e.length;tt++){var nt=_e[tt];et.push(nt)}return et}function toFilePromises(_e){if(typeof _e.webkitGetAsEntry!="function")return fromDataTransferItem(_e);var et=_e.webkitGetAsEntry();return et&&et.isDirectory?fromDirEntry(et):fromDataTransferItem(_e)}function flatten(_e){return _e.reduce(function(et,tt){return __spreadArray(__spreadArray([],__read(et),!1),__read(Array.isArray(tt)?flatten(tt):[tt]),!1)},[])}function fromDataTransferItem(_e){var et=_e.getAsFile();if(!et)return Promise.reject("".concat(_e," is not a File"));var tt=toFileWithPath(et);return Promise.resolve(tt)}function fromEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,_e.isDirectory?fromDirEntry(_e):fromFileEntry(_e)]})})}function fromDirEntry(_e){var et=_e.createReader();return new Promise(function(tt,nt){var rt=[];function it(){var ot=this;et.readEntries(function(at){return __awaiter(ot,void 0,void 0,function(){var st,lt,ut;return __generator(this,function(ct){switch(ct.label){case 0:if(at.length)return[3,5];ct.label=1;case 1:return ct.trys.push([1,3,,4]),[4,Promise.all(rt)];case 2:return st=ct.sent(),tt(st),[3,4];case 3:return lt=ct.sent(),nt(lt),[3,4];case 4:return[3,6];case 5:ut=Promise.all(at.map(fromEntry)),rt.push(ut),it(),ct.label=6;case 6:return[2]}})})},function(at){nt(at)})}it()})}function fromFileEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,new Promise(function(tt,nt){_e.file(function(rt){var it=toFileWithPath(rt,_e.fullPath);tt(it)},function(rt){nt(rt)})})]})})}var _default=function(_e,et){if(_e&&et){var tt=Array.isArray(et)?et:et.split(","),nt=_e.name||"",rt=(_e.type||"").toLowerCase(),it=rt.replace(/\/.*$/,"");return tt.some(function(ot){var at=ot.trim().toLowerCase();return at.charAt(0)==="."?nt.toLowerCase().endsWith(at):at.endsWith("/*")?it===at.replace(/\/.*$/,""):rt===at})}return!0};function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function ownKeys$1(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread$1(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(tt),!0).forEach(function(nt){_defineProperty$1(_e,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return _e}function _defineProperty$1(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _slicedToArray$1(_e,et){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,et)||_unsupportedIterableToArray$1(_e,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$1(_e,et)}}function _arrayLikeToArray$1(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,nt=new Array(et);tt<et;tt++)nt[tt]=_e[tt];return nt}function _iterableToArrayLimit$1(_e,et){var tt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(tt!=null){var nt=[],rt=!0,it=!1,ot,at;try{for(tt=tt.call(_e);!(rt=(ot=tt.next()).done)&&(nt.push(ot.value),!(et&&nt.length===et));rt=!0);}catch(st){it=!0,at=st}finally{try{!rt&&tt.return!=null&&tt.return()}finally{if(it)throw at}}return nt}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(et){et=Array.isArray(et)&&et.length===1?et[0]:et;var tt=Array.isArray(et)?"one of ".concat(et.join(", ")):et;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(tt)}},getTooLargeRejectionErr=function(et){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(et," ").concat(et===1?"byte":"bytes")}},getTooSmallRejectionErr=function(et){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(et," ").concat(et===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(_e,et){var tt=_e.type==="application/x-moz-file"||_default(_e,et);return[tt,tt?null:getInvalidTypeRejectionErr(et)]}function fileMatchSize(_e,et,tt){if(isDefined(_e.size))if(isDefined(et)&&isDefined(tt)){if(_e.size>tt)return[!1,getTooLargeRejectionErr(tt)];if(_e.size<et)return[!1,getTooSmallRejectionErr(et)]}else{if(isDefined(et)&&_e.size<et)return[!1,getTooSmallRejectionErr(et)];if(isDefined(tt)&&_e.size>tt)return[!1,getTooLargeRejectionErr(tt)]}return[!0,null]}function isDefined(_e){return _e!=null}function allFilesAccepted(_e){var et=_e.files,tt=_e.accept,nt=_e.minSize,rt=_e.maxSize,it=_e.multiple,ot=_e.maxFiles,at=_e.validator;return!it&&et.length>1||it&&ot>=1&&et.length>ot?!1:et.every(function(st){var lt=fileAccepted(st,tt),ut=_slicedToArray$1(lt,1),ct=ut[0],ft=fileMatchSize(st,nt,rt),dt=_slicedToArray$1(ft,1),ht=dt[0],mt=at?at(st):null;return ct&&ht&&!mt})}function isPropagationStopped(_e){return typeof _e.isPropagationStopped=="function"?_e.isPropagationStopped():typeof _e.cancelBubble<"u"?_e.cancelBubble:!1}function isEvtWithFiles(_e){return _e.dataTransfer?Array.prototype.some.call(_e.dataTransfer.types,function(et){return et==="Files"||et==="application/x-moz-file"}):!!_e.target&&!!_e.target.files}function onDocumentDragOver(_e){_e.preventDefault()}function isIe(_e){return _e.indexOf("MSIE")!==-1||_e.indexOf("Trident/")!==-1}function isEdge(_e){return _e.indexOf("Edge/")!==-1}function isIeOrEdge(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(_e)||isEdge(_e)}function composeEventHandlers(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return function(nt){for(var rt=arguments.length,it=new Array(rt>1?rt-1:0),ot=1;ot<rt;ot++)it[ot-1]=arguments[ot];return et.some(function(at){return!isPropagationStopped(nt)&&at&&at.apply(void 0,[nt].concat(it)),isPropagationStopped(nt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(_e){if(isDefined(_e)){var et=Object.entries(_e).filter(function(tt){var nt=_slicedToArray$1(tt,2),rt=nt[0],it=nt[1],ot=!0;return isMIMEType(rt)||(console.warn('Skipped "'.concat(rt,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ot=!1),(!Array.isArray(it)||!it.every(isExt))&&(console.warn('Skipped "'.concat(rt,'" because an invalid file extension was provided.')),ot=!1),ot}).reduce(function(tt,nt){var rt=_slicedToArray$1(nt,2),it=rt[0],ot=rt[1];return _objectSpread$1(_objectSpread$1({},tt),{},_defineProperty$1({},it,ot))},{});return[{description:"Files",accept:et}]}return _e}function acceptPropAsAcceptAttr(_e){if(isDefined(_e))return Object.entries(_e).reduce(function(et,tt){var nt=_slicedToArray$1(tt,2),rt=nt[0],it=nt[1];return[].concat(_toConsumableArray$1(et),[rt],_toConsumableArray$1(it))},[]).filter(function(et){return isMIMEType(et)||isExt(et)}).join(",")}function isAbort(_e){return _e instanceof DOMException&&(_e.name==="AbortError"||_e.code===_e.ABORT_ERR)}function isSecurityError(_e){return _e instanceof DOMException&&(_e.name==="SecurityError"||_e.code===_e.SECURITY_ERR)}function isMIMEType(_e){return _e==="audio/*"||_e==="video/*"||_e==="image/*"||_e==="text/*"||/\w+\/[-+.\w]+/g.test(_e)}function isExt(_e){return/^.*\.[\w]+$/.test(_e)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _slicedToArray(_e,et){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,et)||_unsupportedIterableToArray(_e,et)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(_e,et)}}function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,nt=new Array(et);tt<et;tt++)nt[tt]=_e[tt];return nt}function _iterableToArrayLimit(_e,et){var tt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(tt!=null){var nt=[],rt=!0,it=!1,ot,at;try{for(tt=tt.call(_e);!(rt=(ot=tt.next()).done)&&(nt.push(ot.value),!(et&&nt.length===et));rt=!0);}catch(st){it=!0,at=st}finally{try{!rt&&tt.return!=null&&tt.return()}finally{if(it)throw at}}return nt}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function ownKeys(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);et&&(nt=nt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),tt.push.apply(tt,nt)}return tt}function _objectSpread(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(tt),!0).forEach(function(nt){_defineProperty(_e,nt,tt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(nt){Object.defineProperty(_e,nt,Object.getOwnPropertyDescriptor(tt,nt))})}return _e}function _defineProperty(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _objectWithoutProperties(_e,et){if(_e==null)return{};var tt=_objectWithoutPropertiesLoose(_e,et),nt,rt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(rt=0;rt<it.length;rt++)nt=it[rt],!(et.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,nt)&&(tt[nt]=_e[nt])}return tt}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var tt={},nt=Object.keys(_e),rt,it;for(it=0;it<nt.length;it++)rt=nt[it],!(et.indexOf(rt)>=0)&&(tt[rt]=_e[rt]);return tt}var Dropzone=reactExports.forwardRef(function(_e,et){var tt=_e.children,nt=_objectWithoutProperties(_e,_excluded),rt=useDropzone(nt),it=rt.open,ot=_objectWithoutProperties(rt,_excluded2);return reactExports.useImperativeHandle(et,function(){return{open:it}},[it]),React16.createElement(reactExports.Fragment,null,tt(_objectSpread(_objectSpread({},ot),{},{open:it})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:s$2.func,accept:s$2.objectOf(s$2.arrayOf(s$2.string)),multiple:s$2.bool,preventDropOnDocument:s$2.bool,noClick:s$2.bool,noKeyboard:s$2.bool,noDrag:s$2.bool,noDragEventsBubbling:s$2.bool,minSize:s$2.number,maxSize:s$2.number,maxFiles:s$2.number,disabled:s$2.bool,getFilesFromEvent:s$2.func,onFileDialogCancel:s$2.func,onFileDialogOpen:s$2.func,useFsAccessApi:s$2.bool,autoFocus:s$2.bool,onDragEnter:s$2.func,onDragLeave:s$2.func,onDragOver:s$2.func,onDrop:s$2.func,onDropAccepted:s$2.func,onDropRejected:s$2.func,onError:s$2.func,validator:s$2.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_objectSpread(_objectSpread({},defaultProps),_e),tt=et.accept,nt=et.disabled,rt=et.getFilesFromEvent,it=et.maxSize,ot=et.minSize,at=et.multiple,st=et.maxFiles,lt=et.onDragEnter,ut=et.onDragLeave,ct=et.onDragOver,ft=et.onDrop,dt=et.onDropAccepted,ht=et.onDropRejected,mt=et.onFileDialogCancel,yt=et.onFileDialogOpen,pt=et.useFsAccessApi,vt=et.autoFocus,gt=et.preventDropOnDocument,xt=et.noClick,wt=et.noKeyboard,bt=et.noDrag,St=et.noDragEventsBubbling,kt=et.onError,Rt=et.validator,Et=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(tt)},[tt]),At=reactExports.useMemo(function(){return pickerOptionsFromAccept(tt)},[tt]),Tt=reactExports.useMemo(function(){return typeof yt=="function"?yt:noop$2},[yt]),It=reactExports.useMemo(function(){return typeof mt=="function"?mt:noop$2},[mt]),_t=reactExports.useRef(null),Pt=reactExports.useRef(null),Zt=reactExports.useReducer(reducer,initialState$1),Ht=_slicedToArray(Zt,2),zt=Ht[0],jt=Ht[1],Wt=zt.isFocused,Nt=zt.isFileDialogActive,Lt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&pt&&canUseFileSystemAccessAPI()),Jt=function(){!Lt.current&&Nt&&setTimeout(function(){if(Pt.current){var Gt=Pt.current.files;Gt.length||(jt({type:"closeDialog"}),It())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Jt,!1),function(){window.removeEventListener("focus",Jt,!1)}},[Pt,Nt,It,Lt]);var qt=reactExports.useRef([]),Kt=function(Gt){_t.current&&_t.current.contains(Gt.target)||(Gt.preventDefault(),qt.current=[])};reactExports.useEffect(function(){return gt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Kt,!1)),function(){gt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Kt))}},[_t,gt]),reactExports.useEffect(function(){return!nt&&vt&&_t.current&&_t.current.focus(),function(){}},[_t,vt,nt]);var dn=reactExports.useCallback(function(Yt){kt?kt(Yt):console.error(Yt)},[kt]),gn=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Ft(Yt),qt.current=[].concat(_toConsumableArray(qt.current),[Yt.target]),isEvtWithFiles(Yt)&&Promise.resolve(rt(Yt)).then(function(Gt){if(!(isPropagationStopped(Yt)&&!St)){var Qt=Gt.length,cn=Qt>0&&allFilesAccepted({files:Gt,accept:Et,minSize:ot,maxSize:it,multiple:at,maxFiles:st,validator:Rt}),hn=Qt>0&&!cn;jt({isDragAccept:cn,isDragReject:hn,isDragActive:!0,type:"setDraggedFiles"}),lt&&lt(Yt)}}).catch(function(Gt){return dn(Gt)})},[rt,lt,dn,St,Et,ot,it,at,st,Rt]),xn=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Ft(Yt);var Gt=isEvtWithFiles(Yt);if(Gt&&Yt.dataTransfer)try{Yt.dataTransfer.dropEffect="copy"}catch{}return Gt&&ct&&ct(Yt),!1},[ct,St]),sn=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Ft(Yt);var Gt=qt.current.filter(function(cn){return _t.current&&_t.current.contains(cn)}),Qt=Gt.indexOf(Yt.target);Qt!==-1&&Gt.splice(Qt,1),qt.current=Gt,!(Gt.length>0)&&(jt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Yt)&&ut&&ut(Yt))},[_t,ut,St]),pn=reactExports.useCallback(function(Yt,Gt){var Qt=[],cn=[];Yt.forEach(function(hn){var yn=fileAccepted(hn,Et),bn=_slicedToArray(yn,2),En=bn[0],_n=bn[1],wn=fileMatchSize(hn,ot,it),Sn=_slicedToArray(wn,2),kn=Sn[0],Tn=Sn[1],Cn=Rt?Rt(hn):null;if(En&&kn&&!Cn)Qt.push(hn);else{var Rn=[_n,Tn];Cn&&(Rn=Rn.concat(Cn)),cn.push({file:hn,errors:Rn.filter(function(On){return On})})}}),(!at&&Qt.length>1||at&&st>=1&&Qt.length>st)&&(Qt.forEach(function(hn){cn.push({file:hn,errors:[TOO_MANY_FILES_REJECTION]})}),Qt.splice(0)),jt({acceptedFiles:Qt,fileRejections:cn,type:"setFiles"}),ft&&ft(Qt,cn,Gt),cn.length>0&&ht&&ht(cn,Gt),Qt.length>0&&dt&&dt(Qt,Gt)},[jt,at,Et,ot,it,st,ft,dt,ht,Rt]),mn=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Ft(Yt),qt.current=[],isEvtWithFiles(Yt)&&Promise.resolve(rt(Yt)).then(function(Gt){isPropagationStopped(Yt)&&!St||pn(Gt,Yt)}).catch(function(Gt){return dn(Gt)}),jt({type:"reset"})},[rt,pn,dn,St]),ln=reactExports.useCallback(function(){if(Lt.current){jt({type:"openDialog"}),Tt();var Yt={multiple:at,types:At};window.showOpenFilePicker(Yt).then(function(Gt){return rt(Gt)}).then(function(Gt){pn(Gt,null),jt({type:"closeDialog"})}).catch(function(Gt){isAbort(Gt)?(It(Gt),jt({type:"closeDialog"})):isSecurityError(Gt)?(Lt.current=!1,Pt.current?(Pt.current.value=null,Pt.current.click()):dn(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):dn(Gt)});return}Pt.current&&(jt({type:"openDialog"}),Tt(),Pt.current.value=null,Pt.current.click())},[jt,Tt,It,pt,pn,dn,At,at]),vn=reactExports.useCallback(function(Yt){!_t.current||!_t.current.isEqualNode(Yt.target)||(Yt.key===" "||Yt.key==="Enter"||Yt.keyCode===32||Yt.keyCode===13)&&(Yt.preventDefault(),ln())},[_t,ln]),Ct=reactExports.useCallback(function(){jt({type:"focus"})},[]),Ut=reactExports.useCallback(function(){jt({type:"blur"})},[]),Dt=reactExports.useCallback(function(){xt||(isIeOrEdge()?setTimeout(ln,0):ln())},[xt,ln]),Ot=function(Gt){return nt?null:Gt},$t=function(Gt){return wt?null:Ot(Gt)},Mt=function(Gt){return bt?null:Ot(Gt)},Ft=function(Gt){St&&Gt.stopPropagation()},Vt=reactExports.useMemo(function(){return function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=Yt.refKey,Qt=Gt===void 0?"ref":Gt,cn=Yt.role,hn=Yt.onKeyDown,yn=Yt.onFocus,bn=Yt.onBlur,En=Yt.onClick,_n=Yt.onDragEnter,wn=Yt.onDragOver,Sn=Yt.onDragLeave,kn=Yt.onDrop,Tn=_objectWithoutProperties(Yt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:$t(composeEventHandlers(hn,vn)),onFocus:$t(composeEventHandlers(yn,Ct)),onBlur:$t(composeEventHandlers(bn,Ut)),onClick:Ot(composeEventHandlers(En,Dt)),onDragEnter:Mt(composeEventHandlers(_n,gn)),onDragOver:Mt(composeEventHandlers(wn,xn)),onDragLeave:Mt(composeEventHandlers(Sn,sn)),onDrop:Mt(composeEventHandlers(kn,mn)),role:typeof cn=="string"&&cn!==""?cn:"presentation"},Qt,_t),!nt&&!wt?{tabIndex:0}:{}),Tn)}},[_t,vn,Ct,Ut,Dt,gn,xn,sn,mn,wt,bt,nt]),Bt=reactExports.useCallback(function(Yt){Yt.stopPropagation()},[]),Xt=reactExports.useMemo(function(){return function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Gt=Yt.refKey,Qt=Gt===void 0?"ref":Gt,cn=Yt.onChange,hn=Yt.onClick,yn=_objectWithoutProperties(Yt,_excluded4),bn=_defineProperty({accept:Et,multiple:at,type:"file",style:{display:"none"},onChange:Ot(composeEventHandlers(cn,mn)),onClick:Ot(composeEventHandlers(hn,Bt)),tabIndex:-1},Qt,Pt);return _objectSpread(_objectSpread({},bn),yn)}},[Pt,tt,at,mn,nt]);return _objectSpread(_objectSpread({},zt),{},{isFocused:Wt&&!nt,getRootProps:Vt,getInputProps:Xt,rootRef:_t,inputRef:Pt,open:Ot(ln)})}function reducer(_e,et){switch(et.type){case"focus":return _objectSpread(_objectSpread({},_e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},_e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},_e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},_e),{},{isDragActive:et.isDragActive,isDragAccept:et.isDragAccept,isDragReject:et.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},_e),{},{acceptedFiles:et.acceptedFiles,fileRejections:et.fileRejections});case"reset":return _objectSpread({},initialState$1);default:return _e}}function noop$2(){}const DropzoneRoot=newStyled.div`
  position: relative;
  height: 100%;
  width: 100%;
`,DropzoneDragActive=newStyled.div`
  font-size: 1.5em;
  font-weight: 600;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  opacity: 0.7;
  background-color: white;
  border: 5px dashed;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  border-color: ${({borderColor:_e})=>_e};
  color: ${({color:_e})=>_e};
`,DropzoneEmpty=newStyled.div`
  font-size: 1.5em;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  padding: 1em;
  border: 5px dashed;
  cursor: pointer;

  border-color: ${({borderColor:_e})=>_e};
  color: ${({color:_e})=>_e};
`;function DropZoneContainer(_e){return jsxRuntimeExports.jsx(DropZoneContent,{..._e})}function DropZoneContent(_e){const{color:et="black",borderColor:tt="gray",children:nt=null,onDrop:rt,emptyText:it="Click or drag and drop to add data.",onClick:ot,fileValidator:at}=_e,st=nt!==null,lt=reactExports.useCallback((ht,mt)=>{rt==null||rt(ht,mt)},[rt]),{getRootProps:ut,getInputProps:ct,isDragActive:ft}=useDropzone({noClick:st,validator:at,onDrop:lt}),dt=reactExports.useMemo(()=>{if(ot)return{onClick:ot}},[ot]);return jsxRuntimeExports.jsxs(DropzoneRoot,{...ut(dt),children:[nt,ft?jsxRuntimeExports.jsxs(DropzoneDragActive,{borderColor:tt,color:et,children:[jsxRuntimeExports.jsx(FaCloudUploadAlt,{size:70}),jsxRuntimeExports.jsx("p",{children:"Drop the files here."})]}):st?null:jsxRuntimeExports.jsx(DropzoneEmpty,{borderColor:tt,color:et,children:it}),jsxRuntimeExports.jsx("input",{...ct()})]})}newStyled.div`
  display: contents;
  cursor: ${_e=>_e.disabled?"default":"pointer"};
  font-size: 0.875rem;
  color: ${_e=>_e.disabled?"rgb(163, 163, 163)":"black"};
  & > div {
    padding-top: 2px;
    padding-bottom: 2px;
    ${_e=>_e.active&&"background-color: rgb(243, 244, 246);"}
  }

  ${_e=>!_e.disabled&&`
          &:hover > div {
            background-color: rgb(243, 244, 246);
          }
        `}
`;newStyled.hr`
  width: 100%;
  color: rgb(229, 229, 229);
  margin-top: 5px;
  margin-bottom: 5px;
  grid-column: 1 / -1;
`;newStyled.div`
  display: grid;
  grid-template-columns: [icon-start] ${_e=>_e.hasOneIconOrMore?"40px":"0px"} [label-start] auto;
  width: fit-content;
  align-items: center;
  border-radius: 6px;
  background-color: white;
  box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 5px 12px;
  padding-top: 5px;
  padding-bottom: 5px;
  --cell-padding: 16px;
`;newStyled.div`
  grid-column-start: label-start;
  padding-right: var(--cell-padding);
  padding-left: var(--cell-padding);
`;newStyled.div`
  grid-column-start: icon-start;
  width: 100%;
  height: 100%;
  padding-left: var(--cell-padding);
  display: flex;
  justify-content: center;
  align-items: center;
`;reactExports.createContext(null);newStyled.div`
  display: flex;
  flex-flow: row;
  min-width: 0;
  margin: 0;
  padding: 0;
  gap: 5px;
`;newStyled.label`
  position: relative;
  display: inline-flex;
  max-width: 100%;
  line-height: ${_e=>_e.variant==="small"?"28px":"32px"};
  font-size: ${_e=>_e.variant==="small"?"1em":"1.125em"};
  white-space: nowrap;
  text-align: end;
`;newStyled.div`
  flex-grow: 0;
  display: inline-block;
  overflow: hidden;
  text-align: end;
  vertical-align: middle;
  white-space: nowrap;
`;newStyled.span`
  color: red;
`;newStyled.label`
  padding: ${_e=>_e.variant==="default"?_e.hasTrailing?"2px 9px 4px 9px":"2px 9px":_e.hasTrailing?"1px 7px 1px 7px":"1px 7px"};

  font-size: ${_e=>_e.variant==="small"?"1em":"1.125em"};
  line-height: '17px';

  background-color: white;
  border-width: 1px;
  align-items: center;
  flex-direction: row;
  flex: 1 1 0%;
  display: flex;
  position: relative;

  border-top-right-radius: ${_e=>_e.hasLeading&&!_e.hasTrailing&&"0.375rem"};

  border-bottom-right-radius: ${_e=>_e.hasLeading&&!_e.hasTrailing&&"0.375rem"};

  border-top-left-radius: ${_e=>_e.hasTrailing&&!_e.hasLeading&&"0.375rem"};

  border-bottom-left-radius: ${_e=>_e.hasTrailing&&!_e.hasLeading&&"0.375rem"};

  border-radius: ${_e=>!_e.hasLeading&&!_e.hasTrailing&&"0.375rem"};

  border-color: var(--custom-border-color);
`;function getStyleColor(_e,et){return _e?{default:"#ffa39e",hover:"#f95d55"}:et?{default:"#6adc24",hover:"#62cb21"}:{default:"rgb(217, 217, 217)",hover:"#4096ff"}}newStyled.div`
  display: flex;
  border-radius: 0.375rem;
  margin-top: 0.25rem;

  .addon {
    color: ${({hasError:_e})=>_e&&"#f95d55"};
  }

  --custom-border-color: ${({hasError:_e,hasValid:et})=>getStyleColor(_e,et).default};

  :hover,
  :focus-within {
    --custom-border-color: ${({hasError:_e,hasValid:et})=>getStyleColor(_e,et).hover};
  }
`;newStyled.input`
  padding: 0;
  flex: 1 1 0%;
  border: none;
  position: relative;
  outline: none;
`;newStyled.div`
  padding-left: 0.75rem;
  padding-right: 0.75rem;
  border-right-width: 0px;
  border-width: 1px;
  border-top-left-radius: 0.375rem;
  border-bottom-left-radius: 0.375rem;
  align-items: center;
  display: inline-flex;

  border-right: none;

  border-color: var(--custom-border-color);
`;newStyled.div`
  padding-left: 0.75rem;
  padding-right: 0.75rem;
  border-left-width: 0px;
  border-width: 1px;
  border-top-right-radius: 0.375rem;
  border-bottom-right-radius: 0.375rem;
  align-items: center;
  display: inline-flex;

  border-left: none;

  border-color: var(--custom-border-color);
`;newStyled.div`
  display: flex;
  align-items: center;
  padding-right: 0.5rem;
`;newStyled.div`
  display: flex;
  align-items: center;
  padding-left: 0.5rem;
`;newStyled.div`
  display: flex;
  flex-direction: column;
  gap: 2px;
`;const fullscreenContextInit={isFullScreen:!1,toggle:()=>{}};reactExports.createContext(fullscreenContextInit);const toolbarContext=reactExports.createContext(null);function useToolbarContext(){const _e=reactExports.useContext(toolbarContext);if(!_e)throw new Error("ToolbarContext was not found");return _e}function ToolbarProvider(_e){return jsxRuntimeExports.jsx(toolbarContext.Provider,{value:_e.orientation,children:_e.children})}const border="1px solid rgb(247, 247, 247)",styles$6={toolbar:_e=>css([{display:"flex",flexWrap:"wrap"},_e==="vertical"?{flexDirection:"column",minHeight:"100%",borderRight:border}:{flexDirection:"row",minWidth:"100%"}]),item:_e=>css([_e&&{backgroundColor:"rgb(247, 247, 247)",borderRadius:5},{width:30,height:30,outline:"none",alignItems:"center",justifyContent:"center",display:"flex","&:hover + .content":{display:"flex"}}]),tooltip:(_e,et)=>{const tt={display:"none",position:"absolute",backgroundColor:"gray",borderRadius:"2px",color:"white",bottom:"0px",right:"0px",width:"fit-content",height:"50%",fontSize:"0.875em",whiteSpace:"nowrap",paddingLeft:"3px",paddingRight:"3px",zIndex:50};return css(et==="auto"?[tt,_e==="vertical"&&{margin:"auto",marginLeft:5},_e==="horizontal"?{top:"100%"}:{top:"0px",left:"100%"}]:[tt,et==="horizontal"&&{margin:"auto",marginLeft:5},et==="vertical"?{top:"100%"}:{top:"0px",left:"100%"}])}};function Toolbar(_e){const{children:et,orientation:tt}=_e,nt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{if(tt==="horizontal")return;function rt(){var ut;const ot=(ut=nt.current)==null?void 0:ut.lastElementChild;if(!ot)return;nt.current.style.width="initial";const at=nt.current.getBoundingClientRect(),lt=`${ot.getBoundingClientRect().right-at.left}px`;nt.current.style.width!==lt&&(nt.current.style.width=lt)}const it=nt.current;if(it){const ot=new ResizeObserver(rt);return ot.observe(it),()=>ot.unobserve(it)}},[tt]),jsx("div",{css:styles$6.toolbar(tt),ref:nt,children:jsx(ToolbarProvider,{orientation:tt,children:et})})}Toolbar.Item=function(et){const tt=useToolbarContext(),{active:nt=!1,children:rt,onClick:it,title:ot,titleOrientation:at="auto",id:st,...lt}=et;return jsxs("div",{style:{position:"relative",padding:4,fontSize:"1.25em"},...lt,children:[jsx("button",{type:"button",css:styles$6.item(nt),onClick:()=>{it&&it(et)},children:rt}),jsx("div",{className:"content",css:styles$6.tooltip(tt,at),children:jsx("span",{style:{display:"flex",margin:"auto",justifyContent:"center"},children:ot})})]})};const styles$5={header:css({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid rgb(247, 247, 247);",boxShadow:"rgb(255, 255, 255) 0px 1px 0px 0px inset"})};function Header$2(_e){return jsxs("div",{css:styles$5.header,children:[jsx("div",{children:_e.children[0]}),jsx("div",{children:_e.children[1]})]})}new URLSearchParams;var IDX=256,HEX=[],BUFFER;for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var _e=0,et,tt="";if(!BUFFER||IDX+16>256){for(BUFFER=Array(_e=256);_e--;)BUFFER[_e]=256*Math.random()|0;_e=IDX=0}for(;_e<16;_e++)et=BUFFER[IDX+_e],_e==6?tt+=HEX[et&15|64]:_e==8?tt+=HEX[et&63|128]:tt+=HEX[et],_e&1&&_e>1&&_e<11&&(tt+="-");return IDX++,tt}function ModalCloseButton(_e){return jsx("div",{style:{position:"absolute",top:4,right:4},children:jsx("button",{type:"button",style:{padding:"10px 6px 10px 6px"},onClick:_e.onClick,css:css({color:"rgba(239, 68, 68)",":hover":{color:"rgba(185, 28, 28)"}}),children:jsx(FaTimes,{})})})}function useDialog({isOpen:_e,requestCloseOnEsc:et,requestCloseOnBackdrop:tt,onRequestClose:nt}){useKbsDisableGlobal(_e);const rt=reactExports.useRef(null);reactExports.useEffect(()=>{const at=rt.current;if(at&&_e)return at.showModal(),()=>at.close()},[_e]);const it=reactExports.useCallback(at=>{at.preventDefault(),et&&nt&&nt()},[nt,et]),ot=reactExports.useCallback(at=>{at.stopPropagation(),at.target===at.currentTarget&&tt&&(nt==null||nt())},[tt,nt]);return{ref:rt,onClick:ot,onCancel:it}}const DialogRoot=newStyled.dialog`
  background-color: transparent;

  ::backdrop {
    background-color: rgba(113, 113, 122, 0.75);
  }
`,DialogContents=newStyled.div`
  position: relative;
  display: flex;
  flex-direction: column;
  background-color: white;
  border-width: 1px;
  border-color: transparent;
  border-radius: 0.5rem;
  box-shadow: 0 0 0 0, 0 0px 16px rgba(0, 0, 0, 0.3);
`,ModalHeaderStyled=newStyled.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px 10px 20px;
  border-bottom: 2px solid rgb(247, 247, 247);
`,ModalBodyStyled=newStyled.div`
  display: flex;
  flex: 1 1 0%;
  overflow-y: auto;
`,ModalFooterStyled=newStyled.div`
  border-top: 2px solid rgb(247, 247, 247);
  padding: 10px 20px 10px 20px;
`;function Modal(_e){const{isOpen:et,onRequestClose:tt,hasCloseButton:nt=!0,requestCloseOnBackdrop:rt=!0,requestCloseOnEsc:it=!0,children:ot,width:at,maxWidth:st,height:lt}=_e,ut=useDialog({isOpen:et,requestCloseOnEsc:it,requestCloseOnBackdrop:rt,onRequestClose:tt});return et?jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(DialogRoot,{...ut,children:jsxRuntimeExports.jsxs(DialogContents,{style:{maxWidth:st,height:lt||"max-content",width:at||"100%"},children:[ot,nt&&jsxRuntimeExports.jsx(ModalCloseButton,{onClick:tt})]})})}):null}Modal.Header=function(et){return jsxRuntimeExports.jsx(ModalHeaderStyled,{children:et.children})};Modal.Body=function(et){return jsxRuntimeExports.jsx(ModalBodyStyled,{children:et.children})};Modal.Footer=function(et){return jsxRuntimeExports.jsx(ModalFooterStyled,{children:et.children})};function useResolvedElement(_e,et){var tt=reactExports.useRef(null),nt=reactExports.useRef(null);nt.current=et;var rt=reactExports.useRef(null);reactExports.useEffect(function(){it()});var it=reactExports.useCallback(function(){var ot=rt.current,at=nt.current,st=ot||(at?at instanceof Element?at:at.current:null);tt.current&&tt.current.element===st&&tt.current.subscriber===_e||(tt.current&&tt.current.cleanup&&tt.current.cleanup(),tt.current={element:st,subscriber:_e,cleanup:st?_e(st):void 0})},[_e]);return reactExports.useEffect(function(){return function(){tt.current&&tt.current.cleanup&&(tt.current.cleanup(),tt.current=null)}},[]),reactExports.useCallback(function(ot){rt.current=ot,it()},[it])}function extractSize(_e,et,tt){return _e[et]?_e[et][0]?_e[et][0][tt]:_e[et][tt]:et==="contentBoxSize"?_e.contentRect[tt==="inlineSize"?"width":"height"]:void 0}function useResizeObserver(_e){_e===void 0&&(_e={});var et=_e.onResize,tt=reactExports.useRef(void 0);tt.current=et;var nt=_e.round||Math.round,rt=reactExports.useRef(),it=reactExports.useState({width:void 0,height:void 0}),ot=it[0],at=it[1],st=reactExports.useRef(!1);reactExports.useEffect(function(){return st.current=!1,function(){st.current=!0}},[]);var lt=reactExports.useRef({width:void 0,height:void 0}),ut=useResolvedElement(reactExports.useCallback(function(ct){return(!rt.current||rt.current.box!==_e.box||rt.current.round!==nt)&&(rt.current={box:_e.box,round:nt,instance:new ResizeObserver(function(ft){var dt=ft[0],ht=_e.box==="border-box"?"borderBoxSize":_e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",mt=extractSize(dt,ht,"inlineSize"),yt=extractSize(dt,ht,"blockSize"),pt=mt?nt(mt):void 0,vt=yt?nt(yt):void 0;if(lt.current.width!==pt||lt.current.height!==vt){var gt={width:pt,height:vt};lt.current.width=pt,lt.current.height=vt,tt.current?tt.current(gt):st.current||at(gt)}})}),rt.current.instance.observe(ct,{box:_e.box}),function(){rt.current&&rt.current.instance.unobserve(ct)}},[_e.box,nt]),_e.ref);return reactExports.useMemo(function(){return{ref:ut,width:ot.width,height:ot.height}},[ut,ot.width,ot.height])}function useSplitPaneSize(_e){const{controlledSide:et,direction:tt,splitterRef:nt,sizeType:rt,onSizeChange:it,onResize:ot}=_e;function at(){let st=null;function lt(ct){if(!nt.current)return;const{clientX:ft,clientY:dt}=ct,ht=nt.current.parentElement,mt=ht.getBoundingClientRect(),yt=tt==="horizontal"?ht.clientWidth:ht.clientHeight,pt=tt==="horizontal"?ft-mt.left:dt-mt.top,vt=tt==="horizontal"?nt.current.clientWidth/2:nt.current.clientHeight/2,gt=et==="start"?pt:yt-pt;if(rt==="px")st=[getValueFromSplitter(gt-vt,{min:50,max:yt-50}),rt],it(st);else if(rt==="%"){const xt=gt/yt*100;st=[getValueFromSplitter(xt,{min:5,max:95}),rt],it(st)}}function ut(){window.removeEventListener("mousemove",lt),window.removeEventListener("mouseup",ut),st&&ot&&ot(`${st[0]}${st[1]}`)}window.addEventListener("mousemove",lt),window.addEventListener("mouseup",ut)}return{onMouseDown:at}}function getValueFromSplitter(_e,et){const tt=Math.round((_e+Number.EPSILON)*100)/100;return getMinMax$1(tt,et)}function getMinMax$1(_e,et){return Math.min(Math.max(_e,et.min),et.max)}reactExports.createContext(!1);function SplitPane(_e){const{direction:et="horizontal",controlledSide:tt="start",size:nt="50%",closed:rt=!1,onResize:it,onToggle:ot,children:at}=_e,st=typeof rt=="number"?rt:null,[lt,ut,ct]=useOnOff(typeof rt=="boolean"?rt:!1),[ft,dt]=reactExports.useReducer(()=>!0,!1),[[ht,mt],yt]=reactExports.useState(()=>parseSize(nt));reactExports.useEffect(()=>{yt(parseSize(nt))},[nt]),reactExports.useEffect(()=>{typeof rt=="boolean"&&(rt?ut():ct())},[ut,rt,ct]);const pt=reactExports.useRef(null),{onMouseDown:vt}=useSplitPaneSize({controlledSide:tt,direction:et,splitterRef:pt,sizeType:mt,onSizeChange(St){dt(),yt(St)},onResize:it}),gt=useResizeObserver();let xt=lt;!xt&&st!==null&&!ft&&gt.width!==void 0&&gt.height!==void 0&&(et==="horizontal"?xt=gt.width<st:xt=gt.height<st);function wt(){dt(),xt?(ct(),lt&&ot&&ot(!1)):(ut(),!lt&&ot&&ot(!0))}function bt(St){return getItemStyle(xt,tt===St,et,ht,mt)}return jsxs("div",{ref:gt.ref,style:{display:"flex",height:"100%",width:"100%",flexDirection:et==="horizontal"?"row":"column"},children:[jsx(SplitSide,{style:bt("start"),children:at[0]}),jsx(Splitter,{onDoubleClick:wt,onMouseDown:xt?void 0:vt,isFinalClosed:xt,direction:et,splitterRef:pt}),jsx(SplitSide,{style:bt("end"),children:at[1]})]})}function Splitter(_e){const{onDoubleClick:et,onMouseDown:tt,direction:nt,isFinalClosed:rt,splitterRef:it}=_e;return jsx("div",{onDoubleClick:et,onMouseDown:tt,css:getSeparatorStyle(nt,!rt),ref:it,children:jsx("div",{style:{fontSize:"0.875em"},children:nt==="horizontal"?jsx("span",{children:""}):jsx("span",{children:""})})})}function SplitSide(_e){const{style:et,children:tt}=_e;return jsx("div",{style:et,children:tt})}function parseSize(_e){const et=Number.parseFloat(_e),tt=_e.replace(/[\d .]/g,"");return[et,tt]}const flexBase=100;function percentToFlex(_e){return _e/=100,(flexBase-_e*flexBase)/_e}function getItemStyle(_e,et,tt,nt,rt){const it=tt==="horizontal";return _e?et?{display:"none"}:{flex:"1 1 0%",display:"flex"}:rt==="%"?et?{flex:"100 0 0%",display:"flex"}:{flex:`${percentToFlex(nt)} 0 0%`,display:"flex"}:et?{[it?"width":"height"]:nt,display:"flex"}:{flex:"1 1 0%",display:"flex",minWidth:it?0:void 0,minHeight:it?void 0:0}}function getSeparatorStyle(_e,et){return css([_e==="horizontal"&&{cursor:et?"ew-resize":"pointer",width:"10px"},_e==="vertical"&&{height:"10px",cursor:et?"ns-resize":"pointer"},{backgroundColor:"rgb(247, 247, 247)",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",minWidth:11,":hover":{backgroundColor:"rgb(223, 223, 223)"}}])}newStyled.dialog`
  background-color: transparent;

  ::backdrop {
    background-color: rgba(113, 113, 122, 0.75);
  }
`;newStyled.div`
  position: relative;
  display: flex;
  flex-direction: column;
  background-color: white;
  width: 100%;
  border-width: 1px;
  border-color: transparent;
  border-radius: 0.5rem;
  box-shadow: 0 0 0 0, 0 0px 16px rgba(0, 0, 0, 0.3);
  border-top: 10px solid ${({headerColor:_e})=>_e};
`;newStyled.div`
  color: ${({headerColor:_e})=>_e};
  display: flex;
  flex: 1 1 0%;
`;newStyled.div`
  border-top: 2px solid rgb(247, 247, 247);
  padding: 10px 20px 10px 20px;
  display: flex;
  flex-direction: row-reverse;
  gap: 10px;
`;class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(et){const tt={listener:et};return this.listeners.add(tt),this.onSubscribe(),()=>{this.listeners.delete(tt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$1(){}function functionalUpdate(_e,et){return typeof _e=="function"?_e(et):_e}function isValidTimeout(_e){return typeof _e=="number"&&_e>=0&&_e!==1/0}function timeUntilStale(_e,et){return Math.max(_e+(et||0)-Date.now(),0)}function parseQueryArgs(_e,et,tt){return isQueryKey(_e)?typeof et=="function"?{...tt,queryKey:_e,queryFn:et}:{...et,queryKey:_e}:_e}function parseFilterArgs(_e,et,tt){return isQueryKey(_e)?[{...et,queryKey:_e},tt]:[_e||{},et]}function matchQuery(_e,et){const{type:tt="all",exact:nt,fetchStatus:rt,predicate:it,queryKey:ot,stale:at}=_e;if(isQueryKey(ot)){if(nt){if(et.queryHash!==hashQueryKeyByOptions(ot,et.options))return!1}else if(!partialMatchKey(et.queryKey,ot))return!1}if(tt!=="all"){const st=et.isActive();if(tt==="active"&&!st||tt==="inactive"&&st)return!1}return!(typeof at=="boolean"&&et.isStale()!==at||typeof rt<"u"&&rt!==et.state.fetchStatus||it&&!it(et))}function matchMutation(_e,et){const{exact:tt,fetching:nt,predicate:rt,mutationKey:it}=_e;if(isQueryKey(it)){if(!et.options.mutationKey)return!1;if(tt){if(hashQueryKey(et.options.mutationKey)!==hashQueryKey(it))return!1}else if(!partialMatchKey(et.options.mutationKey,it))return!1}return!(typeof nt=="boolean"&&et.state.status==="loading"!==nt||rt&&!rt(et))}function hashQueryKeyByOptions(_e,et){return((et==null?void 0:et.queryKeyHashFn)||hashQueryKey)(_e)}function hashQueryKey(_e){return JSON.stringify(_e,(et,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((nt,rt)=>(nt[rt]=tt[rt],nt),{}):tt)}function partialMatchKey(_e,et){return partialDeepEqual(_e,et)}function partialDeepEqual(_e,et){return _e===et?!0:typeof _e!=typeof et?!1:_e&&et&&typeof _e=="object"&&typeof et=="object"?!Object.keys(et).some(tt=>!partialDeepEqual(_e[tt],et[tt])):!1}function replaceEqualDeep(_e,et){if(_e===et)return _e;const tt=isPlainArray(_e)&&isPlainArray(et);if(tt||isPlainObject(_e)&&isPlainObject(et)){const nt=tt?_e.length:Object.keys(_e).length,rt=tt?et:Object.keys(et),it=rt.length,ot=tt?[]:{};let at=0;for(let st=0;st<it;st++){const lt=tt?st:rt[st];ot[lt]=replaceEqualDeep(_e[lt],et[lt]),ot[lt]===_e[lt]&&at++}return nt===it&&at===nt?_e:ot}return et}function isPlainArray(_e){return Array.isArray(_e)&&_e.length===Object.keys(_e).length}function isPlainObject(_e){if(!hasObjectPrototype(_e))return!1;const et=_e.constructor;if(typeof et>"u")return!0;const tt=et.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(_e){return Object.prototype.toString.call(_e)==="[object Object]"}function isQueryKey(_e){return Array.isArray(_e)}function sleep(_e){return new Promise(et=>{setTimeout(et,_e)})}function scheduleMicrotask(_e){sleep(0).then(_e)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(_e,et,tt){return tt.isDataEqual!=null&&tt.isDataEqual(_e,et)?_e:typeof tt.structuralSharing=="function"?tt.structuralSharing(_e,et):tt.structuralSharing!==!1?replaceEqualDeep(_e,et):et}class FocusManager extends Subscribable{constructor(){super(),this.setup=et=>{if(!isServer&&window.addEventListener){const tt=()=>et();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var et;(et=this.cleanup)==null||et.call(this),this.cleanup=void 0}}setEventListener(et){var tt;this.setup=et,(tt=this.cleanup)==null||tt.call(this),this.cleanup=et(nt=>{typeof nt=="boolean"?this.setFocused(nt):this.onFocus()})}setFocused(et){this.focused=et,et&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:et})=>{et()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager;class OnlineManager extends Subscribable{constructor(){super(),this.setup=et=>{if(!isServer&&window.addEventListener){const tt=()=>et();return window.addEventListener("online",tt,!1),window.addEventListener("offline",tt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var et;(et=this.cleanup)==null||et.call(this),this.cleanup=void 0}}setEventListener(et){var tt;this.setup=et,(tt=this.cleanup)==null||tt.call(this),this.cleanup=et(nt=>{typeof nt=="boolean"?this.setOnline(nt):this.onOnline()})}setOnline(et){this.online=et,et&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:et})=>{et()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(_e){return Math.min(1e3*2**_e,3e4)}function canFetch(_e){return(_e??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(et){this.revert=et==null?void 0:et.revert,this.silent=et==null?void 0:et.silent}}function isCancelledError(_e){return _e instanceof CancelledError}function createRetryer(_e){let et=!1,tt=0,nt=!1,rt,it,ot;const at=new Promise((yt,pt)=>{it=yt,ot=pt}),st=yt=>{nt||(dt(new CancelledError(yt)),_e.abort==null||_e.abort())},lt=()=>{et=!0},ut=()=>{et=!1},ct=()=>!focusManager.isFocused()||_e.networkMode!=="always"&&!onlineManager.isOnline(),ft=yt=>{nt||(nt=!0,_e.onSuccess==null||_e.onSuccess(yt),rt==null||rt(),it(yt))},dt=yt=>{nt||(nt=!0,_e.onError==null||_e.onError(yt),rt==null||rt(),ot(yt))},ht=()=>new Promise(yt=>{rt=pt=>{const vt=nt||!ct();return vt&&yt(pt),vt},_e.onPause==null||_e.onPause()}).then(()=>{rt=void 0,nt||_e.onContinue==null||_e.onContinue()}),mt=()=>{if(nt)return;let yt;try{yt=_e.fn()}catch(pt){yt=Promise.reject(pt)}Promise.resolve(yt).then(ft).catch(pt=>{var vt,gt;if(nt)return;const xt=(vt=_e.retry)!=null?vt:3,wt=(gt=_e.retryDelay)!=null?gt:defaultRetryDelay,bt=typeof wt=="function"?wt(tt,pt):wt,St=xt===!0||typeof xt=="number"&&tt<xt||typeof xt=="function"&&xt(tt,pt);if(et||!St){dt(pt);return}tt++,_e.onFail==null||_e.onFail(tt,pt),sleep(bt).then(()=>{if(ct())return ht()}).then(()=>{et?dt(pt):mt()})})};return canFetch(_e.networkMode)?mt():ht().then(mt),{promise:at,cancel:st,continue:()=>(rt==null?void 0:rt())?at:Promise.resolve(),cancelRetry:lt,continueRetry:ut}}const defaultLogger=console;function createNotifyManager(){let _e=[],et=0,tt=ut=>{ut()},nt=ut=>{ut()};const rt=ut=>{let ct;et++;try{ct=ut()}finally{et--,et||at()}return ct},it=ut=>{et?_e.push(ut):scheduleMicrotask(()=>{tt(ut)})},ot=ut=>(...ct)=>{it(()=>{ut(...ct)})},at=()=>{const ut=_e;_e=[],ut.length&&scheduleMicrotask(()=>{nt(()=>{ut.forEach(ct=>{tt(ct)})})})};return{batch:rt,batchCalls:ot,schedule:it,setNotifyFunction:ut=>{tt=ut},setBatchNotifyFunction:ut=>{nt=ut}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(et){this.cacheTime=Math.max(this.cacheTime||0,et??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(et){super(),this.abortSignalConsumed=!1,this.defaultOptions=et.defaultOptions,this.setOptions(et.options),this.observers=[],this.cache=et.cache,this.logger=et.logger||defaultLogger,this.queryKey=et.queryKey,this.queryHash=et.queryHash,this.initialState=et.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(et){this.options={...this.defaultOptions,...et},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(et,tt){const nt=replaceData(this.state.data,et,this.options);return this.dispatch({data:nt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),nt}setState(et,tt){this.dispatch({type:"setState",state:et,setStateOptions:tt})}cancel(et){var tt;const nt=this.promise;return(tt=this.retryer)==null||tt.cancel(et),nt?nt.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(et=>et.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(et=>et.getCurrentResult().isStale)}isStaleByTime(et=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,et)}onFocus(){var et;const tt=this.observers.find(nt=>nt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(et=this.retryer)==null||et.continue()}onOnline(){var et;const tt=this.observers.find(nt=>nt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(et=this.retryer)==null||et.continue()}addObserver(et){this.observers.indexOf(et)===-1&&(this.observers.push(et),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:et}))}removeObserver(et){this.observers.indexOf(et)!==-1&&(this.observers=this.observers.filter(tt=>tt!==et),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:et}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(et,tt){var nt,rt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var it;return(it=this.retryer)==null||it.continueRetry(),this.promise}}if(et&&this.setOptions(et),!this.options.queryFn){const dt=this.observers.find(ht=>ht.options.queryFn);dt&&this.setOptions(dt.options)}Array.isArray(this.options.queryKey);const ot=getAbortController(),at={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},st=dt=>{Object.defineProperty(dt,"signal",{enumerable:!0,get:()=>{if(ot)return this.abortSignalConsumed=!0,ot.signal}})};st(at);const lt=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(at)):Promise.reject("Missing queryFn"),ut={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:lt};if(st(ut),(nt=this.options.behavior)==null||nt.onFetch(ut),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((rt=ut.fetchOptions)==null?void 0:rt.meta)){var ct;this.dispatch({type:"fetch",meta:(ct=ut.fetchOptions)==null?void 0:ct.meta})}const ft=dt=>{if(isCancelledError(dt)&&dt.silent||this.dispatch({type:"error",error:dt}),!isCancelledError(dt)){var ht,mt,yt,pt;(ht=(mt=this.cache.config).onError)==null||ht.call(mt,dt,this),(yt=(pt=this.cache.config).onSettled)==null||yt.call(pt,this.state.data,dt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:ut.fetchFn,abort:ot==null?void 0:ot.abort.bind(ot),onSuccess:dt=>{var ht,mt,yt,pt;if(typeof dt>"u"){ft(new Error(this.queryHash+" data is undefined"));return}this.setData(dt),(ht=(mt=this.cache.config).onSuccess)==null||ht.call(mt,dt,this),(yt=(pt=this.cache.config).onSettled)==null||yt.call(pt,dt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:ft,onFail:(dt,ht)=>{this.dispatch({type:"failed",failureCount:dt,error:ht})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ut.options.retry,retryDelay:ut.options.retryDelay,networkMode:ut.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(et){const tt=nt=>{var rt,it;switch(et.type){case"failed":return{...nt,fetchFailureCount:et.failureCount,fetchFailureReason:et.error};case"pause":return{...nt,fetchStatus:"paused"};case"continue":return{...nt,fetchStatus:"fetching"};case"fetch":return{...nt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(rt=et.meta)!=null?rt:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!nt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...nt,data:et.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:(it=et.dataUpdatedAt)!=null?it:Date.now(),error:null,isInvalidated:!1,status:"success",...!et.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const ot=et.error;return isCancelledError(ot)&&ot.revert&&this.revertState?{...this.revertState}:{...nt,error:ot,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,fetchFailureReason:ot,fetchStatus:"idle",status:"error"};case"invalidate":return{...nt,isInvalidated:!0};case"setState":return{...nt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onQueryUpdate(et)}),this.cache.notify({query:this,type:"updated",action:et})})}}function getDefaultState$1(_e){const et=typeof _e.initialData=="function"?_e.initialData():_e.initialData,tt=typeof et<"u",nt=tt?typeof _e.initialDataUpdatedAt=="function"?_e.initialDataUpdatedAt():_e.initialDataUpdatedAt:0;return{data:et,dataUpdateCount:0,dataUpdatedAt:tt?nt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(et){super(),this.config=et||{},this.queries=[],this.queriesMap={}}build(et,tt,nt){var rt;const it=tt.queryKey,ot=(rt=tt.queryHash)!=null?rt:hashQueryKeyByOptions(it,tt);let at=this.get(ot);return at||(at=new Query({cache:this,logger:et.getLogger(),queryKey:it,queryHash:ot,options:et.defaultQueryOptions(tt),state:nt,defaultOptions:et.getQueryDefaults(it)}),this.add(at)),at}add(et){this.queriesMap[et.queryHash]||(this.queriesMap[et.queryHash]=et,this.queries.push(et),this.notify({type:"added",query:et}))}remove(et){const tt=this.queriesMap[et.queryHash];tt&&(et.destroy(),this.queries=this.queries.filter(nt=>nt!==et),tt===et&&delete this.queriesMap[et.queryHash],this.notify({type:"removed",query:et}))}clear(){notifyManager.batch(()=>{this.queries.forEach(et=>{this.remove(et)})})}get(et){return this.queriesMap[et]}getAll(){return this.queries}find(et,tt){const[nt]=parseFilterArgs(et,tt);return typeof nt.exact>"u"&&(nt.exact=!0),this.queries.find(rt=>matchQuery(nt,rt))}findAll(et,tt){const[nt]=parseFilterArgs(et,tt);return Object.keys(nt).length>0?this.queries.filter(rt=>matchQuery(nt,rt)):this.queries}notify(et){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(et)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(et=>{et.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(et=>{et.onOnline()})})}}class Mutation extends Removable{constructor(et){super(),this.defaultOptions=et.defaultOptions,this.mutationId=et.mutationId,this.mutationCache=et.mutationCache,this.logger=et.logger||defaultLogger,this.observers=[],this.state=et.state||getDefaultState(),this.setOptions(et.options),this.scheduleGc()}setOptions(et){this.options={...this.defaultOptions,...et},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(et){this.dispatch({type:"setState",state:et})}addObserver(et){this.observers.indexOf(et)===-1&&(this.observers.push(et),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:et}))}removeObserver(et){this.observers=this.observers.filter(tt=>tt!==et),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:et})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var et,tt;return(et=(tt=this.retryer)==null?void 0:tt.continue())!=null?et:this.execute()}async execute(){const et=()=>{var St;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(kt,Rt)=>{this.dispatch({type:"failed",failureCount:kt,error:Rt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(St=this.options.retry)!=null?St:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var nt,rt,it,ot,at,st,lt,ut;if(!tt){var ct,ft,dt,ht;this.dispatch({type:"loading",variables:this.options.variables}),await((ct=(ft=this.mutationCache.config).onMutate)==null?void 0:ct.call(ft,this.state.variables,this));const kt=await((dt=(ht=this.options).onMutate)==null?void 0:dt.call(ht,this.state.variables));kt!==this.state.context&&this.dispatch({type:"loading",context:kt,variables:this.state.variables})}const St=await et();return await((nt=(rt=this.mutationCache.config).onSuccess)==null?void 0:nt.call(rt,St,this.state.variables,this.state.context,this)),await((it=(ot=this.options).onSuccess)==null?void 0:it.call(ot,St,this.state.variables,this.state.context)),await((at=(st=this.mutationCache.config).onSettled)==null?void 0:at.call(st,St,null,this.state.variables,this.state.context,this)),await((lt=(ut=this.options).onSettled)==null?void 0:lt.call(ut,St,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:St}),St}catch(St){try{var mt,yt,pt,vt,gt,xt,wt,bt;throw await((mt=(yt=this.mutationCache.config).onError)==null?void 0:mt.call(yt,St,this.state.variables,this.state.context,this)),await((pt=(vt=this.options).onError)==null?void 0:pt.call(vt,St,this.state.variables,this.state.context)),await((gt=(xt=this.mutationCache.config).onSettled)==null?void 0:gt.call(xt,void 0,St,this.state.variables,this.state.context,this)),await((wt=(bt=this.options).onSettled)==null?void 0:wt.call(bt,void 0,St,this.state.variables,this.state.context)),St}finally{this.dispatch({type:"error",error:St})}}}dispatch(et){const tt=nt=>{switch(et.type){case"failed":return{...nt,failureCount:et.failureCount,failureReason:et.error};case"pause":return{...nt,isPaused:!0};case"continue":return{...nt,isPaused:!1};case"loading":return{...nt,context:et.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:et.variables};case"success":return{...nt,data:et.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...nt,data:void 0,error:et.error,failureCount:nt.failureCount+1,failureReason:et.error,isPaused:!1,status:"error"};case"setState":return{...nt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onMutationUpdate(et)}),this.mutationCache.notify({mutation:this,type:"updated",action:et})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(et){super(),this.config=et||{},this.mutations=[],this.mutationId=0}build(et,tt,nt){const rt=new Mutation({mutationCache:this,logger:et.getLogger(),mutationId:++this.mutationId,options:et.defaultMutationOptions(tt),state:nt,defaultOptions:tt.mutationKey?et.getMutationDefaults(tt.mutationKey):void 0});return this.add(rt),rt}add(et){this.mutations.push(et),this.notify({type:"added",mutation:et})}remove(et){this.mutations=this.mutations.filter(tt=>tt!==et),this.notify({type:"removed",mutation:et})}clear(){notifyManager.batch(()=>{this.mutations.forEach(et=>{this.remove(et)})})}getAll(){return this.mutations}find(et){return typeof et.exact>"u"&&(et.exact=!0),this.mutations.find(tt=>matchMutation(et,tt))}findAll(et){return this.mutations.filter(tt=>matchMutation(et,tt))}notify(et){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(et)})})}resumePausedMutations(){var et;return this.resuming=((et=this.resuming)!=null?et:Promise.resolve()).then(()=>{const tt=this.mutations.filter(nt=>nt.state.isPaused);return notifyManager.batch(()=>tt.reduce((nt,rt)=>nt.then(()=>rt.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:_e=>{_e.fetchFn=()=>{var et,tt,nt,rt,it,ot;const at=(et=_e.fetchOptions)==null||(tt=et.meta)==null?void 0:tt.refetchPage,st=(nt=_e.fetchOptions)==null||(rt=nt.meta)==null?void 0:rt.fetchMore,lt=st==null?void 0:st.pageParam,ut=(st==null?void 0:st.direction)==="forward",ct=(st==null?void 0:st.direction)==="backward",ft=((it=_e.state.data)==null?void 0:it.pages)||[],dt=((ot=_e.state.data)==null?void 0:ot.pageParams)||[];let ht=dt,mt=!1;const yt=bt=>{Object.defineProperty(bt,"signal",{enumerable:!0,get:()=>{var St;if((St=_e.signal)!=null&&St.aborted)mt=!0;else{var kt;(kt=_e.signal)==null||kt.addEventListener("abort",()=>{mt=!0})}return _e.signal}})},pt=_e.options.queryFn||(()=>Promise.reject("Missing queryFn")),vt=(bt,St,kt,Rt)=>(ht=Rt?[St,...ht]:[...ht,St],Rt?[kt,...bt]:[...bt,kt]),gt=(bt,St,kt,Rt)=>{if(mt)return Promise.reject("Cancelled");if(typeof kt>"u"&&!St&&bt.length)return Promise.resolve(bt);const Et={queryKey:_e.queryKey,pageParam:kt,meta:_e.options.meta};yt(Et);const At=pt(Et);return Promise.resolve(At).then(It=>vt(bt,kt,It,Rt))};let xt;if(!ft.length)xt=gt([]);else if(ut){const bt=typeof lt<"u",St=bt?lt:getNextPageParam(_e.options,ft);xt=gt(ft,bt,St)}else if(ct){const bt=typeof lt<"u",St=bt?lt:getPreviousPageParam(_e.options,ft);xt=gt(ft,bt,St,!0)}else{ht=[];const bt=typeof _e.options.getNextPageParam>"u";xt=(at&&ft[0]?at(ft[0],0,ft):!0)?gt([],bt,dt[0]):Promise.resolve(vt([],dt[0],ft[0]));for(let kt=1;kt<ft.length;kt++)xt=xt.then(Rt=>{if(at&&ft[kt]?at(ft[kt],kt,ft):!0){const At=bt?dt[kt]:getNextPageParam(_e.options,Rt);return gt(Rt,bt,At)}return Promise.resolve(vt(Rt,dt[kt],ft[kt]))})}return xt.then(bt=>({pages:bt,pageParams:ht}))}}}}function getNextPageParam(_e,et){return _e.getNextPageParam==null?void 0:_e.getNextPageParam(et[et.length-1],et)}function getPreviousPageParam(_e,et){return _e.getPreviousPageParam==null?void 0:_e.getPreviousPageParam(et[0],et)}class QueryClient{constructor(et={}){this.queryCache=et.queryCache||new QueryCache,this.mutationCache=et.mutationCache||new MutationCache,this.logger=et.logger||defaultLogger,this.defaultOptions=et.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var et,tt;this.mountCount--,this.mountCount===0&&((et=this.unsubscribeFocus)==null||et.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(et,tt){const[nt]=parseFilterArgs(et,tt);return nt.fetchStatus="fetching",this.queryCache.findAll(nt).length}isMutating(et){return this.mutationCache.findAll({...et,fetching:!0}).length}getQueryData(et,tt){var nt;return(nt=this.queryCache.find(et,tt))==null?void 0:nt.state.data}ensureQueryData(et,tt,nt){const rt=parseQueryArgs(et,tt,nt),it=this.getQueryData(rt.queryKey);return it?Promise.resolve(it):this.fetchQuery(rt)}getQueriesData(et){return this.getQueryCache().findAll(et).map(({queryKey:tt,state:nt})=>{const rt=nt.data;return[tt,rt]})}setQueryData(et,tt,nt){const rt=this.queryCache.find(et),it=rt==null?void 0:rt.state.data,ot=functionalUpdate(tt,it);if(typeof ot>"u")return;const at=parseQueryArgs(et),st=this.defaultQueryOptions(at);return this.queryCache.build(this,st).setData(ot,{...nt,manual:!0})}setQueriesData(et,tt,nt){return notifyManager.batch(()=>this.getQueryCache().findAll(et).map(({queryKey:rt})=>[rt,this.setQueryData(rt,tt,nt)]))}getQueryState(et,tt){var nt;return(nt=this.queryCache.find(et,tt))==null?void 0:nt.state}removeQueries(et,tt){const[nt]=parseFilterArgs(et,tt),rt=this.queryCache;notifyManager.batch(()=>{rt.findAll(nt).forEach(it=>{rt.remove(it)})})}resetQueries(et,tt,nt){const[rt,it]=parseFilterArgs(et,tt,nt),ot=this.queryCache,at={type:"active",...rt};return notifyManager.batch(()=>(ot.findAll(rt).forEach(st=>{st.reset()}),this.refetchQueries(at,it)))}cancelQueries(et,tt,nt){const[rt,it={}]=parseFilterArgs(et,tt,nt);typeof it.revert>"u"&&(it.revert=!0);const ot=notifyManager.batch(()=>this.queryCache.findAll(rt).map(at=>at.cancel(it)));return Promise.all(ot).then(noop$1).catch(noop$1)}invalidateQueries(et,tt,nt){const[rt,it]=parseFilterArgs(et,tt,nt);return notifyManager.batch(()=>{var ot,at;if(this.queryCache.findAll(rt).forEach(lt=>{lt.invalidate()}),rt.refetchType==="none")return Promise.resolve();const st={...rt,type:(ot=(at=rt.refetchType)!=null?at:rt.type)!=null?ot:"active"};return this.refetchQueries(st,it)})}refetchQueries(et,tt,nt){const[rt,it]=parseFilterArgs(et,tt,nt),ot=notifyManager.batch(()=>this.queryCache.findAll(rt).filter(st=>!st.isDisabled()).map(st=>{var lt;return st.fetch(void 0,{...it,cancelRefetch:(lt=it==null?void 0:it.cancelRefetch)!=null?lt:!0,meta:{refetchPage:rt.refetchPage}})}));let at=Promise.all(ot).then(noop$1);return it!=null&&it.throwOnError||(at=at.catch(noop$1)),at}fetchQuery(et,tt,nt){const rt=parseQueryArgs(et,tt,nt),it=this.defaultQueryOptions(rt);typeof it.retry>"u"&&(it.retry=!1);const ot=this.queryCache.build(this,it);return ot.isStaleByTime(it.staleTime)?ot.fetch(it):Promise.resolve(ot.state.data)}prefetchQuery(et,tt,nt){return this.fetchQuery(et,tt,nt).then(noop$1).catch(noop$1)}fetchInfiniteQuery(et,tt,nt){const rt=parseQueryArgs(et,tt,nt);return rt.behavior=infiniteQueryBehavior(),this.fetchQuery(rt)}prefetchInfiniteQuery(et,tt,nt){return this.fetchInfiniteQuery(et,tt,nt).then(noop$1).catch(noop$1)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(et){this.defaultOptions=et}setQueryDefaults(et,tt){const nt=this.queryDefaults.find(rt=>hashQueryKey(et)===hashQueryKey(rt.queryKey));nt?nt.defaultOptions=tt:this.queryDefaults.push({queryKey:et,defaultOptions:tt})}getQueryDefaults(et){if(!et)return;const tt=this.queryDefaults.find(nt=>partialMatchKey(et,nt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(et,tt){const nt=this.mutationDefaults.find(rt=>hashQueryKey(et)===hashQueryKey(rt.mutationKey));nt?nt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:et,defaultOptions:tt})}getMutationDefaults(et){if(!et)return;const tt=this.mutationDefaults.find(nt=>partialMatchKey(et,nt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(et){if(et!=null&&et._defaulted)return et;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(et==null?void 0:et.queryKey),...et,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect>"u"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary>"u"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(et){return et!=null&&et._defaulted?et:{...this.defaultOptions.mutations,...this.getMutationDefaults(et==null?void 0:et.mutationKey),...et,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(_e,et){return _e||(et&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const QueryClientProvider=({client:_e,children:et,context:tt,contextSharing:nt=!1})=>{reactExports.useEffect(()=>(_e.mount(),()=>{_e.unmount()}),[_e]);const rt=getQueryClientContext(tt,nt);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!tt&&nt},reactExports.createElement(rt.Provider,{value:_e},et))};var f$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p$3(_e,et){return _e(et={exports:{}},et.exports),et.exports}var d$2=p$3(function(_e){(function(et){var tt=function(yt,pt,vt){if(!st(pt)||ut(pt)||ct(pt)||ft(pt)||at(pt))return pt;var gt,xt=0,wt=0;if(lt(pt))for(gt=[],wt=pt.length;xt<wt;xt++)gt.push(tt(yt,pt[xt],vt));else for(var bt in gt={},pt)Object.prototype.hasOwnProperty.call(pt,bt)&&(gt[yt(bt,vt)]=tt(yt,pt[bt],vt));return gt},nt=function(yt){return dt(yt)?yt:(yt=yt.replace(/[\-_\s]+(.)?/g,function(pt,vt){return vt?vt.toUpperCase():""})).substr(0,1).toLowerCase()+yt.substr(1)},rt=function(yt){var pt=nt(yt);return pt.substr(0,1).toUpperCase()+pt.substr(1)},it=function(yt,pt){return function(vt,gt){var xt=(gt=gt||{}).separator||"_",wt=gt.split||/(?=[A-Z])/;return vt.split(wt).join(xt)}(yt,pt).toLowerCase()},ot=Object.prototype.toString,at=function(yt){return typeof yt=="function"},st=function(yt){return yt===Object(yt)},lt=function(yt){return ot.call(yt)=="[object Array]"},ut=function(yt){return ot.call(yt)=="[object Date]"},ct=function(yt){return ot.call(yt)=="[object RegExp]"},ft=function(yt){return ot.call(yt)=="[object Boolean]"},dt=function(yt){return(yt-=0)==yt},ht=function(yt,pt){var vt=pt&&"process"in pt?pt.process:pt;return typeof vt!="function"?yt:function(gt,xt){return vt(gt,yt,xt)}},mt={camelize:nt,decamelize:it,pascalize:rt,depascalize:it,camelizeKeys:function(yt,pt){return tt(ht(nt,pt),yt)},decamelizeKeys:function(yt,pt){return tt(ht(it,pt),yt,pt)},pascalizeKeys:function(yt,pt){return tt(ht(rt,pt),yt)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};_e.exports?_e.exports=mt:et.humps=mt})(f$2)}).decamelize,y$3=p$3(function(_e){function et(){return _e.exports=et=Object.assign||function(tt){for(var nt=1;nt<arguments.length;nt++){var rt=arguments[nt];for(var it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(tt[it]=rt[it])}return tt},et.apply(this,arguments)}_e.exports=et}),h$3=function(_e){if(Array.isArray(_e))return _e},m$1=function(_e,et){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e)){var tt=[],nt=!0,rt=!1,it=void 0;try{for(var ot,at=_e[Symbol.iterator]();!(nt=(ot=at.next()).done)&&(tt.push(ot.value),!et||tt.length!==et);nt=!0);}catch(st){rt=!0,it=st}finally{try{nt||at.return==null||at.return()}finally{if(rt)throw it}}return tt}},v$2=function(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,nt=new Array(et);tt<et;tt++)nt[tt]=_e[tt];return nt},b$3=function(_e,et){if(_e){if(typeof _e=="string")return v$2(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);return tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set"?Array.from(_e):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?v$2(_e,et):void 0}},g$2=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},S$2=function(_e,et){return h$3(_e)||m$1(_e,et)||b$3(_e,et)||g$2()},w$3=function(_e,et){if(_e==null)return{};var tt,nt,rt={},it=Object.keys(_e);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||(rt[tt]=_e[tt]);return rt},O$1=function(_e,et){if(_e==null)return{};var tt,nt,rt=w$3(_e,et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)tt=it[nt],et.indexOf(tt)>=0||Object.prototype.propertyIsEnumerable.call(_e,tt)&&(rt[tt]=_e[tt])}return rt},j$2=reactExports.createContext(null);function x$3(_e){var et=_e.root,tt=_e.children;return reactDomExports.createPortal(tt,et)}function E$1(_e){var et=reactExports.forwardRef(function(tt,nt){var rt,it,ot=tt.mode,at=tt.delegatesFocus,st=tt.styleSheets,lt=tt.ssr,ut=tt.children,ct=O$1(tt,["mode","delegatesFocus","styleSheets","ssr","children"]),ft=(it=reactExports.useRef((rt=nt)&&rt.current),reactExports.useEffect(function(){rt&&(rt.current=it.current)},[rt]),it),dt=reactExports.useState(null),ht=S$2(dt,2),mt=ht[0],yt=ht[1],pt="node_".concat(ot).concat(at);return reactExports.useLayoutEffect(function(){if(ft.current)try{if(typeof nt=="function"&&nt(ft.current),lt){var vt=ft.current.shadowRoot;return void yt(vt)}var gt=ft.current.attachShadow({mode:ot,delegatesFocus:at});st.length>0&&(gt.adoptedStyleSheets=st),yt(gt)}catch(xt){(function(wt){var bt=wt.error,St=wt.styleSheets,kt=wt.root;switch(bt.name){case"NotSupportedError":St.length>0&&(kt.adoptedStyleSheets=St);break;default:throw bt}})({error:xt,styleSheets:st,root:mt})}},[nt,ft,st]),React16.createElement(React16.Fragment,null,React16.createElement(_e.tag,y$3({key:pt,ref:ft},ct),(mt||lt)&&React16.createElement(j$2.Provider,{value:mt},lt?React16.createElement("template",{shadowroot:"open"},_e.render({root:mt,ssr:lt,children:ut})):React16.createElement(x$3,{root:mt},_e.render({root:mt,ssr:lt,children:ut})))))});return et.propTypes={mode:s$2.oneOf(["open","closed"]),delegatesFocus:s$2.bool,styleSheets:s$2.arrayOf(s$2.instanceOf(globalThis.CSSStyleSheet)),ssr:s$2.bool,children:s$2.node},et.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},et}x$3.propTypes={root:s$2.object.isRequired,children:s$2.node},x$3.defaultProps={children:null};var z$1=new Map;function A$1(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"core",tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(nt){return nt.children};return new Proxy(_e,{get:function(nt,rt){var it=d$2(rt,{separator:"-"}),ot="".concat(et,"-").concat(it);return z$1.has(ot)||z$1.set(ot,E$1({tag:it,render:tt})),z$1.get(ot)}})}A$1();var P$1=new WeakMap,F=A$1({},"emotion",function(_e){var et=_e.root,tt=_e.children,nt=P$1.get(et)||function(){var rt=createCache({container:et,key:"react-shadow"});return P$1.set(et,rt),rt}();return React16.createElement(CacheProvider,{value:nt},React16.createElement(React16.Fragment,null,tt))});const CustomDivPreflight=newStyled.div`
  /* html */
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  tab-size: 4;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

  width: 100%;
  height: 100%;
  position: relative;
`,preflight=css`
  /* Copy of ./preflight.css */

  /*
Adapted from:
https://raw.githubusercontent.com/tailwindlabs/tailwindcss/96a83534b0402d4ca9748bc055ed88fcac19f4a4/src/css/preflight.css

Changes:
- Replace calls to \`theme()\` with the default value.
- Escape backticks.
*/

  /*
MIT License

Copyright (c) Tailwind Labs, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

  /*
1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)
2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)
*/

  *,
  ::before,
  ::after {
    box-sizing: border-box; /* 1 */
    border-width: 0; /* 2 */
    border-style: solid; /* 2 */
    border-color: currentColor; /* 2 */
  }

  ::before,
  ::after {
    --tw-content: '';
  }

  /*
1. Use a consistent sensible line-height in all browsers.
2. Prevent adjustments of font size after orientation changes in iOS.
3. Use a more readable tab size.
4. Use the user's configured \`sans\` font-family by default.
*/

  html {
    line-height: 1.5; /* 1 */
    -webkit-text-size-adjust: 100%; /* 2 */
    -moz-tab-size: 4; /* 3 */
    tab-size: 4; /* 3 */
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
      'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif,
      'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
      'Noto Color Emoji'; /* 4 */
  }

  /*
1. Remove the margin in all browsers.
2. Inherit line-height from \`html\` so users can set them as a class directly on the \`html\` element.
*/

  body {
    margin: 0; /* 1 */
    line-height: inherit; /* 2 */
  }

  /*
1. Add the correct height in Firefox.
2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)
3. Ensure horizontal rules are visible by default.
*/

  hr {
    height: 0; /* 1 */
    color: inherit; /* 2 */
    border-top-width: 1px; /* 3 */
  }

  /*
Add the correct text decoration in Chrome, Edge, and Safari.
*/

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  /*
Remove the default font size and weight for headings.
*/

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
  }

  /*
Reset links to optimize for opt-in styling instead of opt-out.
*/

  a {
    color: inherit;
    text-decoration: inherit;
  }

  /*
Add the correct font weight in Edge and Safari.
*/

  b,
  strong {
    font-weight: bolder;
  }

  /*
1. Use the user's configured \`mono\` font family by default.
2. Correct the odd \`em\` font sizing in all browsers.
*/

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      'Liberation Mono', 'Courier New', monospace; /* 1 */
    font-size: 1em; /* 2 */
  }

  /*
Add the correct font size in all browsers.
*/

  small {
    font-size: 80%;
  }

  /*
Prevent \`sub\` and \`sup\` elements from affecting the line height in all browsers.
*/

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  /*
1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)
2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)
3. Remove gaps between table borders by default.
*/

  table {
    text-indent: 0; /* 1 */
    border-color: inherit; /* 2 */
    border-collapse: collapse; /* 3 */
  }

  /*
1. Change the font styles in all browsers.
2. Remove the margin in Firefox and Safari.
3. Remove default padding in all browsers.
*/

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit; /* 1 */
    font-size: 100%; /* 1 */
    font-weight: inherit; /* 1 */
    line-height: inherit; /* 1 */
    color: inherit; /* 1 */
    margin: 0; /* 2 */
    padding: 0; /* 3 */
  }

  /*
Remove the inheritance of text transform in Edge and Firefox.
*/

  button,
  select {
    text-transform: none;
  }

  /*
1. Correct the inability to style clickable types in iOS and Safari.
2. Remove default button styles.
*/

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button; /* 1 */
    background-color: transparent; /* 2 */
    background-image: none; /* 2 */
  }

  /*
Use the modern Firefox focus style for all focusable elements.
*/

  :-moz-focusring {
    outline: auto;
  }

  /*
Remove the additional \`:invalid\` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)
*/

  :-moz-ui-invalid {
    box-shadow: none;
  }

  /*
Add the correct vertical alignment in Chrome and Firefox.
*/

  progress {
    vertical-align: baseline;
  }

  /*
Correct the cursor style of increment and decrement buttons in Safari.
*/

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  /*
1. Correct the odd appearance in Chrome and Safari.
2. Correct the outline style in Safari.
*/

  [type='search'] {
    -webkit-appearance: textfield; /* 1 */
    outline-offset: -2px; /* 2 */
  }

  /*
Remove the inner padding in Chrome and Safari on macOS.
*/

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  /*
1. Correct the inability to style clickable types in iOS and Safari.
2. Change font properties to \`inherit\` in Safari.
*/

  ::-webkit-file-upload-button {
    -webkit-appearance: button; /* 1 */
    font: inherit; /* 2 */
  }

  /*
Add the correct display in Chrome and Safari.
*/

  summary {
    display: list-item;
  }

  /*
Removes the default spacing and border for appropriate elements.
*/

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  /*
Prevent resizing textareas horizontally by default.
*/

  textarea {
    resize: vertical;
  }

  /*
1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)
2. Set the default placeholder color to the user's configured gray 400 color.
*/

  input::placeholder,
  textarea::placeholder {
    opacity: 1; /* 1 */
    color: #9ca3af; /* 2 */
  }

  /*
Set the default cursor for buttons.
*/

  button,
  [role='button'] {
    cursor: pointer;
  }

  /*
Make sure disabled buttons don't get the pointer cursor.
*/
  :disabled {
    cursor: default;
  }

  /*
1. Make replaced elements \`display: block\` by default. (https://github.com/mozdevs/cssremedy/issues/14)
2. Add \`vertical-align: middle\` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)
 This can trigger a poorly considered lint error in some tools but is included by design.
*/

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block; /* 1 */
    vertical-align: middle; /* 2 */
  }

  /*
Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)
*/

  img,
  video {
    max-width: 100%;
    height: auto;
  }
`,queryClient=new QueryClient({defaultOptions:{queries:{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1}}}),style={width:"100%",height:"100%",fontSize:"12px"};function RootLayout(_e){const[et,tt]=reactExports.useState(typeof document<"u"?document.body:null),nt=reactExports.useCallback(rt=>{rt!==null&&tt(rt)},[]);return jsxs(F.div,{style:{...style,..._e.style},children:[jsx(Global,{styles:preflight}),jsx(CustomDivPreflight,{ref:nt,children:jsx(RootLayoutProvider,{innerRef:et,children:jsx(QueryClientProvider,{client:queryClient,children:jsx(AccordionProvider,{children:_e.children})})})})]})}const spin=keyframes`
  100% {
    transform: rotate(360deg);
  }
`;newStyled.svg`
  height: ${({height:_e})=>`${_e||40}px`};
  width: ${({width:_e})=>`${_e||40}px`};
  animation: ${spin} 0.8s linear infinite;
`;const styles$4={color:css({position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px"})};function Color({value:_e,style:et,onClick:tt}){return jsx("div",{onClick:tt,css:styles$4.color,style:{background:_e,...et}})}function Boolean$1({value:_e,...et}){return jsxRuntimeExports.jsx("div",{...et,children:_e!==void 0?_e?"":"":""})}function Number$1({value:_e,fixed:et,...tt}){return jsxRuntimeExports.jsx("div",{...tt,children:_e?et?_e.toFixed(et):_e:""})}const styles$3={text:css({textOverflow:"ellipsis"})};function Text({value:_e,...et}){return jsx("div",{...et,css:styles$3.text,children:_e})}const styles$2={title:css({fontWeight:"bold"})};function Title({value:_e,...et}){return jsx("div",{...et,css:styles$2.title,children:_e})}function Component({children:_e,...et}){return jsxRuntimeExports.jsx("div",{...et,children:_e})}function Header$1({sorted:_e=!1,...et}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Title,{...et,children:"Header"}),_e?{asc:" ",desc:" "}[_e]:null]})}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(_e,et)=>function(){return et||(0,_e[__getOwnPropNames(_e)[0]])((et={exports:{}}).exports,et),et.exports},__export=(_e,et)=>{for(var tt in et)__defProp(_e,tt,{get:et[tt],enumerable:!0})},__copyProps=(_e,et,tt,nt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let rt of __getOwnPropNames(et))!__hasOwnProp.call(_e,rt)&&rt!==tt&&__defProp(_e,rt,{get:()=>et[rt],enumerable:!(nt=__getOwnPropDesc(et,rt))||nt.enumerable});return _e},__toESM=(_e,et,tt)=>(tt=_e!=null?__create(__getProtoOf(_e)):{},__copyProps(et||!_e||!_e.__esModule?__defProp(tt,"default",{value:_e,enumerable:!0}):tt,_e)),require_is_object=__commonJS({"node_modules/is-object/index.js"(_e,et){et.exports=function(nt){return typeof nt=="object"&&nt!==null}}}),require_is_window=__commonJS({"node_modules/is-window/index.js"(_e,et){et.exports=function(tt){if(tt==null)return!1;var nt=Object(tt);return nt===nt.window}}}),require_is_dom=__commonJS({"node_modules/is-dom/index.js"(_e,et){var tt=require_is_object(),nt=require_is_window();function rt(it){return!tt(it)||!nt(window)||typeof window.Node!="function"?!1:typeof it.nodeType=="number"&&typeof it.nodeName=="string"}et.exports=rt}}),themes_exports={};__export(themes_exports,{chromeDark:()=>theme,chromeLight:()=>theme2});var theme={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},theme2={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},ExpandedPathsContext=reactExports.createContext([{},()=>{}]),unselectable={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},createTheme=_e=>({DOMNodePreview:{htmlOpenTag:{base:{color:_e.HTML_TAG_COLOR},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:_e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:_e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:_e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-_e.TREENODE_PADDING_LEFT},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:_e.HTML_COMMENT_COLOR},htmlDoctype:{color:_e.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:_e.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:_e.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:_e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:_e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:_e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:_e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:_e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:_e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:_e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:_e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:_e.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:_e.BASE_COLOR,backgroundColor:_e.BASE_BACKGROUND_COLOR,lineHeight:_e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:_e.TREENODE_FONT_FAMILY,fontSize:_e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...unselectable},treeNodeArrow:{base:{color:_e.ARROW_COLOR,display:"inline-block",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...parseFloat(_e.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${_e.ARROW_ANIMATION_DURATION} ease 0s`}:{},...unselectable},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:_e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:_e.BASE_COLOR,position:"relative",border:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontFamily:_e.BASE_FONT_FAMILY,fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:_e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:_e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:_e.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:_e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${_e.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:_e.TABLE_SORT_ICON_COLOR,fontSize:12,...unselectable}}),DEFAULT_THEME_NAME="chromeLight",ThemeContext=reactExports.createContext(createTheme(themes_exports[DEFAULT_THEME_NAME])),useStyles=_e=>reactExports.useContext(ThemeContext)[_e],themeAcceptor=_e=>({theme:tt=DEFAULT_THEME_NAME,...nt})=>{const rt=reactExports.useMemo(()=>{switch(Object.prototype.toString.call(tt)){case"[object String]":return createTheme(themes_exports[tt]);case"[object Object]":return createTheme(tt);default:return createTheme(themes_exports[DEFAULT_THEME_NAME])}},[tt]);return React16.createElement(ThemeContext.Provider,{value:rt},React16.createElement(_e,{...nt}))},Arrow=({expanded:_e,styles:et})=>React16.createElement("span",{style:{...et.base,..._e?et.expanded:et.collapsed}},""),TreeNode=reactExports.memo(_e=>{_e={expanded:!0,nodeRenderer:({name:ut})=>React16.createElement("span",null,ut),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,..._e};const{expanded:et,onClick:tt,children:nt,nodeRenderer:rt,title:it,shouldShowArrow:ot,shouldShowPlaceholder:at}=_e,st=useStyles("TreeNode"),lt=rt;return React16.createElement("li",{"aria-expanded":et,role:"treeitem",style:st.treeNodeBase,title:it},React16.createElement("div",{style:st.treeNodePreviewContainer,onClick:tt},ot||reactExports.Children.count(nt)>0?React16.createElement(Arrow,{expanded:et,styles:st.treeNodeArrow}):at&&React16.createElement("span",{style:st.treeNodePlaceholder},""),React16.createElement(lt,{..._e})),React16.createElement("ol",{role:"group",style:st.treeNodeChildNodesContainer},et?nt:void 0))}),DEFAULT_ROOT_PATH="$",WILDCARD="*";function hasChildNodes(_e,et){return!et(_e).next().done}var wildcardPathsFromLevel=_e=>Array.from({length:_e},(et,tt)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:tt},()=>"*")).join(".")),getExpandedPaths=(_e,et,tt,nt,rt)=>{const it=[].concat(wildcardPathsFromLevel(nt)).concat(tt).filter(at=>typeof at=="string"),ot=[];return it.forEach(at=>{const st=at.split("."),lt=(ut,ct,ft)=>{if(ft===st.length){ot.push(ct);return}const dt=st[ft];if(ft===0)hasChildNodes(ut,et)&&(dt===DEFAULT_ROOT_PATH||dt===WILDCARD)&&lt(ut,DEFAULT_ROOT_PATH,ft+1);else if(dt===WILDCARD)for(const{name:ht,data:mt}of et(ut))hasChildNodes(mt,et)&&lt(mt,`${ct}.${ht}`,ft+1);else{const ht=ut[dt];hasChildNodes(ht,et)&&lt(ht,`${ct}.${dt}`,ft+1)}};lt(_e,"",0)}),ot.reduce((at,st)=>(at[st]=!0,at),{...rt})},ConnectedTreeNode=reactExports.memo(_e=>{const{data:et,dataIterator:tt,path:nt,depth:rt,nodeRenderer:it}=_e,[ot,at]=reactExports.useContext(ExpandedPathsContext),st=hasChildNodes(et,tt),lt=!!ot[nt],ut=reactExports.useCallback(()=>st&&at(ct=>({...ct,[nt]:!lt})),[st,at,nt,lt]);return React16.createElement(TreeNode,{expanded:lt,onClick:ut,shouldShowArrow:st,shouldShowPlaceholder:rt>0,nodeRenderer:it,..._e},lt?[...tt(et)].map(({name:ct,data:ft,...dt})=>React16.createElement(ConnectedTreeNode,{name:ct,data:ft,depth:rt+1,path:`${nt}.${ct}`,key:ct,dataIterator:tt,nodeRenderer:it,...dt})):null)}),TreeView=reactExports.memo(({name:_e,data:et,dataIterator:tt,nodeRenderer:nt,expandPaths:rt,expandLevel:it})=>{const ot=useStyles("TreeView"),at=reactExports.useState({}),[,st]=at;return reactExports.useLayoutEffect(()=>st(lt=>getExpandedPaths(et,tt,rt,it,lt)),[et,tt,rt,it]),React16.createElement(ExpandedPathsContext.Provider,{value:at},React16.createElement("ol",{role:"tree",style:ot.treeViewOutline},React16.createElement(ConnectedTreeNode,{name:_e,data:et,dataIterator:tt,depth:0,path:DEFAULT_ROOT_PATH,nodeRenderer:nt})))}),ObjectName=({name:_e,dimmed:et=!1,styles:tt={}})=>{const nt=useStyles("ObjectName"),rt={...nt.base,...et?nt.dimmed:{},...tt};return React16.createElement("span",{style:rt},_e)},ObjectValue=({object:_e,styles:et})=>{const tt=useStyles("ObjectValue"),nt=rt=>({...tt[rt],...et});switch(typeof _e){case"bigint":return React16.createElement("span",{style:nt("objectValueNumber")},String(_e),"n");case"number":return React16.createElement("span",{style:nt("objectValueNumber")},String(_e));case"string":return React16.createElement("span",{style:nt("objectValueString")},'"',_e,'"');case"boolean":return React16.createElement("span",{style:nt("objectValueBoolean")},String(_e));case"undefined":return React16.createElement("span",{style:nt("objectValueUndefined")},"undefined");case"object":return _e===null?React16.createElement("span",{style:nt("objectValueNull")},"null"):_e instanceof Date?React16.createElement("span",null,_e.toString()):_e instanceof RegExp?React16.createElement("span",{style:nt("objectValueRegExp")},_e.toString()):Array.isArray(_e)?React16.createElement("span",null,`Array(${_e.length})`):_e.constructor?typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e)?React16.createElement("span",null,`Buffer[${_e.length}]`):React16.createElement("span",null,_e.constructor.name):React16.createElement("span",null,"Object");case"function":return React16.createElement("span",null,React16.createElement("span",{style:nt("objectValueFunctionPrefix")},""),React16.createElement("span",{style:nt("objectValueFunctionName")},_e.name,"()"));case"symbol":return React16.createElement("span",{style:nt("objectValueSymbol")},_e.toString());default:return React16.createElement("span",null)}},hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;function getPropertyValue(_e,et){const tt=Object.getOwnPropertyDescriptor(_e,et);if(tt.get)try{return tt.get()}catch{return tt.get}return _e[et]}function intersperse(_e,et){return _e.length===0?[]:_e.slice(1).reduce((tt,nt)=>tt.concat([et,nt]),[_e[0]])}var ObjectPreview=({data:_e})=>{const et=useStyles("ObjectPreview"),tt=_e;if(typeof tt!="object"||tt===null||tt instanceof Date||tt instanceof RegExp)return React16.createElement(ObjectValue,{object:tt});if(Array.isArray(tt)){const nt=et.arrayMaxProperties,rt=tt.slice(0,nt).map((ot,at)=>React16.createElement(ObjectValue,{key:at,object:ot}));tt.length>nt&&rt.push(React16.createElement("span",{key:"ellipsis"},""));const it=tt.length;return React16.createElement(React16.Fragment,null,React16.createElement("span",{style:et.objectDescription},it===0?"":`(${it})`),React16.createElement("span",{style:et.preview},"[",intersperse(rt,", "),"]"))}else{const nt=et.objectMaxProperties,rt=[];for(const ot in tt)if(hasOwnProperty.call(tt,ot)){let at;rt.length===nt-1&&Object.keys(tt).length>nt&&(at=React16.createElement("span",{key:"ellipsis"},""));const st=getPropertyValue(tt,ot);if(rt.push(React16.createElement("span",{key:ot},React16.createElement(ObjectName,{name:ot||'""'}),":",React16.createElement(ObjectValue,{object:st}),at)),at)break}const it=tt.constructor?tt.constructor.name:"Object";return React16.createElement(React16.Fragment,null,React16.createElement("span",{style:et.objectDescription},it==="Object"?"":`${it} `),React16.createElement("span",{style:et.preview},"{",intersperse(rt,", "),"}"))}},ObjectRootLabel=({name:_e,data:et})=>typeof _e=="string"?React16.createElement("span",null,React16.createElement(ObjectName,{name:_e}),React16.createElement("span",null,": "),React16.createElement(ObjectPreview,{data:et})):React16.createElement(ObjectPreview,{data:et}),ObjectLabel=({name:_e,data:et,isNonenumerable:tt=!1})=>{const nt=et;return React16.createElement("span",null,typeof _e=="string"?React16.createElement(ObjectName,{name:_e,dimmed:tt}):React16.createElement(ObjectPreview,{data:_e}),React16.createElement("span",null,": "),React16.createElement(ObjectValue,{object:nt}))},createIterator=(_e,et)=>function*(nt){if(!(typeof nt=="object"&&nt!==null||typeof nt=="function"))return;const it=Array.isArray(nt);if(!it&&nt[Symbol.iterator]){let ot=0;for(const at of nt){if(Array.isArray(at)&&at.length===2){const[st,lt]=at;yield{name:st,data:lt}}else yield{name:ot.toString(),data:at};ot++}}else{const ot=Object.getOwnPropertyNames(nt);et===!0&&!it?ot.sort():typeof et=="function"&&ot.sort(et);for(const at of ot)if(propertyIsEnumerable.call(nt,at)){const st=getPropertyValue(nt,at);yield{name:at||'""',data:st}}else if(_e){let st;try{st=getPropertyValue(nt,at)}catch{}st!==void 0&&(yield{name:at,data:st,isNonenumerable:!0})}_e&&nt!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(nt),isNonenumerable:!0})}},defaultNodeRenderer=({depth:_e,name:et,data:tt,isNonenumerable:nt})=>_e===0?React16.createElement(ObjectRootLabel,{name:et,data:tt}):React16.createElement(ObjectLabel,{name:et,data:tt,isNonenumerable:nt}),ObjectInspector=({showNonenumerable:_e=!1,sortObjectKeys:et,nodeRenderer:tt,...nt})=>{const rt=createIterator(_e,et),it=tt||defaultNodeRenderer;return React16.createElement(TreeView,{nodeRenderer:it,dataIterator:rt,...nt})},themedObjectInspector=themeAcceptor(ObjectInspector);__toESM(require_is_dom());function ObjectRenderer({value:_e,...et}){return jsxRuntimeExports.jsx(themedObjectInspector,{data:_e,...et})}const styles$1={border:css({border:"0.5px solid rgb(0, 0, 0)",padding:"5px",position:"relative"}),noBorder:css({padding:"5px",position:"relative"})},TableContext=reactExports.createContext({border:!0});function useTableContext(){return reactExports.useContext(TableContext)}function splitChildren$1(_e){const et=[];let tt=null;for(let nt of reactExports.Children.toArray(_e)){if(typeof nt!="object"||!reactExports.isValidElement(nt))throw console.error("Invalid Table child:",nt),new Error("invalid Table child");if(nt.type===Table.Row)et.push(nt);else if(nt.type===Table.Header)tt=nt;else throw new Error("invalid Table child")}return{Rows:et,Header:tt}}function Table(_e){const{border:et=!0,children:tt}=_e,{Header:nt,Rows:rt}=splitChildren$1(tt),it=reactExports.useMemo(()=>({border:et}),[et]);return jsx(TableContext.Provider,{value:it,children:jsxs("table",{children:[nt,jsx("tbody",{children:rt})]})})}function useRowChildren(_e){const et=[],{border:tt}=useTableContext();for(let nt of reactExports.Children.toArray(_e))if(typeof nt=="object"&&reactExports.isValidElement(nt)&&(nt.type===Color||nt.type===Boolean$1||nt.type===Text||nt.type===Number$1||nt.type===Title||nt.type===ObjectRenderer||nt.type===Header$1||nt.type===Component))nt.type===Header$1?et.push(jsx("th",{css:tt?styles$1.border:styles$1.noBorder,children:nt},nt.key)):et.push(jsx("td",{css:tt?styles$1.border:styles$1.noBorder,children:nt},nt.key));else throw console.error("Invalid Row child:",nt),new Error("invalid Row child");return{cells:et}}function Row({children:_e,border:et=!1}){const{cells:tt}=useRowChildren(_e);return jsx("tr",{style:{border:et?"1px solid black":""},children:tt})}Table.Row=Row;Table.Header=({children:_e,border:et=!1})=>jsx("thead",{children:jsx(Table.Row,{border:et,children:_e})});const tabsContext=reactExports.createContext(null);function useTabsContext(){const _e=reactExports.useContext(tabsContext);if(_e===null)throw new Error("TabsContext was not found");return _e}function TabsProvider(_e){const{children:et,opened:tt}=_e;return jsxRuntimeExports.jsx(tabsContext.Provider,{value:tt,children:et})}const styles={scroll:css({"&::-webkit-scrollbar":{height:"7px",width:"7px"},"&::-webkit-scrollbar-track":{backgroundColor:"rgba(0,0,0,.05)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.2)"}}),item:(_e,et)=>css([{padding:"0.25em 1em",border:"1px solid hsl(0deg, 0%, 80%)",fontSize:"1.125em",":hover":{backgroundColor:"hsl(0deg, 0%, 90%)"},whiteSpace:"nowrap"},_e&&{backgroundColor:"hsl(0deg, 0%, 95%)",":hover":{backgroundColor:"hsl(0deg, 0%, 90%)"}},et==="horizontal"&&{margin:"0px 2px 0px 2px",borderBottom:"none"},et==="vertical"&&{margin:"2px 0px 2px 0px",borderRight:"none"}])};function Tabs(_e){const{orientation:et="horizontal",items:tt,onClick:nt,opened:rt}=_e,it=reactExports.useMemo(()=>tt.find(({id:ot})=>ot===rt),[tt,rt]);return et==="horizontal"?jsx(TabsProvider,{opened:it,children:jsx(TabsHorizontal,{items:tt,onClick:nt})}):jsx(TabsProvider,{opened:it,children:jsx(TabsVertical,{items:tt,onClick:nt})})}function TabsItem(_e){const et=useTabsContext();return jsx("button",{type:"button",onClick:_e.onClick,css:styles.item((et==null?void 0:et.id)===_e.id,_e.orientation),children:_e.title})}function TabsVertical(_e){const{items:et,onClick:tt}=_e,nt=useTabsContext();return jsxs("div",{style:{display:"flex",flexDirection:"row",flex:"1 1 0%",overflowY:"hidden",height:"100%"},children:[jsx("div",{style:{display:"flex",flexDirection:"column",borderRight:"1px solid hsl(0deg, 0%, 80%)",overflowY:"auto"},css:styles.scroll,children:et.map(rt=>jsx(TabsItem,{orientation:"vertical",title:rt.title,id:rt.id,onClick:()=>{tt==null||tt(rt.id)}},rt.id))}),nt&&jsx("div",{style:{flex:"1 1 0%",overflowX:"auto"},children:nt.content})]})}function TabsHorizontal(_e){const{items:et,onClick:tt}=_e,nt=useTabsContext();return jsxs("div",{style:{display:"flex",flexDirection:"column",overflowX:"hidden",height:"100%"},children:[jsx("div",{style:{display:"flex",flexDirection:"row",borderBottom:"1px solid hsl(0deg, 0%, 80%)",overflowX:"auto"},css:styles.scroll,children:et.map(rt=>jsx(TabsItem,{orientation:"horizontal",id:rt.id,title:rt.title,onClick:()=>{tt==null||tt(rt.id)}},rt.id))}),nt&&jsx("div",{style:{flex:"1 1 0%",overflowX:"auto"},children:nt.content})]})}const SET_LOADING="SET_LOADING",LOAD_DROP="LOAD_DROP";function setLoading(_e,et){_e.isLoading=et}function loadDrop(_e,et){for(const tt of et)_e.files[v4()]=tt}const initialDataState={isLoading:!1,files:{}};function innerDataReducer(_e,et){switch(et.type){case SET_LOADING:return setLoading(_e,et.payload);case LOAD_DROP:return loadDrop(_e,et.payload);default:throw new Error("Unknown action type in data reducer.")}}const dataReducer=produce(innerDataReducer),INITIALIZE_PREFERENCES="INITIALIZE_PREFERENCES";function initializePreferences(_e,et){var tt;(tt=et.payload)!=null&&tt.preferences}const initialPreferencesState={};function innerPreferencesReducer(_e,et){switch(et.type){case INITIALIZE_PREFERENCES:return initializePreferences(_e,et);default:throw new Error(`Type ${et.type} is not handled.`)}}const preferencesReducer=produce(innerPreferencesReducer),OPEN_TAB="OPEN_TAB",SET_PAN_ZOOM="SET_PAN_ZOOM";function setPanZoom(_e,{identifier:et,panZoom:tt}){_e.imageViewerProps[et]=tt}function openTab(_e,et){_e.currentTab=et}const initialViewState={currentTab:void 0,imageViewerProps:{}};function innerViewReducer(_e,et){switch(et.type){case OPEN_TAB:return openTab(_e,et.payload);case SET_PAN_ZOOM:return setPanZoom(_e,et.payload);default:throw new Error("Unknown action type in view reducer.")}}const viewReducer=produce(innerViewReducer),DataContext=reactExports.createContext(initialDataState),DataProvider=DataContext.Provider;function useData(){return reactExports.useContext(DataContext)}function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(_e,et){(function(tt){_e.exports=tt()})(function(){return function tt(nt,rt,it){function ot(lt,ut){if(!rt[lt]){if(!nt[lt]){var ct=typeof commonjsRequire=="function"&&commonjsRequire;if(!ut&&ct)return ct(lt,!0);if(at)return at(lt,!0);var ft=new Error("Cannot find module '"+lt+"'");throw ft.code="MODULE_NOT_FOUND",ft}var dt=rt[lt]={exports:{}};nt[lt][0].call(dt.exports,function(ht){var mt=nt[lt][1][ht];return ot(mt||ht)},dt,dt.exports,tt,nt,rt,it)}return rt[lt].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<it.length;st++)ot(it[st]);return ot}({1:[function(tt,nt,rt){var it=tt("./utils"),ot=tt("./support"),at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";rt.encode=function(st){for(var lt,ut,ct,ft,dt,ht,mt,yt=[],pt=0,vt=st.length,gt=vt,xt=it.getTypeOf(st)!=="string";pt<st.length;)gt=vt-pt,ct=xt?(lt=st[pt++],ut=pt<vt?st[pt++]:0,pt<vt?st[pt++]:0):(lt=st.charCodeAt(pt++),ut=pt<vt?st.charCodeAt(pt++):0,pt<vt?st.charCodeAt(pt++):0),ft=lt>>2,dt=(3&lt)<<4|ut>>4,ht=1<gt?(15&ut)<<2|ct>>6:64,mt=2<gt?63&ct:64,yt.push(at.charAt(ft)+at.charAt(dt)+at.charAt(ht)+at.charAt(mt));return yt.join("")},rt.decode=function(st){var lt,ut,ct,ft,dt,ht,mt=0,yt=0,pt="data:";if(st.substr(0,pt.length)===pt)throw new Error("Invalid base64 input, it looks like a data url.");var vt,gt=3*(st=st.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(st.charAt(st.length-1)===at.charAt(64)&&gt--,st.charAt(st.length-2)===at.charAt(64)&&gt--,gt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(vt=ot.uint8array?new Uint8Array(0|gt):new Array(0|gt);mt<st.length;)lt=at.indexOf(st.charAt(mt++))<<2|(ft=at.indexOf(st.charAt(mt++)))>>4,ut=(15&ft)<<4|(dt=at.indexOf(st.charAt(mt++)))>>2,ct=(3&dt)<<6|(ht=at.indexOf(st.charAt(mt++))),vt[yt++]=lt,dt!==64&&(vt[yt++]=ut),ht!==64&&(vt[yt++]=ct);return vt}},{"./support":30,"./utils":32}],2:[function(tt,nt,rt){var it=tt("./external"),ot=tt("./stream/DataWorker"),at=tt("./stream/Crc32Probe"),st=tt("./stream/DataLengthProbe");function lt(ut,ct,ft,dt,ht){this.compressedSize=ut,this.uncompressedSize=ct,this.crc32=ft,this.compression=dt,this.compressedContent=ht}lt.prototype={getContentWorker:function(){var ut=new ot(it.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new st("data_length")),ct=this;return ut.on("end",function(){if(this.streamInfo.data_length!==ct.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ut},getCompressedWorker:function(){return new ot(it.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},lt.createWorkerFrom=function(ut,ct,ft){return ut.pipe(new at).pipe(new st("uncompressedSize")).pipe(ct.compressWorker(ft)).pipe(new st("compressedSize")).withStreamInfo("compression",ct)},nt.exports=lt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(tt,nt,rt){var it=tt("./stream/GenericWorker");rt.STORE={magic:"\0\0",compressWorker:function(){return new it("STORE compression")},uncompressWorker:function(){return new it("STORE decompression")}},rt.DEFLATE=tt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(tt,nt,rt){var it=tt("./utils"),ot=function(){for(var at,st=[],lt=0;lt<256;lt++){at=lt;for(var ut=0;ut<8;ut++)at=1&at?3988292384^at>>>1:at>>>1;st[lt]=at}return st}();nt.exports=function(at,st){return at!==void 0&&at.length?it.getTypeOf(at)!=="string"?function(lt,ut,ct,ft){var dt=ot,ht=ft+ct;lt^=-1;for(var mt=ft;mt<ht;mt++)lt=lt>>>8^dt[255&(lt^ut[mt])];return-1^lt}(0|st,at,at.length,0):function(lt,ut,ct,ft){var dt=ot,ht=ft+ct;lt^=-1;for(var mt=ft;mt<ht;mt++)lt=lt>>>8^dt[255&(lt^ut.charCodeAt(mt))];return-1^lt}(0|st,at,at.length,0):0}},{"./utils":32}],5:[function(tt,nt,rt){rt.base64=!1,rt.binary=!1,rt.dir=!1,rt.createFolders=!0,rt.date=null,rt.compression=null,rt.compressionOptions=null,rt.comment=null,rt.unixPermissions=null,rt.dosPermissions=null},{}],6:[function(tt,nt,rt){var it=null;it=typeof Promise<"u"?Promise:tt("lie"),nt.exports={Promise:it}},{lie:37}],7:[function(tt,nt,rt){var it=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",ot=tt("pako"),at=tt("./utils"),st=tt("./stream/GenericWorker"),lt=it?"uint8array":"array";function ut(ct,ft){st.call(this,"FlateWorker/"+ct),this._pako=null,this._pakoAction=ct,this._pakoOptions=ft,this.meta={}}rt.magic="\b\0",at.inherits(ut,st),ut.prototype.processChunk=function(ct){this.meta=ct.meta,this._pako===null&&this._createPako(),this._pako.push(at.transformTo(lt,ct.data),!1)},ut.prototype.flush=function(){st.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ut.prototype.cleanUp=function(){st.prototype.cleanUp.call(this),this._pako=null},ut.prototype._createPako=function(){this._pako=new ot[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ct=this;this._pako.onData=function(ft){ct.push({data:ft,meta:ct.meta})}},rt.compressWorker=function(ct){return new ut("Deflate",ct)},rt.uncompressWorker=function(){return new ut("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(tt,nt,rt){function it(dt,ht){var mt,yt="";for(mt=0;mt<ht;mt++)yt+=String.fromCharCode(255&dt),dt>>>=8;return yt}function ot(dt,ht,mt,yt,pt,vt){var gt,xt,wt=dt.file,bt=dt.compression,St=vt!==lt.utf8encode,kt=at.transformTo("string",vt(wt.name)),Rt=at.transformTo("string",lt.utf8encode(wt.name)),Et=wt.comment,At=at.transformTo("string",vt(Et)),Tt=at.transformTo("string",lt.utf8encode(Et)),It=Rt.length!==wt.name.length,_t=Tt.length!==Et.length,Pt="",Zt="",Ht="",zt=wt.dir,jt=wt.date,Wt={crc32:0,compressedSize:0,uncompressedSize:0};ht&&!mt||(Wt.crc32=dt.crc32,Wt.compressedSize=dt.compressedSize,Wt.uncompressedSize=dt.uncompressedSize);var Nt=0;ht&&(Nt|=8),St||!It&&!_t||(Nt|=2048);var Lt=0,Jt=0;zt&&(Lt|=16),pt==="UNIX"?(Jt=798,Lt|=function(Kt,dn){var gn=Kt;return Kt||(gn=dn?16893:33204),(65535&gn)<<16}(wt.unixPermissions,zt)):(Jt=20,Lt|=function(Kt){return 63&(Kt||0)}(wt.dosPermissions)),gt=jt.getUTCHours(),gt<<=6,gt|=jt.getUTCMinutes(),gt<<=5,gt|=jt.getUTCSeconds()/2,xt=jt.getUTCFullYear()-1980,xt<<=4,xt|=jt.getUTCMonth()+1,xt<<=5,xt|=jt.getUTCDate(),It&&(Zt=it(1,1)+it(ut(kt),4)+Rt,Pt+="up"+it(Zt.length,2)+Zt),_t&&(Ht=it(1,1)+it(ut(At),4)+Tt,Pt+="uc"+it(Ht.length,2)+Ht);var qt="";return qt+=`
\0`,qt+=it(Nt,2),qt+=bt.magic,qt+=it(gt,2),qt+=it(xt,2),qt+=it(Wt.crc32,4),qt+=it(Wt.compressedSize,4),qt+=it(Wt.uncompressedSize,4),qt+=it(kt.length,2),qt+=it(Pt.length,2),{fileRecord:ct.LOCAL_FILE_HEADER+qt+kt+Pt,dirRecord:ct.CENTRAL_FILE_HEADER+it(Jt,2)+qt+it(At.length,2)+"\0\0\0\0"+it(Lt,4)+it(yt,4)+kt+Pt+At}}var at=tt("../utils"),st=tt("../stream/GenericWorker"),lt=tt("../utf8"),ut=tt("../crc32"),ct=tt("../signature");function ft(dt,ht,mt,yt){st.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ht,this.zipPlatform=mt,this.encodeFileName=yt,this.streamFiles=dt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}at.inherits(ft,st),ft.prototype.push=function(dt){var ht=dt.meta.percent||0,mt=this.entriesCount,yt=this._sources.length;this.accumulate?this.contentBuffer.push(dt):(this.bytesWritten+=dt.data.length,st.prototype.push.call(this,{data:dt.data,meta:{currentFile:this.currentFile,percent:mt?(ht+100*(mt-yt-1))/mt:100}}))},ft.prototype.openedSource=function(dt){this.currentSourceOffset=this.bytesWritten,this.currentFile=dt.file.name;var ht=this.streamFiles&&!dt.file.dir;if(ht){var mt=ot(dt,ht,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:mt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ft.prototype.closedSource=function(dt){this.accumulate=!1;var ht=this.streamFiles&&!dt.file.dir,mt=ot(dt,ht,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(mt.dirRecord),ht)this.push({data:function(yt){return ct.DATA_DESCRIPTOR+it(yt.crc32,4)+it(yt.compressedSize,4)+it(yt.uncompressedSize,4)}(dt),meta:{percent:100}});else for(this.push({data:mt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ft.prototype.flush=function(){for(var dt=this.bytesWritten,ht=0;ht<this.dirRecords.length;ht++)this.push({data:this.dirRecords[ht],meta:{percent:100}});var mt=this.bytesWritten-dt,yt=function(pt,vt,gt,xt,wt){var bt=at.transformTo("string",wt(xt));return ct.CENTRAL_DIRECTORY_END+"\0\0\0\0"+it(pt,2)+it(pt,2)+it(vt,4)+it(gt,4)+it(bt.length,2)+bt}(this.dirRecords.length,mt,dt,this.zipComment,this.encodeFileName);this.push({data:yt,meta:{percent:100}})},ft.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ft.prototype.registerPrevious=function(dt){this._sources.push(dt);var ht=this;return dt.on("data",function(mt){ht.processChunk(mt)}),dt.on("end",function(){ht.closedSource(ht.previous.streamInfo),ht._sources.length?ht.prepareNextSource():ht.end()}),dt.on("error",function(mt){ht.error(mt)}),this},ft.prototype.resume=function(){return!!st.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ft.prototype.error=function(dt){var ht=this._sources;if(!st.prototype.error.call(this,dt))return!1;for(var mt=0;mt<ht.length;mt++)try{ht[mt].error(dt)}catch{}return!0},ft.prototype.lock=function(){st.prototype.lock.call(this);for(var dt=this._sources,ht=0;ht<dt.length;ht++)dt[ht].lock()},nt.exports=ft},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(tt,nt,rt){var it=tt("../compressions"),ot=tt("./ZipFileWorker");rt.generateWorker=function(at,st,lt){var ut=new ot(st.streamFiles,lt,st.platform,st.encodeFileName),ct=0;try{at.forEach(function(ft,dt){ct++;var ht=function(vt,gt){var xt=vt||gt,wt=it[xt];if(!wt)throw new Error(xt+" is not a valid compression method !");return wt}(dt.options.compression,st.compression),mt=dt.options.compressionOptions||st.compressionOptions||{},yt=dt.dir,pt=dt.date;dt._compressWorker(ht,mt).withStreamInfo("file",{name:ft,dir:yt,date:pt,comment:dt.comment||"",unixPermissions:dt.unixPermissions,dosPermissions:dt.dosPermissions}).pipe(ut)}),ut.entriesCount=ct}catch(ft){ut.error(ft)}return ut}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(tt,nt,rt){function it(){if(!(this instanceof it))return new it;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var ot=new it;for(var at in this)typeof this[at]!="function"&&(ot[at]=this[at]);return ot}}(it.prototype=tt("./object")).loadAsync=tt("./load"),it.support=tt("./support"),it.defaults=tt("./defaults"),it.version="3.10.1",it.loadAsync=function(ot,at){return new it().loadAsync(ot,at)},it.external=tt("./external"),nt.exports=it},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(tt,nt,rt){var it=tt("./utils"),ot=tt("./external"),at=tt("./utf8"),st=tt("./zipEntries"),lt=tt("./stream/Crc32Probe"),ut=tt("./nodejsUtils");function ct(ft){return new ot.Promise(function(dt,ht){var mt=ft.decompressed.getContentWorker().pipe(new lt);mt.on("error",function(yt){ht(yt)}).on("end",function(){mt.streamInfo.crc32!==ft.decompressed.crc32?ht(new Error("Corrupted zip : CRC32 mismatch")):dt()}).resume()})}nt.exports=function(ft,dt){var ht=this;return dt=it.extend(dt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:at.utf8decode}),ut.isNode&&ut.isStream(ft)?ot.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):it.prepareContent("the loaded zip file",ft,!0,dt.optimizedBinaryString,dt.base64).then(function(mt){var yt=new st(dt);return yt.load(mt),yt}).then(function(mt){var yt=[ot.Promise.resolve(mt)],pt=mt.files;if(dt.checkCRC32)for(var vt=0;vt<pt.length;vt++)yt.push(ct(pt[vt]));return ot.Promise.all(yt)}).then(function(mt){for(var yt=mt.shift(),pt=yt.files,vt=0;vt<pt.length;vt++){var gt=pt[vt],xt=gt.fileNameStr,wt=it.resolve(gt.fileNameStr);ht.file(wt,gt.decompressed,{binary:!0,optimizedBinaryString:!0,date:gt.date,dir:gt.dir,comment:gt.fileCommentStr.length?gt.fileCommentStr:null,unixPermissions:gt.unixPermissions,dosPermissions:gt.dosPermissions,createFolders:dt.createFolders}),gt.dir||(ht.file(wt).unsafeOriginalName=xt)}return yt.zipComment.length&&(ht.comment=yt.zipComment),ht})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(tt,nt,rt){var it=tt("../utils"),ot=tt("../stream/GenericWorker");function at(st,lt){ot.call(this,"Nodejs stream input adapter for "+st),this._upstreamEnded=!1,this._bindStream(lt)}it.inherits(at,ot),at.prototype._bindStream=function(st){var lt=this;(this._stream=st).pause(),st.on("data",function(ut){lt.push({data:ut,meta:{percent:0}})}).on("error",function(ut){lt.isPaused?this.generatedError=ut:lt.error(ut)}).on("end",function(){lt.isPaused?lt._upstreamEnded=!0:lt.end()})},at.prototype.pause=function(){return!!ot.prototype.pause.call(this)&&(this._stream.pause(),!0)},at.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},nt.exports=at},{"../stream/GenericWorker":28,"../utils":32}],13:[function(tt,nt,rt){var it=tt("readable-stream").Readable;function ot(at,st,lt){it.call(this,st),this._helper=at;var ut=this;at.on("data",function(ct,ft){ut.push(ct)||ut._helper.pause(),lt&&lt(ft)}).on("error",function(ct){ut.emit("error",ct)}).on("end",function(){ut.push(null)})}tt("../utils").inherits(ot,it),ot.prototype._read=function(){this._helper.resume()},nt.exports=ot},{"../utils":32,"readable-stream":16}],14:[function(tt,nt,rt){nt.exports={isNode:typeof Buffer<"u",newBufferFrom:function(it,ot){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(it,ot);if(typeof it=="number")throw new Error('The "data" argument must not be a number');return new Buffer(it,ot)},allocBuffer:function(it){if(Buffer.alloc)return Buffer.alloc(it);var ot=new Buffer(it);return ot.fill(0),ot},isBuffer:function(it){return Buffer.isBuffer(it)},isStream:function(it){return it&&typeof it.on=="function"&&typeof it.pause=="function"&&typeof it.resume=="function"}}},{}],15:[function(tt,nt,rt){function it(wt,bt,St){var kt,Rt=at.getTypeOf(bt),Et=at.extend(St||{},ut);Et.date=Et.date||new Date,Et.compression!==null&&(Et.compression=Et.compression.toUpperCase()),typeof Et.unixPermissions=="string"&&(Et.unixPermissions=parseInt(Et.unixPermissions,8)),Et.unixPermissions&&16384&Et.unixPermissions&&(Et.dir=!0),Et.dosPermissions&&16&Et.dosPermissions&&(Et.dir=!0),Et.dir&&(wt=pt(wt)),Et.createFolders&&(kt=yt(wt))&&vt.call(this,kt,!0);var At=Rt==="string"&&Et.binary===!1&&Et.base64===!1;St&&St.binary!==void 0||(Et.binary=!At),(bt instanceof ct&&bt.uncompressedSize===0||Et.dir||!bt||bt.length===0)&&(Et.base64=!1,Et.binary=!0,bt="",Et.compression="STORE",Rt="string");var Tt=null;Tt=bt instanceof ct||bt instanceof st?bt:ht.isNode&&ht.isStream(bt)?new mt(wt,bt):at.prepareContent(wt,bt,Et.binary,Et.optimizedBinaryString,Et.base64);var It=new ft(wt,Tt,Et);this.files[wt]=It}var ot=tt("./utf8"),at=tt("./utils"),st=tt("./stream/GenericWorker"),lt=tt("./stream/StreamHelper"),ut=tt("./defaults"),ct=tt("./compressedObject"),ft=tt("./zipObject"),dt=tt("./generate"),ht=tt("./nodejsUtils"),mt=tt("./nodejs/NodejsStreamInputAdapter"),yt=function(wt){wt.slice(-1)==="/"&&(wt=wt.substring(0,wt.length-1));var bt=wt.lastIndexOf("/");return 0<bt?wt.substring(0,bt):""},pt=function(wt){return wt.slice(-1)!=="/"&&(wt+="/"),wt},vt=function(wt,bt){return bt=bt!==void 0?bt:ut.createFolders,wt=pt(wt),this.files[wt]||it.call(this,wt,null,{dir:!0,createFolders:bt}),this.files[wt]};function gt(wt){return Object.prototype.toString.call(wt)==="[object RegExp]"}var xt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(wt){var bt,St,kt;for(bt in this.files)kt=this.files[bt],(St=bt.slice(this.root.length,bt.length))&&bt.slice(0,this.root.length)===this.root&&wt(St,kt)},filter:function(wt){var bt=[];return this.forEach(function(St,kt){wt(St,kt)&&bt.push(kt)}),bt},file:function(wt,bt,St){if(arguments.length!==1)return wt=this.root+wt,it.call(this,wt,bt,St),this;if(gt(wt)){var kt=wt;return this.filter(function(Et,At){return!At.dir&&kt.test(Et)})}var Rt=this.files[this.root+wt];return Rt&&!Rt.dir?Rt:null},folder:function(wt){if(!wt)return this;if(gt(wt))return this.filter(function(Rt,Et){return Et.dir&&wt.test(Rt)});var bt=this.root+wt,St=vt.call(this,bt),kt=this.clone();return kt.root=St.name,kt},remove:function(wt){wt=this.root+wt;var bt=this.files[wt];if(bt||(wt.slice(-1)!=="/"&&(wt+="/"),bt=this.files[wt]),bt&&!bt.dir)delete this.files[wt];else for(var St=this.filter(function(Rt,Et){return Et.name.slice(0,wt.length)===wt}),kt=0;kt<St.length;kt++)delete this.files[St[kt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(wt){var bt,St={};try{if((St=at.extend(wt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ot.utf8encode})).type=St.type.toLowerCase(),St.compression=St.compression.toUpperCase(),St.type==="binarystring"&&(St.type="string"),!St.type)throw new Error("No output type specified.");at.checkSupport(St.type),St.platform!=="darwin"&&St.platform!=="freebsd"&&St.platform!=="linux"&&St.platform!=="sunos"||(St.platform="UNIX"),St.platform==="win32"&&(St.platform="DOS");var kt=St.comment||this.comment||"";bt=dt.generateWorker(this,St,kt)}catch(Rt){(bt=new st("error")).error(Rt)}return new lt(bt,St.type||"string",St.mimeType)},generateAsync:function(wt,bt){return this.generateInternalStream(wt).accumulate(bt)},generateNodeStream:function(wt,bt){return(wt=wt||{}).type||(wt.type="nodebuffer"),this.generateInternalStream(wt).toNodejsStream(bt)}};nt.exports=xt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(tt,nt,rt){nt.exports=tt("stream")},{stream:void 0}],17:[function(tt,nt,rt){var it=tt("./DataReader");function ot(at){it.call(this,at);for(var st=0;st<this.data.length;st++)at[st]=255&at[st]}tt("../utils").inherits(ot,it),ot.prototype.byteAt=function(at){return this.data[this.zero+at]},ot.prototype.lastIndexOfSignature=function(at){for(var st=at.charCodeAt(0),lt=at.charCodeAt(1),ut=at.charCodeAt(2),ct=at.charCodeAt(3),ft=this.length-4;0<=ft;--ft)if(this.data[ft]===st&&this.data[ft+1]===lt&&this.data[ft+2]===ut&&this.data[ft+3]===ct)return ft-this.zero;return-1},ot.prototype.readAndCheckSignature=function(at){var st=at.charCodeAt(0),lt=at.charCodeAt(1),ut=at.charCodeAt(2),ct=at.charCodeAt(3),ft=this.readData(4);return st===ft[0]&&lt===ft[1]&&ut===ft[2]&&ct===ft[3]},ot.prototype.readData=function(at){if(this.checkOffset(at),at===0)return[];var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},nt.exports=ot},{"../utils":32,"./DataReader":18}],18:[function(tt,nt,rt){var it=tt("../utils");function ot(at){this.data=at,this.length=at.length,this.index=0,this.zero=0}ot.prototype={checkOffset:function(at){this.checkIndex(this.index+at)},checkIndex:function(at){if(this.length<this.zero+at||at<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+at+"). Corrupted zip ?")},setIndex:function(at){this.checkIndex(at),this.index=at},skip:function(at){this.setIndex(this.index+at)},byteAt:function(){},readInt:function(at){var st,lt=0;for(this.checkOffset(at),st=this.index+at-1;st>=this.index;st--)lt=(lt<<8)+this.byteAt(st);return this.index+=at,lt},readString:function(at){return it.transformTo("string",this.readData(at))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var at=this.readInt(4);return new Date(Date.UTC(1980+(at>>25&127),(at>>21&15)-1,at>>16&31,at>>11&31,at>>5&63,(31&at)<<1))}},nt.exports=ot},{"../utils":32}],19:[function(tt,nt,rt){var it=tt("./Uint8ArrayReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.readData=function(at){this.checkOffset(at);var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},nt.exports=ot},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(tt,nt,rt){var it=tt("./DataReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.byteAt=function(at){return this.data.charCodeAt(this.zero+at)},ot.prototype.lastIndexOfSignature=function(at){return this.data.lastIndexOf(at)-this.zero},ot.prototype.readAndCheckSignature=function(at){return at===this.readData(4)},ot.prototype.readData=function(at){this.checkOffset(at);var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},nt.exports=ot},{"../utils":32,"./DataReader":18}],21:[function(tt,nt,rt){var it=tt("./ArrayReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.readData=function(at){if(this.checkOffset(at),at===0)return new Uint8Array(0);var st=this.data.subarray(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},nt.exports=ot},{"../utils":32,"./ArrayReader":17}],22:[function(tt,nt,rt){var it=tt("../utils"),ot=tt("../support"),at=tt("./ArrayReader"),st=tt("./StringReader"),lt=tt("./NodeBufferReader"),ut=tt("./Uint8ArrayReader");nt.exports=function(ct){var ft=it.getTypeOf(ct);return it.checkSupport(ft),ft!=="string"||ot.uint8array?ft==="nodebuffer"?new lt(ct):ot.uint8array?new ut(it.transformTo("uint8array",ct)):new at(it.transformTo("array",ct)):new st(ct)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(tt,nt,rt){rt.LOCAL_FILE_HEADER="PK",rt.CENTRAL_FILE_HEADER="PK",rt.CENTRAL_DIRECTORY_END="PK",rt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",rt.ZIP64_CENTRAL_DIRECTORY_END="PK",rt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(tt,nt,rt){var it=tt("./GenericWorker"),ot=tt("../utils");function at(st){it.call(this,"ConvertWorker to "+st),this.destType=st}ot.inherits(at,it),at.prototype.processChunk=function(st){this.push({data:ot.transformTo(this.destType,st.data),meta:st.meta})},nt.exports=at},{"../utils":32,"./GenericWorker":28}],25:[function(tt,nt,rt){var it=tt("./GenericWorker"),ot=tt("../crc32");function at(){it.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}tt("../utils").inherits(at,it),at.prototype.processChunk=function(st){this.streamInfo.crc32=ot(st.data,this.streamInfo.crc32||0),this.push(st)},nt.exports=at},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(tt,nt,rt){var it=tt("../utils"),ot=tt("./GenericWorker");function at(st){ot.call(this,"DataLengthProbe for "+st),this.propName=st,this.withStreamInfo(st,0)}it.inherits(at,ot),at.prototype.processChunk=function(st){if(st){var lt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=lt+st.data.length}ot.prototype.processChunk.call(this,st)},nt.exports=at},{"../utils":32,"./GenericWorker":28}],27:[function(tt,nt,rt){var it=tt("../utils"),ot=tt("./GenericWorker");function at(st){ot.call(this,"DataWorker");var lt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,st.then(function(ut){lt.dataIsReady=!0,lt.data=ut,lt.max=ut&&ut.length||0,lt.type=it.getTypeOf(ut),lt.isPaused||lt._tickAndRepeat()},function(ut){lt.error(ut)})}it.inherits(at,ot),at.prototype.cleanUp=function(){ot.prototype.cleanUp.call(this),this.data=null},at.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,it.delay(this._tickAndRepeat,[],this)),!0)},at.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(it.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},at.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var st=null,lt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":st=this.data.substring(this.index,lt);break;case"uint8array":st=this.data.subarray(this.index,lt);break;case"array":case"nodebuffer":st=this.data.slice(this.index,lt)}return this.index=lt,this.push({data:st,meta:{percent:this.max?this.index/this.max*100:0}})},nt.exports=at},{"../utils":32,"./GenericWorker":28}],28:[function(tt,nt,rt){function it(ot){this.name=ot||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}it.prototype={push:function(ot){this.emit("data",ot)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(ot){this.emit("error",ot)}return!0},error:function(ot){return!this.isFinished&&(this.isPaused?this.generatedError=ot:(this.isFinished=!0,this.emit("error",ot),this.previous&&this.previous.error(ot),this.cleanUp()),!0)},on:function(ot,at){return this._listeners[ot].push(at),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(ot,at){if(this._listeners[ot])for(var st=0;st<this._listeners[ot].length;st++)this._listeners[ot][st].call(this,at)},pipe:function(ot){return ot.registerPrevious(this)},registerPrevious:function(ot){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=ot.streamInfo,this.mergeStreamInfo(),this.previous=ot;var at=this;return ot.on("data",function(st){at.processChunk(st)}),ot.on("end",function(){at.end()}),ot.on("error",function(st){at.error(st)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var ot=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),ot=!0),this.previous&&this.previous.resume(),!ot},flush:function(){},processChunk:function(ot){this.push(ot)},withStreamInfo:function(ot,at){return this.extraStreamInfo[ot]=at,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var ot in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,ot)&&(this.streamInfo[ot]=this.extraStreamInfo[ot])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var ot="Worker "+this.name;return this.previous?this.previous+" -> "+ot:ot}},nt.exports=it},{}],29:[function(tt,nt,rt){var it=tt("../utils"),ot=tt("./ConvertWorker"),at=tt("./GenericWorker"),st=tt("../base64"),lt=tt("../support"),ut=tt("../external"),ct=null;if(lt.nodestream)try{ct=tt("../nodejs/NodejsStreamOutputAdapter")}catch{}function ft(ht,mt){return new ut.Promise(function(yt,pt){var vt=[],gt=ht._internalType,xt=ht._outputType,wt=ht._mimeType;ht.on("data",function(bt,St){vt.push(bt),mt&&mt(St)}).on("error",function(bt){vt=[],pt(bt)}).on("end",function(){try{var bt=function(St,kt,Rt){switch(St){case"blob":return it.newBlob(it.transformTo("arraybuffer",kt),Rt);case"base64":return st.encode(kt);default:return it.transformTo(St,kt)}}(xt,function(St,kt){var Rt,Et=0,At=null,Tt=0;for(Rt=0;Rt<kt.length;Rt++)Tt+=kt[Rt].length;switch(St){case"string":return kt.join("");case"array":return Array.prototype.concat.apply([],kt);case"uint8array":for(At=new Uint8Array(Tt),Rt=0;Rt<kt.length;Rt++)At.set(kt[Rt],Et),Et+=kt[Rt].length;return At;case"nodebuffer":return Buffer.concat(kt);default:throw new Error("concat : unsupported type '"+St+"'")}}(gt,vt),wt);yt(bt)}catch(St){pt(St)}vt=[]}).resume()})}function dt(ht,mt,yt){var pt=mt;switch(mt){case"blob":case"arraybuffer":pt="uint8array";break;case"base64":pt="string"}try{this._internalType=pt,this._outputType=mt,this._mimeType=yt,it.checkSupport(pt),this._worker=ht.pipe(new ot(pt)),ht.lock()}catch(vt){this._worker=new at("error"),this._worker.error(vt)}}dt.prototype={accumulate:function(ht){return ft(this,ht)},on:function(ht,mt){var yt=this;return ht==="data"?this._worker.on(ht,function(pt){mt.call(yt,pt.data,pt.meta)}):this._worker.on(ht,function(){it.delay(mt,arguments,yt)}),this},resume:function(){return it.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ht){if(it.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ct(this,{objectMode:this._outputType!=="nodebuffer"},ht)}},nt.exports=dt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(tt,nt,rt){if(rt.base64=!0,rt.array=!0,rt.string=!0,rt.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",rt.nodebuffer=typeof Buffer<"u",rt.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")rt.blob=!1;else{var it=new ArrayBuffer(0);try{rt.blob=new Blob([it],{type:"application/zip"}).size===0}catch{try{var ot=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);ot.append(it),rt.blob=ot.getBlob("application/zip").size===0}catch{rt.blob=!1}}}try{rt.nodestream=!!tt("readable-stream").Readable}catch{rt.nodestream=!1}},{"readable-stream":16}],31:[function(tt,nt,rt){for(var it=tt("./utils"),ot=tt("./support"),at=tt("./nodejsUtils"),st=tt("./stream/GenericWorker"),lt=new Array(256),ut=0;ut<256;ut++)lt[ut]=252<=ut?6:248<=ut?5:240<=ut?4:224<=ut?3:192<=ut?2:1;lt[254]=lt[254]=1;function ct(){st.call(this,"utf-8 decode"),this.leftOver=null}function ft(){st.call(this,"utf-8 encode")}rt.utf8encode=function(dt){return ot.nodebuffer?at.newBufferFrom(dt,"utf-8"):function(ht){var mt,yt,pt,vt,gt,xt=ht.length,wt=0;for(vt=0;vt<xt;vt++)(64512&(yt=ht.charCodeAt(vt)))==55296&&vt+1<xt&&(64512&(pt=ht.charCodeAt(vt+1)))==56320&&(yt=65536+(yt-55296<<10)+(pt-56320),vt++),wt+=yt<128?1:yt<2048?2:yt<65536?3:4;for(mt=ot.uint8array?new Uint8Array(wt):new Array(wt),vt=gt=0;gt<wt;vt++)(64512&(yt=ht.charCodeAt(vt)))==55296&&vt+1<xt&&(64512&(pt=ht.charCodeAt(vt+1)))==56320&&(yt=65536+(yt-55296<<10)+(pt-56320),vt++),yt<128?mt[gt++]=yt:(yt<2048?mt[gt++]=192|yt>>>6:(yt<65536?mt[gt++]=224|yt>>>12:(mt[gt++]=240|yt>>>18,mt[gt++]=128|yt>>>12&63),mt[gt++]=128|yt>>>6&63),mt[gt++]=128|63&yt);return mt}(dt)},rt.utf8decode=function(dt){return ot.nodebuffer?it.transformTo("nodebuffer",dt).toString("utf-8"):function(ht){var mt,yt,pt,vt,gt=ht.length,xt=new Array(2*gt);for(mt=yt=0;mt<gt;)if((pt=ht[mt++])<128)xt[yt++]=pt;else if(4<(vt=lt[pt]))xt[yt++]=65533,mt+=vt-1;else{for(pt&=vt===2?31:vt===3?15:7;1<vt&&mt<gt;)pt=pt<<6|63&ht[mt++],vt--;1<vt?xt[yt++]=65533:pt<65536?xt[yt++]=pt:(pt-=65536,xt[yt++]=55296|pt>>10&1023,xt[yt++]=56320|1023&pt)}return xt.length!==yt&&(xt.subarray?xt=xt.subarray(0,yt):xt.length=yt),it.applyFromCharCode(xt)}(dt=it.transformTo(ot.uint8array?"uint8array":"array",dt))},it.inherits(ct,st),ct.prototype.processChunk=function(dt){var ht=it.transformTo(ot.uint8array?"uint8array":"array",dt.data);if(this.leftOver&&this.leftOver.length){if(ot.uint8array){var mt=ht;(ht=new Uint8Array(mt.length+this.leftOver.length)).set(this.leftOver,0),ht.set(mt,this.leftOver.length)}else ht=this.leftOver.concat(ht);this.leftOver=null}var yt=function(vt,gt){var xt;for((gt=gt||vt.length)>vt.length&&(gt=vt.length),xt=gt-1;0<=xt&&(192&vt[xt])==128;)xt--;return xt<0||xt===0?gt:xt+lt[vt[xt]]>gt?xt:gt}(ht),pt=ht;yt!==ht.length&&(ot.uint8array?(pt=ht.subarray(0,yt),this.leftOver=ht.subarray(yt,ht.length)):(pt=ht.slice(0,yt),this.leftOver=ht.slice(yt,ht.length))),this.push({data:rt.utf8decode(pt),meta:dt.meta})},ct.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:rt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},rt.Utf8DecodeWorker=ct,it.inherits(ft,st),ft.prototype.processChunk=function(dt){this.push({data:rt.utf8encode(dt.data),meta:dt.meta})},rt.Utf8EncodeWorker=ft},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(tt,nt,rt){var it=tt("./support"),ot=tt("./base64"),at=tt("./nodejsUtils"),st=tt("./external");function lt(mt){return mt}function ut(mt,yt){for(var pt=0;pt<mt.length;++pt)yt[pt]=255&mt.charCodeAt(pt);return yt}tt("setimmediate"),rt.newBlob=function(mt,yt){rt.checkSupport("blob");try{return new Blob([mt],{type:yt})}catch{try{var pt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return pt.append(mt),pt.getBlob(yt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ct={stringifyByChunk:function(mt,yt,pt){var vt=[],gt=0,xt=mt.length;if(xt<=pt)return String.fromCharCode.apply(null,mt);for(;gt<xt;)yt==="array"||yt==="nodebuffer"?vt.push(String.fromCharCode.apply(null,mt.slice(gt,Math.min(gt+pt,xt)))):vt.push(String.fromCharCode.apply(null,mt.subarray(gt,Math.min(gt+pt,xt)))),gt+=pt;return vt.join("")},stringifyByChar:function(mt){for(var yt="",pt=0;pt<mt.length;pt++)yt+=String.fromCharCode(mt[pt]);return yt},applyCanBeUsed:{uint8array:function(){try{return it.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return it.nodebuffer&&String.fromCharCode.apply(null,at.allocBuffer(1)).length===1}catch{return!1}}()}};function ft(mt){var yt=65536,pt=rt.getTypeOf(mt),vt=!0;if(pt==="uint8array"?vt=ct.applyCanBeUsed.uint8array:pt==="nodebuffer"&&(vt=ct.applyCanBeUsed.nodebuffer),vt)for(;1<yt;)try{return ct.stringifyByChunk(mt,pt,yt)}catch{yt=Math.floor(yt/2)}return ct.stringifyByChar(mt)}function dt(mt,yt){for(var pt=0;pt<mt.length;pt++)yt[pt]=mt[pt];return yt}rt.applyFromCharCode=ft;var ht={};ht.string={string:lt,array:function(mt){return ut(mt,new Array(mt.length))},arraybuffer:function(mt){return ht.string.uint8array(mt).buffer},uint8array:function(mt){return ut(mt,new Uint8Array(mt.length))},nodebuffer:function(mt){return ut(mt,at.allocBuffer(mt.length))}},ht.array={string:ft,array:lt,arraybuffer:function(mt){return new Uint8Array(mt).buffer},uint8array:function(mt){return new Uint8Array(mt)},nodebuffer:function(mt){return at.newBufferFrom(mt)}},ht.arraybuffer={string:function(mt){return ft(new Uint8Array(mt))},array:function(mt){return dt(new Uint8Array(mt),new Array(mt.byteLength))},arraybuffer:lt,uint8array:function(mt){return new Uint8Array(mt)},nodebuffer:function(mt){return at.newBufferFrom(new Uint8Array(mt))}},ht.uint8array={string:ft,array:function(mt){return dt(mt,new Array(mt.length))},arraybuffer:function(mt){return mt.buffer},uint8array:lt,nodebuffer:function(mt){return at.newBufferFrom(mt)}},ht.nodebuffer={string:ft,array:function(mt){return dt(mt,new Array(mt.length))},arraybuffer:function(mt){return ht.nodebuffer.uint8array(mt).buffer},uint8array:function(mt){return dt(mt,new Uint8Array(mt.length))},nodebuffer:lt},rt.transformTo=function(mt,yt){if(yt=yt||"",!mt)return yt;rt.checkSupport(mt);var pt=rt.getTypeOf(yt);return ht[pt][mt](yt)},rt.resolve=function(mt){for(var yt=mt.split("/"),pt=[],vt=0;vt<yt.length;vt++){var gt=yt[vt];gt==="."||gt===""&&vt!==0&&vt!==yt.length-1||(gt===".."?pt.pop():pt.push(gt))}return pt.join("/")},rt.getTypeOf=function(mt){return typeof mt=="string"?"string":Object.prototype.toString.call(mt)==="[object Array]"?"array":it.nodebuffer&&at.isBuffer(mt)?"nodebuffer":it.uint8array&&mt instanceof Uint8Array?"uint8array":it.arraybuffer&&mt instanceof ArrayBuffer?"arraybuffer":void 0},rt.checkSupport=function(mt){if(!it[mt.toLowerCase()])throw new Error(mt+" is not supported by this platform")},rt.MAX_VALUE_16BITS=65535,rt.MAX_VALUE_32BITS=-1,rt.pretty=function(mt){var yt,pt,vt="";for(pt=0;pt<(mt||"").length;pt++)vt+="\\x"+((yt=mt.charCodeAt(pt))<16?"0":"")+yt.toString(16).toUpperCase();return vt},rt.delay=function(mt,yt,pt){setImmediate(function(){mt.apply(pt||null,yt||[])})},rt.inherits=function(mt,yt){function pt(){}pt.prototype=yt.prototype,mt.prototype=new pt},rt.extend=function(){var mt,yt,pt={};for(mt=0;mt<arguments.length;mt++)for(yt in arguments[mt])Object.prototype.hasOwnProperty.call(arguments[mt],yt)&&pt[yt]===void 0&&(pt[yt]=arguments[mt][yt]);return pt},rt.prepareContent=function(mt,yt,pt,vt,gt){return st.Promise.resolve(yt).then(function(xt){return it.blob&&(xt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xt))!==-1)&&typeof FileReader<"u"?new st.Promise(function(wt,bt){var St=new FileReader;St.onload=function(kt){wt(kt.target.result)},St.onerror=function(kt){bt(kt.target.error)},St.readAsArrayBuffer(xt)}):xt}).then(function(xt){var wt=rt.getTypeOf(xt);return wt?(wt==="arraybuffer"?xt=rt.transformTo("uint8array",xt):wt==="string"&&(gt?xt=ot.decode(xt):pt&&vt!==!0&&(xt=function(bt){return ut(bt,it.uint8array?new Uint8Array(bt.length):new Array(bt.length))}(xt))),xt):st.Promise.reject(new Error("Can't read the data of '"+mt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(tt,nt,rt){var it=tt("./reader/readerFor"),ot=tt("./utils"),at=tt("./signature"),st=tt("./zipEntry"),lt=tt("./support");function ut(ct){this.files=[],this.loadOptions=ct}ut.prototype={checkSignature:function(ct){if(!this.reader.readAndCheckSignature(ct)){this.reader.index-=4;var ft=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+ot.pretty(ft)+", expected "+ot.pretty(ct)+")")}},isSignature:function(ct,ft){var dt=this.reader.index;this.reader.setIndex(ct);var ht=this.reader.readString(4)===ft;return this.reader.setIndex(dt),ht},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ct=this.reader.readData(this.zipCommentLength),ft=lt.uint8array?"uint8array":"array",dt=ot.transformTo(ft,ct);this.zipComment=this.loadOptions.decodeFileName(dt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ct,ft,dt,ht=this.zip64EndOfCentralSize-44;0<ht;)ct=this.reader.readInt(2),ft=this.reader.readInt(4),dt=this.reader.readData(ft),this.zip64ExtensibleData[ct]={id:ct,length:ft,value:dt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ct,ft;for(ct=0;ct<this.files.length;ct++)ft=this.files[ct],this.reader.setIndex(ft.localHeaderOffset),this.checkSignature(at.LOCAL_FILE_HEADER),ft.readLocalPart(this.reader),ft.handleUTF8(),ft.processAttributes()},readCentralDir:function(){var ct;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(at.CENTRAL_FILE_HEADER);)(ct=new st({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ct);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ct=this.reader.lastIndexOfSignature(at.CENTRAL_DIRECTORY_END);if(ct<0)throw this.isSignature(0,at.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ct);var ft=ct;if(this.checkSignature(at.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ot.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ot.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ot.MAX_VALUE_16BITS||this.centralDirRecords===ot.MAX_VALUE_16BITS||this.centralDirSize===ot.MAX_VALUE_32BITS||this.centralDirOffset===ot.MAX_VALUE_32BITS){if(this.zip64=!0,(ct=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ct),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,at.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var dt=this.centralDirOffset+this.centralDirSize;this.zip64&&(dt+=20,dt+=12+this.zip64EndOfCentralSize);var ht=ft-dt;if(0<ht)this.isSignature(ft,at.CENTRAL_FILE_HEADER)||(this.reader.zero=ht);else if(ht<0)throw new Error("Corrupted zip: missing "+Math.abs(ht)+" bytes.")},prepareReader:function(ct){this.reader=it(ct)},load:function(ct){this.prepareReader(ct),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},nt.exports=ut},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(tt,nt,rt){var it=tt("./reader/readerFor"),ot=tt("./utils"),at=tt("./compressedObject"),st=tt("./crc32"),lt=tt("./utf8"),ut=tt("./compressions"),ct=tt("./support");function ft(dt,ht){this.options=dt,this.loadOptions=ht}ft.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(dt){var ht,mt;if(dt.skip(22),this.fileNameLength=dt.readInt(2),mt=dt.readInt(2),this.fileName=dt.readData(this.fileNameLength),dt.skip(mt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ht=function(yt){for(var pt in ut)if(Object.prototype.hasOwnProperty.call(ut,pt)&&ut[pt].magic===yt)return ut[pt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+ot.pretty(this.compressionMethod)+" unknown (inner file : "+ot.transformTo("string",this.fileName)+")");this.decompressed=new at(this.compressedSize,this.uncompressedSize,this.crc32,ht,dt.readData(this.compressedSize))},readCentralPart:function(dt){this.versionMadeBy=dt.readInt(2),dt.skip(2),this.bitFlag=dt.readInt(2),this.compressionMethod=dt.readString(2),this.date=dt.readDate(),this.crc32=dt.readInt(4),this.compressedSize=dt.readInt(4),this.uncompressedSize=dt.readInt(4);var ht=dt.readInt(2);if(this.extraFieldsLength=dt.readInt(2),this.fileCommentLength=dt.readInt(2),this.diskNumberStart=dt.readInt(2),this.internalFileAttributes=dt.readInt(2),this.externalFileAttributes=dt.readInt(4),this.localHeaderOffset=dt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");dt.skip(ht),this.readExtraFields(dt),this.parseZIP64ExtraField(dt),this.fileComment=dt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var dt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),dt==0&&(this.dosPermissions=63&this.externalFileAttributes),dt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var dt=it(this.extraFields[1].value);this.uncompressedSize===ot.MAX_VALUE_32BITS&&(this.uncompressedSize=dt.readInt(8)),this.compressedSize===ot.MAX_VALUE_32BITS&&(this.compressedSize=dt.readInt(8)),this.localHeaderOffset===ot.MAX_VALUE_32BITS&&(this.localHeaderOffset=dt.readInt(8)),this.diskNumberStart===ot.MAX_VALUE_32BITS&&(this.diskNumberStart=dt.readInt(4))}},readExtraFields:function(dt){var ht,mt,yt,pt=dt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});dt.index+4<pt;)ht=dt.readInt(2),mt=dt.readInt(2),yt=dt.readData(mt),this.extraFields[ht]={id:ht,length:mt,value:yt};dt.setIndex(pt)},handleUTF8:function(){var dt=ct.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=lt.utf8decode(this.fileName),this.fileCommentStr=lt.utf8decode(this.fileComment);else{var ht=this.findExtraFieldUnicodePath();if(ht!==null)this.fileNameStr=ht;else{var mt=ot.transformTo(dt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(mt)}var yt=this.findExtraFieldUnicodeComment();if(yt!==null)this.fileCommentStr=yt;else{var pt=ot.transformTo(dt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(pt)}}},findExtraFieldUnicodePath:function(){var dt=this.extraFields[28789];if(dt){var ht=it(dt.value);return ht.readInt(1)!==1||st(this.fileName)!==ht.readInt(4)?null:lt.utf8decode(ht.readData(dt.length-5))}return null},findExtraFieldUnicodeComment:function(){var dt=this.extraFields[25461];if(dt){var ht=it(dt.value);return ht.readInt(1)!==1||st(this.fileComment)!==ht.readInt(4)?null:lt.utf8decode(ht.readData(dt.length-5))}return null}},nt.exports=ft},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(tt,nt,rt){function it(ht,mt,yt){this.name=ht,this.dir=yt.dir,this.date=yt.date,this.comment=yt.comment,this.unixPermissions=yt.unixPermissions,this.dosPermissions=yt.dosPermissions,this._data=mt,this._dataBinary=yt.binary,this.options={compression:yt.compression,compressionOptions:yt.compressionOptions}}var ot=tt("./stream/StreamHelper"),at=tt("./stream/DataWorker"),st=tt("./utf8"),lt=tt("./compressedObject"),ut=tt("./stream/GenericWorker");it.prototype={internalStream:function(ht){var mt=null,yt="string";try{if(!ht)throw new Error("No output type specified.");var pt=(yt=ht.toLowerCase())==="string"||yt==="text";yt!=="binarystring"&&yt!=="text"||(yt="string"),mt=this._decompressWorker();var vt=!this._dataBinary;vt&&!pt&&(mt=mt.pipe(new st.Utf8EncodeWorker)),!vt&&pt&&(mt=mt.pipe(new st.Utf8DecodeWorker))}catch(gt){(mt=new ut("error")).error(gt)}return new ot(mt,yt,"")},async:function(ht,mt){return this.internalStream(ht).accumulate(mt)},nodeStream:function(ht,mt){return this.internalStream(ht||"nodebuffer").toNodejsStream(mt)},_compressWorker:function(ht,mt){if(this._data instanceof lt&&this._data.compression.magic===ht.magic)return this._data.getCompressedWorker();var yt=this._decompressWorker();return this._dataBinary||(yt=yt.pipe(new st.Utf8EncodeWorker)),lt.createWorkerFrom(yt,ht,mt)},_decompressWorker:function(){return this._data instanceof lt?this._data.getContentWorker():this._data instanceof ut?this._data:new at(this._data)}};for(var ct=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ft=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},dt=0;dt<ct.length;dt++)it.prototype[ct[dt]]=ft;nt.exports=it},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(tt,nt,rt){(function(it){var ot,at,st=it.MutationObserver||it.WebKitMutationObserver;if(st){var lt=0,ut=new st(ht),ct=it.document.createTextNode("");ut.observe(ct,{characterData:!0}),ot=function(){ct.data=lt=++lt%2}}else if(it.setImmediate||it.MessageChannel===void 0)ot="document"in it&&"onreadystatechange"in it.document.createElement("script")?function(){var mt=it.document.createElement("script");mt.onreadystatechange=function(){ht(),mt.onreadystatechange=null,mt.parentNode.removeChild(mt),mt=null},it.document.documentElement.appendChild(mt)}:function(){setTimeout(ht,0)};else{var ft=new it.MessageChannel;ft.port1.onmessage=ht,ot=function(){ft.port2.postMessage(0)}}var dt=[];function ht(){var mt,yt;at=!0;for(var pt=dt.length;pt;){for(yt=dt,dt=[],mt=-1;++mt<pt;)yt[mt]();pt=dt.length}at=!1}nt.exports=function(mt){dt.push(mt)!==1||at||ot()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(tt,nt,rt){var it=tt("immediate");function ot(){}var at={},st=["REJECTED"],lt=["FULFILLED"],ut=["PENDING"];function ct(pt){if(typeof pt!="function")throw new TypeError("resolver must be a function");this.state=ut,this.queue=[],this.outcome=void 0,pt!==ot&&mt(this,pt)}function ft(pt,vt,gt){this.promise=pt,typeof vt=="function"&&(this.onFulfilled=vt,this.callFulfilled=this.otherCallFulfilled),typeof gt=="function"&&(this.onRejected=gt,this.callRejected=this.otherCallRejected)}function dt(pt,vt,gt){it(function(){var xt;try{xt=vt(gt)}catch(wt){return at.reject(pt,wt)}xt===pt?at.reject(pt,new TypeError("Cannot resolve promise with itself")):at.resolve(pt,xt)})}function ht(pt){var vt=pt&&pt.then;if(pt&&(typeof pt=="object"||typeof pt=="function")&&typeof vt=="function")return function(){vt.apply(pt,arguments)}}function mt(pt,vt){var gt=!1;function xt(St){gt||(gt=!0,at.reject(pt,St))}function wt(St){gt||(gt=!0,at.resolve(pt,St))}var bt=yt(function(){vt(wt,xt)});bt.status==="error"&&xt(bt.value)}function yt(pt,vt){var gt={};try{gt.value=pt(vt),gt.status="success"}catch(xt){gt.status="error",gt.value=xt}return gt}(nt.exports=ct).prototype.finally=function(pt){if(typeof pt!="function")return this;var vt=this.constructor;return this.then(function(gt){return vt.resolve(pt()).then(function(){return gt})},function(gt){return vt.resolve(pt()).then(function(){throw gt})})},ct.prototype.catch=function(pt){return this.then(null,pt)},ct.prototype.then=function(pt,vt){if(typeof pt!="function"&&this.state===lt||typeof vt!="function"&&this.state===st)return this;var gt=new this.constructor(ot);return this.state!==ut?dt(gt,this.state===lt?pt:vt,this.outcome):this.queue.push(new ft(gt,pt,vt)),gt},ft.prototype.callFulfilled=function(pt){at.resolve(this.promise,pt)},ft.prototype.otherCallFulfilled=function(pt){dt(this.promise,this.onFulfilled,pt)},ft.prototype.callRejected=function(pt){at.reject(this.promise,pt)},ft.prototype.otherCallRejected=function(pt){dt(this.promise,this.onRejected,pt)},at.resolve=function(pt,vt){var gt=yt(ht,vt);if(gt.status==="error")return at.reject(pt,gt.value);var xt=gt.value;if(xt)mt(pt,xt);else{pt.state=lt,pt.outcome=vt;for(var wt=-1,bt=pt.queue.length;++wt<bt;)pt.queue[wt].callFulfilled(vt)}return pt},at.reject=function(pt,vt){pt.state=st,pt.outcome=vt;for(var gt=-1,xt=pt.queue.length;++gt<xt;)pt.queue[gt].callRejected(vt);return pt},ct.resolve=function(pt){return pt instanceof this?pt:at.resolve(new this(ot),pt)},ct.reject=function(pt){var vt=new this(ot);return at.reject(vt,pt)},ct.all=function(pt){var vt=this;if(Object.prototype.toString.call(pt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var gt=pt.length,xt=!1;if(!gt)return this.resolve([]);for(var wt=new Array(gt),bt=0,St=-1,kt=new this(ot);++St<gt;)Rt(pt[St],St);return kt;function Rt(Et,At){vt.resolve(Et).then(function(Tt){wt[At]=Tt,++bt!==gt||xt||(xt=!0,at.resolve(kt,wt))},function(Tt){xt||(xt=!0,at.reject(kt,Tt))})}},ct.race=function(pt){var vt=this;if(Object.prototype.toString.call(pt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var gt=pt.length,xt=!1;if(!gt)return this.resolve([]);for(var wt=-1,bt=new this(ot);++wt<gt;)St=pt[wt],vt.resolve(St).then(function(kt){xt||(xt=!0,at.resolve(bt,kt))},function(kt){xt||(xt=!0,at.reject(bt,kt))});var St;return bt}},{immediate:36}],38:[function(tt,nt,rt){var it={};(0,tt("./lib/utils/common").assign)(it,tt("./lib/deflate"),tt("./lib/inflate"),tt("./lib/zlib/constants")),nt.exports=it},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(tt,nt,rt){var it=tt("./zlib/deflate"),ot=tt("./utils/common"),at=tt("./utils/strings"),st=tt("./zlib/messages"),lt=tt("./zlib/zstream"),ut=Object.prototype.toString,ct=0,ft=-1,dt=0,ht=8;function mt(pt){if(!(this instanceof mt))return new mt(pt);this.options=ot.assign({level:ft,method:ht,chunkSize:16384,windowBits:15,memLevel:8,strategy:dt,to:""},pt||{});var vt=this.options;vt.raw&&0<vt.windowBits?vt.windowBits=-vt.windowBits:vt.gzip&&0<vt.windowBits&&vt.windowBits<16&&(vt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var gt=it.deflateInit2(this.strm,vt.level,vt.method,vt.windowBits,vt.memLevel,vt.strategy);if(gt!==ct)throw new Error(st[gt]);if(vt.header&&it.deflateSetHeader(this.strm,vt.header),vt.dictionary){var xt;if(xt=typeof vt.dictionary=="string"?at.string2buf(vt.dictionary):ut.call(vt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(vt.dictionary):vt.dictionary,(gt=it.deflateSetDictionary(this.strm,xt))!==ct)throw new Error(st[gt]);this._dict_set=!0}}function yt(pt,vt){var gt=new mt(vt);if(gt.push(pt,!0),gt.err)throw gt.msg||st[gt.err];return gt.result}mt.prototype.push=function(pt,vt){var gt,xt,wt=this.strm,bt=this.options.chunkSize;if(this.ended)return!1;xt=vt===~~vt?vt:vt===!0?4:0,typeof pt=="string"?wt.input=at.string2buf(pt):ut.call(pt)==="[object ArrayBuffer]"?wt.input=new Uint8Array(pt):wt.input=pt,wt.next_in=0,wt.avail_in=wt.input.length;do{if(wt.avail_out===0&&(wt.output=new ot.Buf8(bt),wt.next_out=0,wt.avail_out=bt),(gt=it.deflate(wt,xt))!==1&&gt!==ct)return this.onEnd(gt),!(this.ended=!0);wt.avail_out!==0&&(wt.avail_in!==0||xt!==4&&xt!==2)||(this.options.to==="string"?this.onData(at.buf2binstring(ot.shrinkBuf(wt.output,wt.next_out))):this.onData(ot.shrinkBuf(wt.output,wt.next_out)))}while((0<wt.avail_in||wt.avail_out===0)&&gt!==1);return xt===4?(gt=it.deflateEnd(this.strm),this.onEnd(gt),this.ended=!0,gt===ct):xt!==2||(this.onEnd(ct),!(wt.avail_out=0))},mt.prototype.onData=function(pt){this.chunks.push(pt)},mt.prototype.onEnd=function(pt){pt===ct&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=pt,this.msg=this.strm.msg},rt.Deflate=mt,rt.deflate=yt,rt.deflateRaw=function(pt,vt){return(vt=vt||{}).raw=!0,yt(pt,vt)},rt.gzip=function(pt,vt){return(vt=vt||{}).gzip=!0,yt(pt,vt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(tt,nt,rt){var it=tt("./zlib/inflate"),ot=tt("./utils/common"),at=tt("./utils/strings"),st=tt("./zlib/constants"),lt=tt("./zlib/messages"),ut=tt("./zlib/zstream"),ct=tt("./zlib/gzheader"),ft=Object.prototype.toString;function dt(mt){if(!(this instanceof dt))return new dt(mt);this.options=ot.assign({chunkSize:16384,windowBits:0,to:""},mt||{});var yt=this.options;yt.raw&&0<=yt.windowBits&&yt.windowBits<16&&(yt.windowBits=-yt.windowBits,yt.windowBits===0&&(yt.windowBits=-15)),!(0<=yt.windowBits&&yt.windowBits<16)||mt&&mt.windowBits||(yt.windowBits+=32),15<yt.windowBits&&yt.windowBits<48&&!(15&yt.windowBits)&&(yt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var pt=it.inflateInit2(this.strm,yt.windowBits);if(pt!==st.Z_OK)throw new Error(lt[pt]);this.header=new ct,it.inflateGetHeader(this.strm,this.header)}function ht(mt,yt){var pt=new dt(yt);if(pt.push(mt,!0),pt.err)throw pt.msg||lt[pt.err];return pt.result}dt.prototype.push=function(mt,yt){var pt,vt,gt,xt,wt,bt,St=this.strm,kt=this.options.chunkSize,Rt=this.options.dictionary,Et=!1;if(this.ended)return!1;vt=yt===~~yt?yt:yt===!0?st.Z_FINISH:st.Z_NO_FLUSH,typeof mt=="string"?St.input=at.binstring2buf(mt):ft.call(mt)==="[object ArrayBuffer]"?St.input=new Uint8Array(mt):St.input=mt,St.next_in=0,St.avail_in=St.input.length;do{if(St.avail_out===0&&(St.output=new ot.Buf8(kt),St.next_out=0,St.avail_out=kt),(pt=it.inflate(St,st.Z_NO_FLUSH))===st.Z_NEED_DICT&&Rt&&(bt=typeof Rt=="string"?at.string2buf(Rt):ft.call(Rt)==="[object ArrayBuffer]"?new Uint8Array(Rt):Rt,pt=it.inflateSetDictionary(this.strm,bt)),pt===st.Z_BUF_ERROR&&Et===!0&&(pt=st.Z_OK,Et=!1),pt!==st.Z_STREAM_END&&pt!==st.Z_OK)return this.onEnd(pt),!(this.ended=!0);St.next_out&&(St.avail_out!==0&&pt!==st.Z_STREAM_END&&(St.avail_in!==0||vt!==st.Z_FINISH&&vt!==st.Z_SYNC_FLUSH)||(this.options.to==="string"?(gt=at.utf8border(St.output,St.next_out),xt=St.next_out-gt,wt=at.buf2string(St.output,gt),St.next_out=xt,St.avail_out=kt-xt,xt&&ot.arraySet(St.output,St.output,gt,xt,0),this.onData(wt)):this.onData(ot.shrinkBuf(St.output,St.next_out)))),St.avail_in===0&&St.avail_out===0&&(Et=!0)}while((0<St.avail_in||St.avail_out===0)&&pt!==st.Z_STREAM_END);return pt===st.Z_STREAM_END&&(vt=st.Z_FINISH),vt===st.Z_FINISH?(pt=it.inflateEnd(this.strm),this.onEnd(pt),this.ended=!0,pt===st.Z_OK):vt!==st.Z_SYNC_FLUSH||(this.onEnd(st.Z_OK),!(St.avail_out=0))},dt.prototype.onData=function(mt){this.chunks.push(mt)},dt.prototype.onEnd=function(mt){mt===st.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=mt,this.msg=this.strm.msg},rt.Inflate=dt,rt.inflate=ht,rt.inflateRaw=function(mt,yt){return(yt=yt||{}).raw=!0,ht(mt,yt)},rt.ungzip=ht},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(tt,nt,rt){var it=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";rt.assign=function(st){for(var lt=Array.prototype.slice.call(arguments,1);lt.length;){var ut=lt.shift();if(ut){if(typeof ut!="object")throw new TypeError(ut+"must be non-object");for(var ct in ut)ut.hasOwnProperty(ct)&&(st[ct]=ut[ct])}}return st},rt.shrinkBuf=function(st,lt){return st.length===lt?st:st.subarray?st.subarray(0,lt):(st.length=lt,st)};var ot={arraySet:function(st,lt,ut,ct,ft){if(lt.subarray&&st.subarray)st.set(lt.subarray(ut,ut+ct),ft);else for(var dt=0;dt<ct;dt++)st[ft+dt]=lt[ut+dt]},flattenChunks:function(st){var lt,ut,ct,ft,dt,ht;for(lt=ct=0,ut=st.length;lt<ut;lt++)ct+=st[lt].length;for(ht=new Uint8Array(ct),lt=ft=0,ut=st.length;lt<ut;lt++)dt=st[lt],ht.set(dt,ft),ft+=dt.length;return ht}},at={arraySet:function(st,lt,ut,ct,ft){for(var dt=0;dt<ct;dt++)st[ft+dt]=lt[ut+dt]},flattenChunks:function(st){return[].concat.apply([],st)}};rt.setTyped=function(st){st?(rt.Buf8=Uint8Array,rt.Buf16=Uint16Array,rt.Buf32=Int32Array,rt.assign(rt,ot)):(rt.Buf8=Array,rt.Buf16=Array,rt.Buf32=Array,rt.assign(rt,at))},rt.setTyped(it)},{}],42:[function(tt,nt,rt){var it=tt("./common"),ot=!0,at=!0;try{String.fromCharCode.apply(null,[0])}catch{ot=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{at=!1}for(var st=new it.Buf8(256),lt=0;lt<256;lt++)st[lt]=252<=lt?6:248<=lt?5:240<=lt?4:224<=lt?3:192<=lt?2:1;function ut(ct,ft){if(ft<65537&&(ct.subarray&&at||!ct.subarray&&ot))return String.fromCharCode.apply(null,it.shrinkBuf(ct,ft));for(var dt="",ht=0;ht<ft;ht++)dt+=String.fromCharCode(ct[ht]);return dt}st[254]=st[254]=1,rt.string2buf=function(ct){var ft,dt,ht,mt,yt,pt=ct.length,vt=0;for(mt=0;mt<pt;mt++)(64512&(dt=ct.charCodeAt(mt)))==55296&&mt+1<pt&&(64512&(ht=ct.charCodeAt(mt+1)))==56320&&(dt=65536+(dt-55296<<10)+(ht-56320),mt++),vt+=dt<128?1:dt<2048?2:dt<65536?3:4;for(ft=new it.Buf8(vt),mt=yt=0;yt<vt;mt++)(64512&(dt=ct.charCodeAt(mt)))==55296&&mt+1<pt&&(64512&(ht=ct.charCodeAt(mt+1)))==56320&&(dt=65536+(dt-55296<<10)+(ht-56320),mt++),dt<128?ft[yt++]=dt:(dt<2048?ft[yt++]=192|dt>>>6:(dt<65536?ft[yt++]=224|dt>>>12:(ft[yt++]=240|dt>>>18,ft[yt++]=128|dt>>>12&63),ft[yt++]=128|dt>>>6&63),ft[yt++]=128|63&dt);return ft},rt.buf2binstring=function(ct){return ut(ct,ct.length)},rt.binstring2buf=function(ct){for(var ft=new it.Buf8(ct.length),dt=0,ht=ft.length;dt<ht;dt++)ft[dt]=ct.charCodeAt(dt);return ft},rt.buf2string=function(ct,ft){var dt,ht,mt,yt,pt=ft||ct.length,vt=new Array(2*pt);for(dt=ht=0;dt<pt;)if((mt=ct[dt++])<128)vt[ht++]=mt;else if(4<(yt=st[mt]))vt[ht++]=65533,dt+=yt-1;else{for(mt&=yt===2?31:yt===3?15:7;1<yt&&dt<pt;)mt=mt<<6|63&ct[dt++],yt--;1<yt?vt[ht++]=65533:mt<65536?vt[ht++]=mt:(mt-=65536,vt[ht++]=55296|mt>>10&1023,vt[ht++]=56320|1023&mt)}return ut(vt,ht)},rt.utf8border=function(ct,ft){var dt;for((ft=ft||ct.length)>ct.length&&(ft=ct.length),dt=ft-1;0<=dt&&(192&ct[dt])==128;)dt--;return dt<0||dt===0?ft:dt+st[ct[dt]]>ft?dt:ft}},{"./common":41}],43:[function(tt,nt,rt){nt.exports=function(it,ot,at,st){for(var lt=65535&it|0,ut=it>>>16&65535|0,ct=0;at!==0;){for(at-=ct=2e3<at?2e3:at;ut=ut+(lt=lt+ot[st++]|0)|0,--ct;);lt%=65521,ut%=65521}return lt|ut<<16|0}},{}],44:[function(tt,nt,rt){nt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(tt,nt,rt){var it=function(){for(var ot,at=[],st=0;st<256;st++){ot=st;for(var lt=0;lt<8;lt++)ot=1&ot?3988292384^ot>>>1:ot>>>1;at[st]=ot}return at}();nt.exports=function(ot,at,st,lt){var ut=it,ct=lt+st;ot^=-1;for(var ft=lt;ft<ct;ft++)ot=ot>>>8^ut[255&(ot^at[ft])];return-1^ot}},{}],46:[function(tt,nt,rt){var it,ot=tt("../utils/common"),at=tt("./trees"),st=tt("./adler32"),lt=tt("./crc32"),ut=tt("./messages"),ct=0,ft=4,dt=0,ht=-2,mt=-1,yt=4,pt=2,vt=8,gt=9,xt=286,wt=30,bt=19,St=2*xt+1,kt=15,Rt=3,Et=258,At=Et+Rt+1,Tt=42,It=113,_t=1,Pt=2,Zt=3,Ht=4;function zt(Ct,Ut){return Ct.msg=ut[Ut],Ut}function jt(Ct){return(Ct<<1)-(4<Ct?9:0)}function Wt(Ct){for(var Ut=Ct.length;0<=--Ut;)Ct[Ut]=0}function Nt(Ct){var Ut=Ct.state,Dt=Ut.pending;Dt>Ct.avail_out&&(Dt=Ct.avail_out),Dt!==0&&(ot.arraySet(Ct.output,Ut.pending_buf,Ut.pending_out,Dt,Ct.next_out),Ct.next_out+=Dt,Ut.pending_out+=Dt,Ct.total_out+=Dt,Ct.avail_out-=Dt,Ut.pending-=Dt,Ut.pending===0&&(Ut.pending_out=0))}function Lt(Ct,Ut){at._tr_flush_block(Ct,0<=Ct.block_start?Ct.block_start:-1,Ct.strstart-Ct.block_start,Ut),Ct.block_start=Ct.strstart,Nt(Ct.strm)}function Jt(Ct,Ut){Ct.pending_buf[Ct.pending++]=Ut}function qt(Ct,Ut){Ct.pending_buf[Ct.pending++]=Ut>>>8&255,Ct.pending_buf[Ct.pending++]=255&Ut}function Kt(Ct,Ut){var Dt,Ot,$t=Ct.max_chain_length,Mt=Ct.strstart,Ft=Ct.prev_length,Vt=Ct.nice_match,Bt=Ct.strstart>Ct.w_size-At?Ct.strstart-(Ct.w_size-At):0,Xt=Ct.window,Yt=Ct.w_mask,Gt=Ct.prev,Qt=Ct.strstart+Et,cn=Xt[Mt+Ft-1],hn=Xt[Mt+Ft];Ct.prev_length>=Ct.good_match&&($t>>=2),Vt>Ct.lookahead&&(Vt=Ct.lookahead);do if(Xt[(Dt=Ut)+Ft]===hn&&Xt[Dt+Ft-1]===cn&&Xt[Dt]===Xt[Mt]&&Xt[++Dt]===Xt[Mt+1]){Mt+=2,Dt++;do;while(Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Xt[++Mt]===Xt[++Dt]&&Mt<Qt);if(Ot=Et-(Qt-Mt),Mt=Qt-Et,Ft<Ot){if(Ct.match_start=Ut,Vt<=(Ft=Ot))break;cn=Xt[Mt+Ft-1],hn=Xt[Mt+Ft]}}while((Ut=Gt[Ut&Yt])>Bt&&--$t!=0);return Ft<=Ct.lookahead?Ft:Ct.lookahead}function dn(Ct){var Ut,Dt,Ot,$t,Mt,Ft,Vt,Bt,Xt,Yt,Gt=Ct.w_size;do{if($t=Ct.window_size-Ct.lookahead-Ct.strstart,Ct.strstart>=Gt+(Gt-At)){for(ot.arraySet(Ct.window,Ct.window,Gt,Gt,0),Ct.match_start-=Gt,Ct.strstart-=Gt,Ct.block_start-=Gt,Ut=Dt=Ct.hash_size;Ot=Ct.head[--Ut],Ct.head[Ut]=Gt<=Ot?Ot-Gt:0,--Dt;);for(Ut=Dt=Gt;Ot=Ct.prev[--Ut],Ct.prev[Ut]=Gt<=Ot?Ot-Gt:0,--Dt;);$t+=Gt}if(Ct.strm.avail_in===0)break;if(Ft=Ct.strm,Vt=Ct.window,Bt=Ct.strstart+Ct.lookahead,Xt=$t,Yt=void 0,Yt=Ft.avail_in,Xt<Yt&&(Yt=Xt),Dt=Yt===0?0:(Ft.avail_in-=Yt,ot.arraySet(Vt,Ft.input,Ft.next_in,Yt,Bt),Ft.state.wrap===1?Ft.adler=st(Ft.adler,Vt,Yt,Bt):Ft.state.wrap===2&&(Ft.adler=lt(Ft.adler,Vt,Yt,Bt)),Ft.next_in+=Yt,Ft.total_in+=Yt,Yt),Ct.lookahead+=Dt,Ct.lookahead+Ct.insert>=Rt)for(Mt=Ct.strstart-Ct.insert,Ct.ins_h=Ct.window[Mt],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Mt+1])&Ct.hash_mask;Ct.insert&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Mt+Rt-1])&Ct.hash_mask,Ct.prev[Mt&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Mt,Mt++,Ct.insert--,!(Ct.lookahead+Ct.insert<Rt)););}while(Ct.lookahead<At&&Ct.strm.avail_in!==0)}function gn(Ct,Ut){for(var Dt,Ot;;){if(Ct.lookahead<At){if(dn(Ct),Ct.lookahead<At&&Ut===ct)return _t;if(Ct.lookahead===0)break}if(Dt=0,Ct.lookahead>=Rt&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+Rt-1])&Ct.hash_mask,Dt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),Dt!==0&&Ct.strstart-Dt<=Ct.w_size-At&&(Ct.match_length=Kt(Ct,Dt)),Ct.match_length>=Rt)if(Ot=at._tr_tally(Ct,Ct.strstart-Ct.match_start,Ct.match_length-Rt),Ct.lookahead-=Ct.match_length,Ct.match_length<=Ct.max_lazy_match&&Ct.lookahead>=Rt){for(Ct.match_length--;Ct.strstart++,Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+Rt-1])&Ct.hash_mask,Dt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart,--Ct.match_length!=0;);Ct.strstart++}else Ct.strstart+=Ct.match_length,Ct.match_length=0,Ct.ins_h=Ct.window[Ct.strstart],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+1])&Ct.hash_mask;else Ot=at._tr_tally(Ct,0,Ct.window[Ct.strstart]),Ct.lookahead--,Ct.strstart++;if(Ot&&(Lt(Ct,!1),Ct.strm.avail_out===0))return _t}return Ct.insert=Ct.strstart<Rt-1?Ct.strstart:Rt-1,Ut===ft?(Lt(Ct,!0),Ct.strm.avail_out===0?Zt:Ht):Ct.last_lit&&(Lt(Ct,!1),Ct.strm.avail_out===0)?_t:Pt}function xn(Ct,Ut){for(var Dt,Ot,$t;;){if(Ct.lookahead<At){if(dn(Ct),Ct.lookahead<At&&Ut===ct)return _t;if(Ct.lookahead===0)break}if(Dt=0,Ct.lookahead>=Rt&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+Rt-1])&Ct.hash_mask,Dt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),Ct.prev_length=Ct.match_length,Ct.prev_match=Ct.match_start,Ct.match_length=Rt-1,Dt!==0&&Ct.prev_length<Ct.max_lazy_match&&Ct.strstart-Dt<=Ct.w_size-At&&(Ct.match_length=Kt(Ct,Dt),Ct.match_length<=5&&(Ct.strategy===1||Ct.match_length===Rt&&4096<Ct.strstart-Ct.match_start)&&(Ct.match_length=Rt-1)),Ct.prev_length>=Rt&&Ct.match_length<=Ct.prev_length){for($t=Ct.strstart+Ct.lookahead-Rt,Ot=at._tr_tally(Ct,Ct.strstart-1-Ct.prev_match,Ct.prev_length-Rt),Ct.lookahead-=Ct.prev_length-1,Ct.prev_length-=2;++Ct.strstart<=$t&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+Rt-1])&Ct.hash_mask,Dt=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),--Ct.prev_length!=0;);if(Ct.match_available=0,Ct.match_length=Rt-1,Ct.strstart++,Ot&&(Lt(Ct,!1),Ct.strm.avail_out===0))return _t}else if(Ct.match_available){if((Ot=at._tr_tally(Ct,0,Ct.window[Ct.strstart-1]))&&Lt(Ct,!1),Ct.strstart++,Ct.lookahead--,Ct.strm.avail_out===0)return _t}else Ct.match_available=1,Ct.strstart++,Ct.lookahead--}return Ct.match_available&&(Ot=at._tr_tally(Ct,0,Ct.window[Ct.strstart-1]),Ct.match_available=0),Ct.insert=Ct.strstart<Rt-1?Ct.strstart:Rt-1,Ut===ft?(Lt(Ct,!0),Ct.strm.avail_out===0?Zt:Ht):Ct.last_lit&&(Lt(Ct,!1),Ct.strm.avail_out===0)?_t:Pt}function sn(Ct,Ut,Dt,Ot,$t){this.good_length=Ct,this.max_lazy=Ut,this.nice_length=Dt,this.max_chain=Ot,this.func=$t}function pn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ot.Buf16(2*St),this.dyn_dtree=new ot.Buf16(2*(2*wt+1)),this.bl_tree=new ot.Buf16(2*(2*bt+1)),Wt(this.dyn_ltree),Wt(this.dyn_dtree),Wt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ot.Buf16(kt+1),this.heap=new ot.Buf16(2*xt+1),Wt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ot.Buf16(2*xt+1),Wt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function mn(Ct){var Ut;return Ct&&Ct.state?(Ct.total_in=Ct.total_out=0,Ct.data_type=pt,(Ut=Ct.state).pending=0,Ut.pending_out=0,Ut.wrap<0&&(Ut.wrap=-Ut.wrap),Ut.status=Ut.wrap?Tt:It,Ct.adler=Ut.wrap===2?0:1,Ut.last_flush=ct,at._tr_init(Ut),dt):zt(Ct,ht)}function ln(Ct){var Ut=mn(Ct);return Ut===dt&&function(Dt){Dt.window_size=2*Dt.w_size,Wt(Dt.head),Dt.max_lazy_match=it[Dt.level].max_lazy,Dt.good_match=it[Dt.level].good_length,Dt.nice_match=it[Dt.level].nice_length,Dt.max_chain_length=it[Dt.level].max_chain,Dt.strstart=0,Dt.block_start=0,Dt.lookahead=0,Dt.insert=0,Dt.match_length=Dt.prev_length=Rt-1,Dt.match_available=0,Dt.ins_h=0}(Ct.state),Ut}function vn(Ct,Ut,Dt,Ot,$t,Mt){if(!Ct)return ht;var Ft=1;if(Ut===mt&&(Ut=6),Ot<0?(Ft=0,Ot=-Ot):15<Ot&&(Ft=2,Ot-=16),$t<1||gt<$t||Dt!==vt||Ot<8||15<Ot||Ut<0||9<Ut||Mt<0||yt<Mt)return zt(Ct,ht);Ot===8&&(Ot=9);var Vt=new pn;return(Ct.state=Vt).strm=Ct,Vt.wrap=Ft,Vt.gzhead=null,Vt.w_bits=Ot,Vt.w_size=1<<Vt.w_bits,Vt.w_mask=Vt.w_size-1,Vt.hash_bits=$t+7,Vt.hash_size=1<<Vt.hash_bits,Vt.hash_mask=Vt.hash_size-1,Vt.hash_shift=~~((Vt.hash_bits+Rt-1)/Rt),Vt.window=new ot.Buf8(2*Vt.w_size),Vt.head=new ot.Buf16(Vt.hash_size),Vt.prev=new ot.Buf16(Vt.w_size),Vt.lit_bufsize=1<<$t+6,Vt.pending_buf_size=4*Vt.lit_bufsize,Vt.pending_buf=new ot.Buf8(Vt.pending_buf_size),Vt.d_buf=1*Vt.lit_bufsize,Vt.l_buf=3*Vt.lit_bufsize,Vt.level=Ut,Vt.strategy=Mt,Vt.method=Dt,ln(Ct)}it=[new sn(0,0,0,0,function(Ct,Ut){var Dt=65535;for(Dt>Ct.pending_buf_size-5&&(Dt=Ct.pending_buf_size-5);;){if(Ct.lookahead<=1){if(dn(Ct),Ct.lookahead===0&&Ut===ct)return _t;if(Ct.lookahead===0)break}Ct.strstart+=Ct.lookahead,Ct.lookahead=0;var Ot=Ct.block_start+Dt;if((Ct.strstart===0||Ct.strstart>=Ot)&&(Ct.lookahead=Ct.strstart-Ot,Ct.strstart=Ot,Lt(Ct,!1),Ct.strm.avail_out===0)||Ct.strstart-Ct.block_start>=Ct.w_size-At&&(Lt(Ct,!1),Ct.strm.avail_out===0))return _t}return Ct.insert=0,Ut===ft?(Lt(Ct,!0),Ct.strm.avail_out===0?Zt:Ht):(Ct.strstart>Ct.block_start&&(Lt(Ct,!1),Ct.strm.avail_out),_t)}),new sn(4,4,8,4,gn),new sn(4,5,16,8,gn),new sn(4,6,32,32,gn),new sn(4,4,16,16,xn),new sn(8,16,32,32,xn),new sn(8,16,128,128,xn),new sn(8,32,128,256,xn),new sn(32,128,258,1024,xn),new sn(32,258,258,4096,xn)],rt.deflateInit=function(Ct,Ut){return vn(Ct,Ut,vt,15,8,0)},rt.deflateInit2=vn,rt.deflateReset=ln,rt.deflateResetKeep=mn,rt.deflateSetHeader=function(Ct,Ut){return Ct&&Ct.state?Ct.state.wrap!==2?ht:(Ct.state.gzhead=Ut,dt):ht},rt.deflate=function(Ct,Ut){var Dt,Ot,$t,Mt;if(!Ct||!Ct.state||5<Ut||Ut<0)return Ct?zt(Ct,ht):ht;if(Ot=Ct.state,!Ct.output||!Ct.input&&Ct.avail_in!==0||Ot.status===666&&Ut!==ft)return zt(Ct,Ct.avail_out===0?-5:ht);if(Ot.strm=Ct,Dt=Ot.last_flush,Ot.last_flush=Ut,Ot.status===Tt)if(Ot.wrap===2)Ct.adler=0,Jt(Ot,31),Jt(Ot,139),Jt(Ot,8),Ot.gzhead?(Jt(Ot,(Ot.gzhead.text?1:0)+(Ot.gzhead.hcrc?2:0)+(Ot.gzhead.extra?4:0)+(Ot.gzhead.name?8:0)+(Ot.gzhead.comment?16:0)),Jt(Ot,255&Ot.gzhead.time),Jt(Ot,Ot.gzhead.time>>8&255),Jt(Ot,Ot.gzhead.time>>16&255),Jt(Ot,Ot.gzhead.time>>24&255),Jt(Ot,Ot.level===9?2:2<=Ot.strategy||Ot.level<2?4:0),Jt(Ot,255&Ot.gzhead.os),Ot.gzhead.extra&&Ot.gzhead.extra.length&&(Jt(Ot,255&Ot.gzhead.extra.length),Jt(Ot,Ot.gzhead.extra.length>>8&255)),Ot.gzhead.hcrc&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending,0)),Ot.gzindex=0,Ot.status=69):(Jt(Ot,0),Jt(Ot,0),Jt(Ot,0),Jt(Ot,0),Jt(Ot,0),Jt(Ot,Ot.level===9?2:2<=Ot.strategy||Ot.level<2?4:0),Jt(Ot,3),Ot.status=It);else{var Ft=vt+(Ot.w_bits-8<<4)<<8;Ft|=(2<=Ot.strategy||Ot.level<2?0:Ot.level<6?1:Ot.level===6?2:3)<<6,Ot.strstart!==0&&(Ft|=32),Ft+=31-Ft%31,Ot.status=It,qt(Ot,Ft),Ot.strstart!==0&&(qt(Ot,Ct.adler>>>16),qt(Ot,65535&Ct.adler)),Ct.adler=1}if(Ot.status===69)if(Ot.gzhead.extra){for($t=Ot.pending;Ot.gzindex<(65535&Ot.gzhead.extra.length)&&(Ot.pending!==Ot.pending_buf_size||(Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Nt(Ct),$t=Ot.pending,Ot.pending!==Ot.pending_buf_size));)Jt(Ot,255&Ot.gzhead.extra[Ot.gzindex]),Ot.gzindex++;Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Ot.gzindex===Ot.gzhead.extra.length&&(Ot.gzindex=0,Ot.status=73)}else Ot.status=73;if(Ot.status===73)if(Ot.gzhead.name){$t=Ot.pending;do{if(Ot.pending===Ot.pending_buf_size&&(Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Nt(Ct),$t=Ot.pending,Ot.pending===Ot.pending_buf_size)){Mt=1;break}Mt=Ot.gzindex<Ot.gzhead.name.length?255&Ot.gzhead.name.charCodeAt(Ot.gzindex++):0,Jt(Ot,Mt)}while(Mt!==0);Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Mt===0&&(Ot.gzindex=0,Ot.status=91)}else Ot.status=91;if(Ot.status===91)if(Ot.gzhead.comment){$t=Ot.pending;do{if(Ot.pending===Ot.pending_buf_size&&(Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Nt(Ct),$t=Ot.pending,Ot.pending===Ot.pending_buf_size)){Mt=1;break}Mt=Ot.gzindex<Ot.gzhead.comment.length?255&Ot.gzhead.comment.charCodeAt(Ot.gzindex++):0,Jt(Ot,Mt)}while(Mt!==0);Ot.gzhead.hcrc&&Ot.pending>$t&&(Ct.adler=lt(Ct.adler,Ot.pending_buf,Ot.pending-$t,$t)),Mt===0&&(Ot.status=103)}else Ot.status=103;if(Ot.status===103&&(Ot.gzhead.hcrc?(Ot.pending+2>Ot.pending_buf_size&&Nt(Ct),Ot.pending+2<=Ot.pending_buf_size&&(Jt(Ot,255&Ct.adler),Jt(Ot,Ct.adler>>8&255),Ct.adler=0,Ot.status=It)):Ot.status=It),Ot.pending!==0){if(Nt(Ct),Ct.avail_out===0)return Ot.last_flush=-1,dt}else if(Ct.avail_in===0&&jt(Ut)<=jt(Dt)&&Ut!==ft)return zt(Ct,-5);if(Ot.status===666&&Ct.avail_in!==0)return zt(Ct,-5);if(Ct.avail_in!==0||Ot.lookahead!==0||Ut!==ct&&Ot.status!==666){var Vt=Ot.strategy===2?function(Bt,Xt){for(var Yt;;){if(Bt.lookahead===0&&(dn(Bt),Bt.lookahead===0)){if(Xt===ct)return _t;break}if(Bt.match_length=0,Yt=at._tr_tally(Bt,0,Bt.window[Bt.strstart]),Bt.lookahead--,Bt.strstart++,Yt&&(Lt(Bt,!1),Bt.strm.avail_out===0))return _t}return Bt.insert=0,Xt===ft?(Lt(Bt,!0),Bt.strm.avail_out===0?Zt:Ht):Bt.last_lit&&(Lt(Bt,!1),Bt.strm.avail_out===0)?_t:Pt}(Ot,Ut):Ot.strategy===3?function(Bt,Xt){for(var Yt,Gt,Qt,cn,hn=Bt.window;;){if(Bt.lookahead<=Et){if(dn(Bt),Bt.lookahead<=Et&&Xt===ct)return _t;if(Bt.lookahead===0)break}if(Bt.match_length=0,Bt.lookahead>=Rt&&0<Bt.strstart&&(Gt=hn[Qt=Bt.strstart-1])===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]){cn=Bt.strstart+Et;do;while(Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Gt===hn[++Qt]&&Qt<cn);Bt.match_length=Et-(cn-Qt),Bt.match_length>Bt.lookahead&&(Bt.match_length=Bt.lookahead)}if(Bt.match_length>=Rt?(Yt=at._tr_tally(Bt,1,Bt.match_length-Rt),Bt.lookahead-=Bt.match_length,Bt.strstart+=Bt.match_length,Bt.match_length=0):(Yt=at._tr_tally(Bt,0,Bt.window[Bt.strstart]),Bt.lookahead--,Bt.strstart++),Yt&&(Lt(Bt,!1),Bt.strm.avail_out===0))return _t}return Bt.insert=0,Xt===ft?(Lt(Bt,!0),Bt.strm.avail_out===0?Zt:Ht):Bt.last_lit&&(Lt(Bt,!1),Bt.strm.avail_out===0)?_t:Pt}(Ot,Ut):it[Ot.level].func(Ot,Ut);if(Vt!==Zt&&Vt!==Ht||(Ot.status=666),Vt===_t||Vt===Zt)return Ct.avail_out===0&&(Ot.last_flush=-1),dt;if(Vt===Pt&&(Ut===1?at._tr_align(Ot):Ut!==5&&(at._tr_stored_block(Ot,0,0,!1),Ut===3&&(Wt(Ot.head),Ot.lookahead===0&&(Ot.strstart=0,Ot.block_start=0,Ot.insert=0))),Nt(Ct),Ct.avail_out===0))return Ot.last_flush=-1,dt}return Ut!==ft?dt:Ot.wrap<=0?1:(Ot.wrap===2?(Jt(Ot,255&Ct.adler),Jt(Ot,Ct.adler>>8&255),Jt(Ot,Ct.adler>>16&255),Jt(Ot,Ct.adler>>24&255),Jt(Ot,255&Ct.total_in),Jt(Ot,Ct.total_in>>8&255),Jt(Ot,Ct.total_in>>16&255),Jt(Ot,Ct.total_in>>24&255)):(qt(Ot,Ct.adler>>>16),qt(Ot,65535&Ct.adler)),Nt(Ct),0<Ot.wrap&&(Ot.wrap=-Ot.wrap),Ot.pending!==0?dt:1)},rt.deflateEnd=function(Ct){var Ut;return Ct&&Ct.state?(Ut=Ct.state.status)!==Tt&&Ut!==69&&Ut!==73&&Ut!==91&&Ut!==103&&Ut!==It&&Ut!==666?zt(Ct,ht):(Ct.state=null,Ut===It?zt(Ct,-3):dt):ht},rt.deflateSetDictionary=function(Ct,Ut){var Dt,Ot,$t,Mt,Ft,Vt,Bt,Xt,Yt=Ut.length;if(!Ct||!Ct.state||(Mt=(Dt=Ct.state).wrap)===2||Mt===1&&Dt.status!==Tt||Dt.lookahead)return ht;for(Mt===1&&(Ct.adler=st(Ct.adler,Ut,Yt,0)),Dt.wrap=0,Yt>=Dt.w_size&&(Mt===0&&(Wt(Dt.head),Dt.strstart=0,Dt.block_start=0,Dt.insert=0),Xt=new ot.Buf8(Dt.w_size),ot.arraySet(Xt,Ut,Yt-Dt.w_size,Dt.w_size,0),Ut=Xt,Yt=Dt.w_size),Ft=Ct.avail_in,Vt=Ct.next_in,Bt=Ct.input,Ct.avail_in=Yt,Ct.next_in=0,Ct.input=Ut,dn(Dt);Dt.lookahead>=Rt;){for(Ot=Dt.strstart,$t=Dt.lookahead-(Rt-1);Dt.ins_h=(Dt.ins_h<<Dt.hash_shift^Dt.window[Ot+Rt-1])&Dt.hash_mask,Dt.prev[Ot&Dt.w_mask]=Dt.head[Dt.ins_h],Dt.head[Dt.ins_h]=Ot,Ot++,--$t;);Dt.strstart=Ot,Dt.lookahead=Rt-1,dn(Dt)}return Dt.strstart+=Dt.lookahead,Dt.block_start=Dt.strstart,Dt.insert=Dt.lookahead,Dt.lookahead=0,Dt.match_length=Dt.prev_length=Rt-1,Dt.match_available=0,Ct.next_in=Vt,Ct.input=Bt,Ct.avail_in=Ft,Dt.wrap=Mt,dt},rt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(tt,nt,rt){nt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(tt,nt,rt){nt.exports=function(it,ot){var at,st,lt,ut,ct,ft,dt,ht,mt,yt,pt,vt,gt,xt,wt,bt,St,kt,Rt,Et,At,Tt,It,_t,Pt;at=it.state,st=it.next_in,_t=it.input,lt=st+(it.avail_in-5),ut=it.next_out,Pt=it.output,ct=ut-(ot-it.avail_out),ft=ut+(it.avail_out-257),dt=at.dmax,ht=at.wsize,mt=at.whave,yt=at.wnext,pt=at.window,vt=at.hold,gt=at.bits,xt=at.lencode,wt=at.distcode,bt=(1<<at.lenbits)-1,St=(1<<at.distbits)-1;e:do{gt<15&&(vt+=_t[st++]<<gt,gt+=8,vt+=_t[st++]<<gt,gt+=8),kt=xt[vt&bt];t:for(;;){if(vt>>>=Rt=kt>>>24,gt-=Rt,(Rt=kt>>>16&255)===0)Pt[ut++]=65535&kt;else{if(!(16&Rt)){if(!(64&Rt)){kt=xt[(65535&kt)+(vt&(1<<Rt)-1)];continue t}if(32&Rt){at.mode=12;break e}it.msg="invalid literal/length code",at.mode=30;break e}Et=65535&kt,(Rt&=15)&&(gt<Rt&&(vt+=_t[st++]<<gt,gt+=8),Et+=vt&(1<<Rt)-1,vt>>>=Rt,gt-=Rt),gt<15&&(vt+=_t[st++]<<gt,gt+=8,vt+=_t[st++]<<gt,gt+=8),kt=wt[vt&St];n:for(;;){if(vt>>>=Rt=kt>>>24,gt-=Rt,!(16&(Rt=kt>>>16&255))){if(!(64&Rt)){kt=wt[(65535&kt)+(vt&(1<<Rt)-1)];continue n}it.msg="invalid distance code",at.mode=30;break e}if(At=65535&kt,gt<(Rt&=15)&&(vt+=_t[st++]<<gt,(gt+=8)<Rt&&(vt+=_t[st++]<<gt,gt+=8)),dt<(At+=vt&(1<<Rt)-1)){it.msg="invalid distance too far back",at.mode=30;break e}if(vt>>>=Rt,gt-=Rt,(Rt=ut-ct)<At){if(mt<(Rt=At-Rt)&&at.sane){it.msg="invalid distance too far back",at.mode=30;break e}if(It=pt,(Tt=0)===yt){if(Tt+=ht-Rt,Rt<Et){for(Et-=Rt;Pt[ut++]=pt[Tt++],--Rt;);Tt=ut-At,It=Pt}}else if(yt<Rt){if(Tt+=ht+yt-Rt,(Rt-=yt)<Et){for(Et-=Rt;Pt[ut++]=pt[Tt++],--Rt;);if(Tt=0,yt<Et){for(Et-=Rt=yt;Pt[ut++]=pt[Tt++],--Rt;);Tt=ut-At,It=Pt}}}else if(Tt+=yt-Rt,Rt<Et){for(Et-=Rt;Pt[ut++]=pt[Tt++],--Rt;);Tt=ut-At,It=Pt}for(;2<Et;)Pt[ut++]=It[Tt++],Pt[ut++]=It[Tt++],Pt[ut++]=It[Tt++],Et-=3;Et&&(Pt[ut++]=It[Tt++],1<Et&&(Pt[ut++]=It[Tt++]))}else{for(Tt=ut-At;Pt[ut++]=Pt[Tt++],Pt[ut++]=Pt[Tt++],Pt[ut++]=Pt[Tt++],2<(Et-=3););Et&&(Pt[ut++]=Pt[Tt++],1<Et&&(Pt[ut++]=Pt[Tt++]))}break}}break}}while(st<lt&&ut<ft);st-=Et=gt>>3,vt&=(1<<(gt-=Et<<3))-1,it.next_in=st,it.next_out=ut,it.avail_in=st<lt?lt-st+5:5-(st-lt),it.avail_out=ut<ft?ft-ut+257:257-(ut-ft),at.hold=vt,at.bits=gt}},{}],49:[function(tt,nt,rt){var it=tt("../utils/common"),ot=tt("./adler32"),at=tt("./crc32"),st=tt("./inffast"),lt=tt("./inftrees"),ut=1,ct=2,ft=0,dt=-2,ht=1,mt=852,yt=592;function pt(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function vt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new it.Buf16(320),this.work=new it.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gt(Tt){var It;return Tt&&Tt.state?(It=Tt.state,Tt.total_in=Tt.total_out=It.total=0,Tt.msg="",It.wrap&&(Tt.adler=1&It.wrap),It.mode=ht,It.last=0,It.havedict=0,It.dmax=32768,It.head=null,It.hold=0,It.bits=0,It.lencode=It.lendyn=new it.Buf32(mt),It.distcode=It.distdyn=new it.Buf32(yt),It.sane=1,It.back=-1,ft):dt}function xt(Tt){var It;return Tt&&Tt.state?((It=Tt.state).wsize=0,It.whave=0,It.wnext=0,gt(Tt)):dt}function wt(Tt,It){var _t,Pt;return Tt&&Tt.state?(Pt=Tt.state,It<0?(_t=0,It=-It):(_t=1+(It>>4),It<48&&(It&=15)),It&&(It<8||15<It)?dt:(Pt.window!==null&&Pt.wbits!==It&&(Pt.window=null),Pt.wrap=_t,Pt.wbits=It,xt(Tt))):dt}function bt(Tt,It){var _t,Pt;return Tt?(Pt=new vt,(Tt.state=Pt).window=null,(_t=wt(Tt,It))!==ft&&(Tt.state=null),_t):dt}var St,kt,Rt=!0;function Et(Tt){if(Rt){var It;for(St=new it.Buf32(512),kt=new it.Buf32(32),It=0;It<144;)Tt.lens[It++]=8;for(;It<256;)Tt.lens[It++]=9;for(;It<280;)Tt.lens[It++]=7;for(;It<288;)Tt.lens[It++]=8;for(lt(ut,Tt.lens,0,288,St,0,Tt.work,{bits:9}),It=0;It<32;)Tt.lens[It++]=5;lt(ct,Tt.lens,0,32,kt,0,Tt.work,{bits:5}),Rt=!1}Tt.lencode=St,Tt.lenbits=9,Tt.distcode=kt,Tt.distbits=5}function At(Tt,It,_t,Pt){var Zt,Ht=Tt.state;return Ht.window===null&&(Ht.wsize=1<<Ht.wbits,Ht.wnext=0,Ht.whave=0,Ht.window=new it.Buf8(Ht.wsize)),Pt>=Ht.wsize?(it.arraySet(Ht.window,It,_t-Ht.wsize,Ht.wsize,0),Ht.wnext=0,Ht.whave=Ht.wsize):(Pt<(Zt=Ht.wsize-Ht.wnext)&&(Zt=Pt),it.arraySet(Ht.window,It,_t-Pt,Zt,Ht.wnext),(Pt-=Zt)?(it.arraySet(Ht.window,It,_t-Pt,Pt,0),Ht.wnext=Pt,Ht.whave=Ht.wsize):(Ht.wnext+=Zt,Ht.wnext===Ht.wsize&&(Ht.wnext=0),Ht.whave<Ht.wsize&&(Ht.whave+=Zt))),0}rt.inflateReset=xt,rt.inflateReset2=wt,rt.inflateResetKeep=gt,rt.inflateInit=function(Tt){return bt(Tt,15)},rt.inflateInit2=bt,rt.inflate=function(Tt,It){var _t,Pt,Zt,Ht,zt,jt,Wt,Nt,Lt,Jt,qt,Kt,dn,gn,xn,sn,pn,mn,ln,vn,Ct,Ut,Dt,Ot,$t=0,Mt=new it.Buf8(4),Ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return dt;(_t=Tt.state).mode===12&&(_t.mode=13),zt=Tt.next_out,Zt=Tt.output,Wt=Tt.avail_out,Ht=Tt.next_in,Pt=Tt.input,jt=Tt.avail_in,Nt=_t.hold,Lt=_t.bits,Jt=jt,qt=Wt,Ut=ft;e:for(;;)switch(_t.mode){case ht:if(_t.wrap===0){_t.mode=13;break}for(;Lt<16;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(2&_t.wrap&&Nt===35615){Mt[_t.check=0]=255&Nt,Mt[1]=Nt>>>8&255,_t.check=at(_t.check,Mt,2,0),Lt=Nt=0,_t.mode=2;break}if(_t.flags=0,_t.head&&(_t.head.done=!1),!(1&_t.wrap)||(((255&Nt)<<8)+(Nt>>8))%31){Tt.msg="incorrect header check",_t.mode=30;break}if((15&Nt)!=8){Tt.msg="unknown compression method",_t.mode=30;break}if(Lt-=4,Ct=8+(15&(Nt>>>=4)),_t.wbits===0)_t.wbits=Ct;else if(Ct>_t.wbits){Tt.msg="invalid window size",_t.mode=30;break}_t.dmax=1<<Ct,Tt.adler=_t.check=1,_t.mode=512&Nt?10:12,Lt=Nt=0;break;case 2:for(;Lt<16;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(_t.flags=Nt,(255&_t.flags)!=8){Tt.msg="unknown compression method",_t.mode=30;break}if(57344&_t.flags){Tt.msg="unknown header flags set",_t.mode=30;break}_t.head&&(_t.head.text=Nt>>8&1),512&_t.flags&&(Mt[0]=255&Nt,Mt[1]=Nt>>>8&255,_t.check=at(_t.check,Mt,2,0)),Lt=Nt=0,_t.mode=3;case 3:for(;Lt<32;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.head&&(_t.head.time=Nt),512&_t.flags&&(Mt[0]=255&Nt,Mt[1]=Nt>>>8&255,Mt[2]=Nt>>>16&255,Mt[3]=Nt>>>24&255,_t.check=at(_t.check,Mt,4,0)),Lt=Nt=0,_t.mode=4;case 4:for(;Lt<16;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.head&&(_t.head.xflags=255&Nt,_t.head.os=Nt>>8),512&_t.flags&&(Mt[0]=255&Nt,Mt[1]=Nt>>>8&255,_t.check=at(_t.check,Mt,2,0)),Lt=Nt=0,_t.mode=5;case 5:if(1024&_t.flags){for(;Lt<16;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.length=Nt,_t.head&&(_t.head.extra_len=Nt),512&_t.flags&&(Mt[0]=255&Nt,Mt[1]=Nt>>>8&255,_t.check=at(_t.check,Mt,2,0)),Lt=Nt=0}else _t.head&&(_t.head.extra=null);_t.mode=6;case 6:if(1024&_t.flags&&(jt<(Kt=_t.length)&&(Kt=jt),Kt&&(_t.head&&(Ct=_t.head.extra_len-_t.length,_t.head.extra||(_t.head.extra=new Array(_t.head.extra_len)),it.arraySet(_t.head.extra,Pt,Ht,Kt,Ct)),512&_t.flags&&(_t.check=at(_t.check,Pt,Kt,Ht)),jt-=Kt,Ht+=Kt,_t.length-=Kt),_t.length))break e;_t.length=0,_t.mode=7;case 7:if(2048&_t.flags){if(jt===0)break e;for(Kt=0;Ct=Pt[Ht+Kt++],_t.head&&Ct&&_t.length<65536&&(_t.head.name+=String.fromCharCode(Ct)),Ct&&Kt<jt;);if(512&_t.flags&&(_t.check=at(_t.check,Pt,Kt,Ht)),jt-=Kt,Ht+=Kt,Ct)break e}else _t.head&&(_t.head.name=null);_t.length=0,_t.mode=8;case 8:if(4096&_t.flags){if(jt===0)break e;for(Kt=0;Ct=Pt[Ht+Kt++],_t.head&&Ct&&_t.length<65536&&(_t.head.comment+=String.fromCharCode(Ct)),Ct&&Kt<jt;);if(512&_t.flags&&(_t.check=at(_t.check,Pt,Kt,Ht)),jt-=Kt,Ht+=Kt,Ct)break e}else _t.head&&(_t.head.comment=null);_t.mode=9;case 9:if(512&_t.flags){for(;Lt<16;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(Nt!==(65535&_t.check)){Tt.msg="header crc mismatch",_t.mode=30;break}Lt=Nt=0}_t.head&&(_t.head.hcrc=_t.flags>>9&1,_t.head.done=!0),Tt.adler=_t.check=0,_t.mode=12;break;case 10:for(;Lt<32;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}Tt.adler=_t.check=pt(Nt),Lt=Nt=0,_t.mode=11;case 11:if(_t.havedict===0)return Tt.next_out=zt,Tt.avail_out=Wt,Tt.next_in=Ht,Tt.avail_in=jt,_t.hold=Nt,_t.bits=Lt,2;Tt.adler=_t.check=1,_t.mode=12;case 12:if(It===5||It===6)break e;case 13:if(_t.last){Nt>>>=7&Lt,Lt-=7&Lt,_t.mode=27;break}for(;Lt<3;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}switch(_t.last=1&Nt,Lt-=1,3&(Nt>>>=1)){case 0:_t.mode=14;break;case 1:if(Et(_t),_t.mode=20,It!==6)break;Nt>>>=2,Lt-=2;break e;case 2:_t.mode=17;break;case 3:Tt.msg="invalid block type",_t.mode=30}Nt>>>=2,Lt-=2;break;case 14:for(Nt>>>=7&Lt,Lt-=7&Lt;Lt<32;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if((65535&Nt)!=(Nt>>>16^65535)){Tt.msg="invalid stored block lengths",_t.mode=30;break}if(_t.length=65535&Nt,Lt=Nt=0,_t.mode=15,It===6)break e;case 15:_t.mode=16;case 16:if(Kt=_t.length){if(jt<Kt&&(Kt=jt),Wt<Kt&&(Kt=Wt),Kt===0)break e;it.arraySet(Zt,Pt,Ht,Kt,zt),jt-=Kt,Ht+=Kt,Wt-=Kt,zt+=Kt,_t.length-=Kt;break}_t.mode=12;break;case 17:for(;Lt<14;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(_t.nlen=257+(31&Nt),Nt>>>=5,Lt-=5,_t.ndist=1+(31&Nt),Nt>>>=5,Lt-=5,_t.ncode=4+(15&Nt),Nt>>>=4,Lt-=4,286<_t.nlen||30<_t.ndist){Tt.msg="too many length or distance symbols",_t.mode=30;break}_t.have=0,_t.mode=18;case 18:for(;_t.have<_t.ncode;){for(;Lt<3;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.lens[Ft[_t.have++]]=7&Nt,Nt>>>=3,Lt-=3}for(;_t.have<19;)_t.lens[Ft[_t.have++]]=0;if(_t.lencode=_t.lendyn,_t.lenbits=7,Dt={bits:_t.lenbits},Ut=lt(0,_t.lens,0,19,_t.lencode,0,_t.work,Dt),_t.lenbits=Dt.bits,Ut){Tt.msg="invalid code lengths set",_t.mode=30;break}_t.have=0,_t.mode=19;case 19:for(;_t.have<_t.nlen+_t.ndist;){for(;sn=($t=_t.lencode[Nt&(1<<_t.lenbits)-1])>>>16&255,pn=65535&$t,!((xn=$t>>>24)<=Lt);){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(pn<16)Nt>>>=xn,Lt-=xn,_t.lens[_t.have++]=pn;else{if(pn===16){for(Ot=xn+2;Lt<Ot;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(Nt>>>=xn,Lt-=xn,_t.have===0){Tt.msg="invalid bit length repeat",_t.mode=30;break}Ct=_t.lens[_t.have-1],Kt=3+(3&Nt),Nt>>>=2,Lt-=2}else if(pn===17){for(Ot=xn+3;Lt<Ot;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}Lt-=xn,Ct=0,Kt=3+(7&(Nt>>>=xn)),Nt>>>=3,Lt-=3}else{for(Ot=xn+7;Lt<Ot;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}Lt-=xn,Ct=0,Kt=11+(127&(Nt>>>=xn)),Nt>>>=7,Lt-=7}if(_t.have+Kt>_t.nlen+_t.ndist){Tt.msg="invalid bit length repeat",_t.mode=30;break}for(;Kt--;)_t.lens[_t.have++]=Ct}}if(_t.mode===30)break;if(_t.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",_t.mode=30;break}if(_t.lenbits=9,Dt={bits:_t.lenbits},Ut=lt(ut,_t.lens,0,_t.nlen,_t.lencode,0,_t.work,Dt),_t.lenbits=Dt.bits,Ut){Tt.msg="invalid literal/lengths set",_t.mode=30;break}if(_t.distbits=6,_t.distcode=_t.distdyn,Dt={bits:_t.distbits},Ut=lt(ct,_t.lens,_t.nlen,_t.ndist,_t.distcode,0,_t.work,Dt),_t.distbits=Dt.bits,Ut){Tt.msg="invalid distances set",_t.mode=30;break}if(_t.mode=20,It===6)break e;case 20:_t.mode=21;case 21:if(6<=jt&&258<=Wt){Tt.next_out=zt,Tt.avail_out=Wt,Tt.next_in=Ht,Tt.avail_in=jt,_t.hold=Nt,_t.bits=Lt,st(Tt,qt),zt=Tt.next_out,Zt=Tt.output,Wt=Tt.avail_out,Ht=Tt.next_in,Pt=Tt.input,jt=Tt.avail_in,Nt=_t.hold,Lt=_t.bits,_t.mode===12&&(_t.back=-1);break}for(_t.back=0;sn=($t=_t.lencode[Nt&(1<<_t.lenbits)-1])>>>16&255,pn=65535&$t,!((xn=$t>>>24)<=Lt);){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(sn&&!(240&sn)){for(mn=xn,ln=sn,vn=pn;sn=($t=_t.lencode[vn+((Nt&(1<<mn+ln)-1)>>mn)])>>>16&255,pn=65535&$t,!(mn+(xn=$t>>>24)<=Lt);){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}Nt>>>=mn,Lt-=mn,_t.back+=mn}if(Nt>>>=xn,Lt-=xn,_t.back+=xn,_t.length=pn,sn===0){_t.mode=26;break}if(32&sn){_t.back=-1,_t.mode=12;break}if(64&sn){Tt.msg="invalid literal/length code",_t.mode=30;break}_t.extra=15&sn,_t.mode=22;case 22:if(_t.extra){for(Ot=_t.extra;Lt<Ot;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.length+=Nt&(1<<_t.extra)-1,Nt>>>=_t.extra,Lt-=_t.extra,_t.back+=_t.extra}_t.was=_t.length,_t.mode=23;case 23:for(;sn=($t=_t.distcode[Nt&(1<<_t.distbits)-1])>>>16&255,pn=65535&$t,!((xn=$t>>>24)<=Lt);){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(!(240&sn)){for(mn=xn,ln=sn,vn=pn;sn=($t=_t.distcode[vn+((Nt&(1<<mn+ln)-1)>>mn)])>>>16&255,pn=65535&$t,!(mn+(xn=$t>>>24)<=Lt);){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}Nt>>>=mn,Lt-=mn,_t.back+=mn}if(Nt>>>=xn,Lt-=xn,_t.back+=xn,64&sn){Tt.msg="invalid distance code",_t.mode=30;break}_t.offset=pn,_t.extra=15&sn,_t.mode=24;case 24:if(_t.extra){for(Ot=_t.extra;Lt<Ot;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}_t.offset+=Nt&(1<<_t.extra)-1,Nt>>>=_t.extra,Lt-=_t.extra,_t.back+=_t.extra}if(_t.offset>_t.dmax){Tt.msg="invalid distance too far back",_t.mode=30;break}_t.mode=25;case 25:if(Wt===0)break e;if(Kt=qt-Wt,_t.offset>Kt){if((Kt=_t.offset-Kt)>_t.whave&&_t.sane){Tt.msg="invalid distance too far back",_t.mode=30;break}dn=Kt>_t.wnext?(Kt-=_t.wnext,_t.wsize-Kt):_t.wnext-Kt,Kt>_t.length&&(Kt=_t.length),gn=_t.window}else gn=Zt,dn=zt-_t.offset,Kt=_t.length;for(Wt<Kt&&(Kt=Wt),Wt-=Kt,_t.length-=Kt;Zt[zt++]=gn[dn++],--Kt;);_t.length===0&&(_t.mode=21);break;case 26:if(Wt===0)break e;Zt[zt++]=_t.length,Wt--,_t.mode=21;break;case 27:if(_t.wrap){for(;Lt<32;){if(jt===0)break e;jt--,Nt|=Pt[Ht++]<<Lt,Lt+=8}if(qt-=Wt,Tt.total_out+=qt,_t.total+=qt,qt&&(Tt.adler=_t.check=_t.flags?at(_t.check,Zt,qt,zt-qt):ot(_t.check,Zt,qt,zt-qt)),qt=Wt,(_t.flags?Nt:pt(Nt))!==_t.check){Tt.msg="incorrect data check",_t.mode=30;break}Lt=Nt=0}_t.mode=28;case 28:if(_t.wrap&&_t.flags){for(;Lt<32;){if(jt===0)break e;jt--,Nt+=Pt[Ht++]<<Lt,Lt+=8}if(Nt!==(4294967295&_t.total)){Tt.msg="incorrect length check",_t.mode=30;break}Lt=Nt=0}_t.mode=29;case 29:Ut=1;break e;case 30:Ut=-3;break e;case 31:return-4;case 32:default:return dt}return Tt.next_out=zt,Tt.avail_out=Wt,Tt.next_in=Ht,Tt.avail_in=jt,_t.hold=Nt,_t.bits=Lt,(_t.wsize||qt!==Tt.avail_out&&_t.mode<30&&(_t.mode<27||It!==4))&&At(Tt,Tt.output,Tt.next_out,qt-Tt.avail_out)?(_t.mode=31,-4):(Jt-=Tt.avail_in,qt-=Tt.avail_out,Tt.total_in+=Jt,Tt.total_out+=qt,_t.total+=qt,_t.wrap&&qt&&(Tt.adler=_t.check=_t.flags?at(_t.check,Zt,qt,Tt.next_out-qt):ot(_t.check,Zt,qt,Tt.next_out-qt)),Tt.data_type=_t.bits+(_t.last?64:0)+(_t.mode===12?128:0)+(_t.mode===20||_t.mode===15?256:0),(Jt==0&&qt===0||It===4)&&Ut===ft&&(Ut=-5),Ut)},rt.inflateEnd=function(Tt){if(!Tt||!Tt.state)return dt;var It=Tt.state;return It.window&&(It.window=null),Tt.state=null,ft},rt.inflateGetHeader=function(Tt,It){var _t;return Tt&&Tt.state&&2&(_t=Tt.state).wrap?((_t.head=It).done=!1,ft):dt},rt.inflateSetDictionary=function(Tt,It){var _t,Pt=It.length;return Tt&&Tt.state?(_t=Tt.state).wrap!==0&&_t.mode!==11?dt:_t.mode===11&&ot(1,It,Pt,0)!==_t.check?-3:At(Tt,It,Pt,Pt)?(_t.mode=31,-4):(_t.havedict=1,ft):dt},rt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(tt,nt,rt){var it=tt("../utils/common"),ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],at=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],lt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];nt.exports=function(ut,ct,ft,dt,ht,mt,yt,pt){var vt,gt,xt,wt,bt,St,kt,Rt,Et,At=pt.bits,Tt=0,It=0,_t=0,Pt=0,Zt=0,Ht=0,zt=0,jt=0,Wt=0,Nt=0,Lt=null,Jt=0,qt=new it.Buf16(16),Kt=new it.Buf16(16),dn=null,gn=0;for(Tt=0;Tt<=15;Tt++)qt[Tt]=0;for(It=0;It<dt;It++)qt[ct[ft+It]]++;for(Zt=At,Pt=15;1<=Pt&&qt[Pt]===0;Pt--);if(Pt<Zt&&(Zt=Pt),Pt===0)return ht[mt++]=20971520,ht[mt++]=20971520,pt.bits=1,0;for(_t=1;_t<Pt&&qt[_t]===0;_t++);for(Zt<_t&&(Zt=_t),Tt=jt=1;Tt<=15;Tt++)if(jt<<=1,(jt-=qt[Tt])<0)return-1;if(0<jt&&(ut===0||Pt!==1))return-1;for(Kt[1]=0,Tt=1;Tt<15;Tt++)Kt[Tt+1]=Kt[Tt]+qt[Tt];for(It=0;It<dt;It++)ct[ft+It]!==0&&(yt[Kt[ct[ft+It]]++]=It);if(St=ut===0?(Lt=dn=yt,19):ut===1?(Lt=ot,Jt-=257,dn=at,gn-=257,256):(Lt=st,dn=lt,-1),Tt=_t,bt=mt,zt=It=Nt=0,xt=-1,wt=(Wt=1<<(Ht=Zt))-1,ut===1&&852<Wt||ut===2&&592<Wt)return 1;for(;;){for(kt=Tt-zt,Et=yt[It]<St?(Rt=0,yt[It]):yt[It]>St?(Rt=dn[gn+yt[It]],Lt[Jt+yt[It]]):(Rt=96,0),vt=1<<Tt-zt,_t=gt=1<<Ht;ht[bt+(Nt>>zt)+(gt-=vt)]=kt<<24|Rt<<16|Et|0,gt!==0;);for(vt=1<<Tt-1;Nt&vt;)vt>>=1;if(vt!==0?(Nt&=vt-1,Nt+=vt):Nt=0,It++,--qt[Tt]==0){if(Tt===Pt)break;Tt=ct[ft+yt[It]]}if(Zt<Tt&&(Nt&wt)!==xt){for(zt===0&&(zt=Zt),bt+=_t,jt=1<<(Ht=Tt-zt);Ht+zt<Pt&&!((jt-=qt[Ht+zt])<=0);)Ht++,jt<<=1;if(Wt+=1<<Ht,ut===1&&852<Wt||ut===2&&592<Wt)return 1;ht[xt=Nt&wt]=Zt<<24|Ht<<16|bt-mt|0}}return Nt!==0&&(ht[bt+Nt]=Tt-zt<<24|64<<16|0),pt.bits=Zt,0}},{"../utils/common":41}],51:[function(tt,nt,rt){nt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(tt,nt,rt){var it=tt("../utils/common"),ot=0,at=1;function st($t){for(var Mt=$t.length;0<=--Mt;)$t[Mt]=0}var lt=0,ut=29,ct=256,ft=ct+1+ut,dt=30,ht=19,mt=2*ft+1,yt=15,pt=16,vt=7,gt=256,xt=16,wt=17,bt=18,St=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],kt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],At=new Array(2*(ft+2));st(At);var Tt=new Array(2*dt);st(Tt);var It=new Array(512);st(It);var _t=new Array(256);st(_t);var Pt=new Array(ut);st(Pt);var Zt,Ht,zt,jt=new Array(dt);function Wt($t,Mt,Ft,Vt,Bt){this.static_tree=$t,this.extra_bits=Mt,this.extra_base=Ft,this.elems=Vt,this.max_length=Bt,this.has_stree=$t&&$t.length}function Nt($t,Mt){this.dyn_tree=$t,this.max_code=0,this.stat_desc=Mt}function Lt($t){return $t<256?It[$t]:It[256+($t>>>7)]}function Jt($t,Mt){$t.pending_buf[$t.pending++]=255&Mt,$t.pending_buf[$t.pending++]=Mt>>>8&255}function qt($t,Mt,Ft){$t.bi_valid>pt-Ft?($t.bi_buf|=Mt<<$t.bi_valid&65535,Jt($t,$t.bi_buf),$t.bi_buf=Mt>>pt-$t.bi_valid,$t.bi_valid+=Ft-pt):($t.bi_buf|=Mt<<$t.bi_valid&65535,$t.bi_valid+=Ft)}function Kt($t,Mt,Ft){qt($t,Ft[2*Mt],Ft[2*Mt+1])}function dn($t,Mt){for(var Ft=0;Ft|=1&$t,$t>>>=1,Ft<<=1,0<--Mt;);return Ft>>>1}function gn($t,Mt,Ft){var Vt,Bt,Xt=new Array(yt+1),Yt=0;for(Vt=1;Vt<=yt;Vt++)Xt[Vt]=Yt=Yt+Ft[Vt-1]<<1;for(Bt=0;Bt<=Mt;Bt++){var Gt=$t[2*Bt+1];Gt!==0&&($t[2*Bt]=dn(Xt[Gt]++,Gt))}}function xn($t){var Mt;for(Mt=0;Mt<ft;Mt++)$t.dyn_ltree[2*Mt]=0;for(Mt=0;Mt<dt;Mt++)$t.dyn_dtree[2*Mt]=0;for(Mt=0;Mt<ht;Mt++)$t.bl_tree[2*Mt]=0;$t.dyn_ltree[2*gt]=1,$t.opt_len=$t.static_len=0,$t.last_lit=$t.matches=0}function sn($t){8<$t.bi_valid?Jt($t,$t.bi_buf):0<$t.bi_valid&&($t.pending_buf[$t.pending++]=$t.bi_buf),$t.bi_buf=0,$t.bi_valid=0}function pn($t,Mt,Ft,Vt){var Bt=2*Mt,Xt=2*Ft;return $t[Bt]<$t[Xt]||$t[Bt]===$t[Xt]&&Vt[Mt]<=Vt[Ft]}function mn($t,Mt,Ft){for(var Vt=$t.heap[Ft],Bt=Ft<<1;Bt<=$t.heap_len&&(Bt<$t.heap_len&&pn(Mt,$t.heap[Bt+1],$t.heap[Bt],$t.depth)&&Bt++,!pn(Mt,Vt,$t.heap[Bt],$t.depth));)$t.heap[Ft]=$t.heap[Bt],Ft=Bt,Bt<<=1;$t.heap[Ft]=Vt}function ln($t,Mt,Ft){var Vt,Bt,Xt,Yt,Gt=0;if($t.last_lit!==0)for(;Vt=$t.pending_buf[$t.d_buf+2*Gt]<<8|$t.pending_buf[$t.d_buf+2*Gt+1],Bt=$t.pending_buf[$t.l_buf+Gt],Gt++,Vt===0?Kt($t,Bt,Mt):(Kt($t,(Xt=_t[Bt])+ct+1,Mt),(Yt=St[Xt])!==0&&qt($t,Bt-=Pt[Xt],Yt),Kt($t,Xt=Lt(--Vt),Ft),(Yt=kt[Xt])!==0&&qt($t,Vt-=jt[Xt],Yt)),Gt<$t.last_lit;);Kt($t,gt,Mt)}function vn($t,Mt){var Ft,Vt,Bt,Xt=Mt.dyn_tree,Yt=Mt.stat_desc.static_tree,Gt=Mt.stat_desc.has_stree,Qt=Mt.stat_desc.elems,cn=-1;for($t.heap_len=0,$t.heap_max=mt,Ft=0;Ft<Qt;Ft++)Xt[2*Ft]!==0?($t.heap[++$t.heap_len]=cn=Ft,$t.depth[Ft]=0):Xt[2*Ft+1]=0;for(;$t.heap_len<2;)Xt[2*(Bt=$t.heap[++$t.heap_len]=cn<2?++cn:0)]=1,$t.depth[Bt]=0,$t.opt_len--,Gt&&($t.static_len-=Yt[2*Bt+1]);for(Mt.max_code=cn,Ft=$t.heap_len>>1;1<=Ft;Ft--)mn($t,Xt,Ft);for(Bt=Qt;Ft=$t.heap[1],$t.heap[1]=$t.heap[$t.heap_len--],mn($t,Xt,1),Vt=$t.heap[1],$t.heap[--$t.heap_max]=Ft,$t.heap[--$t.heap_max]=Vt,Xt[2*Bt]=Xt[2*Ft]+Xt[2*Vt],$t.depth[Bt]=($t.depth[Ft]>=$t.depth[Vt]?$t.depth[Ft]:$t.depth[Vt])+1,Xt[2*Ft+1]=Xt[2*Vt+1]=Bt,$t.heap[1]=Bt++,mn($t,Xt,1),2<=$t.heap_len;);$t.heap[--$t.heap_max]=$t.heap[1],function(hn,yn){var bn,En,_n,wn,Sn,kn,Tn=yn.dyn_tree,Cn=yn.max_code,Rn=yn.stat_desc.static_tree,On=yn.stat_desc.has_stree,Pn=yn.stat_desc.extra_bits,An=yn.stat_desc.extra_base,Mn=yn.stat_desc.max_length,$n=0;for(wn=0;wn<=yt;wn++)hn.bl_count[wn]=0;for(Tn[2*hn.heap[hn.heap_max]+1]=0,bn=hn.heap_max+1;bn<mt;bn++)Mn<(wn=Tn[2*Tn[2*(En=hn.heap[bn])+1]+1]+1)&&(wn=Mn,$n++),Tn[2*En+1]=wn,Cn<En||(hn.bl_count[wn]++,Sn=0,An<=En&&(Sn=Pn[En-An]),kn=Tn[2*En],hn.opt_len+=kn*(wn+Sn),On&&(hn.static_len+=kn*(Rn[2*En+1]+Sn)));if($n!==0){do{for(wn=Mn-1;hn.bl_count[wn]===0;)wn--;hn.bl_count[wn]--,hn.bl_count[wn+1]+=2,hn.bl_count[Mn]--,$n-=2}while(0<$n);for(wn=Mn;wn!==0;wn--)for(En=hn.bl_count[wn];En!==0;)Cn<(_n=hn.heap[--bn])||(Tn[2*_n+1]!==wn&&(hn.opt_len+=(wn-Tn[2*_n+1])*Tn[2*_n],Tn[2*_n+1]=wn),En--)}}($t,Mt),gn(Xt,cn,$t.bl_count)}function Ct($t,Mt,Ft){var Vt,Bt,Xt=-1,Yt=Mt[1],Gt=0,Qt=7,cn=4;for(Yt===0&&(Qt=138,cn=3),Mt[2*(Ft+1)+1]=65535,Vt=0;Vt<=Ft;Vt++)Bt=Yt,Yt=Mt[2*(Vt+1)+1],++Gt<Qt&&Bt===Yt||(Gt<cn?$t.bl_tree[2*Bt]+=Gt:Bt!==0?(Bt!==Xt&&$t.bl_tree[2*Bt]++,$t.bl_tree[2*xt]++):Gt<=10?$t.bl_tree[2*wt]++:$t.bl_tree[2*bt]++,Xt=Bt,cn=(Gt=0)===Yt?(Qt=138,3):Bt===Yt?(Qt=6,3):(Qt=7,4))}function Ut($t,Mt,Ft){var Vt,Bt,Xt=-1,Yt=Mt[1],Gt=0,Qt=7,cn=4;for(Yt===0&&(Qt=138,cn=3),Vt=0;Vt<=Ft;Vt++)if(Bt=Yt,Yt=Mt[2*(Vt+1)+1],!(++Gt<Qt&&Bt===Yt)){if(Gt<cn)for(;Kt($t,Bt,$t.bl_tree),--Gt!=0;);else Bt!==0?(Bt!==Xt&&(Kt($t,Bt,$t.bl_tree),Gt--),Kt($t,xt,$t.bl_tree),qt($t,Gt-3,2)):Gt<=10?(Kt($t,wt,$t.bl_tree),qt($t,Gt-3,3)):(Kt($t,bt,$t.bl_tree),qt($t,Gt-11,7));Xt=Bt,cn=(Gt=0)===Yt?(Qt=138,3):Bt===Yt?(Qt=6,3):(Qt=7,4)}}st(jt);var Dt=!1;function Ot($t,Mt,Ft,Vt){qt($t,(lt<<1)+(Vt?1:0),3),function(Bt,Xt,Yt,Gt){sn(Bt),Gt&&(Jt(Bt,Yt),Jt(Bt,~Yt)),it.arraySet(Bt.pending_buf,Bt.window,Xt,Yt,Bt.pending),Bt.pending+=Yt}($t,Mt,Ft,!0)}rt._tr_init=function($t){Dt||(function(){var Mt,Ft,Vt,Bt,Xt,Yt=new Array(yt+1);for(Bt=Vt=0;Bt<ut-1;Bt++)for(Pt[Bt]=Vt,Mt=0;Mt<1<<St[Bt];Mt++)_t[Vt++]=Bt;for(_t[Vt-1]=Bt,Bt=Xt=0;Bt<16;Bt++)for(jt[Bt]=Xt,Mt=0;Mt<1<<kt[Bt];Mt++)It[Xt++]=Bt;for(Xt>>=7;Bt<dt;Bt++)for(jt[Bt]=Xt<<7,Mt=0;Mt<1<<kt[Bt]-7;Mt++)It[256+Xt++]=Bt;for(Ft=0;Ft<=yt;Ft++)Yt[Ft]=0;for(Mt=0;Mt<=143;)At[2*Mt+1]=8,Mt++,Yt[8]++;for(;Mt<=255;)At[2*Mt+1]=9,Mt++,Yt[9]++;for(;Mt<=279;)At[2*Mt+1]=7,Mt++,Yt[7]++;for(;Mt<=287;)At[2*Mt+1]=8,Mt++,Yt[8]++;for(gn(At,ft+1,Yt),Mt=0;Mt<dt;Mt++)Tt[2*Mt+1]=5,Tt[2*Mt]=dn(Mt,5);Zt=new Wt(At,St,ct+1,ft,yt),Ht=new Wt(Tt,kt,0,dt,yt),zt=new Wt(new Array(0),Rt,0,ht,vt)}(),Dt=!0),$t.l_desc=new Nt($t.dyn_ltree,Zt),$t.d_desc=new Nt($t.dyn_dtree,Ht),$t.bl_desc=new Nt($t.bl_tree,zt),$t.bi_buf=0,$t.bi_valid=0,xn($t)},rt._tr_stored_block=Ot,rt._tr_flush_block=function($t,Mt,Ft,Vt){var Bt,Xt,Yt=0;0<$t.level?($t.strm.data_type===2&&($t.strm.data_type=function(Gt){var Qt,cn=4093624447;for(Qt=0;Qt<=31;Qt++,cn>>>=1)if(1&cn&&Gt.dyn_ltree[2*Qt]!==0)return ot;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return at;for(Qt=32;Qt<ct;Qt++)if(Gt.dyn_ltree[2*Qt]!==0)return at;return ot}($t)),vn($t,$t.l_desc),vn($t,$t.d_desc),Yt=function(Gt){var Qt;for(Ct(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),Ct(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),vn(Gt,Gt.bl_desc),Qt=ht-1;3<=Qt&&Gt.bl_tree[2*Et[Qt]+1]===0;Qt--);return Gt.opt_len+=3*(Qt+1)+5+5+4,Qt}($t),Bt=$t.opt_len+3+7>>>3,(Xt=$t.static_len+3+7>>>3)<=Bt&&(Bt=Xt)):Bt=Xt=Ft+5,Ft+4<=Bt&&Mt!==-1?Ot($t,Mt,Ft,Vt):$t.strategy===4||Xt===Bt?(qt($t,2+(Vt?1:0),3),ln($t,At,Tt)):(qt($t,4+(Vt?1:0),3),function(Gt,Qt,cn,hn){var yn;for(qt(Gt,Qt-257,5),qt(Gt,cn-1,5),qt(Gt,hn-4,4),yn=0;yn<hn;yn++)qt(Gt,Gt.bl_tree[2*Et[yn]+1],3);Ut(Gt,Gt.dyn_ltree,Qt-1),Ut(Gt,Gt.dyn_dtree,cn-1)}($t,$t.l_desc.max_code+1,$t.d_desc.max_code+1,Yt+1),ln($t,$t.dyn_ltree,$t.dyn_dtree)),xn($t),Vt&&sn($t)},rt._tr_tally=function($t,Mt,Ft){return $t.pending_buf[$t.d_buf+2*$t.last_lit]=Mt>>>8&255,$t.pending_buf[$t.d_buf+2*$t.last_lit+1]=255&Mt,$t.pending_buf[$t.l_buf+$t.last_lit]=255&Ft,$t.last_lit++,Mt===0?$t.dyn_ltree[2*Ft]++:($t.matches++,Mt--,$t.dyn_ltree[2*(_t[Ft]+ct+1)]++,$t.dyn_dtree[2*Lt(Mt)]++),$t.last_lit===$t.lit_bufsize-1},rt._tr_align=function($t){qt($t,2,3),Kt($t,gt,At),function(Mt){Mt.bi_valid===16?(Jt(Mt,Mt.bi_buf),Mt.bi_buf=0,Mt.bi_valid=0):8<=Mt.bi_valid&&(Mt.pending_buf[Mt.pending++]=255&Mt.bi_buf,Mt.bi_buf>>=8,Mt.bi_valid-=8)}($t)}},{"../utils/common":41}],53:[function(tt,nt,rt){nt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(tt,nt,rt){(function(it){(function(ot,at){if(!ot.setImmediate){var st,lt,ut,ct,ft=1,dt={},ht=!1,mt=ot.document,yt=Object.getPrototypeOf&&Object.getPrototypeOf(ot);yt=yt&&yt.setTimeout?yt:ot,st={}.toString.call(ot.process)==="[object process]"?function(xt){process.nextTick(function(){vt(xt)})}:function(){if(ot.postMessage&&!ot.importScripts){var xt=!0,wt=ot.onmessage;return ot.onmessage=function(){xt=!1},ot.postMessage("","*"),ot.onmessage=wt,xt}}()?(ct="setImmediate$"+Math.random()+"$",ot.addEventListener?ot.addEventListener("message",gt,!1):ot.attachEvent("onmessage",gt),function(xt){ot.postMessage(ct+xt,"*")}):ot.MessageChannel?((ut=new MessageChannel).port1.onmessage=function(xt){vt(xt.data)},function(xt){ut.port2.postMessage(xt)}):mt&&"onreadystatechange"in mt.createElement("script")?(lt=mt.documentElement,function(xt){var wt=mt.createElement("script");wt.onreadystatechange=function(){vt(xt),wt.onreadystatechange=null,lt.removeChild(wt),wt=null},lt.appendChild(wt)}):function(xt){setTimeout(vt,0,xt)},yt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var wt=new Array(arguments.length-1),bt=0;bt<wt.length;bt++)wt[bt]=arguments[bt+1];var St={callback:xt,args:wt};return dt[ft]=St,st(ft),ft++},yt.clearImmediate=pt}function pt(xt){delete dt[xt]}function vt(xt){if(ht)setTimeout(vt,0,xt);else{var wt=dt[xt];if(wt){ht=!0;try{(function(bt){var St=bt.callback,kt=bt.args;switch(kt.length){case 0:St();break;case 1:St(kt[0]);break;case 2:St(kt[0],kt[1]);break;case 3:St(kt[0],kt[1],kt[2]);break;default:St.apply(at,kt)}})(wt)}finally{pt(xt),ht=!1}}}}function gt(xt){xt.source===ot&&typeof xt.data=="string"&&xt.data.indexOf(ct)===0&&vt(+xt.data.slice(ct.length))}})(typeof self>"u"?it===void 0?this:it:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);async function fileCollectionToZip(_e){const et=new JSZip;for(const tt of _e)et.file(tt.relativePath,await tt.arrayBuffer());return et.generateAsync({type:"uint8array"})}class FileCollection{constructor(et){this.files=et}filter(et){return new FileCollection(this.files.filter(et))}async zip(){return fileCollectionToZip(this)}addText(et,tt,nt={}){this.files.push(getItemFromText(et,tt,nt))}addArrayBuffer(et,tt,nt={}){this.files.push(getItemFromArrayBuffer(et,tt,nt))}addTypedArray(et,tt,nt={}){this.files.push(getItemFromTypedArray(et,tt,nt))}[Symbol.iterator](){return this.files.values()}}function getItemFromText(_e,et,tt={}){const rt=new TextEncoder().encode(et);return{relativePath:_e,name:_e.split("/").pop(),lastModified:tt.dateModified||Date.now(),size:rt.length,text:async()=>et,arrayBuffer:async()=>rt.buffer,stream:()=>{throw new Error("stream no implemented")}}}function getItemFromArrayBuffer(_e,et,tt={}){const rt=new TextDecoder().decode(et);return{relativePath:_e,name:_e.split("/").pop(),lastModified:tt.dateModified||Date.now(),size:et.byteLength,text:async()=>rt,arrayBuffer:async()=>et,stream:()=>{throw new Error("stream no implemented")}}}function getItemFromTypedArray(_e,et,tt={}){return getItemFromArrayBuffer(_e,et.buffer,tt)}async function maybeFilter(_e,et={}){const{ignoreDotfiles:tt=!0}=et;return tt&&(_e=_e.filter(nt=>nt.relativePath.split("/").filter(rt=>rt.startsWith(".")).length===0)),_e}async function fileCollectionItemsFromZip(_e){const tt=await new JSZip().loadAsync(_e);let nt=[];for(let rt in tt.files){const it=tt.files[rt];it.dir||nt.push({name:it.name.replace(/^.*\//,""),relativePath:it.name,lastModified:it.date.getTime(),size:it._data.uncompressedSize,text:()=>it.async("text"),arrayBuffer:()=>it.async("arraybuffer"),stream:()=>new ReadableStream({start(ot){it.async("arraybuffer").then(at=>{ot.enqueue(at),ot.close()})}})})}return nt}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_e){let et=_e.length;for(;--et>=0;)_e[et]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_e,et,tt,nt,rt){this.static_tree=_e,this.extra_bits=et,this.extra_base=tt,this.elems=nt,this.max_length=rt,this.has_stree=_e&&_e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_e,et){this.dyn_tree=_e,this.max_code=0,this.stat_desc=et}const d_code=_e=>_e<256?_dist_code[_e]:_dist_code[256+(_e>>>7)],put_short=(_e,et)=>{_e.pending_buf[_e.pending++]=et&255,_e.pending_buf[_e.pending++]=et>>>8&255},send_bits=(_e,et,tt)=>{_e.bi_valid>Buf_size-tt?(_e.bi_buf|=et<<_e.bi_valid&65535,put_short(_e,_e.bi_buf),_e.bi_buf=et>>Buf_size-_e.bi_valid,_e.bi_valid+=tt-Buf_size):(_e.bi_buf|=et<<_e.bi_valid&65535,_e.bi_valid+=tt)},send_code=(_e,et,tt)=>{send_bits(_e,tt[et*2],tt[et*2+1])},bi_reverse=(_e,et)=>{let tt=0;do tt|=_e&1,_e>>>=1,tt<<=1;while(--et>0);return tt>>>1},bi_flush=_e=>{_e.bi_valid===16?(put_short(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=_e.bi_buf&255,_e.bi_buf>>=8,_e.bi_valid-=8)},gen_bitlen=(_e,et)=>{const tt=et.dyn_tree,nt=et.max_code,rt=et.stat_desc.static_tree,it=et.stat_desc.has_stree,ot=et.stat_desc.extra_bits,at=et.stat_desc.extra_base,st=et.stat_desc.max_length;let lt,ut,ct,ft,dt,ht,mt=0;for(ft=0;ft<=MAX_BITS$1;ft++)_e.bl_count[ft]=0;for(tt[_e.heap[_e.heap_max]*2+1]=0,lt=_e.heap_max+1;lt<HEAP_SIZE$1;lt++)ut=_e.heap[lt],ft=tt[tt[ut*2+1]*2+1]+1,ft>st&&(ft=st,mt++),tt[ut*2+1]=ft,!(ut>nt)&&(_e.bl_count[ft]++,dt=0,ut>=at&&(dt=ot[ut-at]),ht=tt[ut*2],_e.opt_len+=ht*(ft+dt),it&&(_e.static_len+=ht*(rt[ut*2+1]+dt)));if(mt!==0){do{for(ft=st-1;_e.bl_count[ft]===0;)ft--;_e.bl_count[ft]--,_e.bl_count[ft+1]+=2,_e.bl_count[st]--,mt-=2}while(mt>0);for(ft=st;ft!==0;ft--)for(ut=_e.bl_count[ft];ut!==0;)ct=_e.heap[--lt],!(ct>nt)&&(tt[ct*2+1]!==ft&&(_e.opt_len+=(ft-tt[ct*2+1])*tt[ct*2],tt[ct*2+1]=ft),ut--)}},gen_codes=(_e,et,tt)=>{const nt=new Array(MAX_BITS$1+1);let rt=0,it,ot;for(it=1;it<=MAX_BITS$1;it++)rt=rt+tt[it-1]<<1,nt[it]=rt;for(ot=0;ot<=et;ot++){let at=_e[ot*2+1];at!==0&&(_e[ot*2]=bi_reverse(nt[at]++,at))}},tr_static_init=()=>{let _e,et,tt,nt,rt;const it=new Array(MAX_BITS$1+1);for(tt=0,nt=0;nt<LENGTH_CODES$1-1;nt++)for(base_length[nt]=tt,_e=0;_e<1<<extra_lbits[nt];_e++)_length_code[tt++]=nt;for(_length_code[tt-1]=nt,rt=0,nt=0;nt<16;nt++)for(base_dist[nt]=rt,_e=0;_e<1<<extra_dbits[nt];_e++)_dist_code[rt++]=nt;for(rt>>=7;nt<D_CODES$1;nt++)for(base_dist[nt]=rt<<7,_e=0;_e<1<<extra_dbits[nt]-7;_e++)_dist_code[256+rt++]=nt;for(et=0;et<=MAX_BITS$1;et++)it[et]=0;for(_e=0;_e<=143;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(;_e<=255;)static_ltree[_e*2+1]=9,_e++,it[9]++;for(;_e<=279;)static_ltree[_e*2+1]=7,_e++,it[7]++;for(;_e<=287;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(gen_codes(static_ltree,L_CODES$1+1,it),_e=0;_e<D_CODES$1;_e++)static_dtree[_e*2+1]=5,static_dtree[_e*2]=bi_reverse(_e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_e=>{let et;for(et=0;et<L_CODES$1;et++)_e.dyn_ltree[et*2]=0;for(et=0;et<D_CODES$1;et++)_e.dyn_dtree[et*2]=0;for(et=0;et<BL_CODES$1;et++)_e.bl_tree[et*2]=0;_e.dyn_ltree[END_BLOCK*2]=1,_e.opt_len=_e.static_len=0,_e.sym_next=_e.matches=0},bi_windup=_e=>{_e.bi_valid>8?put_short(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0},smaller=(_e,et,tt,nt)=>{const rt=et*2,it=tt*2;return _e[rt]<_e[it]||_e[rt]===_e[it]&&nt[et]<=nt[tt]},pqdownheap=(_e,et,tt)=>{const nt=_e.heap[tt];let rt=tt<<1;for(;rt<=_e.heap_len&&(rt<_e.heap_len&&smaller(et,_e.heap[rt+1],_e.heap[rt],_e.depth)&&rt++,!smaller(et,nt,_e.heap[rt],_e.depth));)_e.heap[tt]=_e.heap[rt],tt=rt,rt<<=1;_e.heap[tt]=nt},compress_block=(_e,et,tt)=>{let nt,rt,it=0,ot,at;if(_e.sym_next!==0)do nt=_e.pending_buf[_e.sym_buf+it++]&255,nt+=(_e.pending_buf[_e.sym_buf+it++]&255)<<8,rt=_e.pending_buf[_e.sym_buf+it++],nt===0?send_code(_e,rt,et):(ot=_length_code[rt],send_code(_e,ot+LITERALS$1+1,et),at=extra_lbits[ot],at!==0&&(rt-=base_length[ot],send_bits(_e,rt,at)),nt--,ot=d_code(nt),send_code(_e,ot,tt),at=extra_dbits[ot],at!==0&&(nt-=base_dist[ot],send_bits(_e,nt,at)));while(it<_e.sym_next);send_code(_e,END_BLOCK,et)},build_tree=(_e,et)=>{const tt=et.dyn_tree,nt=et.stat_desc.static_tree,rt=et.stat_desc.has_stree,it=et.stat_desc.elems;let ot,at,st=-1,lt;for(_e.heap_len=0,_e.heap_max=HEAP_SIZE$1,ot=0;ot<it;ot++)tt[ot*2]!==0?(_e.heap[++_e.heap_len]=st=ot,_e.depth[ot]=0):tt[ot*2+1]=0;for(;_e.heap_len<2;)lt=_e.heap[++_e.heap_len]=st<2?++st:0,tt[lt*2]=1,_e.depth[lt]=0,_e.opt_len--,rt&&(_e.static_len-=nt[lt*2+1]);for(et.max_code=st,ot=_e.heap_len>>1;ot>=1;ot--)pqdownheap(_e,tt,ot);lt=it;do ot=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],pqdownheap(_e,tt,1),at=_e.heap[1],_e.heap[--_e.heap_max]=ot,_e.heap[--_e.heap_max]=at,tt[lt*2]=tt[ot*2]+tt[at*2],_e.depth[lt]=(_e.depth[ot]>=_e.depth[at]?_e.depth[ot]:_e.depth[at])+1,tt[ot*2+1]=tt[at*2+1]=lt,_e.heap[1]=lt++,pqdownheap(_e,tt,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],gen_bitlen(_e,et),gen_codes(tt,st,_e.bl_count)},scan_tree=(_e,et,tt)=>{let nt,rt=-1,it,ot=et[0*2+1],at=0,st=7,lt=4;for(ot===0&&(st=138,lt=3),et[(tt+1)*2+1]=65535,nt=0;nt<=tt;nt++)it=ot,ot=et[(nt+1)*2+1],!(++at<st&&it===ot)&&(at<lt?_e.bl_tree[it*2]+=at:it!==0?(it!==rt&&_e.bl_tree[it*2]++,_e.bl_tree[REP_3_6*2]++):at<=10?_e.bl_tree[REPZ_3_10*2]++:_e.bl_tree[REPZ_11_138*2]++,at=0,rt=it,ot===0?(st=138,lt=3):it===ot?(st=6,lt=3):(st=7,lt=4))},send_tree=(_e,et,tt)=>{let nt,rt=-1,it,ot=et[0*2+1],at=0,st=7,lt=4;for(ot===0&&(st=138,lt=3),nt=0;nt<=tt;nt++)if(it=ot,ot=et[(nt+1)*2+1],!(++at<st&&it===ot)){if(at<lt)do send_code(_e,it,_e.bl_tree);while(--at!==0);else it!==0?(it!==rt&&(send_code(_e,it,_e.bl_tree),at--),send_code(_e,REP_3_6,_e.bl_tree),send_bits(_e,at-3,2)):at<=10?(send_code(_e,REPZ_3_10,_e.bl_tree),send_bits(_e,at-3,3)):(send_code(_e,REPZ_11_138,_e.bl_tree),send_bits(_e,at-11,7));at=0,rt=it,ot===0?(st=138,lt=3):it===ot?(st=6,lt=3):(st=7,lt=4)}},build_bl_tree=_e=>{let et;for(scan_tree(_e,_e.dyn_ltree,_e.l_desc.max_code),scan_tree(_e,_e.dyn_dtree,_e.d_desc.max_code),build_tree(_e,_e.bl_desc),et=BL_CODES$1-1;et>=3&&_e.bl_tree[bl_order[et]*2+1]===0;et--);return _e.opt_len+=3*(et+1)+5+5+4,et},send_all_trees=(_e,et,tt,nt)=>{let rt;for(send_bits(_e,et-257,5),send_bits(_e,tt-1,5),send_bits(_e,nt-4,4),rt=0;rt<nt;rt++)send_bits(_e,_e.bl_tree[bl_order[rt]*2+1],3);send_tree(_e,_e.dyn_ltree,et-1),send_tree(_e,_e.dyn_dtree,tt-1)},detect_data_type=_e=>{let et=4093624447,tt;for(tt=0;tt<=31;tt++,et>>>=1)if(et&1&&_e.dyn_ltree[tt*2]!==0)return Z_BINARY;if(_e.dyn_ltree[9*2]!==0||_e.dyn_ltree[10*2]!==0||_e.dyn_ltree[13*2]!==0)return Z_TEXT;for(tt=32;tt<LITERALS$1;tt++)if(_e.dyn_ltree[tt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_e=>{static_init_done||(tr_static_init(),static_init_done=!0),_e.l_desc=new TreeDesc(_e.dyn_ltree,static_l_desc),_e.d_desc=new TreeDesc(_e.dyn_dtree,static_d_desc),_e.bl_desc=new TreeDesc(_e.bl_tree,static_bl_desc),_e.bi_buf=0,_e.bi_valid=0,init_block(_e)},_tr_stored_block$1=(_e,et,tt,nt)=>{send_bits(_e,(STORED_BLOCK<<1)+(nt?1:0),3),bi_windup(_e),put_short(_e,tt),put_short(_e,~tt),tt&&_e.pending_buf.set(_e.window.subarray(et,et+tt),_e.pending),_e.pending+=tt},_tr_align$1=_e=>{send_bits(_e,STATIC_TREES<<1,3),send_code(_e,END_BLOCK,static_ltree),bi_flush(_e)},_tr_flush_block$1=(_e,et,tt,nt)=>{let rt,it,ot=0;_e.level>0?(_e.strm.data_type===Z_UNKNOWN$1&&(_e.strm.data_type=detect_data_type(_e)),build_tree(_e,_e.l_desc),build_tree(_e,_e.d_desc),ot=build_bl_tree(_e),rt=_e.opt_len+3+7>>>3,it=_e.static_len+3+7>>>3,it<=rt&&(rt=it)):rt=it=tt+5,tt+4<=rt&&et!==-1?_tr_stored_block$1(_e,et,tt,nt):_e.strategy===Z_FIXED$1||it===rt?(send_bits(_e,(STATIC_TREES<<1)+(nt?1:0),3),compress_block(_e,static_ltree,static_dtree)):(send_bits(_e,(DYN_TREES<<1)+(nt?1:0),3),send_all_trees(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,ot+1),compress_block(_e,_e.dyn_ltree,_e.dyn_dtree)),init_block(_e),nt&&bi_windup(_e)},_tr_tally$1=(_e,et,tt)=>(_e.pending_buf[_e.sym_buf+_e.sym_next++]=et,_e.pending_buf[_e.sym_buf+_e.sym_next++]=et>>8,_e.pending_buf[_e.sym_buf+_e.sym_next++]=tt,et===0?_e.dyn_ltree[tt*2]++:(_e.matches++,et--,_e.dyn_ltree[(_length_code[tt]+LITERALS$1+1)*2]++,_e.dyn_dtree[d_code(et)*2]++),_e.sym_next===_e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_e,et,tt,nt)=>{let rt=_e&65535|0,it=_e>>>16&65535|0,ot=0;for(;tt!==0;){ot=tt>2e3?2e3:tt,tt-=ot;do rt=rt+et[nt++]|0,it=it+rt|0;while(--ot);rt%=65521,it%=65521}return rt|it<<16|0};var adler32_1=adler32;const makeTable=()=>{let _e,et=[];for(var tt=0;tt<256;tt++){_e=tt;for(var nt=0;nt<8;nt++)_e=_e&1?3988292384^_e>>>1:_e>>>1;et[tt]=_e}return et},crcTable$1=new Uint32Array(makeTable()),crc32=(_e,et,tt,nt)=>{const rt=crcTable$1,it=nt+tt;_e^=-1;for(let ot=nt;ot<it;ot++)_e=_e>>>8^rt[(_e^et[ot])&255];return _e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_e,et)=>(_e.msg=messages[et],et),rank=_e=>_e*2-(_e>4?9:0),zero$2=_e=>{let et=_e.length;for(;--et>=0;)_e[et]=0},slide_hash=_e=>{let et,tt,nt,rt=_e.w_size;et=_e.hash_size,nt=et;do tt=_e.head[--nt],_e.head[nt]=tt>=rt?tt-rt:0;while(--et);et=rt,nt=et;do tt=_e.prev[--nt],_e.prev[nt]=tt>=rt?tt-rt:0;while(--et)};let HASH_ZLIB=(_e,et,tt)=>(et<<_e.hash_shift^tt)&_e.hash_mask,HASH=HASH_ZLIB;const flush_pending=_e=>{const et=_e.state;let tt=et.pending;tt>_e.avail_out&&(tt=_e.avail_out),tt!==0&&(_e.output.set(et.pending_buf.subarray(et.pending_out,et.pending_out+tt),_e.next_out),_e.next_out+=tt,et.pending_out+=tt,_e.total_out+=tt,_e.avail_out-=tt,et.pending-=tt,et.pending===0&&(et.pending_out=0))},flush_block_only=(_e,et)=>{_tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,et),_e.block_start=_e.strstart,flush_pending(_e.strm)},put_byte=(_e,et)=>{_e.pending_buf[_e.pending++]=et},putShortMSB=(_e,et)=>{_e.pending_buf[_e.pending++]=et>>>8&255,_e.pending_buf[_e.pending++]=et&255},read_buf=(_e,et,tt,nt)=>{let rt=_e.avail_in;return rt>nt&&(rt=nt),rt===0?0:(_e.avail_in-=rt,et.set(_e.input.subarray(_e.next_in,_e.next_in+rt),tt),_e.state.wrap===1?_e.adler=adler32_1(_e.adler,et,rt,tt):_e.state.wrap===2&&(_e.adler=crc32_1(_e.adler,et,rt,tt)),_e.next_in+=rt,_e.total_in+=rt,rt)},longest_match=(_e,et)=>{let tt=_e.max_chain_length,nt=_e.strstart,rt,it,ot=_e.prev_length,at=_e.nice_match;const st=_e.strstart>_e.w_size-MIN_LOOKAHEAD?_e.strstart-(_e.w_size-MIN_LOOKAHEAD):0,lt=_e.window,ut=_e.w_mask,ct=_e.prev,ft=_e.strstart+MAX_MATCH;let dt=lt[nt+ot-1],ht=lt[nt+ot];_e.prev_length>=_e.good_match&&(tt>>=2),at>_e.lookahead&&(at=_e.lookahead);do if(rt=et,!(lt[rt+ot]!==ht||lt[rt+ot-1]!==dt||lt[rt]!==lt[nt]||lt[++rt]!==lt[nt+1])){nt+=2,rt++;do;while(lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&lt[++nt]===lt[++rt]&&nt<ft);if(it=MAX_MATCH-(ft-nt),nt=ft-MAX_MATCH,it>ot){if(_e.match_start=et,ot=it,it>=at)break;dt=lt[nt+ot-1],ht=lt[nt+ot]}}while((et=ct[et&ut])>st&&--tt!==0);return ot<=_e.lookahead?ot:_e.lookahead},fill_window=_e=>{const et=_e.w_size;let tt,nt,rt;do{if(nt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=et+(et-MIN_LOOKAHEAD)&&(_e.window.set(_e.window.subarray(et,et+et-nt),0),_e.match_start-=et,_e.strstart-=et,_e.block_start-=et,_e.insert>_e.strstart&&(_e.insert=_e.strstart),slide_hash(_e),nt+=et),_e.strm.avail_in===0)break;if(tt=read_buf(_e.strm,_e.window,_e.strstart+_e.lookahead,nt),_e.lookahead+=tt,_e.lookahead+_e.insert>=MIN_MATCH)for(rt=_e.strstart-_e.insert,_e.ins_h=_e.window[rt],_e.ins_h=HASH(_e,_e.ins_h,_e.window[rt+1]);_e.insert&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[rt+MIN_MATCH-1]),_e.prev[rt&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=rt,rt++,_e.insert--,!(_e.lookahead+_e.insert<MIN_MATCH)););}while(_e.lookahead<MIN_LOOKAHEAD&&_e.strm.avail_in!==0)},deflate_stored=(_e,et)=>{let tt=_e.pending_buf_size-5>_e.w_size?_e.w_size:_e.pending_buf_size-5,nt,rt,it,ot=0,at=_e.strm.avail_in;do{if(nt=65535,it=_e.bi_valid+42>>3,_e.strm.avail_out<it||(it=_e.strm.avail_out-it,rt=_e.strstart-_e.block_start,nt>rt+_e.strm.avail_in&&(nt=rt+_e.strm.avail_in),nt>it&&(nt=it),nt<tt&&(nt===0&&et!==Z_FINISH$3||et===Z_NO_FLUSH$2||nt!==rt+_e.strm.avail_in)))break;ot=et===Z_FINISH$3&&nt===rt+_e.strm.avail_in?1:0,_tr_stored_block(_e,0,0,ot),_e.pending_buf[_e.pending-4]=nt,_e.pending_buf[_e.pending-3]=nt>>8,_e.pending_buf[_e.pending-2]=~nt,_e.pending_buf[_e.pending-1]=~nt>>8,flush_pending(_e.strm),rt&&(rt>nt&&(rt=nt),_e.strm.output.set(_e.window.subarray(_e.block_start,_e.block_start+rt),_e.strm.next_out),_e.strm.next_out+=rt,_e.strm.avail_out-=rt,_e.strm.total_out+=rt,_e.block_start+=rt,nt-=rt),nt&&(read_buf(_e.strm,_e.strm.output,_e.strm.next_out,nt),_e.strm.next_out+=nt,_e.strm.avail_out-=nt,_e.strm.total_out+=nt)}while(ot===0);return at-=_e.strm.avail_in,at&&(at>=_e.w_size?(_e.matches=2,_e.window.set(_e.strm.input.subarray(_e.strm.next_in-_e.w_size,_e.strm.next_in),0),_e.strstart=_e.w_size,_e.insert=_e.strstart):(_e.window_size-_e.strstart<=at&&(_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),_e.window.set(_e.strm.input.subarray(_e.strm.next_in-at,_e.strm.next_in),_e.strstart),_e.strstart+=at,_e.insert+=at>_e.w_size-_e.insert?_e.w_size-_e.insert:at),_e.block_start=_e.strstart),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),ot?BS_FINISH_DONE:et!==Z_NO_FLUSH$2&&et!==Z_FINISH$3&&_e.strm.avail_in===0&&_e.strstart===_e.block_start?BS_BLOCK_DONE:(it=_e.window_size-_e.strstart,_e.strm.avail_in>it&&_e.block_start>=_e.w_size&&(_e.block_start-=_e.w_size,_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,it+=_e.w_size,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),it>_e.strm.avail_in&&(it=_e.strm.avail_in),it&&(read_buf(_e.strm,_e.window,_e.strstart,it),_e.strstart+=it,_e.insert+=it>_e.w_size-_e.insert?_e.w_size-_e.insert:it),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),it=_e.bi_valid+42>>3,it=_e.pending_buf_size-it>65535?65535:_e.pending_buf_size-it,tt=it>_e.w_size?_e.w_size:it,rt=_e.strstart-_e.block_start,(rt>=tt||(rt||et===Z_FINISH$3)&&et!==Z_NO_FLUSH$2&&_e.strm.avail_in===0&&rt<=it)&&(nt=rt>it?it:rt,ot=et===Z_FINISH$3&&_e.strm.avail_in===0&&nt===rt?1:0,_tr_stored_block(_e,_e.block_start,nt,ot),_e.block_start+=nt,flush_pending(_e.strm)),ot?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_e,et)=>{let tt,nt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),tt!==0&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt)),_e.match_length>=MIN_MATCH)if(nt=_tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=MIN_MATCH){_e.match_length--;do _e.strstart++,_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!==0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+1]);else nt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(nt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_e,et)=>{let tt,nt,rt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=MIN_MATCH-1,tt!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt),_e.match_length<=5&&(_e.strategy===Z_FILTERED||_e.match_length===MIN_MATCH&&_e.strstart-_e.match_start>4096)&&(_e.match_length=MIN_MATCH-1)),_e.prev_length>=MIN_MATCH&&_e.match_length<=_e.prev_length){rt=_e.strstart+_e.lookahead-MIN_MATCH,nt=_tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-MIN_MATCH),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=rt&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!==0);if(_e.match_available=0,_e.match_length=MIN_MATCH-1,_e.strstart++,nt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}else if(_e.match_available){if(nt=_tr_tally(_e,0,_e.window[_e.strstart-1]),nt&&flush_block_only(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return BS_NEED_MORE}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(nt=_tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_e,et)=>{let tt,nt,rt,it;const ot=_e.window;for(;;){if(_e.lookahead<=MAX_MATCH){if(fill_window(_e),_e.lookahead<=MAX_MATCH&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=MIN_MATCH&&_e.strstart>0&&(rt=_e.strstart-1,nt=ot[rt],nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt])){it=_e.strstart+MAX_MATCH;do;while(nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&nt===ot[++rt]&&rt<it);_e.match_length=MAX_MATCH-(it-rt),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=MIN_MATCH?(tt=_tr_tally(_e,1,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_e,et)=>{let tt;for(;;){if(_e.lookahead===0&&(fill_window(_e),_e.lookahead===0)){if(et===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_e.match_length=0,tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_e,et,tt,nt,rt){this.good_length=_e,this.max_lazy=et,this.nice_length=tt,this.max_chain=nt,this.func=rt}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_e=>{_e.window_size=2*_e.w_size,zero$2(_e.head),_e.max_lazy_match=configuration_table[_e.level].max_lazy,_e.good_match=configuration_table[_e.level].good_length,_e.nice_match=configuration_table[_e.level].nice_length,_e.max_chain_length=configuration_table[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=MIN_MATCH-1,_e.match_available=0,_e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero$2(this.dyn_ltree),zero$2(this.dyn_dtree),zero$2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero$2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero$2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.status!==INIT_STATE&&et.status!==GZIP_STATE&&et.status!==EXTRA_STATE&&et.status!==NAME_STATE&&et.status!==COMMENT_STATE&&et.status!==HCRC_STATE&&et.status!==BUSY_STATE&&et.status!==FINISH_STATE?1:0},deflateResetKeep=_e=>{if(deflateStateCheck(_e))return err(_e,Z_STREAM_ERROR$2);_e.total_in=_e.total_out=0,_e.data_type=Z_UNKNOWN;const et=_e.state;return et.pending=0,et.pending_out=0,et.wrap<0&&(et.wrap=-et.wrap),et.status=et.wrap===2?GZIP_STATE:et.wrap?INIT_STATE:BUSY_STATE,_e.adler=et.wrap===2?0:1,et.last_flush=-2,_tr_init(et),Z_OK$3},deflateReset=_e=>{const et=deflateResetKeep(_e);return et===Z_OK$3&&lm_init(_e.state),et},deflateSetHeader=(_e,et)=>deflateStateCheck(_e)||_e.state.wrap!==2?Z_STREAM_ERROR$2:(_e.state.gzhead=et,Z_OK$3),deflateInit2=(_e,et,tt,nt,rt,it)=>{if(!_e)return Z_STREAM_ERROR$2;let ot=1;if(et===Z_DEFAULT_COMPRESSION$1&&(et=6),nt<0?(ot=0,nt=-nt):nt>15&&(ot=2,nt-=16),rt<1||rt>MAX_MEM_LEVEL||tt!==Z_DEFLATED$2||nt<8||nt>15||et<0||et>9||it<0||it>Z_FIXED||nt===8&&ot!==1)return err(_e,Z_STREAM_ERROR$2);nt===8&&(nt=9);const at=new DeflateState;return _e.state=at,at.strm=_e,at.status=INIT_STATE,at.wrap=ot,at.gzhead=null,at.w_bits=nt,at.w_size=1<<at.w_bits,at.w_mask=at.w_size-1,at.hash_bits=rt+7,at.hash_size=1<<at.hash_bits,at.hash_mask=at.hash_size-1,at.hash_shift=~~((at.hash_bits+MIN_MATCH-1)/MIN_MATCH),at.window=new Uint8Array(at.w_size*2),at.head=new Uint16Array(at.hash_size),at.prev=new Uint16Array(at.w_size),at.lit_bufsize=1<<rt+6,at.pending_buf_size=at.lit_bufsize*4,at.pending_buf=new Uint8Array(at.pending_buf_size),at.sym_buf=at.lit_bufsize,at.sym_end=(at.lit_bufsize-1)*3,at.level=et,at.strategy=it,at.method=tt,deflateReset(_e)},deflateInit=(_e,et)=>deflateInit2(_e,et,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_e,et)=>{if(deflateStateCheck(_e)||et>Z_BLOCK$1||et<0)return _e?err(_e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const tt=_e.state;if(!_e.output||_e.avail_in!==0&&!_e.input||tt.status===FINISH_STATE&&et!==Z_FINISH$3)return err(_e,_e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const nt=tt.last_flush;if(tt.last_flush=et,tt.pending!==0){if(flush_pending(_e),_e.avail_out===0)return tt.last_flush=-1,Z_OK$3}else if(_e.avail_in===0&&rank(et)<=rank(nt)&&et!==Z_FINISH$3)return err(_e,Z_BUF_ERROR$1);if(tt.status===FINISH_STATE&&_e.avail_in!==0)return err(_e,Z_BUF_ERROR$1);if(tt.status===INIT_STATE&&tt.wrap===0&&(tt.status=BUSY_STATE),tt.status===INIT_STATE){let rt=Z_DEFLATED$2+(tt.w_bits-8<<4)<<8,it=-1;if(tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?it=0:tt.level<6?it=1:tt.level===6?it=2:it=3,rt|=it<<6,tt.strstart!==0&&(rt|=PRESET_DICT),rt+=31-rt%31,putShortMSB(tt,rt),tt.strstart!==0&&(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),_e.adler=1,tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===GZIP_STATE){if(_e.adler=0,put_byte(tt,31),put_byte(tt,139),put_byte(tt,8),tt.gzhead)put_byte(tt,(tt.gzhead.text?1:0)+(tt.gzhead.hcrc?2:0)+(tt.gzhead.extra?4:0)+(tt.gzhead.name?8:0)+(tt.gzhead.comment?16:0)),put_byte(tt,tt.gzhead.time&255),put_byte(tt,tt.gzhead.time>>8&255),put_byte(tt,tt.gzhead.time>>16&255),put_byte(tt,tt.gzhead.time>>24&255),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,tt.gzhead.os&255),tt.gzhead.extra&&tt.gzhead.extra.length&&(put_byte(tt,tt.gzhead.extra.length&255),put_byte(tt,tt.gzhead.extra.length>>8&255)),tt.gzhead.hcrc&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending,0)),tt.gzindex=0,tt.status=EXTRA_STATE;else if(put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,OS_CODE),tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===EXTRA_STATE){if(tt.gzhead.extra){let rt=tt.pending,it=(tt.gzhead.extra.length&65535)-tt.gzindex;for(;tt.pending+it>tt.pending_buf_size;){let at=tt.pending_buf_size-tt.pending;if(tt.pending_buf.set(tt.gzhead.extra.subarray(tt.gzindex,tt.gzindex+at),tt.pending),tt.pending=tt.pending_buf_size,tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt)),tt.gzindex+=at,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;rt=0,it-=at}let ot=new Uint8Array(tt.gzhead.extra);tt.pending_buf.set(ot.subarray(tt.gzindex,tt.gzindex+it),tt.pending),tt.pending+=it,tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt)),tt.gzindex=0}tt.status=NAME_STATE}if(tt.status===NAME_STATE){if(tt.gzhead.name){let rt=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;rt=0}tt.gzindex<tt.gzhead.name.length?it=tt.gzhead.name.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt)),tt.gzindex=0}tt.status=COMMENT_STATE}if(tt.status===COMMENT_STATE){if(tt.gzhead.comment){let rt=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;rt=0}tt.gzindex<tt.gzhead.comment.length?it=tt.gzhead.comment.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>rt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-rt,rt))}tt.status=HCRC_STATE}if(tt.status===HCRC_STATE){if(tt.gzhead.hcrc){if(tt.pending+2>tt.pending_buf_size&&(flush_pending(_e),tt.pending!==0))return tt.last_flush=-1,Z_OK$3;put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),_e.adler=0}if(tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(_e.avail_in!==0||tt.lookahead!==0||et!==Z_NO_FLUSH$2&&tt.status!==FINISH_STATE){let rt=tt.level===0?deflate_stored(tt,et):tt.strategy===Z_HUFFMAN_ONLY?deflate_huff(tt,et):tt.strategy===Z_RLE?deflate_rle(tt,et):configuration_table[tt.level].func(tt,et);if((rt===BS_FINISH_STARTED||rt===BS_FINISH_DONE)&&(tt.status=FINISH_STATE),rt===BS_NEED_MORE||rt===BS_FINISH_STARTED)return _e.avail_out===0&&(tt.last_flush=-1),Z_OK$3;if(rt===BS_BLOCK_DONE&&(et===Z_PARTIAL_FLUSH?_tr_align(tt):et!==Z_BLOCK$1&&(_tr_stored_block(tt,0,0,!1),et===Z_FULL_FLUSH$1&&(zero$2(tt.head),tt.lookahead===0&&(tt.strstart=0,tt.block_start=0,tt.insert=0))),flush_pending(_e),_e.avail_out===0))return tt.last_flush=-1,Z_OK$3}return et!==Z_FINISH$3?Z_OK$3:tt.wrap<=0?Z_STREAM_END$3:(tt.wrap===2?(put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),put_byte(tt,_e.adler>>16&255),put_byte(tt,_e.adler>>24&255),put_byte(tt,_e.total_in&255),put_byte(tt,_e.total_in>>8&255),put_byte(tt,_e.total_in>>16&255),put_byte(tt,_e.total_in>>24&255)):(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),flush_pending(_e),tt.wrap>0&&(tt.wrap=-tt.wrap),tt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_e=>{if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const et=_e.state.status;return _e.state=null,et===BUSY_STATE?err(_e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_e,et)=>{let tt=et.length;if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const nt=_e.state,rt=nt.wrap;if(rt===2||rt===1&&nt.status!==INIT_STATE||nt.lookahead)return Z_STREAM_ERROR$2;if(rt===1&&(_e.adler=adler32_1(_e.adler,et,tt,0)),nt.wrap=0,tt>=nt.w_size){rt===0&&(zero$2(nt.head),nt.strstart=0,nt.block_start=0,nt.insert=0);let st=new Uint8Array(nt.w_size);st.set(et.subarray(tt-nt.w_size,tt),0),et=st,tt=nt.w_size}const it=_e.avail_in,ot=_e.next_in,at=_e.input;for(_e.avail_in=tt,_e.next_in=0,_e.input=et,fill_window(nt);nt.lookahead>=MIN_MATCH;){let st=nt.strstart,lt=nt.lookahead-(MIN_MATCH-1);do nt.ins_h=HASH(nt,nt.ins_h,nt.window[st+MIN_MATCH-1]),nt.prev[st&nt.w_mask]=nt.head[nt.ins_h],nt.head[nt.ins_h]=st,st++;while(--lt);nt.strstart=st,nt.lookahead=MIN_MATCH-1,fill_window(nt)}return nt.strstart+=nt.lookahead,nt.block_start=nt.strstart,nt.insert=nt.lookahead,nt.lookahead=0,nt.match_length=nt.prev_length=MIN_MATCH-1,nt.match_available=0,_e.next_in=ot,_e.input=at,_e.avail_in=it,nt.wrap=rt,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_e,et)=>Object.prototype.hasOwnProperty.call(_e,et);var assign=function(_e){const et=Array.prototype.slice.call(arguments,1);for(;et.length;){const tt=et.shift();if(tt){if(typeof tt!="object")throw new TypeError(tt+"must be non-object");for(const nt in tt)_has(tt,nt)&&(_e[nt]=tt[nt])}}return _e},flattenChunks=_e=>{let et=0;for(let nt=0,rt=_e.length;nt<rt;nt++)et+=_e[nt].length;const tt=new Uint8Array(et);for(let nt=0,rt=0,it=_e.length;nt<it;nt++){let ot=_e[nt];tt.set(ot,rt),rt+=ot.length}return tt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _e=0;_e<256;_e++)_utf8len[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_e);let et,tt,nt,rt,it,ot=_e.length,at=0;for(rt=0;rt<ot;rt++)tt=_e.charCodeAt(rt),(tt&64512)===55296&&rt+1<ot&&(nt=_e.charCodeAt(rt+1),(nt&64512)===56320&&(tt=65536+(tt-55296<<10)+(nt-56320),rt++)),at+=tt<128?1:tt<2048?2:tt<65536?3:4;for(et=new Uint8Array(at),it=0,rt=0;it<at;rt++)tt=_e.charCodeAt(rt),(tt&64512)===55296&&rt+1<ot&&(nt=_e.charCodeAt(rt+1),(nt&64512)===56320&&(tt=65536+(tt-55296<<10)+(nt-56320),rt++)),tt<128?et[it++]=tt:tt<2048?(et[it++]=192|tt>>>6,et[it++]=128|tt&63):tt<65536?(et[it++]=224|tt>>>12,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63):(et[it++]=240|tt>>>18,et[it++]=128|tt>>>12&63,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63);return et};const buf2binstring=(_e,et)=>{if(et<65534&&_e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_e.length===et?_e:_e.subarray(0,et));let tt="";for(let nt=0;nt<et;nt++)tt+=String.fromCharCode(_e[nt]);return tt};var buf2string=(_e,et)=>{const tt=et||_e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_e.subarray(0,et));let nt,rt;const it=new Array(tt*2);for(rt=0,nt=0;nt<tt;){let ot=_e[nt++];if(ot<128){it[rt++]=ot;continue}let at=_utf8len[ot];if(at>4){it[rt++]=65533,nt+=at-1;continue}for(ot&=at===2?31:at===3?15:7;at>1&&nt<tt;)ot=ot<<6|_e[nt++]&63,at--;if(at>1){it[rt++]=65533;continue}ot<65536?it[rt++]=ot:(ot-=65536,it[rt++]=55296|ot>>10&1023,it[rt++]=56320|ot&1023)}return buf2binstring(it,rt)},utf8border=(_e,et)=>{et=et||_e.length,et>_e.length&&(et=_e.length);let tt=et-1;for(;tt>=0&&(_e[tt]&192)===128;)tt--;return tt<0||tt===0?et:tt+_utf8len[_e[tt]]>et?tt:et},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_e||{});let et=this.options;et.raw&&et.windowBits>0?et.windowBits=-et.windowBits:et.gzip&&et.windowBits>0&&et.windowBits<16&&(et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=deflate_1$2.deflateInit2(this.strm,et.level,et.method,et.windowBits,et.memLevel,et.strategy);if(tt!==Z_OK$2)throw new Error(messages[tt]);if(et.header&&deflate_1$2.deflateSetHeader(this.strm,et.header),et.dictionary){let nt;if(typeof et.dictionary=="string"?nt=strings.string2buf(et.dictionary):toString$1.call(et.dictionary)==="[object ArrayBuffer]"?nt=new Uint8Array(et.dictionary):nt=et.dictionary,tt=deflate_1$2.deflateSetDictionary(this.strm,nt),tt!==Z_OK$2)throw new Error(messages[tt]);this._dict_set=!0}}Deflate$1.prototype.push=function(_e,et){const tt=this.strm,nt=this.options.chunkSize;let rt,it;if(this.ended)return!1;for(et===~~et?it=et:it=et===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _e=="string"?tt.input=strings.string2buf(_e):toString$1.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){if(tt.avail_out===0&&(tt.output=new Uint8Array(nt),tt.next_out=0,tt.avail_out=nt),(it===Z_SYNC_FLUSH||it===Z_FULL_FLUSH)&&tt.avail_out<=6){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(rt=deflate_1$2.deflate(tt,it),rt===Z_STREAM_END$2)return tt.next_out>0&&this.onData(tt.output.subarray(0,tt.next_out)),rt=deflate_1$2.deflateEnd(this.strm),this.onEnd(rt),this.ended=!0,rt===Z_OK$2;if(tt.avail_out===0){this.onData(tt.output);continue}if(it>0&&tt.next_out>0){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(tt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Deflate$1.prototype.onEnd=function(_e){_e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(et,tt){let nt,rt,it,ot,at,st,lt,ut,ct,ft,dt,ht,mt,yt,pt,vt,gt,xt,wt,bt,St,kt,Rt,Et;const At=et.state;nt=et.next_in,Rt=et.input,rt=nt+(et.avail_in-5),it=et.next_out,Et=et.output,ot=it-(tt-et.avail_out),at=it+(et.avail_out-257),st=At.dmax,lt=At.wsize,ut=At.whave,ct=At.wnext,ft=At.window,dt=At.hold,ht=At.bits,mt=At.lencode,yt=At.distcode,pt=(1<<At.lenbits)-1,vt=(1<<At.distbits)-1;e:do{ht<15&&(dt+=Rt[nt++]<<ht,ht+=8,dt+=Rt[nt++]<<ht,ht+=8),gt=mt[dt&pt];t:for(;;){if(xt=gt>>>24,dt>>>=xt,ht-=xt,xt=gt>>>16&255,xt===0)Et[it++]=gt&65535;else if(xt&16){wt=gt&65535,xt&=15,xt&&(ht<xt&&(dt+=Rt[nt++]<<ht,ht+=8),wt+=dt&(1<<xt)-1,dt>>>=xt,ht-=xt),ht<15&&(dt+=Rt[nt++]<<ht,ht+=8,dt+=Rt[nt++]<<ht,ht+=8),gt=yt[dt&vt];n:for(;;){if(xt=gt>>>24,dt>>>=xt,ht-=xt,xt=gt>>>16&255,xt&16){if(bt=gt&65535,xt&=15,ht<xt&&(dt+=Rt[nt++]<<ht,ht+=8,ht<xt&&(dt+=Rt[nt++]<<ht,ht+=8)),bt+=dt&(1<<xt)-1,bt>st){et.msg="invalid distance too far back",At.mode=BAD$1;break e}if(dt>>>=xt,ht-=xt,xt=it-ot,bt>xt){if(xt=bt-xt,xt>ut&&At.sane){et.msg="invalid distance too far back",At.mode=BAD$1;break e}if(St=0,kt=ft,ct===0){if(St+=lt-xt,xt<wt){wt-=xt;do Et[it++]=ft[St++];while(--xt);St=it-bt,kt=Et}}else if(ct<xt){if(St+=lt+ct-xt,xt-=ct,xt<wt){wt-=xt;do Et[it++]=ft[St++];while(--xt);if(St=0,ct<wt){xt=ct,wt-=xt;do Et[it++]=ft[St++];while(--xt);St=it-bt,kt=Et}}}else if(St+=ct-xt,xt<wt){wt-=xt;do Et[it++]=ft[St++];while(--xt);St=it-bt,kt=Et}for(;wt>2;)Et[it++]=kt[St++],Et[it++]=kt[St++],Et[it++]=kt[St++],wt-=3;wt&&(Et[it++]=kt[St++],wt>1&&(Et[it++]=kt[St++]))}else{St=it-bt;do Et[it++]=Et[St++],Et[it++]=Et[St++],Et[it++]=Et[St++],wt-=3;while(wt>2);wt&&(Et[it++]=Et[St++],wt>1&&(Et[it++]=Et[St++]))}}else if(xt&64){et.msg="invalid distance code",At.mode=BAD$1;break e}else{gt=yt[(gt&65535)+(dt&(1<<xt)-1)];continue n}break}}else if(xt&64)if(xt&32){At.mode=TYPE$1;break e}else{et.msg="invalid literal/length code",At.mode=BAD$1;break e}else{gt=mt[(gt&65535)+(dt&(1<<xt)-1)];continue t}break}}while(nt<rt&&it<at);wt=ht>>3,nt-=wt,ht-=wt<<3,dt&=(1<<ht)-1,et.next_in=nt,et.next_out=it,et.avail_in=nt<rt?5+(rt-nt):5-(nt-rt),et.avail_out=it<at?257+(at-it):257-(it-at),At.hold=dt,At.bits=ht};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_e,et,tt,nt,rt,it,ot,at)=>{const st=at.bits;let lt=0,ut=0,ct=0,ft=0,dt=0,ht=0,mt=0,yt=0,pt=0,vt=0,gt,xt,wt,bt,St,kt=null,Rt;const Et=new Uint16Array(MAXBITS+1),At=new Uint16Array(MAXBITS+1);let Tt=null,It,_t,Pt;for(lt=0;lt<=MAXBITS;lt++)Et[lt]=0;for(ut=0;ut<nt;ut++)Et[et[tt+ut]]++;for(dt=st,ft=MAXBITS;ft>=1&&Et[ft]===0;ft--);if(dt>ft&&(dt=ft),ft===0)return rt[it++]=1<<24|64<<16|0,rt[it++]=1<<24|64<<16|0,at.bits=1,0;for(ct=1;ct<ft&&Et[ct]===0;ct++);for(dt<ct&&(dt=ct),yt=1,lt=1;lt<=MAXBITS;lt++)if(yt<<=1,yt-=Et[lt],yt<0)return-1;if(yt>0&&(_e===CODES$1||ft!==1))return-1;for(At[1]=0,lt=1;lt<MAXBITS;lt++)At[lt+1]=At[lt]+Et[lt];for(ut=0;ut<nt;ut++)et[tt+ut]!==0&&(ot[At[et[tt+ut]]++]=ut);if(_e===CODES$1?(kt=Tt=ot,Rt=20):_e===LENS$1?(kt=lbase,Tt=lext,Rt=257):(kt=dbase,Tt=dext,Rt=0),vt=0,ut=0,lt=ct,St=it,ht=dt,mt=0,wt=-1,pt=1<<dt,bt=pt-1,_e===LENS$1&&pt>ENOUGH_LENS$1||_e===DISTS$1&&pt>ENOUGH_DISTS$1)return 1;for(;;){It=lt-mt,ot[ut]+1<Rt?(_t=0,Pt=ot[ut]):ot[ut]>=Rt?(_t=Tt[ot[ut]-Rt],Pt=kt[ot[ut]-Rt]):(_t=32+64,Pt=0),gt=1<<lt-mt,xt=1<<ht,ct=xt;do xt-=gt,rt[St+(vt>>mt)+xt]=It<<24|_t<<16|Pt|0;while(xt!==0);for(gt=1<<lt-1;vt&gt;)gt>>=1;if(gt!==0?(vt&=gt-1,vt+=gt):vt=0,ut++,--Et[lt]===0){if(lt===ft)break;lt=et[tt+ot[ut]]}if(lt>dt&&(vt&bt)!==wt){for(mt===0&&(mt=dt),St+=ct,ht=lt-mt,yt=1<<ht;ht+mt<ft&&(yt-=Et[ht+mt],!(yt<=0));)ht++,yt<<=1;if(pt+=1<<ht,_e===LENS$1&&pt>ENOUGH_LENS$1||_e===DISTS$1&&pt>ENOUGH_DISTS$1)return 1;wt=vt&bt,rt[wt]=dt<<24|ht<<16|St-it|0}}return vt!==0&&(rt[St+vt]=lt-mt<<24|64<<16|0),at.bits=dt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_e=>(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.mode<HEAD||et.mode>SYNC?1:0},inflateResetKeep=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return _e.total_in=_e.total_out=et.total=0,_e.msg="",et.wrap&&(_e.adler=et.wrap&1),et.mode=HEAD,et.last=0,et.havedict=0,et.flags=-1,et.dmax=32768,et.head=null,et.hold=0,et.bits=0,et.lencode=et.lendyn=new Int32Array(ENOUGH_LENS),et.distcode=et.distdyn=new Int32Array(ENOUGH_DISTS),et.sane=1,et.back=-1,Z_OK$1},inflateReset=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return et.wsize=0,et.whave=0,et.wnext=0,inflateResetKeep(_e)},inflateReset2=(_e,et)=>{let tt;if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const nt=_e.state;return et<0?(tt=0,et=-et):(tt=(et>>4)+5,et<48&&(et&=15)),et&&(et<8||et>15)?Z_STREAM_ERROR$1:(nt.window!==null&&nt.wbits!==et&&(nt.window=null),nt.wrap=tt,nt.wbits=et,inflateReset(_e))},inflateInit2=(_e,et)=>{if(!_e)return Z_STREAM_ERROR$1;const tt=new InflateState;_e.state=tt,tt.strm=_e,tt.window=null,tt.mode=HEAD;const nt=inflateReset2(_e,et);return nt!==Z_OK$1&&(_e.state=null),nt},inflateInit=_e=>inflateInit2(_e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let et=0;for(;et<144;)_e.lens[et++]=8;for(;et<256;)_e.lens[et++]=9;for(;et<280;)_e.lens[et++]=7;for(;et<288;)_e.lens[et++]=8;for(inftrees(LENS,_e.lens,0,288,lenfix,0,_e.work,{bits:9}),et=0;et<32;)_e.lens[et++]=5;inftrees(DISTS,_e.lens,0,32,distfix,0,_e.work,{bits:5}),virgin=!1}_e.lencode=lenfix,_e.lenbits=9,_e.distcode=distfix,_e.distbits=5},updatewindow=(_e,et,tt,nt)=>{let rt;const it=_e.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),nt>=it.wsize?(it.window.set(et.subarray(tt-it.wsize,tt),0),it.wnext=0,it.whave=it.wsize):(rt=it.wsize-it.wnext,rt>nt&&(rt=nt),it.window.set(et.subarray(tt-nt,tt-nt+rt),it.wnext),nt-=rt,nt?(it.window.set(et.subarray(tt-nt,tt),0),it.wnext=nt,it.whave=it.wsize):(it.wnext+=rt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=rt))),0},inflate$2=(_e,et)=>{let tt,nt,rt,it,ot,at,st,lt,ut,ct,ft,dt,ht,mt,yt=0,pt,vt,gt,xt,wt,bt,St,kt;const Rt=new Uint8Array(4);let Et,At;const Tt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_e)||!_e.output||!_e.input&&_e.avail_in!==0)return Z_STREAM_ERROR$1;tt=_e.state,tt.mode===TYPE&&(tt.mode=TYPEDO),ot=_e.next_out,rt=_e.output,st=_e.avail_out,it=_e.next_in,nt=_e.input,at=_e.avail_in,lt=tt.hold,ut=tt.bits,ct=at,ft=st,kt=Z_OK$1;e:for(;;)switch(tt.mode){case HEAD:if(tt.wrap===0){tt.mode=TYPEDO;break}for(;ut<16;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(tt.wrap&2&&lt===35615){tt.wbits===0&&(tt.wbits=15),tt.check=0,Rt[0]=lt&255,Rt[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Rt,2,0),lt=0,ut=0,tt.mode=FLAGS;break}if(tt.head&&(tt.head.done=!1),!(tt.wrap&1)||(((lt&255)<<8)+(lt>>8))%31){_e.msg="incorrect header check",tt.mode=BAD;break}if((lt&15)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(lt>>>=4,ut-=4,St=(lt&15)+8,tt.wbits===0&&(tt.wbits=St),St>15||St>tt.wbits){_e.msg="invalid window size",tt.mode=BAD;break}tt.dmax=1<<tt.wbits,tt.flags=0,_e.adler=tt.check=1,tt.mode=lt&512?DICTID:TYPE,lt=0,ut=0;break;case FLAGS:for(;ut<16;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(tt.flags=lt,(tt.flags&255)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(tt.flags&57344){_e.msg="unknown header flags set",tt.mode=BAD;break}tt.head&&(tt.head.text=lt>>8&1),tt.flags&512&&tt.wrap&4&&(Rt[0]=lt&255,Rt[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Rt,2,0)),lt=0,ut=0,tt.mode=TIME;case TIME:for(;ut<32;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.head&&(tt.head.time=lt),tt.flags&512&&tt.wrap&4&&(Rt[0]=lt&255,Rt[1]=lt>>>8&255,Rt[2]=lt>>>16&255,Rt[3]=lt>>>24&255,tt.check=crc32_1(tt.check,Rt,4,0)),lt=0,ut=0,tt.mode=OS;case OS:for(;ut<16;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.head&&(tt.head.xflags=lt&255,tt.head.os=lt>>8),tt.flags&512&&tt.wrap&4&&(Rt[0]=lt&255,Rt[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Rt,2,0)),lt=0,ut=0,tt.mode=EXLEN;case EXLEN:if(tt.flags&1024){for(;ut<16;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.length=lt,tt.head&&(tt.head.extra_len=lt),tt.flags&512&&tt.wrap&4&&(Rt[0]=lt&255,Rt[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Rt,2,0)),lt=0,ut=0}else tt.head&&(tt.head.extra=null);tt.mode=EXTRA;case EXTRA:if(tt.flags&1024&&(dt=tt.length,dt>at&&(dt=at),dt&&(tt.head&&(St=tt.head.extra_len-tt.length,tt.head.extra||(tt.head.extra=new Uint8Array(tt.head.extra_len)),tt.head.extra.set(nt.subarray(it,it+dt),St)),tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,dt,it)),at-=dt,it+=dt,tt.length-=dt),tt.length))break e;tt.length=0,tt.mode=NAME;case NAME:if(tt.flags&2048){if(at===0)break e;dt=0;do St=nt[it+dt++],tt.head&&St&&tt.length<65536&&(tt.head.name+=String.fromCharCode(St));while(St&&dt<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,dt,it)),at-=dt,it+=dt,St)break e}else tt.head&&(tt.head.name=null);tt.length=0,tt.mode=COMMENT;case COMMENT:if(tt.flags&4096){if(at===0)break e;dt=0;do St=nt[it+dt++],tt.head&&St&&tt.length<65536&&(tt.head.comment+=String.fromCharCode(St));while(St&&dt<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,nt,dt,it)),at-=dt,it+=dt,St)break e}else tt.head&&(tt.head.comment=null);tt.mode=HCRC;case HCRC:if(tt.flags&512){for(;ut<16;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(tt.wrap&4&&lt!==(tt.check&65535)){_e.msg="header crc mismatch",tt.mode=BAD;break}lt=0,ut=0}tt.head&&(tt.head.hcrc=tt.flags>>9&1,tt.head.done=!0),_e.adler=tt.check=0,tt.mode=TYPE;break;case DICTID:for(;ut<32;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}_e.adler=tt.check=zswap32(lt),lt=0,ut=0,tt.mode=DICT;case DICT:if(tt.havedict===0)return _e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ut,Z_NEED_DICT$1;_e.adler=tt.check=1,tt.mode=TYPE;case TYPE:if(et===Z_BLOCK||et===Z_TREES)break e;case TYPEDO:if(tt.last){lt>>>=ut&7,ut-=ut&7,tt.mode=CHECK;break}for(;ut<3;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}switch(tt.last=lt&1,lt>>>=1,ut-=1,lt&3){case 0:tt.mode=STORED;break;case 1:if(fixedtables(tt),tt.mode=LEN_,et===Z_TREES){lt>>>=2,ut-=2;break e}break;case 2:tt.mode=TABLE;break;case 3:_e.msg="invalid block type",tt.mode=BAD}lt>>>=2,ut-=2;break;case STORED:for(lt>>>=ut&7,ut-=ut&7;ut<32;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if((lt&65535)!==(lt>>>16^65535)){_e.msg="invalid stored block lengths",tt.mode=BAD;break}if(tt.length=lt&65535,lt=0,ut=0,tt.mode=COPY_,et===Z_TREES)break e;case COPY_:tt.mode=COPY;case COPY:if(dt=tt.length,dt){if(dt>at&&(dt=at),dt>st&&(dt=st),dt===0)break e;rt.set(nt.subarray(it,it+dt),ot),at-=dt,it+=dt,st-=dt,ot+=dt,tt.length-=dt;break}tt.mode=TYPE;break;case TABLE:for(;ut<14;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(tt.nlen=(lt&31)+257,lt>>>=5,ut-=5,tt.ndist=(lt&31)+1,lt>>>=5,ut-=5,tt.ncode=(lt&15)+4,lt>>>=4,ut-=4,tt.nlen>286||tt.ndist>30){_e.msg="too many length or distance symbols",tt.mode=BAD;break}tt.have=0,tt.mode=LENLENS;case LENLENS:for(;tt.have<tt.ncode;){for(;ut<3;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.lens[Tt[tt.have++]]=lt&7,lt>>>=3,ut-=3}for(;tt.have<19;)tt.lens[Tt[tt.have++]]=0;if(tt.lencode=tt.lendyn,tt.lenbits=7,Et={bits:tt.lenbits},kt=inftrees(CODES,tt.lens,0,19,tt.lencode,0,tt.work,Et),tt.lenbits=Et.bits,kt){_e.msg="invalid code lengths set",tt.mode=BAD;break}tt.have=0,tt.mode=CODELENS;case CODELENS:for(;tt.have<tt.nlen+tt.ndist;){for(;yt=tt.lencode[lt&(1<<tt.lenbits)-1],pt=yt>>>24,vt=yt>>>16&255,gt=yt&65535,!(pt<=ut);){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(gt<16)lt>>>=pt,ut-=pt,tt.lens[tt.have++]=gt;else{if(gt===16){for(At=pt+2;ut<At;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(lt>>>=pt,ut-=pt,tt.have===0){_e.msg="invalid bit length repeat",tt.mode=BAD;break}St=tt.lens[tt.have-1],dt=3+(lt&3),lt>>>=2,ut-=2}else if(gt===17){for(At=pt+3;ut<At;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}lt>>>=pt,ut-=pt,St=0,dt=3+(lt&7),lt>>>=3,ut-=3}else{for(At=pt+7;ut<At;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}lt>>>=pt,ut-=pt,St=0,dt=11+(lt&127),lt>>>=7,ut-=7}if(tt.have+dt>tt.nlen+tt.ndist){_e.msg="invalid bit length repeat",tt.mode=BAD;break}for(;dt--;)tt.lens[tt.have++]=St}}if(tt.mode===BAD)break;if(tt.lens[256]===0){_e.msg="invalid code -- missing end-of-block",tt.mode=BAD;break}if(tt.lenbits=9,Et={bits:tt.lenbits},kt=inftrees(LENS,tt.lens,0,tt.nlen,tt.lencode,0,tt.work,Et),tt.lenbits=Et.bits,kt){_e.msg="invalid literal/lengths set",tt.mode=BAD;break}if(tt.distbits=6,tt.distcode=tt.distdyn,Et={bits:tt.distbits},kt=inftrees(DISTS,tt.lens,tt.nlen,tt.ndist,tt.distcode,0,tt.work,Et),tt.distbits=Et.bits,kt){_e.msg="invalid distances set",tt.mode=BAD;break}if(tt.mode=LEN_,et===Z_TREES)break e;case LEN_:tt.mode=LEN;case LEN:if(at>=6&&st>=258){_e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ut,inffast(_e,ft),ot=_e.next_out,rt=_e.output,st=_e.avail_out,it=_e.next_in,nt=_e.input,at=_e.avail_in,lt=tt.hold,ut=tt.bits,tt.mode===TYPE&&(tt.back=-1);break}for(tt.back=0;yt=tt.lencode[lt&(1<<tt.lenbits)-1],pt=yt>>>24,vt=yt>>>16&255,gt=yt&65535,!(pt<=ut);){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(vt&&!(vt&240)){for(xt=pt,wt=vt,bt=gt;yt=tt.lencode[bt+((lt&(1<<xt+wt)-1)>>xt)],pt=yt>>>24,vt=yt>>>16&255,gt=yt&65535,!(xt+pt<=ut);){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}lt>>>=xt,ut-=xt,tt.back+=xt}if(lt>>>=pt,ut-=pt,tt.back+=pt,tt.length=gt,vt===0){tt.mode=LIT;break}if(vt&32){tt.back=-1,tt.mode=TYPE;break}if(vt&64){_e.msg="invalid literal/length code",tt.mode=BAD;break}tt.extra=vt&15,tt.mode=LENEXT;case LENEXT:if(tt.extra){for(At=tt.extra;ut<At;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.length+=lt&(1<<tt.extra)-1,lt>>>=tt.extra,ut-=tt.extra,tt.back+=tt.extra}tt.was=tt.length,tt.mode=DIST;case DIST:for(;yt=tt.distcode[lt&(1<<tt.distbits)-1],pt=yt>>>24,vt=yt>>>16&255,gt=yt&65535,!(pt<=ut);){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(!(vt&240)){for(xt=pt,wt=vt,bt=gt;yt=tt.distcode[bt+((lt&(1<<xt+wt)-1)>>xt)],pt=yt>>>24,vt=yt>>>16&255,gt=yt&65535,!(xt+pt<=ut);){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}lt>>>=xt,ut-=xt,tt.back+=xt}if(lt>>>=pt,ut-=pt,tt.back+=pt,vt&64){_e.msg="invalid distance code",tt.mode=BAD;break}tt.offset=gt,tt.extra=vt&15,tt.mode=DISTEXT;case DISTEXT:if(tt.extra){for(At=tt.extra;ut<At;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}tt.offset+=lt&(1<<tt.extra)-1,lt>>>=tt.extra,ut-=tt.extra,tt.back+=tt.extra}if(tt.offset>tt.dmax){_e.msg="invalid distance too far back",tt.mode=BAD;break}tt.mode=MATCH;case MATCH:if(st===0)break e;if(dt=ft-st,tt.offset>dt){if(dt=tt.offset-dt,dt>tt.whave&&tt.sane){_e.msg="invalid distance too far back",tt.mode=BAD;break}dt>tt.wnext?(dt-=tt.wnext,ht=tt.wsize-dt):ht=tt.wnext-dt,dt>tt.length&&(dt=tt.length),mt=tt.window}else mt=rt,ht=ot-tt.offset,dt=tt.length;dt>st&&(dt=st),st-=dt,tt.length-=dt;do rt[ot++]=mt[ht++];while(--dt);tt.length===0&&(tt.mode=LEN);break;case LIT:if(st===0)break e;rt[ot++]=tt.length,st--,tt.mode=LEN;break;case CHECK:if(tt.wrap){for(;ut<32;){if(at===0)break e;at--,lt|=nt[it++]<<ut,ut+=8}if(ft-=st,_e.total_out+=ft,tt.total+=ft,tt.wrap&4&&ft&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,rt,ft,ot-ft):adler32_1(tt.check,rt,ft,ot-ft)),ft=st,tt.wrap&4&&(tt.flags?lt:zswap32(lt))!==tt.check){_e.msg="incorrect data check",tt.mode=BAD;break}lt=0,ut=0}tt.mode=LENGTH;case LENGTH:if(tt.wrap&&tt.flags){for(;ut<32;){if(at===0)break e;at--,lt+=nt[it++]<<ut,ut+=8}if(tt.wrap&4&&lt!==(tt.total&4294967295)){_e.msg="incorrect length check",tt.mode=BAD;break}lt=0,ut=0}tt.mode=DONE;case DONE:kt=Z_STREAM_END$1;break e;case BAD:kt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ut,(tt.wsize||ft!==_e.avail_out&&tt.mode<BAD&&(tt.mode<CHECK||et!==Z_FINISH$1))&&updatewindow(_e,_e.output,_e.next_out,ft-_e.avail_out),ct-=_e.avail_in,ft-=_e.avail_out,_e.total_in+=ct,_e.total_out+=ft,tt.total+=ft,tt.wrap&4&&ft&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,rt,ft,_e.next_out-ft):adler32_1(tt.check,rt,ft,_e.next_out-ft)),_e.data_type=tt.bits+(tt.last?64:0)+(tt.mode===TYPE?128:0)+(tt.mode===LEN_||tt.mode===COPY_?256:0),(ct===0&&ft===0||et===Z_FINISH$1)&&kt===Z_OK$1&&(kt=Z_BUF_ERROR),kt},inflateEnd=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;let et=_e.state;return et.window&&(et.window=null),_e.state=null,Z_OK$1},inflateGetHeader=(_e,et)=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const tt=_e.state;return tt.wrap&2?(tt.head=et,et.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(_e,et)=>{const tt=et.length;let nt,rt,it;return inflateStateCheck(_e)||(nt=_e.state,nt.wrap!==0&&nt.mode!==DICT)?Z_STREAM_ERROR$1:nt.mode===DICT&&(rt=1,rt=adler32_1(rt,et,tt,0),rt!==nt.check)?Z_DATA_ERROR$1:(it=updatewindow(_e,et,tt,tt),it?(nt.mode=MEM,Z_MEM_ERROR$1):(nt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_e||{});const et=this.options;et.raw&&et.windowBits>=0&&et.windowBits<16&&(et.windowBits=-et.windowBits,et.windowBits===0&&(et.windowBits=-15)),et.windowBits>=0&&et.windowBits<16&&!(_e&&_e.windowBits)&&(et.windowBits+=32),et.windowBits>15&&et.windowBits<48&&(et.windowBits&15||(et.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=inflate_1$2.inflateInit2(this.strm,et.windowBits);if(tt!==Z_OK)throw new Error(messages[tt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),et.dictionary&&(typeof et.dictionary=="string"?et.dictionary=strings.string2buf(et.dictionary):toString$2.call(et.dictionary)==="[object ArrayBuffer]"&&(et.dictionary=new Uint8Array(et.dictionary)),et.raw&&(tt=inflate_1$2.inflateSetDictionary(this.strm,et.dictionary),tt!==Z_OK)))throw new Error(messages[tt])}Inflate$1.prototype.push=function(_e,et){const tt=this.strm,nt=this.options.chunkSize,rt=this.options.dictionary;let it,ot,at;if(this.ended)return!1;for(et===~~et?ot=et:ot=et===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){for(tt.avail_out===0&&(tt.output=new Uint8Array(nt),tt.next_out=0,tt.avail_out=nt),it=inflate_1$2.inflate(tt,ot),it===Z_NEED_DICT&&rt&&(it=inflate_1$2.inflateSetDictionary(tt,rt),it===Z_OK?it=inflate_1$2.inflate(tt,ot):it===Z_DATA_ERROR&&(it=Z_NEED_DICT));tt.avail_in>0&&it===Z_STREAM_END&&tt.state.wrap>0&&_e[tt.next_in]!==0;)inflate_1$2.inflateReset(tt),it=inflate_1$2.inflate(tt,ot);switch(it){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(it),this.ended=!0,!1}if(at=tt.avail_out,tt.next_out&&(tt.avail_out===0||it===Z_STREAM_END))if(this.options.to==="string"){let st=strings.utf8border(tt.output,tt.next_out),lt=tt.next_out-st,ut=strings.buf2string(tt.output,st);tt.next_out=lt,tt.avail_out=nt-lt,lt&&tt.output.set(tt.output.subarray(st,st+lt),0),this.onData(ut)}else this.onData(tt.output.length===tt.next_out?tt.output:tt.output.subarray(0,tt.next_out));if(!(it===Z_OK&&at===0)){if(it===Z_STREAM_END)return it=inflate_1$2.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(tt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Inflate$1.prototype.onEnd=function(_e){_e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};function inflate$1(_e,et){const tt=new Inflate$1(et);if(tt.push(_e),tt.err)throw tt.msg||messages[tt.err];return tt.result}function inflateRaw$1(_e,et){return et=et||{},et.raw=!0,inflate$1(_e,et)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate,ungzip_1=ungzip;function ungzipStream(_e){return new ReadableStream({start(et){_e.arrayBuffer().then(tt=>ungzip_1(new Uint8Array(tt))).then(tt=>{et.enqueue(tt),et.close()})}})}async function fileCollectionItemsUngzip(_e,et={}){let{gzipExtensions:tt=["gz"]}=et;tt=tt.map(nt=>nt.toLowerCase()),_e=_e.slice(0);for(let nt=0;nt<_e.length;nt++){const rt=_e[nt],it=rt.name.replace(/^.*\./,"").toLowerCase();tt.includes(it)&&await isGzip(rt)&&(_e.push({name:rt.name.replace(/\.[^.]+$/,""),size:rt.size,relativePath:rt.relativePath,lastModified:rt.lastModified,text:()=>rt.arrayBuffer().then(ot=>new TextDecoder("utf8").decode(ungzip_1(new Uint8Array(ot)))),arrayBuffer:()=>rt.arrayBuffer().then(ot=>ungzip_1(new Uint8Array(ot))),stream:()=>ungzipStream(rt)}),_e.splice(nt,1),nt--)}return _e.sort((nt,rt)=>nt.relativePath<rt.relativePath?-1:1)}async function isGzip(_e){const et=await _e.arrayBuffer();if(et.byteLength<2)return!1;const tt=new Uint8Array(et);return tt[0]===31&&tt[1]===139}async function fileCollectionItemsUnzip(_e,et={}){let{zipExtensions:tt=["zip"]}=et;tt=tt.map(nt=>nt.toLowerCase()),_e=_e.slice(0);for(let nt=0;nt<_e.length;nt++){const rt=_e[nt],it=rt.name.replace(/^.*\./,"").toLowerCase();if(!tt.includes(it))continue;const ot=await rt.arrayBuffer();if(!isZip(ot))continue;const at=await fileCollectionItemsFromZip(ot);for(let st of at)st.relativePath=`${rt.relativePath}/${st.relativePath}`,_e.push(st);_e.splice(nt,1),nt--}return _e.sort((nt,rt)=>nt.relativePath<rt.relativePath?-1:1)}function isZip(_e){const et=!(_e.byteLength<4);if(!et){const tt=new Uint8Array(_e);return tt[0]===80&&tt[1]===75&&(tt[2]===3||tt[2]===5||tt[2]===7)&&(tt[3]===4||tt[3]===6||tt[3]===8)}return et}async function maybeExpand(_e,et){const{unzip:tt={},ungzip:nt={}}=et;return _e=await fileCollectionItemsUnzip(_e,tt),_e=await fileCollectionItemsUngzip(_e,nt),_e}function sortCollectionItems(_e){_e.sort((et,tt)=>et.relativePath<tt.relativePath?-1:1)}async function fileCollectionFromFiles(_e,et={}){let tt=[];for(const nt of _e)tt.push({name:nt.name,size:nt.size,relativePath:nt.webkitRelativePath||nt.path||nt.name,lastModified:nt.lastModified,text:()=>nt.text(),arrayBuffer:()=>nt.arrayBuffer(),stream:()=>nt.stream()});return tt=await maybeExpand(tt,et),tt=await maybeFilter(tt,et),sortCollectionItems(tt),new FileCollection(tt)}var browserPonyfill={exports:{}};(function(_e,et){var tt=typeof self<"u"?self:commonjsGlobal,nt=function(){function it(){this.fetch=!1,this.DOMException=tt.DOMException}return it.prototype=tt,new it}();(function(it){(function(ot){var at={searchParams:"URLSearchParams"in it,iterable:"Symbol"in it&&"iterator"in Symbol,blob:"FileReader"in it&&"Blob"in it&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in it,arrayBuffer:"ArrayBuffer"in it};function st(_t){return _t&&DataView.prototype.isPrototypeOf(_t)}if(at.arrayBuffer)var lt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(_t){return _t&&lt.indexOf(Object.prototype.toString.call(_t))>-1};function ct(_t){if(typeof _t!="string"&&(_t=String(_t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_t))throw new TypeError("Invalid character in header field name");return _t.toLowerCase()}function ft(_t){return typeof _t!="string"&&(_t=String(_t)),_t}function dt(_t){var Pt={next:function(){var Zt=_t.shift();return{done:Zt===void 0,value:Zt}}};return at.iterable&&(Pt[Symbol.iterator]=function(){return Pt}),Pt}function ht(_t){this.map={},_t instanceof ht?_t.forEach(function(Pt,Zt){this.append(Zt,Pt)},this):Array.isArray(_t)?_t.forEach(function(Pt){this.append(Pt[0],Pt[1])},this):_t&&Object.getOwnPropertyNames(_t).forEach(function(Pt){this.append(Pt,_t[Pt])},this)}ht.prototype.append=function(_t,Pt){_t=ct(_t),Pt=ft(Pt);var Zt=this.map[_t];this.map[_t]=Zt?Zt+", "+Pt:Pt},ht.prototype.delete=function(_t){delete this.map[ct(_t)]},ht.prototype.get=function(_t){return _t=ct(_t),this.has(_t)?this.map[_t]:null},ht.prototype.has=function(_t){return this.map.hasOwnProperty(ct(_t))},ht.prototype.set=function(_t,Pt){this.map[ct(_t)]=ft(Pt)},ht.prototype.forEach=function(_t,Pt){for(var Zt in this.map)this.map.hasOwnProperty(Zt)&&_t.call(Pt,this.map[Zt],Zt,this)},ht.prototype.keys=function(){var _t=[];return this.forEach(function(Pt,Zt){_t.push(Zt)}),dt(_t)},ht.prototype.values=function(){var _t=[];return this.forEach(function(Pt){_t.push(Pt)}),dt(_t)},ht.prototype.entries=function(){var _t=[];return this.forEach(function(Pt,Zt){_t.push([Zt,Pt])}),dt(_t)},at.iterable&&(ht.prototype[Symbol.iterator]=ht.prototype.entries);function mt(_t){if(_t.bodyUsed)return Promise.reject(new TypeError("Already read"));_t.bodyUsed=!0}function yt(_t){return new Promise(function(Pt,Zt){_t.onload=function(){Pt(_t.result)},_t.onerror=function(){Zt(_t.error)}})}function pt(_t){var Pt=new FileReader,Zt=yt(Pt);return Pt.readAsArrayBuffer(_t),Zt}function vt(_t){var Pt=new FileReader,Zt=yt(Pt);return Pt.readAsText(_t),Zt}function gt(_t){for(var Pt=new Uint8Array(_t),Zt=new Array(Pt.length),Ht=0;Ht<Pt.length;Ht++)Zt[Ht]=String.fromCharCode(Pt[Ht]);return Zt.join("")}function xt(_t){if(_t.slice)return _t.slice(0);var Pt=new Uint8Array(_t.byteLength);return Pt.set(new Uint8Array(_t)),Pt.buffer}function wt(){return this.bodyUsed=!1,this._initBody=function(_t){this._bodyInit=_t,_t?typeof _t=="string"?this._bodyText=_t:at.blob&&Blob.prototype.isPrototypeOf(_t)?this._bodyBlob=_t:at.formData&&FormData.prototype.isPrototypeOf(_t)?this._bodyFormData=_t:at.searchParams&&URLSearchParams.prototype.isPrototypeOf(_t)?this._bodyText=_t.toString():at.arrayBuffer&&at.blob&&st(_t)?(this._bodyArrayBuffer=xt(_t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):at.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_t)||ut(_t))?this._bodyArrayBuffer=xt(_t):this._bodyText=_t=Object.prototype.toString.call(_t):this._bodyText="",this.headers.get("content-type")||(typeof _t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):at.searchParams&&URLSearchParams.prototype.isPrototypeOf(_t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},at.blob&&(this.blob=function(){var _t=mt(this);if(_t)return _t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?mt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(pt)}),this.text=function(){var _t=mt(this);if(_t)return _t;if(this._bodyBlob)return vt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(gt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},at.formData&&(this.formData=function(){return this.text().then(Rt)}),this.json=function(){return this.text().then(JSON.parse)},this}var bt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function St(_t){var Pt=_t.toUpperCase();return bt.indexOf(Pt)>-1?Pt:_t}function kt(_t,Pt){Pt=Pt||{};var Zt=Pt.body;if(_t instanceof kt){if(_t.bodyUsed)throw new TypeError("Already read");this.url=_t.url,this.credentials=_t.credentials,Pt.headers||(this.headers=new ht(_t.headers)),this.method=_t.method,this.mode=_t.mode,this.signal=_t.signal,!Zt&&_t._bodyInit!=null&&(Zt=_t._bodyInit,_t.bodyUsed=!0)}else this.url=String(_t);if(this.credentials=Pt.credentials||this.credentials||"same-origin",(Pt.headers||!this.headers)&&(this.headers=new ht(Pt.headers)),this.method=St(Pt.method||this.method||"GET"),this.mode=Pt.mode||this.mode||null,this.signal=Pt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Zt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Zt)}kt.prototype.clone=function(){return new kt(this,{body:this._bodyInit})};function Rt(_t){var Pt=new FormData;return _t.trim().split("&").forEach(function(Zt){if(Zt){var Ht=Zt.split("="),zt=Ht.shift().replace(/\+/g," "),jt=Ht.join("=").replace(/\+/g," ");Pt.append(decodeURIComponent(zt),decodeURIComponent(jt))}}),Pt}function Et(_t){var Pt=new ht,Zt=_t.replace(/\r?\n[\t ]+/g," ");return Zt.split(/\r?\n/).forEach(function(Ht){var zt=Ht.split(":"),jt=zt.shift().trim();if(jt){var Wt=zt.join(":").trim();Pt.append(jt,Wt)}}),Pt}wt.call(kt.prototype);function At(_t,Pt){Pt||(Pt={}),this.type="default",this.status=Pt.status===void 0?200:Pt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Pt?Pt.statusText:"OK",this.headers=new ht(Pt.headers),this.url=Pt.url||"",this._initBody(_t)}wt.call(At.prototype),At.prototype.clone=function(){return new At(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ht(this.headers),url:this.url})},At.error=function(){var _t=new At(null,{status:0,statusText:""});return _t.type="error",_t};var Tt=[301,302,303,307,308];At.redirect=function(_t,Pt){if(Tt.indexOf(Pt)===-1)throw new RangeError("Invalid status code");return new At(null,{status:Pt,headers:{location:_t}})},ot.DOMException=it.DOMException;try{new ot.DOMException}catch{ot.DOMException=function(Pt,Zt){this.message=Pt,this.name=Zt;var Ht=Error(Pt);this.stack=Ht.stack},ot.DOMException.prototype=Object.create(Error.prototype),ot.DOMException.prototype.constructor=ot.DOMException}function It(_t,Pt){return new Promise(function(Zt,Ht){var zt=new kt(_t,Pt);if(zt.signal&&zt.signal.aborted)return Ht(new ot.DOMException("Aborted","AbortError"));var jt=new XMLHttpRequest;function Wt(){jt.abort()}jt.onload=function(){var Nt={status:jt.status,statusText:jt.statusText,headers:Et(jt.getAllResponseHeaders()||"")};Nt.url="responseURL"in jt?jt.responseURL:Nt.headers.get("X-Request-URL");var Lt="response"in jt?jt.response:jt.responseText;Zt(new At(Lt,Nt))},jt.onerror=function(){Ht(new TypeError("Network request failed"))},jt.ontimeout=function(){Ht(new TypeError("Network request failed"))},jt.onabort=function(){Ht(new ot.DOMException("Aborted","AbortError"))},jt.open(zt.method,zt.url,!0),zt.credentials==="include"?jt.withCredentials=!0:zt.credentials==="omit"&&(jt.withCredentials=!1),"responseType"in jt&&at.blob&&(jt.responseType="blob"),zt.headers.forEach(function(Nt,Lt){jt.setRequestHeader(Lt,Nt)}),zt.signal&&(zt.signal.addEventListener("abort",Wt),jt.onreadystatechange=function(){jt.readyState===4&&zt.signal.removeEventListener("abort",Wt)}),jt.send(typeof zt._bodyInit>"u"?null:zt._bodyInit)})}return It.polyfill=!0,it.fetch||(it.fetch=It,it.Headers=ht,it.Request=kt,it.Response=At),ot.Headers=ht,ot.Request=kt,ot.Response=At,ot.fetch=It,Object.defineProperty(ot,"__esModule",{value:!0}),ot})({})})(nt),nt.fetch.ponyfill=!0,delete nt.fetch.polyfill;var rt=nt;et=rt.fetch,et.default=rt.fetch,et.fetch=rt.fetch,et.Headers=rt.Headers,et.Request=rt.Request,et.Response=rt.Response,_e.exports=et})(browserPonyfill,browserPonyfill.exports);function mean$1(_e){let et=new Array(_e.channels).fill(0);for(let nt=0;nt<_e.height;nt++)for(let rt=0;rt<_e.width;rt++)for(let it=0;it<_e.channels;it++)et[it]+=_e.getValue(rt,nt,it);return et.map(nt=>nt/_e.size)}function validateChannels(_e,et){for(const tt of _e)validateChannel(tt,et)}function validateChannel(_e,et){if(!Number.isInteger(_e)||_e>et.channels||_e<0)throw new RangeError(`invalid channel: ${_e}. It must be a positive integer smaller than ${et.channels+1}`)}function validateValues(_e,et){for(const tt of _e)validateValue(tt,et)}function validateValue(_e,et){if(_e>et.maxValue||_e<0)throw new RangeError(`invalid value: ${_e}. It must be a positive value smaller than ${et.maxValue+1}`)}function validateForComparison(_e,et){if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both images must have the same size");if(_e.alpha!==et.alpha||_e.bitDepth!==et.bitDepth)throw new RangeError("both images must have the same alpha and bitDepth");if(_e.channels!==et.channels)throw new RangeError("both images must have the same number of channels")}function validateColor(_e,et){validateChannel(_e.length,et),validateValues(_e,et)}function histogram(_e,et={}){let{channel:tt}=et;if(typeof tt!="number"){if(_e.channels!==1)throw new TypeError("channel option is mandatory for multi-channel images");tt=0}validateChannel(tt,_e);const nt=new Uint32Array(_e.maxValue+1);for(let rt=0;rt<_e.size;rt++)nt[_e.getValueByIndex(rt,tt)]++;return nt}var medianQuickselect_min={exports:{}};(function(_e){(function(){function et(rt){for(var it=0,ot=rt.length-1,at=void 0,st=void 0,lt=void 0,ut=nt(it,ot);;){if(ot<=it)return rt[ut];if(ot==it+1)return rt[it]>rt[ot]&&tt(rt,it,ot),rt[ut];for(at=nt(it,ot),rt[at]>rt[ot]&&tt(rt,at,ot),rt[it]>rt[ot]&&tt(rt,it,ot),rt[at]>rt[it]&&tt(rt,at,it),tt(rt,at,it+1),st=it+1,lt=ot;;){do st++;while(rt[it]>rt[st]);do lt--;while(rt[lt]>rt[it]);if(lt<st)break;tt(rt,st,lt)}tt(rt,it,lt),lt<=ut&&(it=st),lt>=ut&&(ot=lt-1)}}var tt=function(it,ot,at){var st;return st=[it[at],it[ot]],it[ot]=st[0],it[at]=st[1],st},nt=function(it,ot){return~~((it+ot)/2)};_e.exports?_e.exports=et:window.median=et})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickMedian=getDefaultExportFromCjs(medianQuickselect_minExports);function median(_e){let et=new Array(_e.channels).fill(0);for(let tt=0;tt<_e.channels;tt++){const nt=_e.getChannel(tt);et[tt]=quickMedian(nt)}return et}var ssim_web={exports:{}};(function(_e,et){(function(tt,nt){_e.exports=nt()})(self,function(){return(()=>{var tt={132:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.bezkrovnySsim=void 0;var at=ot(490),st=ot(971);function lt(ut,ct,ft){var dt=ut.data,ht=ct.data,mt=ft.bitDepth,yt=ft.k1,pt=ft.k2,vt=Math.pow(2,mt)-1,gt=Math.pow(yt*vt,2),xt=Math.pow(pt*vt,2),wt=at.average(dt),bt=at.average(ht),St=at.variance(dt,wt),kt=at.variance(ht,bt);return(2*wt*bt+gt)*(2*at.covariance(dt,ht,wt,bt)+xt)/((Math.pow(wt,2)+Math.pow(bt,2)+gt)*(St+kt+xt))}it.bezkrovnySsim=function(ut,ct,ft){for(var dt=ft.windowSize,ht=Math.ceil(ut.width/dt),mt=Math.ceil(ut.height/dt),yt=new Array(ht*mt),pt=0,vt=0;vt<ut.height;vt+=dt)for(var gt=0;gt<ut.width;gt+=dt){var xt=Math.min(dt,ut.width-gt),wt=Math.min(dt,ut.height-vt),bt=st.sub(ut,gt,wt,vt,xt),St=st.sub(ct,gt,wt,vt,xt);yt[pt++]=lt(bt,St,ft)}return{data:yt,width:ht,height:mt}}},63:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.defaults=void 0,it.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.downsample=void 0;var at=ot(490),st=ot(971);function lt(ut,ct,ft){var dt=st.imfilter(ut,ct,"symmetric","same");return st.skip2d(dt,[0,ft,dt.height],[0,ft,dt.width])}it.downsample=function(ut,ct){return ct.downsample==="original"?function(ft,dt,ht){ht===void 0&&(ht=256);var mt=Math.min(ft.width,dt.height)/ht,yt=Math.round(mt);if(yt>1){var pt=st.ones(yt);ft=lt(ft,pt=at.divide2d(pt,at.sum2d(pt)),yt),dt=lt(dt,pt,yt)}return[ft,dt]}(ut[0],ut[1],ct.maxSize):ut}},607:function(rt,it,ot){var at=this&&this.__assign||function(){return(at=Object.assign||function(gt){for(var xt,wt=1,bt=arguments.length;wt<bt;wt++)for(var St in xt=arguments[wt])Object.prototype.hasOwnProperty.call(xt,St)&&(gt[St]=xt[St]);return gt}).apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=it.getOptions=void 0;var st=ot(971),lt=ot(490),ut=ot(773),ct=ot(595),ft=ot(132),dt=ot(441),ht=ot(63),mt=ot(535),yt={fast:ut.ssim,original:ct.originalSsim,bezkrovny:ft.bezkrovnySsim,weber:mt.weberSsim};function pt(gt){var xt=at(at({},ht.defaults),gt);return function(wt){if(Object.keys(wt).forEach(function(bt){if(!(bt in ht.defaults))throw new Error('"'+bt+'" is not a valid option')}),"k1"in wt&&(typeof wt.k1!="number"||wt.k1<0))throw new Error("Invalid k1 value. Default is "+ht.defaults.k1);if("k2"in wt&&(typeof wt.k2!="number"||wt.k2<0))throw new Error("Invalid k2 value. Default is "+ht.defaults.k2);if(!(wt.ssim in yt))throw new Error("Invalid ssim option (use: "+Object.keys(yt).join(", ")+")")}(xt),xt}function vt(gt,xt,wt){var bt,St,kt,Rt,Et=new Date().getTime(),At=function(Tt){var It=Tt[0],_t=Tt[1],Pt=Tt[2];return yt[Pt.ssim](It,_t,Pt)}(function(Tt){var It=Tt[0],_t=Tt[1],Pt=Tt[2],Zt=dt.downsample([It,_t],Pt);return[Zt[0],Zt[1],Pt]}((bt=function(Tt){var It=Tt[0],_t=Tt[1],Pt=Tt[2];if(It.width!==_t.width||It.height!==_t.height)throw new Error("Image dimensions do not match");return[It,_t,Pt]}([gt,xt,pt(wt)]),St=bt[0],kt=bt[1],(Rt=bt[2]).rgb2grayVersion==="original"?[st.rgb2gray(St),st.rgb2gray(kt),Rt]:[st.rgb2grayInteger(St),st.rgb2grayInteger(kt),Rt])));return{mssim:At.mssim!==void 0?At.mssim:lt.mean2d(At),ssim_map:At,performance:new Date().getTime()-Et}}it.getOptions=pt,it.ssim=vt,it.default=vt},490:(rt,it)=>{function ot(ct){return at(ct)/ct.length}function at(ct){for(var ft=0,dt=0;dt<ct.length;dt++)ft+=ct[dt];return ft}function st(ct){for(var ft=ct.data,dt=0,ht=0;ht<ft.length;ht++)dt+=ft[ht];return dt}function lt(ct,ft){for(var dt=ct.data,ht=ct.width,mt=ct.height,yt=new Array(dt.length),pt=0;pt<dt.length;pt++)yt[pt]=dt[pt]+ft;return{data:yt,width:ht,height:mt}}function ut(ct,ft){return typeof ft=="number"?function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=new Array(mt.length),gt=0;gt<mt.length;gt++)vt[gt]=mt[gt]*ht;return{data:vt,width:yt,height:pt}}(ct,ft):function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=ht.data,gt=new Array(mt.length),xt=0;xt<mt.length;xt++)gt[xt]=mt[xt]*vt[xt];return{data:gt,width:yt,height:pt}}(ct,ft)}Object.defineProperty(it,"__esModule",{value:!0}),it.covariance=it.variance=it.mean2d=it.square2d=it.multiply2d=it.divide2d=it.subtract2d=it.add2d=it.sum2d=it.floor=it.sum=it.average=void 0,it.average=ot,it.sum=at,it.floor=function(ct){for(var ft=new Array(ct.length),dt=0;dt<ct.length;dt++)ft[dt]=Math.floor(ct[dt]);return ft},it.sum2d=st,it.add2d=function(ct,ft){return typeof ft=="number"?lt(ct,ft):function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=ht.data,gt=new Array(mt.length),xt=0;xt<pt;xt++)for(var wt=xt*yt,bt=0;bt<yt;bt++)gt[wt+bt]=mt[wt+bt]+vt[wt+bt];return{data:gt,width:yt,height:pt}}(ct,ft)},it.subtract2d=function(ct,ft){return typeof ft=="number"?lt(ct,-ft):function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=ht.data,gt=new Array(mt.length),xt=0;xt<pt;xt++)for(var wt=xt*yt,bt=0;bt<yt;bt++)gt[wt+bt]=mt[wt+bt]-vt[wt+bt];return{data:gt,width:yt,height:pt}}(ct,ft)},it.divide2d=function(ct,ft){return typeof ft=="number"?function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=new Array(mt.length),gt=0;gt<mt.length;gt++)vt[gt]=mt[gt]/ht;return{data:vt,width:yt,height:pt}}(ct,ft):function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=ht.data,gt=new Array(mt.length),xt=0;xt<mt.length;xt++)gt[xt]=mt[xt]/vt[xt];return{data:gt,width:yt,height:pt}}(ct,ft)},it.multiply2d=ut,it.square2d=function(ct){return ut(ct,ct)},it.mean2d=function(ct){return st(ct)/ct.data.length},it.variance=function(ct,ft){ft===void 0&&(ft=ot(ct));for(var dt=0,ht=ct.length;ht--;)dt+=Math.pow(ct[ht]-ft,2);return dt/ct.length},it.covariance=function(ct,ft,dt,ht){dt===void 0&&(dt=ot(ct)),ht===void 0&&(ht=ot(ft));for(var mt=0,yt=ct.length;yt--;)mt+=(ct[yt]-dt)*(ft[yt]-ht);return mt/ct.length}},687:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.conv2=void 0;var at=ot(490),st=ot(298),lt=ot(118),ut=ot(799);function ct(yt,pt,vt){var gt=yt.data,xt=yt.width,wt=yt.height;vt===void 0&&(vt="full");for(var bt=xt+pt.width-1,St=wt+pt.height-1,kt=ut.zeros(St,bt).data,Rt=0;Rt<pt.height;Rt++)for(var Et=0;Et<pt.width;Et++){var At=pt.data[Rt*pt.width+Et];if(At)for(var Tt=0;Tt<wt;Tt++)for(var It=0;It<xt;It++)kt[(Tt+Rt)*bt+It+Et]+=gt[Tt*xt+It]*At}return mt({data:kt,width:bt,height:St},vt,wt,pt.height,xt,pt.width)}function ft(yt,pt,vt){var gt=pt.data,xt=pt.width,wt=pt.height;vt===void 0&&(vt="full");var bt=ht(yt,st.ones(wt,1),st.ones(1,xt),vt);return at.multiply2d(bt,gt[0])}function dt(yt){for(var pt=yt.data,vt=pt[0],gt=1;gt<pt.length;gt++)if(pt[gt]!==vt)return!1;return!0}function ht(yt,pt,vt,gt){gt===void 0&&(gt="full");var xt=Math.max(pt.height,pt.width),wt=Math.max(vt.height,vt.width),bt=ct(yt,pt,"full");return mt(ct(bt,vt,"full"),gt,yt.height,xt,yt.width,wt)}function mt(yt,pt,vt,gt,xt,wt){if(pt==="full")return yt;if(pt==="same"){var bt=Math.ceil((yt.height-vt)/2),St=Math.ceil((yt.width-xt)/2);return lt.sub(yt,bt,vt,St,xt)}return lt.sub(yt,gt-1,vt-gt+1,wt-1,xt-wt+1)}it.conv2=function(){for(var yt=[],pt=0;pt<arguments.length;pt++)yt[pt]=arguments[pt];return yt[2]&&yt[2].data?ht.apply(void 0,yt):dt(yt[1])?ft.apply(void 0,yt):ct.apply(void 0,yt)}},346:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.filter2=void 0;var at=ot(687);it.filter2=function(st,lt,ut){return ut===void 0&&(ut="same"),at.conv2(lt,function(ct){for(var ft=ct.data,dt=ct.width,ht=ct.height,mt=new Array(ft.length),yt=0;yt<ht;yt++)for(var pt=0;pt<dt;pt++)mt[yt*dt+pt]=ft[(ht-1-yt)*dt+dt-1-pt];return{data:mt,width:dt,height:ht}}(st),ut)}},470:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.fspecial=void 0;var at=ot(490);it.fspecial=function(st,lt,ut){lt===void 0&&(lt=3),ut===void 0&&(ut=1.5);var ct=function(dt,ht){for(var mt=dt.data,yt=dt.width,pt=dt.height,vt=new Array(mt.length),gt=0;gt<mt.length;gt++)vt[gt]=Math.exp(-mt[gt]/(2*Math.pow(ht,2)));return{data:vt,width:yt,height:pt}}(function(dt){for(var ht=2*dt+1,mt=new Array(Math.pow(ht,2)),yt=0;yt<ht;yt++)for(var pt=0;pt<ht;pt++)mt[yt*ht+pt]=Math.pow(yt-dt,2)+Math.pow(pt-dt,2);return{data:mt,width:ht,height:ht}}(lt=(lt-1)/2),ut),ft=at.sum2d(ct);return at.divide2d(ct,ft)}},521:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.imfilter=void 0;var at=ot(20),st=ot(389),lt=ot(490),ut=ot(346);it.imfilter=function(ct,ft,dt,ht){return dt===void 0&&(dt="symmetric"),ht===void 0&&(ht="same"),ct=function(mt,yt,pt,vt){if(mt=st.padarray(mt,lt.floor([yt/2,pt/2]),vt),at.mod(yt,2)===0&&(mt.data=mt.data.slice(0,-mt.width),mt.height--),at.mod(pt,2)===0){for(var gt=[],xt=0;xt<mt.data.length;xt++)(xt+1)%mt.width!=0&&gt.push(mt.data[xt]);mt.data=gt,mt.width--}return mt}(ct,ft.width,ft.height,dt),ht=function(mt){return mt==="same"&&(mt="valid"),mt}(ht),ut.filter2(ft,ct,ht)}},971:function(rt,it,ot){var at=this&&this.__createBinding||(Object.create?function(lt,ut,ct,ft){ft===void 0&&(ft=ct),Object.defineProperty(lt,ft,{enumerable:!0,get:function(){return ut[ct]}})}:function(lt,ut,ct,ft){ft===void 0&&(ft=ct),lt[ft]=ut[ct]}),st=this&&this.__exportStar||function(lt,ut){for(var ct in lt)ct==="default"||Object.prototype.hasOwnProperty.call(ut,ct)||at(ut,lt,ct)};Object.defineProperty(it,"__esModule",{value:!0}),st(ot(687),it),st(ot(346),it),st(ot(470),it),st(ot(521),it),st(ot(150),it),st(ot(298),it),st(ot(389),it),st(ot(582),it),st(ot(439),it),st(ot(118),it),st(ot(240),it),st(ot(799),it)},928:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.numbers=void 0,it.numbers=function(ot,at,st){for(var lt=at*ot,ut=new Array(lt),ct=0;ct<lt;ct++)ut[ct]=st;return{data:ut,width:at,height:ot}}},20:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.mod=void 0,it.mod=function(ot,at){return ot-at*Math.floor(ot/at)}},150:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.normpdf=void 0,it.normpdf=function(ot,at,st){var lt=ot.data,ut=ot.width,ct=ot.height;at===void 0&&(at=0),st===void 0&&(st=1);for(var ft=new Array(lt.length),dt=0;dt<lt.length;dt++){var ht=(lt[dt]-at)/st;ft[dt]=Math.exp(-Math.pow(ht,2)/2)/(2.5066282746310007*st)}return{data:ft,width:ut,height:ct}}},298:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ones=void 0;var at=ot(928);it.ones=function(st,lt){return lt===void 0&&(lt=st),at.numbers(st,lt,1)}},389:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.padarray=void 0;var at=ot(20);it.padarray=function(st,lt,ut,ct){var ft=lt[0],dt=lt[1];return st.height>=ft&&st.width>=dt?function(ht,mt){for(var yt=mt[0],pt=mt[1],vt=ht.width+2*pt,gt=ht.height+2*yt,xt=new Array(vt*gt),wt=-yt;wt<0;wt++){for(var bt=-pt;bt<0;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(Math.abs(wt)-1)*ht.width+Math.abs(bt)-1];for(bt=0;bt<ht.width;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(Math.abs(wt)-1)*ht.width+bt];for(bt=ht.width;bt<ht.width+pt;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(Math.abs(wt)-1)*ht.width+2*ht.width-bt-1]}for(wt=0;wt<ht.height;wt++){for(bt=-pt;bt<0;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[wt*ht.width+Math.abs(bt)-1];for(bt=0;bt<ht.width;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[wt*ht.width+bt];for(bt=ht.width;bt<ht.width+pt;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[wt*ht.width+2*ht.width-bt-1]}for(wt=ht.height;wt<ht.height+yt;wt++){for(bt=-pt;bt<0;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(2*ht.height-wt-1)*ht.width+Math.abs(bt)-1];for(bt=0;bt<ht.width;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(2*ht.height-wt-1)*ht.width+bt];for(bt=ht.width;bt<ht.width+pt;bt++)xt[(wt+yt)*vt+bt+pt]=ht.data[(2*ht.height-wt-1)*ht.width+2*ht.width-bt-1]}return{data:xt,width:vt,height:gt}}(st,[ft,dt]):function(ht,mt){for(var yt=function(wt,bt){return{data:wt.data.concat(bt.data),height:wt.height+bt.height,width:wt.width}}(ht,function(wt){for(var bt=wt.data,St=wt.width,kt=wt.height,Rt=new Array(bt.length),Et=0;Et<kt;Et++)for(var At=0;At<St;At++)Rt[Et*St+At]=bt[(kt-1-Et)*St+At];return{data:Rt,width:St,height:kt}}(ht)),pt=ht.height+2*mt,vt=new Array(ht.width*pt),gt=-mt;gt<ht.height+mt;gt++)for(var xt=0;xt<ht.width;xt++)vt[(gt+mt)*ht.width+xt]=yt.data[at.mod(gt,yt.height)*ht.width+xt];return{data:vt,width:ht.width,height:pt}}(function(ht,mt){for(var yt=ht.width+2*mt,pt=new Array(yt*ht.height),vt=function(wt,bt){for(var St=wt.width+bt.width,kt=new Array(wt.height*St),Rt=0;Rt<wt.height;Rt++){for(var Et=0;Et<wt.width;Et++)kt[Rt*St+Et]=wt.data[Rt*wt.width+Et];for(Et=0;Et<bt.width;Et++)kt[Rt*St+Et+wt.width]=bt.data[Rt*bt.width+Et]}return{data:kt,width:St,height:wt.height}}(ht,function(wt){for(var bt=wt.data,St=wt.width,kt=wt.height,Rt=new Array(bt.length),Et=0;Et<kt;Et++)for(var At=0;At<St;At++)Rt[Et*St+At]=bt[Et*St+St-1-At];return{data:Rt,width:St,height:kt}}(ht)),gt=0;gt<ht.height;gt++)for(var xt=-mt;xt<ht.width+mt;xt++)pt[gt*yt+xt+mt]=vt.data[gt*vt.width+at.mod(xt,vt.width)];return{data:pt,width:yt,height:ht.height}}(st,dt),ft)}},582:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.rgb2grayInteger=it.rgb2gray=void 0,it.rgb2gray=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ut=new Uint8Array(st*lt),ct=0;ct<at.length;ct+=4)ut[ct/4]=.29894*at[ct]+.58704*at[ct+1]+.11402*at[ct+2]+.5;return{data:Array.from(ut),width:st,height:lt}},it.rgb2grayInteger=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ut=new Array(st*lt),ct=0;ct<at.length;ct+=4)ut[ct/4]=77*at[ct]+150*at[ct+1]+29*at[ct+2]+128>>8;return{data:ut,width:st,height:lt}}},439:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.skip2d=void 0,it.skip2d=function(ot,at,st){for(var lt=at[0],ut=at[1],ct=at[2],ft=st[0],dt=st[1],ht=st[2],mt=Math.ceil((ht-ft)/dt),yt=Math.ceil((ct-lt)/ut),pt=new Array(mt*yt),vt=0;vt<yt;vt++)for(var gt=0;gt<mt;gt++){var xt=lt+vt*ut,wt=ft+gt*dt;pt[vt*mt+gt]=ot.data[xt*ot.width+wt]}return{data:pt,width:mt,height:yt}}},118:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.sub=void 0,it.sub=function(ot,at,st,lt,ut){for(var ct=ot.data,ft=ot.width,dt=new Array(ut*st),ht=0;ht<st;ht++)for(var mt=0;mt<ut;mt++)dt[ht*ut+mt]=ct[(lt+ht)*ft+at+mt];return{data:dt,width:ut,height:st}}},240:(rt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.transpose=void 0,it.transpose=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ut=new Array(st*lt),ct=0;ct<lt;ct++)for(var ft=0;ft<st;ft++)ut[ft*lt+ct]=at[ct*st+ft];return{data:ut,height:st,width:lt}}},799:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.zeros=void 0;var at=ot(928);it.zeros=function(st,lt){return lt===void 0&&(lt=st),at.numbers(st,lt,0)}},595:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.originalSsim=void 0;var at=ot(490),st=ot(971);it.originalSsim=function(lt,ut,ct){var ft=st.fspecial("gaussian",ct.windowSize,1.5),dt=Math.pow(2,ct.bitDepth)-1,ht=Math.pow(ct.k1*dt,2),mt=Math.pow(ct.k2*dt,2);ft=at.divide2d(ft,at.sum2d(ft));var yt=st.filter2(ft,lt,"valid"),pt=st.filter2(ft,ut,"valid"),vt=at.square2d(yt),gt=at.square2d(pt),xt=at.multiply2d(yt,pt),wt=at.square2d(lt),bt=at.square2d(ut),St=at.subtract2d(st.filter2(ft,wt,"valid"),vt),kt=at.subtract2d(st.filter2(ft,bt,"valid"),gt),Rt=at.subtract2d(st.filter2(ft,at.multiply2d(lt,ut),"valid"),xt);if(ht>0&&mt>0){var Et=at.add2d(at.multiply2d(xt,2),ht),At=at.add2d(at.multiply2d(Rt,2),mt),Tt=at.add2d(at.add2d(vt,gt),ht),It=at.add2d(at.add2d(St,kt),mt);return at.divide2d(at.multiply2d(Et,At),at.multiply2d(Tt,It))}var _t=at.multiply2d(xt,2),Pt=at.multiply2d(Rt,2),Zt=at.add2d(vt,gt),Ht=at.add2d(St,kt);return at.divide2d(at.multiply2d(_t,Pt),at.multiply2d(Zt,Ht))}},773:(rt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=void 0;var at=ot(490),st=ot(971);it.ssim=function(lt,ut,ct){var ft=st.normpdf(function(At){for(var Tt=Math.floor(At/2),It=new Array(2*Tt+1),_t=-Tt;_t<=Tt;_t++)It[_t+Tt]=Math.abs(_t);return{data:It,width:It.length,height:1}}(ct.windowSize),0,1.5),dt=Math.pow(2,ct.bitDepth)-1,ht=Math.pow(ct.k1*dt,2),mt=Math.pow(ct.k2*dt,2);ft=at.divide2d(ft,at.sum2d(ft));var yt=st.transpose(ft),pt=st.conv2(lt,ft,yt,"valid"),vt=st.conv2(ut,ft,yt,"valid"),gt=at.square2d(pt),xt=at.square2d(vt),wt=at.multiply2d(pt,vt),bt=at.square2d(lt),St=at.square2d(ut),kt=at.subtract2d(st.conv2(bt,ft,yt,"valid"),gt),Rt=at.subtract2d(st.conv2(St,ft,yt,"valid"),xt),Et=at.subtract2d(st.conv2(at.multiply2d(lt,ut),ft,yt,"valid"),wt);return ht>0&&mt>0?function(At,Tt,It,_t,Pt,Zt,Ht,zt){var jt=at.add2d(at.multiply2d(At,2),Ht),Wt=at.add2d(at.multiply2d(Tt,2),zt),Nt=at.add2d(at.add2d(It,_t),Ht),Lt=at.add2d(at.add2d(Pt,Zt),zt);return at.divide2d(at.multiply2d(jt,Wt),at.multiply2d(Nt,Lt))}(wt,Et,gt,xt,kt,Rt,ht,mt):function(At,Tt,It,_t,Pt,Zt){var Ht=at.multiply2d(At,2),zt=at.multiply2d(Tt,2),jt=at.add2d(It,_t),Wt=at.add2d(Pt,Zt);return at.divide2d(at.multiply2d(Ht,zt),at.multiply2d(jt,Wt))}(wt,Et,gt,xt,kt,Rt)}},535:function(rt,it){var ot=this&&this.__assign||function(){return(ot=Object.assign||function(ht){for(var mt,yt=1,pt=arguments.length;yt<pt;yt++)for(var vt in mt=arguments[yt])Object.prototype.hasOwnProperty.call(mt,vt)&&(ht[vt]=mt[vt]);return ht}).apply(this,arguments)};function at(ht,mt,yt,pt){return{rightEdge:yt[mt*pt+ht+1],bottomEdge:yt[(mt+1)*pt+ht],bottomRightEdge:yt[(mt+1)*pt+ht+1]}}function st(ht,mt){for(var yt=ht.width,pt=ht.height,vt=ht.data,gt=yt+1,xt=pt+1,wt=new Int32Array(gt*xt),bt=pt-1;bt>=0;--bt)for(var St=yt-1;St>=0;--St){var kt=at(St,bt,wt,gt),Rt=kt.rightEdge,Et=kt.bottomEdge,At=kt.bottomRightEdge;wt[bt*gt+St]=mt(vt[bt*yt+St],St,bt)+Rt+Et-At}return{data:wt,height:xt,width:gt}}function lt(ht,mt,yt){for(var pt=ht.width,vt=ht.height,gt=ht.data,xt=mt.data,wt=pt+1,bt=vt+1,St=new Int32Array(wt*bt),kt=vt-1;kt>=0;--kt)for(var Rt=pt-1;Rt>=0;--Rt){var Et=at(Rt,kt,St,wt),At=Et.rightEdge,Tt=Et.bottomEdge,It=Et.bottomRightEdge,_t=kt*pt+Rt;St[kt*wt+Rt]=yt(gt[_t],xt[_t],Rt,kt)+At+Tt-It}return{data:St,height:bt,width:wt}}function ut(ht,mt,yt){for(var pt=ht.width,vt=ht.height,gt=ht.data,xt=pt-1,wt=vt-1,bt=xt-mt+1,St=wt-mt+1,kt=new Int32Array(bt*St),Rt=0;Rt<wt;++Rt)for(var Et=0;Et<xt;++Et)if(Et<bt&&Rt<St){var At=gt[pt*Rt+Et]-gt[pt*Rt+Et+mt]-gt[pt*(Rt+mt)+Et]+gt[pt*(Rt+mt)+Et+mt];kt[Rt*bt+Et]=At/yt}return{height:St,width:bt,data:kt}}function ct(ht,mt){return ut(st(ht,function(yt){return yt}),mt,1)}function ft(ht,mt,yt){for(var pt=yt*yt,vt=ut(st(ht,function(St){return St*St}),yt,1),gt=0;gt<mt.data.length;++gt){var xt=mt.data[gt]/pt,wt=vt.data[gt]/pt,bt=xt*xt;vt.data[gt]=1024*(wt-bt)}return vt}function dt(ht,mt,yt,pt,vt){for(var gt=vt*vt,xt=ut(lt(ht,mt,function(bt,St){return bt*St}),vt,1),wt=0;wt<yt.data.length;++wt)xt.data[wt]=1024*(xt.data[wt]/gt-yt.data[wt]/gt*(pt.data[wt]/gt));return xt}Object.defineProperty(it,"__esModule",{value:!0}),it.weberSsim=it.windowCovariance=it.windowVariance=it.windowSums=it.windowMatrix=it.partialSumMatrix2=it.partialSumMatrix1=void 0,it.partialSumMatrix1=st,it.partialSumMatrix2=lt,it.windowMatrix=ut,it.windowSums=ct,it.windowVariance=ft,it.windowCovariance=dt,it.weberSsim=function(ht,mt,yt){for(var pt=yt.bitDepth,vt=yt.k1,gt=yt.k2,xt=yt.windowSize,wt=Math.pow(2,pt)-1,bt=vt*wt*(vt*wt),St=gt*wt*(gt*wt),kt=xt*xt,Rt=ot(ot({},ht),{data:Int32Array.from(ht.data,function(Kt){return Kt+.5})}),Et=ot(ot({},mt),{data:Int32Array.from(mt.data,function(Kt){return Kt+.5})}),At=ct(Rt,xt),Tt=ft(Rt,At,xt),It=ct(Et,xt),_t=ft(Et,It,xt),Pt=dt(Rt,Et,At,It,xt),Zt=At.data.length,Ht=0,zt=new Array(Zt),jt=0;jt<Zt;++jt){var Wt=At.data[jt]/kt,Nt=It.data[jt]/kt,Lt=Tt.data[jt]/1024,Jt=_t.data[jt]/1024,qt=(2*Wt*Nt+bt)*(Pt.data[jt]/1024*2+St)/(Wt*Wt+Nt*Nt+bt)/(Lt+Jt+St);zt[jt]=qt,jt==0?Ht=qt:Ht+=(qt-Ht)/(jt+1)}return{data:zt,width:At.width,height:At.height,mssim:Ht}}}},nt={};return function rt(it){if(nt[it])return nt[it].exports;var ot=nt[it]={exports:{}};return tt[it].call(ot.exports,ot,ot.exports,rt),ot.exports}(607)})()})})(ssim_web);const formatter=new Intl.ListFormat("en",{type:"disjunction"});function checkProcessable(_e,et={}){let{bitDepth:tt,alpha:nt,colorModel:rt,components:it,channels:ot}=et;if(tt&&(Array.isArray(tt)||(tt=[tt]),!tt.includes(_e.bitDepth)))throw new RangeError(`image bitDepth must be ${format$1(tt)} to apply this algorithm`);if(nt&&(Array.isArray(nt)||(nt=[nt]),!nt.includes(_e.alpha)))throw new RangeError(`image alpha must be ${format$1(nt)} to apply this algorithm`);if(rt&&(Array.isArray(rt)||(rt=[rt]),!rt.includes(_e.colorModel)))throw new RangeError(`image colorModel must be ${format$1(rt)} to apply this algorithm`);if(it&&(Array.isArray(it)||(it=[it]),!it.includes(_e.components))){const at=`image components must be ${format$1(it)} to apply this algorithm`;throw it.length===1&&it[0]===1?new RangeError(`${at}. The image can be converted using "image.grey()"`):new RangeError(at)}if(ot&&(Array.isArray(ot)||(ot=[ot]),!ot.includes(_e.channels)))throw new RangeError(`image channels must be ${format$1(ot)} to apply this algorithm`)}function format$1(_e){return formatter.format(_e.map(String))}function subtract(_e,et,tt={}){let{absolute:nt=!1}=tt;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:[1,3],alpha:!1}),validateForComparison(_e,et);let rt=_e.clone();if(rt instanceof Image)for(let it=0;it<_e.size;it++)for(let ot=0;ot<_e.channels;ot++){let at=_e.getValueByIndex(it,ot)-et.getValueByIndex(it,ot);nt?rt.setValueByIndex(it,ot,Math.abs(at)):rt.setValueByIndex(it,ot,Math.max(at,0))}else if(_e instanceof Mask&&et instanceof Mask)for(let it=0;it<_e.size;it++){let ot=_e.getBitByIndex(it)-et.getBitByIndex(it);nt?rt.setBitByIndex(it,Math.abs(ot)?1:0):rt.setBitByIndex(it,Math.max(ot,0)?1:0)}return rt}function variance(_e){const et=_e.mean();let tt=new Array(_e.channels).fill(0);for(let rt=0;rt<_e.size;rt++)for(let it=0;it<_e.channels;it++)tt[it]+=Math.pow(_e.getValueByIndex(rt,it)-et[it],2);const nt=_e.size*_e.channels;return tt.map(rt=>rt/nt)}const toString=Object.prototype.toString;function isAnyArray(_e){const et=toString.call(_e);return et.endsWith("Array]")&&!et.includes("Big")}function max$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,nt=tt===void 0?0:tt,rt=et.toIndex,it=rt===void 0?_e.length:rt;if(nt<0||nt>=_e.length||!Number.isInteger(nt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=nt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ot=_e[nt],at=nt+1;at<it;at++)_e[at]>ot&&(ot=_e[at]);return ot}function min$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,nt=tt===void 0?0:tt,rt=et.toIndex,it=rt===void 0?_e.length:rt;if(nt<0||nt>=_e.length||!Number.isInteger(nt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=nt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ot=_e[nt],at=nt+1;at<it;at++)_e[at]<ot&&(ot=_e[at]);return ot}function rescale(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray(_e)){if(_e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var tt;if(et.output!==void 0){if(!isAnyArray(et.output))throw new TypeError("output option must be an array if specified");tt=et.output}else tt=new Array(_e.length);var nt=min$2(_e),rt=max$2(_e);if(nt===rt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var it=et.min,ot=it===void 0?et.autoMinMax?nt:0:it,at=et.max,st=at===void 0?et.autoMinMax?rt:1:at;if(ot>=st)throw new RangeError("min option must be smaller than max option");for(var lt=(st-ot)/(rt-nt),ut=0;ut<_e.length;ut++)tt[ut]=(_e[ut]-nt)*lt+ot;return tt}const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(_e,et={}){const{maxRows:tt=15,maxColumns:nt=10,maxNumSize:rt=8,padMinus:it="auto"}=et;return`${_e.constructor.name} {
${indent}[
${indentData}${inspectData(_e,tt,nt,rt,it)}
${indent}]
${indent}rows: ${_e.rows}
${indent}columns: ${_e.columns}
}`}function inspectData(_e,et,tt,nt,rt){const{rows:it,columns:ot}=_e,at=Math.min(it,et),st=Math.min(ot,tt),lt=[];if(rt==="auto"){rt=!1;e:for(let ut=0;ut<at;ut++)for(let ct=0;ct<st;ct++)if(_e.get(ut,ct)<0){rt=!0;break e}}for(let ut=0;ut<at;ut++){let ct=[];for(let ft=0;ft<st;ft++)ct.push(formatNumber(_e.get(ut,ft),nt,rt));lt.push(`${ct.join(" ")}`)}return st!==ot&&(lt[lt.length-1]+=` ... ${ot-tt} more columns`),at!==it&&lt.push(`... ${it-et} more rows`),lt.join(`
${indentData}`)}function formatNumber(_e,et,tt){return(_e>=0&&tt?` ${formatNumber2(_e,et-1)}`:formatNumber2(_e,et)).padEnd(et)}function formatNumber2(_e,et){let tt=_e.toString();if(tt.length<=et)return tt;let nt=_e.toFixed(et);if(nt.length>et&&(nt=_e.toFixed(Math.max(0,et-(nt.length-et)))),nt.length<=et&&!nt.startsWith("0.000")&&!nt.startsWith("-0.000"))return nt;let rt=_e.toExponential(et);return rt.length>et&&(rt=_e.toExponential(Math.max(0,et-(rt.length-et)))),rt.slice(0)}function installMathOperations(_e,et){_e.prototype.add=function(nt){return typeof nt=="number"?this.addS(nt):this.addM(nt)},_e.prototype.addS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)+nt);return this},_e.prototype.addM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)+nt.get(rt,it));return this},_e.add=function(nt,rt){return new et(nt).add(rt)},_e.prototype.sub=function(nt){return typeof nt=="number"?this.subS(nt):this.subM(nt)},_e.prototype.subS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)-nt);return this},_e.prototype.subM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)-nt.get(rt,it));return this},_e.sub=function(nt,rt){return new et(nt).sub(rt)},_e.prototype.subtract=_e.prototype.sub,_e.prototype.subtractS=_e.prototype.subS,_e.prototype.subtractM=_e.prototype.subM,_e.subtract=_e.sub,_e.prototype.mul=function(nt){return typeof nt=="number"?this.mulS(nt):this.mulM(nt)},_e.prototype.mulS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)*nt);return this},_e.prototype.mulM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)*nt.get(rt,it));return this},_e.mul=function(nt,rt){return new et(nt).mul(rt)},_e.prototype.multiply=_e.prototype.mul,_e.prototype.multiplyS=_e.prototype.mulS,_e.prototype.multiplyM=_e.prototype.mulM,_e.multiply=_e.mul,_e.prototype.div=function(nt){return typeof nt=="number"?this.divS(nt):this.divM(nt)},_e.prototype.divS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)/nt);return this},_e.prototype.divM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)/nt.get(rt,it));return this},_e.div=function(nt,rt){return new et(nt).div(rt)},_e.prototype.divide=_e.prototype.div,_e.prototype.divideS=_e.prototype.divS,_e.prototype.divideM=_e.prototype.divM,_e.divide=_e.div,_e.prototype.mod=function(nt){return typeof nt=="number"?this.modS(nt):this.modM(nt)},_e.prototype.modS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)%nt);return this},_e.prototype.modM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)%nt.get(rt,it));return this},_e.mod=function(nt,rt){return new et(nt).mod(rt)},_e.prototype.modulus=_e.prototype.mod,_e.prototype.modulusS=_e.prototype.modS,_e.prototype.modulusM=_e.prototype.modM,_e.modulus=_e.mod,_e.prototype.and=function(nt){return typeof nt=="number"?this.andS(nt):this.andM(nt)},_e.prototype.andS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)&nt);return this},_e.prototype.andM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)&nt.get(rt,it));return this},_e.and=function(nt,rt){return new et(nt).and(rt)},_e.prototype.or=function(nt){return typeof nt=="number"?this.orS(nt):this.orM(nt)},_e.prototype.orS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)|nt);return this},_e.prototype.orM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)|nt.get(rt,it));return this},_e.or=function(nt,rt){return new et(nt).or(rt)},_e.prototype.xor=function(nt){return typeof nt=="number"?this.xorS(nt):this.xorM(nt)},_e.prototype.xorS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)^nt);return this},_e.prototype.xorM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)^nt.get(rt,it));return this},_e.xor=function(nt,rt){return new et(nt).xor(rt)},_e.prototype.leftShift=function(nt){return typeof nt=="number"?this.leftShiftS(nt):this.leftShiftM(nt)},_e.prototype.leftShiftS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)<<nt);return this},_e.prototype.leftShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)<<nt.get(rt,it));return this},_e.leftShift=function(nt,rt){return new et(nt).leftShift(rt)},_e.prototype.signPropagatingRightShift=function(nt){return typeof nt=="number"?this.signPropagatingRightShiftS(nt):this.signPropagatingRightShiftM(nt)},_e.prototype.signPropagatingRightShiftS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)>>nt);return this},_e.prototype.signPropagatingRightShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)>>nt.get(rt,it));return this},_e.signPropagatingRightShift=function(nt,rt){return new et(nt).signPropagatingRightShift(rt)},_e.prototype.rightShift=function(nt){return typeof nt=="number"?this.rightShiftS(nt):this.rightShiftM(nt)},_e.prototype.rightShiftS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)>>>nt);return this},_e.prototype.rightShiftM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,this.get(rt,it)>>>nt.get(rt,it));return this},_e.rightShift=function(nt,rt){return new et(nt).rightShift(rt)},_e.prototype.zeroFillRightShift=_e.prototype.rightShift,_e.prototype.zeroFillRightShiftS=_e.prototype.rightShiftS,_e.prototype.zeroFillRightShiftM=_e.prototype.rightShiftM,_e.zeroFillRightShift=_e.rightShift,_e.prototype.not=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,~this.get(nt,rt));return this},_e.not=function(nt){return new et(nt).not()},_e.prototype.abs=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.abs(this.get(nt,rt)));return this},_e.abs=function(nt){return new et(nt).abs()},_e.prototype.acos=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.acos(this.get(nt,rt)));return this},_e.acos=function(nt){return new et(nt).acos()},_e.prototype.acosh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.acosh(this.get(nt,rt)));return this},_e.acosh=function(nt){return new et(nt).acosh()},_e.prototype.asin=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.asin(this.get(nt,rt)));return this},_e.asin=function(nt){return new et(nt).asin()},_e.prototype.asinh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.asinh(this.get(nt,rt)));return this},_e.asinh=function(nt){return new et(nt).asinh()},_e.prototype.atan=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.atan(this.get(nt,rt)));return this},_e.atan=function(nt){return new et(nt).atan()},_e.prototype.atanh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.atanh(this.get(nt,rt)));return this},_e.atanh=function(nt){return new et(nt).atanh()},_e.prototype.cbrt=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.cbrt(this.get(nt,rt)));return this},_e.cbrt=function(nt){return new et(nt).cbrt()},_e.prototype.ceil=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.ceil(this.get(nt,rt)));return this},_e.ceil=function(nt){return new et(nt).ceil()},_e.prototype.clz32=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.clz32(this.get(nt,rt)));return this},_e.clz32=function(nt){return new et(nt).clz32()},_e.prototype.cos=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.cos(this.get(nt,rt)));return this},_e.cos=function(nt){return new et(nt).cos()},_e.prototype.cosh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.cosh(this.get(nt,rt)));return this},_e.cosh=function(nt){return new et(nt).cosh()},_e.prototype.exp=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.exp(this.get(nt,rt)));return this},_e.exp=function(nt){return new et(nt).exp()},_e.prototype.expm1=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.expm1(this.get(nt,rt)));return this},_e.expm1=function(nt){return new et(nt).expm1()},_e.prototype.floor=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.floor(this.get(nt,rt)));return this},_e.floor=function(nt){return new et(nt).floor()},_e.prototype.fround=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.fround(this.get(nt,rt)));return this},_e.fround=function(nt){return new et(nt).fround()},_e.prototype.log=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.log(this.get(nt,rt)));return this},_e.log=function(nt){return new et(nt).log()},_e.prototype.log1p=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.log1p(this.get(nt,rt)));return this},_e.log1p=function(nt){return new et(nt).log1p()},_e.prototype.log10=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.log10(this.get(nt,rt)));return this},_e.log10=function(nt){return new et(nt).log10()},_e.prototype.log2=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.log2(this.get(nt,rt)));return this},_e.log2=function(nt){return new et(nt).log2()},_e.prototype.round=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.round(this.get(nt,rt)));return this},_e.round=function(nt){return new et(nt).round()},_e.prototype.sign=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.sign(this.get(nt,rt)));return this},_e.sign=function(nt){return new et(nt).sign()},_e.prototype.sin=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.sin(this.get(nt,rt)));return this},_e.sin=function(nt){return new et(nt).sin()},_e.prototype.sinh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.sinh(this.get(nt,rt)));return this},_e.sinh=function(nt){return new et(nt).sinh()},_e.prototype.sqrt=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.sqrt(this.get(nt,rt)));return this},_e.sqrt=function(nt){return new et(nt).sqrt()},_e.prototype.tan=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.tan(this.get(nt,rt)));return this},_e.tan=function(nt){return new et(nt).tan()},_e.prototype.tanh=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.tanh(this.get(nt,rt)));return this},_e.tanh=function(nt){return new et(nt).tanh()},_e.prototype.trunc=function(){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.set(nt,rt,Math.trunc(this.get(nt,rt)));return this},_e.trunc=function(nt){return new et(nt).trunc()},_e.pow=function(nt,rt){return new et(nt).pow(rt)},_e.prototype.pow=function(nt){return typeof nt=="number"?this.powS(nt):this.powM(nt)},_e.prototype.powS=function(nt){for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,Math.pow(this.get(rt,it),nt));return this},_e.prototype.powM=function(nt){if(nt=et.checkMatrix(nt),this.rows!==nt.rows||this.columns!==nt.columns)throw new RangeError("Matrices dimensions must be equal");for(let rt=0;rt<this.rows;rt++)for(let it=0;it<this.columns;it++)this.set(rt,it,Math.pow(this.get(rt,it),nt.get(rt,it)));return this}}function checkRowIndex(_e,et,tt){let nt=tt?_e.rows:_e.rows-1;if(et<0||et>nt)throw new RangeError("Row index out of range")}function checkColumnIndex(_e,et,tt){let nt=tt?_e.columns:_e.columns-1;if(et<0||et>nt)throw new RangeError("Column index out of range")}function checkRowVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.columns)throw new RangeError("vector size must be the same as the number of columns");return et}function checkColumnVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.rows)throw new RangeError("vector size must be the same as the number of rows");return et}function checkRowIndices(_e,et){if(!isAnyArray(et))throw new TypeError("row indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(_e,et){if(!isAnyArray(et))throw new TypeError("column indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.columns)throw new RangeError("column indices are out of range")}function checkRange$1(_e,et,tt,nt,rt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",et),checkNumber("endRow",tt),checkNumber("startColumn",nt),checkNumber("endColumn",rt),et>tt||nt>rt||et<0||et>=_e.rows||tt<0||tt>=_e.rows||nt<0||nt>=_e.columns||rt<0||rt>=_e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray(_e,et=0){let tt=[];for(let nt=0;nt<_e;nt++)tt.push(et);return tt}function checkNumber(_e,et){if(typeof et!="number")throw new TypeError(`${_e} must be a number`)}function checkNonEmpty(_e){if(_e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(_e){let et=newArray(_e.rows);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[tt]+=_e.get(tt,nt);return et}function sumByColumn(_e){let et=newArray(_e.columns);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[nt]+=_e.get(tt,nt);return et}function sumAll(_e){let et=0;for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)et+=_e.get(tt,nt);return et}function productByRow(_e){let et=newArray(_e.rows,1);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[tt]*=_e.get(tt,nt);return et}function productByColumn(_e){let et=newArray(_e.columns,1);for(let tt=0;tt<_e.rows;++tt)for(let nt=0;nt<_e.columns;++nt)et[nt]*=_e.get(tt,nt);return et}function productAll(_e){let et=1;for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)et*=_e.get(tt,nt);return et}function varianceByRow(_e,et,tt){const nt=_e.rows,rt=_e.columns,it=[];for(let ot=0;ot<nt;ot++){let at=0,st=0,lt=0;for(let ut=0;ut<rt;ut++)lt=_e.get(ot,ut)-tt[ot],at+=lt,st+=lt*lt;et?it.push((st-at*at/rt)/(rt-1)):it.push((st-at*at/rt)/rt)}return it}function varianceByColumn(_e,et,tt){const nt=_e.rows,rt=_e.columns,it=[];for(let ot=0;ot<rt;ot++){let at=0,st=0,lt=0;for(let ut=0;ut<nt;ut++)lt=_e.get(ut,ot)-tt[ot],at+=lt,st+=lt*lt;et?it.push((st-at*at/nt)/(nt-1)):it.push((st-at*at/nt)/nt)}return it}function varianceAll(_e,et,tt){const nt=_e.rows,rt=_e.columns,it=nt*rt;let ot=0,at=0,st=0;for(let lt=0;lt<nt;lt++)for(let ut=0;ut<rt;ut++)st=_e.get(lt,ut)-tt,ot+=st,at+=st*st;return et?(at-ot*ot/it)/(it-1):(at-ot*ot/it)/it}function centerByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et[tt])}function centerByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et[nt])}function centerAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)-et)}function getScaleByRow(_e){const et=[];for(let tt=0;tt<_e.rows;tt++){let nt=0;for(let rt=0;rt<_e.columns;rt++)nt+=Math.pow(_e.get(tt,rt),2)/(_e.columns-1);et.push(Math.sqrt(nt))}return et}function scaleByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et[tt])}function getScaleByColumn(_e){const et=[];for(let tt=0;tt<_e.columns;tt++){let nt=0;for(let rt=0;rt<_e.rows;rt++)nt+=Math.pow(_e.get(rt,tt),2)/(_e.rows-1);et.push(Math.sqrt(nt))}return et}function scaleByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et[nt])}function getScaleAll(_e){const et=_e.size-1;let tt=0;for(let nt=0;nt<_e.columns;nt++)for(let rt=0;rt<_e.rows;rt++)tt+=Math.pow(_e.get(rt,nt),2)/et;return Math.sqrt(tt)}function scaleAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let nt=0;nt<_e.columns;nt++)_e.set(tt,nt,_e.get(tt,nt)/et)}class AbstractMatrix{static from1DArray(et,tt,nt){if(et*tt!==nt.length)throw new RangeError("data length does not match given dimensions");let it=new Matrix(et,tt);for(let ot=0;ot<et;ot++)for(let at=0;at<tt;at++)it.set(ot,at,nt[ot*tt+at]);return it}static rowVector(et){let tt=new Matrix(1,et.length);for(let nt=0;nt<et.length;nt++)tt.set(0,nt,et[nt]);return tt}static columnVector(et){let tt=new Matrix(et.length,1);for(let nt=0;nt<et.length;nt++)tt.set(nt,0,et[nt]);return tt}static zeros(et,tt){return new Matrix(et,tt)}static ones(et,tt){return new Matrix(et,tt).fill(1)}static rand(et,tt,nt={}){if(typeof nt!="object")throw new TypeError("options must be an object");const{random:rt=Math.random}=nt;let it=new Matrix(et,tt);for(let ot=0;ot<et;ot++)for(let at=0;at<tt;at++)it.set(ot,at,rt());return it}static randInt(et,tt,nt={}){if(typeof nt!="object")throw new TypeError("options must be an object");const{min:rt=0,max:it=1e3,random:ot=Math.random}=nt;if(!Number.isInteger(rt))throw new TypeError("min must be an integer");if(!Number.isInteger(it))throw new TypeError("max must be an integer");if(rt>=it)throw new RangeError("min must be smaller than max");let at=it-rt,st=new Matrix(et,tt);for(let lt=0;lt<et;lt++)for(let ut=0;ut<tt;ut++){let ct=rt+Math.round(ot()*at);st.set(lt,ut,ct)}return st}static eye(et,tt,nt){tt===void 0&&(tt=et),nt===void 0&&(nt=1);let rt=Math.min(et,tt),it=this.zeros(et,tt);for(let ot=0;ot<rt;ot++)it.set(ot,ot,nt);return it}static diag(et,tt,nt){let rt=et.length;tt===void 0&&(tt=rt),nt===void 0&&(nt=tt);let it=Math.min(rt,tt,nt),ot=this.zeros(tt,nt);for(let at=0;at<it;at++)ot.set(at,at,et[at]);return ot}static min(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let nt=et.rows,rt=et.columns,it=new Matrix(nt,rt);for(let ot=0;ot<nt;ot++)for(let at=0;at<rt;at++)it.set(ot,at,Math.min(et.get(ot,at),tt.get(ot,at)));return it}static max(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let nt=et.rows,rt=et.columns,it=new this(nt,rt);for(let ot=0;ot<nt;ot++)for(let at=0;at<rt;at++)it.set(ot,at,Math.max(et.get(ot,at),tt.get(ot,at)));return it}static checkMatrix(et){return AbstractMatrix.isMatrix(et)?et:new Matrix(et)}static isMatrix(et){return et!=null&&et.klass==="Matrix"}get size(){return this.rows*this.columns}apply(et){if(typeof et!="function")throw new TypeError("callback must be a function");for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.call(this,tt,nt);return this}to1DArray(){let et=[];for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.push(this.get(tt,nt));return et}to2DArray(){let et=[];for(let tt=0;tt<this.rows;tt++){et.push([]);for(let nt=0;nt<this.columns;nt++)et[tt].push(this.get(tt,nt))}return et}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let et=0;et<this.rows;et++)for(let tt=0;tt<=et;tt++)if(this.get(et,tt)!==this.get(tt,et))return!1;return!0}return!1}isEchelonForm(){let et=0,tt=0,nt=-1,rt=!0,it=!1;for(;et<this.rows&&rt;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>nt?(it=!0,nt=tt):(rt=!1,it=!0);et++}return rt}isReducedEchelonForm(){let et=0,tt=0,nt=-1,rt=!0,it=!1;for(;et<this.rows&&rt;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>nt?(it=!0,nt=tt):(rt=!1,it=!0);for(let ot=tt+1;ot<this.rows;ot++)this.get(et,ot)!==0&&(rt=!1);et++}return rt}echelonForm(){let et=this.clone(),tt=0,nt=0;for(;tt<et.rows&&nt<et.columns;){let rt=tt;for(let it=tt;it<et.rows;it++)et.get(it,nt)>et.get(rt,nt)&&(rt=it);if(et.get(rt,nt)===0)nt++;else{et.swapRows(tt,rt);let it=et.get(tt,nt);for(let ot=nt;ot<et.columns;ot++)et.set(tt,ot,et.get(tt,ot)/it);for(let ot=tt+1;ot<et.rows;ot++){let at=et.get(ot,nt)/et.get(tt,nt);et.set(ot,nt,0);for(let st=nt+1;st<et.columns;st++)et.set(ot,st,et.get(ot,st)-et.get(tt,st)*at)}tt++,nt++}}return et}reducedEchelonForm(){let et=this.echelonForm(),tt=et.columns,nt=et.rows,rt=nt-1;for(;rt>=0;)if(et.maxRow(rt)===0)rt--;else{let it=0,ot=!1;for(;it<nt&&ot===!1;)et.get(rt,it)===1?ot=!0:it++;for(let at=0;at<rt;at++){let st=et.get(at,it);for(let lt=it;lt<tt;lt++){let ut=et.get(at,lt)-st*et.get(rt,lt);et.set(at,lt,ut)}}rt--}return et}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{rows:tt=1,columns:nt=1}=et;if(!Number.isInteger(tt)||tt<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(nt)||nt<=0)throw new TypeError("columns must be a positive integer");let rt=new Matrix(this.rows*tt,this.columns*nt);for(let it=0;it<tt;it++)for(let ot=0;ot<nt;ot++)rt.setSubMatrix(this,this.rows*it,this.columns*ot);return rt}fill(et){for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,et);return this}neg(){return this.mulS(-1)}getRow(et){checkRowIndex(this,et);let tt=[];for(let nt=0;nt<this.columns;nt++)tt.push(this.get(et,nt));return tt}getRowVector(et){return Matrix.rowVector(this.getRow(et))}setRow(et,tt){checkRowIndex(this,et),tt=checkRowVector(this,tt);for(let nt=0;nt<this.columns;nt++)this.set(et,nt,tt[nt]);return this}swapRows(et,tt){checkRowIndex(this,et),checkRowIndex(this,tt);for(let nt=0;nt<this.columns;nt++){let rt=this.get(et,nt);this.set(et,nt,this.get(tt,nt)),this.set(tt,nt,rt)}return this}getColumn(et){checkColumnIndex(this,et);let tt=[];for(let nt=0;nt<this.rows;nt++)tt.push(this.get(nt,et));return tt}getColumnVector(et){return Matrix.columnVector(this.getColumn(et))}setColumn(et,tt){checkColumnIndex(this,et),tt=checkColumnVector(this,tt);for(let nt=0;nt<this.rows;nt++)this.set(nt,et,tt[nt]);return this}swapColumns(et,tt){checkColumnIndex(this,et),checkColumnIndex(this,tt);for(let nt=0;nt<this.rows;nt++){let rt=this.get(nt,et);this.set(nt,et,this.get(nt,tt)),this.set(nt,tt,rt)}return this}addRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)+et[nt]);return this}subRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)-et[nt]);return this}mulRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)*et[nt]);return this}divRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)/et[nt]);return this}addColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)+et[tt]);return this}subColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)-et[tt]);return this}mulColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)*et[tt]);return this}divColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)this.set(tt,nt,this.get(tt,nt)/et[tt]);return this}mulRow(et,tt){checkRowIndex(this,et);for(let nt=0;nt<this.columns;nt++)this.set(et,nt,this.get(et,nt)*tt);return this}mulColumn(et,tt){checkColumnIndex(this,et);for(let nt=0;nt<this.rows;nt++)this.set(nt,et,this.get(nt,et)*tt);return this}max(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)>tt[nt]&&(tt[nt]=this.get(nt,rt));return tt}case"column":{const tt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)>tt[rt]&&(tt[rt]=this.get(nt,rt));return tt}case void 0:{let tt=this.get(0,0);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)>tt&&(tt=this.get(nt,rt));return tt}default:throw new Error(`invalid option: ${et}`)}}maxIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)>et&&(et=this.get(nt,rt),tt[0]=nt,tt[1]=rt);return tt}min(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)<tt[nt]&&(tt[nt]=this.get(nt,rt));return tt}case"column":{const tt=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)<tt[rt]&&(tt[rt]=this.get(nt,rt));return tt}case void 0:{let tt=this.get(0,0);for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)<tt&&(tt=this.get(nt,rt));return tt}default:throw new Error(`invalid option: ${et}`)}}minIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)this.get(nt,rt)<et&&(et=this.get(nt,rt),tt[0]=nt,tt[1]=rt);return tt}maxRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let nt=1;nt<this.columns;nt++)this.get(et,nt)>tt&&(tt=this.get(et,nt));return tt}maxRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),nt=[et,0];for(let rt=1;rt<this.columns;rt++)this.get(et,rt)>tt&&(tt=this.get(et,rt),nt[1]=rt);return nt}minRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let nt=1;nt<this.columns;nt++)this.get(et,nt)<tt&&(tt=this.get(et,nt));return tt}minRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),nt=[et,0];for(let rt=1;rt<this.columns;rt++)this.get(et,rt)<tt&&(tt=this.get(et,rt),nt[1]=rt);return nt}maxColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let nt=1;nt<this.rows;nt++)this.get(nt,et)>tt&&(tt=this.get(nt,et));return tt}maxColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),nt=[0,et];for(let rt=1;rt<this.rows;rt++)this.get(rt,et)>tt&&(tt=this.get(rt,et),nt[0]=rt);return nt}minColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let nt=1;nt<this.rows;nt++)this.get(nt,et)<tt&&(tt=this.get(nt,et));return tt}minColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),nt=[0,et];for(let rt=1;rt<this.rows;rt++)this.get(rt,et)<tt&&(tt=this.get(rt,et),nt[0]=rt);return nt}diag(){let et=Math.min(this.rows,this.columns),tt=[];for(let nt=0;nt<et;nt++)tt.push(this.get(nt,nt));return tt}norm(et="frobenius"){let tt=0;if(et==="max")return this.max();if(et==="frobenius"){for(let nt=0;nt<this.rows;nt++)for(let rt=0;rt<this.columns;rt++)tt=tt+this.get(nt,rt)*this.get(nt,rt);return Math.sqrt(tt)}else throw new RangeError(`unknown norm type: ${et}`)}cumulativeSum(){let et=0;for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et+=this.get(tt,nt),this.set(tt,nt,et);return this}dot(et){AbstractMatrix.isMatrix(et)&&(et=et.to1DArray());let tt=this.to1DArray();if(tt.length!==et.length)throw new RangeError("vectors do not have the same size");let nt=0;for(let rt=0;rt<tt.length;rt++)nt+=tt[rt]*et[rt];return nt}mmul(et){et=Matrix.checkMatrix(et);let tt=this.rows,nt=this.columns,rt=et.columns,it=new Matrix(tt,rt),ot=new Float64Array(nt);for(let at=0;at<rt;at++){for(let st=0;st<nt;st++)ot[st]=et.get(st,at);for(let st=0;st<tt;st++){let lt=0;for(let ut=0;ut<nt;ut++)lt+=this.get(st,ut)*ot[ut];it.set(st,at,lt)}}return it}strassen2x2(et){et=Matrix.checkMatrix(et);let tt=new Matrix(2,2);const nt=this.get(0,0),rt=et.get(0,0),it=this.get(0,1),ot=et.get(0,1),at=this.get(1,0),st=et.get(1,0),lt=this.get(1,1),ut=et.get(1,1),ct=(nt+lt)*(rt+ut),ft=(at+lt)*rt,dt=nt*(ot-ut),ht=lt*(st-rt),mt=(nt+it)*ut,yt=(at-nt)*(rt+ot),pt=(it-lt)*(st+ut),vt=ct+ht-mt+pt,gt=dt+mt,xt=ft+ht,wt=ct-ft+dt+yt;return tt.set(0,0,vt),tt.set(0,1,gt),tt.set(1,0,xt),tt.set(1,1,wt),tt}strassen3x3(et){et=Matrix.checkMatrix(et);let tt=new Matrix(3,3);const nt=this.get(0,0),rt=this.get(0,1),it=this.get(0,2),ot=this.get(1,0),at=this.get(1,1),st=this.get(1,2),lt=this.get(2,0),ut=this.get(2,1),ct=this.get(2,2),ft=et.get(0,0),dt=et.get(0,1),ht=et.get(0,2),mt=et.get(1,0),yt=et.get(1,1),pt=et.get(1,2),vt=et.get(2,0),gt=et.get(2,1),xt=et.get(2,2),wt=(nt+rt+it-ot-at-ut-ct)*yt,bt=(nt-ot)*(-dt+yt),St=at*(-ft+dt+mt-yt-pt-vt+xt),kt=(-nt+ot+at)*(ft-dt+yt),Rt=(ot+at)*(-ft+dt),Et=nt*ft,At=(-nt+lt+ut)*(ft-ht+pt),Tt=(-nt+lt)*(ht-pt),It=(lt+ut)*(-ft+ht),_t=(nt+rt+it-at-st-lt-ut)*pt,Pt=ut*(-ft+ht+mt-yt-pt-vt+gt),Zt=(-it+ut+ct)*(yt+vt-gt),Ht=(it-ct)*(yt-gt),zt=it*vt,jt=(ut+ct)*(-vt+gt),Wt=(-it+at+st)*(pt+vt-xt),Nt=(it-st)*(pt-xt),Lt=(at+st)*(-vt+xt),Jt=rt*mt,qt=st*gt,Kt=ot*ht,dn=lt*dt,gn=ct*xt,xn=Et+zt+Jt,sn=wt+kt+Rt+Et+Zt+zt+jt,pn=Et+At+It+_t+zt+Wt+Lt,mn=bt+St+kt+Et+zt+Wt+Nt,ln=bt+kt+Rt+Et+qt,vn=zt+Wt+Nt+Lt+Kt,Ct=Et+At+Tt+Pt+Zt+Ht+zt,Ut=Zt+Ht+zt+jt+dn,Dt=Et+At+Tt+It+gn;return tt.set(0,0,xn),tt.set(0,1,sn),tt.set(0,2,pn),tt.set(1,0,mn),tt.set(1,1,ln),tt.set(1,2,vn),tt.set(2,0,Ct),tt.set(2,1,Ut),tt.set(2,2,Dt),tt}mmulStrassen(et){et=Matrix.checkMatrix(et);let tt=this.clone(),nt=tt.rows,rt=tt.columns,it=et.rows,ot=et.columns;rt!==it&&console.warn(`Multiplying ${nt} x ${rt} and ${it} x ${ot} matrix: dimensions do not match.`);function at(ct,ft,dt){let ht=ct.rows,mt=ct.columns;if(ht===ft&&mt===dt)return ct;{let yt=AbstractMatrix.zeros(ft,dt);return yt=yt.setSubMatrix(ct,0,0),yt}}let st=Math.max(nt,it),lt=Math.max(rt,ot);tt=at(tt,st,lt),et=at(et,st,lt);function ut(ct,ft,dt,ht){if(dt<=512||ht<=512)return ct.mmul(ft);dt%2===1&&ht%2===1?(ct=at(ct,dt+1,ht+1),ft=at(ft,dt+1,ht+1)):dt%2===1?(ct=at(ct,dt+1,ht),ft=at(ft,dt+1,ht)):ht%2===1&&(ct=at(ct,dt,ht+1),ft=at(ft,dt,ht+1));let mt=parseInt(ct.rows/2,10),yt=parseInt(ct.columns/2,10),pt=ct.subMatrix(0,mt-1,0,yt-1),vt=ft.subMatrix(0,mt-1,0,yt-1),gt=ct.subMatrix(0,mt-1,yt,ct.columns-1),xt=ft.subMatrix(0,mt-1,yt,ft.columns-1),wt=ct.subMatrix(mt,ct.rows-1,0,yt-1),bt=ft.subMatrix(mt,ft.rows-1,0,yt-1),St=ct.subMatrix(mt,ct.rows-1,yt,ct.columns-1),kt=ft.subMatrix(mt,ft.rows-1,yt,ft.columns-1),Rt=ut(AbstractMatrix.add(pt,St),AbstractMatrix.add(vt,kt),mt,yt),Et=ut(AbstractMatrix.add(wt,St),vt,mt,yt),At=ut(pt,AbstractMatrix.sub(xt,kt),mt,yt),Tt=ut(St,AbstractMatrix.sub(bt,vt),mt,yt),It=ut(AbstractMatrix.add(pt,gt),kt,mt,yt),_t=ut(AbstractMatrix.sub(wt,pt),AbstractMatrix.add(vt,xt),mt,yt),Pt=ut(AbstractMatrix.sub(gt,St),AbstractMatrix.add(bt,kt),mt,yt),Zt=AbstractMatrix.add(Rt,Tt);Zt.sub(It),Zt.add(Pt);let Ht=AbstractMatrix.add(At,It),zt=AbstractMatrix.add(Et,Tt),jt=AbstractMatrix.sub(Rt,Et);jt.add(At),jt.add(_t);let Wt=AbstractMatrix.zeros(2*Zt.rows,2*Zt.columns);return Wt=Wt.setSubMatrix(Zt,0,0),Wt=Wt.setSubMatrix(Ht,Zt.rows,0),Wt=Wt.setSubMatrix(zt,0,Zt.columns),Wt=Wt.setSubMatrix(jt,Zt.rows,Zt.columns),Wt.subMatrix(0,dt-1,0,ht-1)}return ut(tt,et,st,lt)}scaleRows(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:nt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(nt))throw new TypeError("max must be a number");if(tt>=nt)throw new RangeError("min must be smaller than max");let rt=new Matrix(this.rows,this.columns);for(let it=0;it<this.rows;it++){const ot=this.getRow(it);ot.length>0&&rescale(ot,{min:tt,max:nt,output:ot}),rt.setRow(it,ot)}return rt}scaleColumns(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:nt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(nt))throw new TypeError("max must be a number");if(tt>=nt)throw new RangeError("min must be smaller than max");let rt=new Matrix(this.rows,this.columns);for(let it=0;it<this.columns;it++){const ot=this.getColumn(it);ot.length&&rescale(ot,{min:tt,max:nt,output:ot}),rt.setColumn(it,ot)}return rt}flipRows(){const et=Math.ceil(this.columns/2);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<et;nt++){let rt=this.get(tt,nt),it=this.get(tt,this.columns-1-nt);this.set(tt,nt,it),this.set(tt,this.columns-1-nt,rt)}return this}flipColumns(){const et=Math.ceil(this.rows/2);for(let tt=0;tt<this.columns;tt++)for(let nt=0;nt<et;nt++){let rt=this.get(nt,tt),it=this.get(this.rows-1-nt,tt);this.set(nt,tt,it),this.set(this.rows-1-nt,tt,rt)}return this}kroneckerProduct(et){et=Matrix.checkMatrix(et);let tt=this.rows,nt=this.columns,rt=et.rows,it=et.columns,ot=new Matrix(tt*rt,nt*it);for(let at=0;at<tt;at++)for(let st=0;st<nt;st++)for(let lt=0;lt<rt;lt++)for(let ut=0;ut<it;ut++)ot.set(rt*at+lt,it*st+ut,this.get(at,st)*et.get(lt,ut));return ot}kroneckerSum(et){if(et=Matrix.checkMatrix(et),!this.isSquare()||!et.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let tt=this.rows,nt=et.rows,rt=this.kroneckerProduct(Matrix.eye(nt,nt)),it=Matrix.eye(tt,tt).kroneckerProduct(et);return rt.add(it)}transpose(){let et=new Matrix(this.columns,this.rows);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.set(nt,tt,this.get(tt,nt));return et}sortRows(et=compareNumbers){for(let tt=0;tt<this.rows;tt++)this.setRow(tt,this.getRow(tt).sort(et));return this}sortColumns(et=compareNumbers){for(let tt=0;tt<this.columns;tt++)this.setColumn(tt,this.getColumn(tt).sort(et));return this}subMatrix(et,tt,nt,rt){checkRange$1(this,et,tt,nt,rt);let it=new Matrix(tt-et+1,rt-nt+1);for(let ot=et;ot<=tt;ot++)for(let at=nt;at<=rt;at++)it.set(ot-et,at-nt,this.get(ot,at));return it}subMatrixRow(et,tt,nt){if(tt===void 0&&(tt=0),nt===void 0&&(nt=this.columns-1),tt>nt||tt<0||tt>=this.columns||nt<0||nt>=this.columns)throw new RangeError("Argument out of range");let rt=new Matrix(et.length,nt-tt+1);for(let it=0;it<et.length;it++)for(let ot=tt;ot<=nt;ot++){if(et[it]<0||et[it]>=this.rows)throw new RangeError(`Row index out of range: ${et[it]}`);rt.set(it,ot-tt,this.get(et[it],ot))}return rt}subMatrixColumn(et,tt,nt){if(tt===void 0&&(tt=0),nt===void 0&&(nt=this.rows-1),tt>nt||tt<0||tt>=this.rows||nt<0||nt>=this.rows)throw new RangeError("Argument out of range");let rt=new Matrix(nt-tt+1,et.length);for(let it=0;it<et.length;it++)for(let ot=tt;ot<=nt;ot++){if(et[it]<0||et[it]>=this.columns)throw new RangeError(`Column index out of range: ${et[it]}`);rt.set(ot-tt,it,this.get(ot,et[it]))}return rt}setSubMatrix(et,tt,nt){if(et=Matrix.checkMatrix(et),et.isEmpty())return this;let rt=tt+et.rows-1,it=nt+et.columns-1;checkRange$1(this,tt,rt,nt,it);for(let ot=0;ot<et.rows;ot++)for(let at=0;at<et.columns;at++)this.set(tt+ot,nt+at,et.get(ot,at));return this}selection(et,tt){checkRowIndices(this,et),checkColumnIndices(this,tt);let nt=new Matrix(et.length,tt.length);for(let rt=0;rt<et.length;rt++){let it=et[rt];for(let ot=0;ot<tt.length;ot++){let at=tt[ot];nt.set(rt,ot,this.get(it,at))}}return nt}trace(){let et=Math.min(this.rows,this.columns),tt=0;for(let nt=0;nt<et;nt++)tt+=this.get(nt,nt);return tt}clone(){let et=new Matrix(this.rows,this.columns);for(let tt=0;tt<this.rows;tt++)for(let nt=0;nt<this.columns;nt++)et.set(tt,nt,this.get(tt,nt));return et}sum(et){switch(et){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${et}`)}}product(et){switch(et){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${et}`)}}mean(et){const tt=this.sum(et);switch(et){case"row":{for(let nt=0;nt<this.rows;nt++)tt[nt]/=this.columns;return tt}case"column":{for(let nt=0;nt<this.columns;nt++)tt[nt]/=this.rows;return tt}case void 0:return tt/this.size;default:throw new Error(`invalid option: ${et}`)}}variance(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{unbiased:nt=!0,mean:rt=this.mean(et)}=tt;if(typeof nt!="boolean")throw new TypeError("unbiased must be a boolean");switch(et){case"row":{if(!isAnyArray(rt))throw new TypeError("mean must be an array");return varianceByRow(this,nt,rt)}case"column":{if(!isAnyArray(rt))throw new TypeError("mean must be an array");return varianceByColumn(this,nt,rt)}case void 0:{if(typeof rt!="number")throw new TypeError("mean must be a number");return varianceAll(this,nt,rt)}default:throw new Error(`invalid option: ${et}`)}}standardDeviation(et,tt){typeof et=="object"&&(tt=et,et=void 0);const nt=this.variance(et,tt);if(et===void 0)return Math.sqrt(nt);for(let rt=0;rt<nt.length;rt++)nt[rt]=Math.sqrt(nt[rt]);return nt}center(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{center:nt=this.mean(et)}=tt;switch(et){case"row":{if(!isAnyArray(nt))throw new TypeError("center must be an array");return centerByRow(this,nt),this}case"column":{if(!isAnyArray(nt))throw new TypeError("center must be an array");return centerByColumn(this,nt),this}case void 0:{if(typeof nt!="number")throw new TypeError("center must be a number");return centerAll(this,nt),this}default:throw new Error(`invalid option: ${et}`)}}scale(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");let nt=tt.scale;switch(et){case"row":{if(nt===void 0)nt=getScaleByRow(this);else if(!isAnyArray(nt))throw new TypeError("scale must be an array");return scaleByRow(this,nt),this}case"column":{if(nt===void 0)nt=getScaleByColumn(this);else if(!isAnyArray(nt))throw new TypeError("scale must be an array");return scaleByColumn(this,nt),this}case void 0:{if(nt===void 0)nt=getScaleAll(this);else if(typeof nt!="number")throw new TypeError("scale must be a number");return scaleAll(this,nt),this}default:throw new Error(`invalid option: ${et}`)}}toString(et){return inspectMatrixWithOptions(this,et)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(_e,et){return _e-et}function isArrayOfNumbers(_e){return _e.every(et=>typeof et=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;class Matrix extends AbstractMatrix{constructor(et,tt){if(super(),Matrix.isMatrix(et))return et.clone();if(Number.isInteger(et)&&et>=0)if(this.data=[],Number.isInteger(tt)&&tt>=0)for(let nt=0;nt<et;nt++)this.data.push(new Float64Array(tt));else throw new TypeError("nColumns must be a positive integer");else if(isAnyArray(et)){const nt=et;if(et=nt.length,tt=et?nt[0].length:0,typeof tt!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let rt=0;rt<et;rt++){if(nt[rt].length!==tt)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(nt[rt]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(nt[rt]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=et,this.columns=tt}set(et,tt,nt){return this.data[et][tt]=nt,this}get(et,tt){return this.data[et][tt]}removeRow(et){return checkRowIndex(this,et),this.data.splice(et,1),this.rows-=1,this}addRow(et,tt){return tt===void 0&&(tt=et,et=this.rows),checkRowIndex(this,et,!0),tt=Float64Array.from(checkRowVector(this,tt)),this.data.splice(et,0,tt),this.rows+=1,this}removeColumn(et){checkColumnIndex(this,et);for(let tt=0;tt<this.rows;tt++){const nt=new Float64Array(this.columns-1);for(let rt=0;rt<et;rt++)nt[rt]=this.data[tt][rt];for(let rt=et+1;rt<this.columns;rt++)nt[rt-1]=this.data[tt][rt];this.data[tt]=nt}return this.columns-=1,this}addColumn(et,tt){typeof tt>"u"&&(tt=et,et=this.columns),checkColumnIndex(this,et,!0),tt=checkColumnVector(this,tt);for(let nt=0;nt<this.rows;nt++){const rt=new Float64Array(this.columns+1);let it=0;for(;it<et;it++)rt[it]=this.data[nt][it];for(rt[it++]=tt[nt];it<this.columns+1;it++)rt[it]=this.data[nt][it-1];this.data[nt]=rt}return this.columns+=1,this}}installMathOperations(AbstractMatrix,Matrix);class WrapperMatrix2D extends AbstractMatrix{constructor(et){super(),this.data=et,this.rows=et.length,this.columns=et[0].length}set(et,tt,nt){return this.data[et][tt]=nt,this}get(et,tt){return this.data[et][tt]}}class LuDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),nt=tt.rows,rt=tt.columns,it=new Float64Array(nt),ot=1,at,st,lt,ut,ct,ft,dt,ht,mt;for(at=0;at<nt;at++)it[at]=at;for(ht=new Float64Array(nt),st=0;st<rt;st++){for(at=0;at<nt;at++)ht[at]=tt.get(at,st);for(at=0;at<nt;at++){for(mt=Math.min(at,st),ct=0,lt=0;lt<mt;lt++)ct+=tt.get(at,lt)*ht[lt];ht[at]-=ct,tt.set(at,st,ht[at])}for(ut=st,at=st+1;at<nt;at++)Math.abs(ht[at])>Math.abs(ht[ut])&&(ut=at);if(ut!==st){for(lt=0;lt<rt;lt++)ft=tt.get(ut,lt),tt.set(ut,lt,tt.get(st,lt)),tt.set(st,lt,ft);dt=it[ut],it[ut]=it[st],it[st]=dt,ot=-ot}if(st<nt&&tt.get(st,st)!==0)for(at=st+1;at<nt;at++)tt.set(at,st,tt.get(at,st)/tt.get(st,st))}this.LU=tt,this.pivotVector=it,this.pivotSign=ot}isSingular(){let et=this.LU,tt=et.columns;for(let nt=0;nt<tt;nt++)if(et.get(nt,nt)===0)return!0;return!1}solve(et){et=Matrix.checkMatrix(et);let tt=this.LU;if(tt.rows!==et.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let rt=et.columns,it=et.subMatrixRow(this.pivotVector,0,rt-1),ot=tt.columns,at,st,lt;for(lt=0;lt<ot;lt++)for(at=lt+1;at<ot;at++)for(st=0;st<rt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt));for(lt=ot-1;lt>=0;lt--){for(st=0;st<rt;st++)it.set(lt,st,it.get(lt,st)/tt.get(lt,lt));for(at=0;at<lt;at++)for(st=0;st<rt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt))}return it}get determinant(){let et=this.LU;if(!et.isSquare())throw new Error("Matrix must be square");let tt=this.pivotSign,nt=et.columns;for(let rt=0;rt<nt;rt++)tt*=et.get(rt,rt);return tt}get lowerTriangularMatrix(){let et=this.LU,tt=et.rows,nt=et.columns,rt=new Matrix(tt,nt);for(let it=0;it<tt;it++)for(let ot=0;ot<nt;ot++)it>ot?rt.set(it,ot,et.get(it,ot)):it===ot?rt.set(it,ot,1):rt.set(it,ot,0);return rt}get upperTriangularMatrix(){let et=this.LU,tt=et.rows,nt=et.columns,rt=new Matrix(tt,nt);for(let it=0;it<tt;it++)for(let ot=0;ot<nt;ot++)it<=ot?rt.set(it,ot,et.get(it,ot)):rt.set(it,ot,0);return rt}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(_e,et){let tt=0;return Math.abs(_e)>Math.abs(et)?(tt=et/_e,Math.abs(_e)*Math.sqrt(1+tt*tt)):et!==0?(tt=_e/et,Math.abs(et)*Math.sqrt(1+tt*tt)):0}class QrDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),nt=et.rows,rt=et.columns,it=new Float64Array(rt),ot,at,st,lt;for(st=0;st<rt;st++){let ut=0;for(ot=st;ot<nt;ot++)ut=hypotenuse$1(ut,tt.get(ot,st));if(ut!==0){for(tt.get(st,st)<0&&(ut=-ut),ot=st;ot<nt;ot++)tt.set(ot,st,tt.get(ot,st)/ut);for(tt.set(st,st,tt.get(st,st)+1),at=st+1;at<rt;at++){for(lt=0,ot=st;ot<nt;ot++)lt+=tt.get(ot,st)*tt.get(ot,at);for(lt=-lt/tt.get(st,st),ot=st;ot<nt;ot++)tt.set(ot,at,tt.get(ot,at)+lt*tt.get(ot,st))}}it[st]=-ut}this.QR=tt,this.Rdiag=it}solve(et){et=Matrix.checkMatrix(et);let tt=this.QR,nt=tt.rows;if(et.rows!==nt)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let rt=et.columns,it=et.clone(),ot=tt.columns,at,st,lt,ut;for(lt=0;lt<ot;lt++)for(st=0;st<rt;st++){for(ut=0,at=lt;at<nt;at++)ut+=tt.get(at,lt)*it.get(at,st);for(ut=-ut/tt.get(lt,lt),at=lt;at<nt;at++)it.set(at,st,it.get(at,st)+ut*tt.get(at,lt))}for(lt=ot-1;lt>=0;lt--){for(st=0;st<rt;st++)it.set(lt,st,it.get(lt,st)/this.Rdiag[lt]);for(at=0;at<lt;at++)for(st=0;st<rt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt))}return it.subMatrix(0,ot-1,0,rt-1)}isFullRank(){let et=this.QR.columns;for(let tt=0;tt<et;tt++)if(this.Rdiag[tt]===0)return!1;return!0}get upperTriangularMatrix(){let et=this.QR,tt=et.columns,nt=new Matrix(tt,tt),rt,it;for(rt=0;rt<tt;rt++)for(it=0;it<tt;it++)rt<it?nt.set(rt,it,et.get(rt,it)):rt===it?nt.set(rt,it,this.Rdiag[rt]):nt.set(rt,it,0);return nt}get orthogonalMatrix(){let et=this.QR,tt=et.rows,nt=et.columns,rt=new Matrix(tt,nt),it,ot,at,st;for(at=nt-1;at>=0;at--){for(it=0;it<tt;it++)rt.set(it,at,0);for(rt.set(at,at,1),ot=at;ot<nt;ot++)if(et.get(at,at)!==0){for(st=0,it=at;it<tt;it++)st+=et.get(it,at)*rt.get(it,ot);for(st=-st/et.get(at,at),it=at;it<tt;it++)rt.set(it,ot,rt.get(it,ot)+st*et.get(it,at))}}return rt}}class SingularValueDecomposition{constructor(et,tt={}){if(et=WrapperMatrix2D.checkMatrix(et),et.isEmpty())throw new Error("Matrix must be non-empty");let nt=et.rows,rt=et.columns;const{computeLeftSingularVectors:it=!0,computeRightSingularVectors:ot=!0,autoTranspose:at=!1}=tt;let st=!!it,lt=!!ot,ut=!1,ct;if(nt<rt)if(!at)ct=et.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ct=et.transpose(),nt=ct.rows,rt=ct.columns,ut=!0;let Et=st;st=lt,lt=Et}else ct=et.clone();let ft=Math.min(nt,rt),dt=Math.min(nt+1,rt),ht=new Float64Array(dt),mt=new Matrix(nt,ft),yt=new Matrix(rt,rt),pt=new Float64Array(rt),vt=new Float64Array(nt),gt=new Float64Array(dt);for(let Et=0;Et<dt;Et++)gt[Et]=Et;let xt=Math.min(nt-1,rt),wt=Math.max(0,Math.min(rt-2,nt)),bt=Math.max(xt,wt);for(let Et=0;Et<bt;Et++){if(Et<xt){ht[Et]=0;for(let At=Et;At<nt;At++)ht[Et]=hypotenuse$1(ht[Et],ct.get(At,Et));if(ht[Et]!==0){ct.get(Et,Et)<0&&(ht[Et]=-ht[Et]);for(let At=Et;At<nt;At++)ct.set(At,Et,ct.get(At,Et)/ht[Et]);ct.set(Et,Et,ct.get(Et,Et)+1)}ht[Et]=-ht[Et]}for(let At=Et+1;At<rt;At++){if(Et<xt&&ht[Et]!==0){let Tt=0;for(let It=Et;It<nt;It++)Tt+=ct.get(It,Et)*ct.get(It,At);Tt=-Tt/ct.get(Et,Et);for(let It=Et;It<nt;It++)ct.set(It,At,ct.get(It,At)+Tt*ct.get(It,Et))}pt[At]=ct.get(Et,At)}if(st&&Et<xt)for(let At=Et;At<nt;At++)mt.set(At,Et,ct.get(At,Et));if(Et<wt){pt[Et]=0;for(let At=Et+1;At<rt;At++)pt[Et]=hypotenuse$1(pt[Et],pt[At]);if(pt[Et]!==0){pt[Et+1]<0&&(pt[Et]=0-pt[Et]);for(let At=Et+1;At<rt;At++)pt[At]/=pt[Et];pt[Et+1]+=1}if(pt[Et]=-pt[Et],Et+1<nt&&pt[Et]!==0){for(let At=Et+1;At<nt;At++)vt[At]=0;for(let At=Et+1;At<nt;At++)for(let Tt=Et+1;Tt<rt;Tt++)vt[At]+=pt[Tt]*ct.get(At,Tt);for(let At=Et+1;At<rt;At++){let Tt=-pt[At]/pt[Et+1];for(let It=Et+1;It<nt;It++)ct.set(It,At,ct.get(It,At)+Tt*vt[It])}}if(lt)for(let At=Et+1;At<rt;At++)yt.set(At,Et,pt[At])}}let St=Math.min(rt,nt+1);if(xt<rt&&(ht[xt]=ct.get(xt,xt)),nt<St&&(ht[St-1]=0),wt+1<St&&(pt[wt]=ct.get(wt,St-1)),pt[St-1]=0,st){for(let Et=xt;Et<ft;Et++){for(let At=0;At<nt;At++)mt.set(At,Et,0);mt.set(Et,Et,1)}for(let Et=xt-1;Et>=0;Et--)if(ht[Et]!==0){for(let At=Et+1;At<ft;At++){let Tt=0;for(let It=Et;It<nt;It++)Tt+=mt.get(It,Et)*mt.get(It,At);Tt=-Tt/mt.get(Et,Et);for(let It=Et;It<nt;It++)mt.set(It,At,mt.get(It,At)+Tt*mt.get(It,Et))}for(let At=Et;At<nt;At++)mt.set(At,Et,-mt.get(At,Et));mt.set(Et,Et,1+mt.get(Et,Et));for(let At=0;At<Et-1;At++)mt.set(At,Et,0)}else{for(let At=0;At<nt;At++)mt.set(At,Et,0);mt.set(Et,Et,1)}}if(lt)for(let Et=rt-1;Et>=0;Et--){if(Et<wt&&pt[Et]!==0)for(let At=Et+1;At<rt;At++){let Tt=0;for(let It=Et+1;It<rt;It++)Tt+=yt.get(It,Et)*yt.get(It,At);Tt=-Tt/yt.get(Et+1,Et);for(let It=Et+1;It<rt;It++)yt.set(It,At,yt.get(It,At)+Tt*yt.get(It,Et))}for(let At=0;At<rt;At++)yt.set(At,Et,0);yt.set(Et,Et,1)}let kt=St-1,Rt=Number.EPSILON;for(;St>0;){let Et,At;for(Et=St-2;Et>=-1&&Et!==-1;Et--){const Tt=Number.MIN_VALUE+Rt*Math.abs(ht[Et]+Math.abs(ht[Et+1]));if(Math.abs(pt[Et])<=Tt||Number.isNaN(pt[Et])){pt[Et]=0;break}}if(Et===St-2)At=4;else{let Tt;for(Tt=St-1;Tt>=Et&&Tt!==Et;Tt--){let It=(Tt!==St?Math.abs(pt[Tt]):0)+(Tt!==Et+1?Math.abs(pt[Tt-1]):0);if(Math.abs(ht[Tt])<=Rt*It){ht[Tt]=0;break}}Tt===Et?At=3:Tt===St-1?At=1:(At=2,Et=Tt)}switch(Et++,At){case 1:{let Tt=pt[St-2];pt[St-2]=0;for(let It=St-2;It>=Et;It--){let _t=hypotenuse$1(ht[It],Tt),Pt=ht[It]/_t,Zt=Tt/_t;if(ht[It]=_t,It!==Et&&(Tt=-Zt*pt[It-1],pt[It-1]=Pt*pt[It-1]),lt)for(let Ht=0;Ht<rt;Ht++)_t=Pt*yt.get(Ht,It)+Zt*yt.get(Ht,St-1),yt.set(Ht,St-1,-Zt*yt.get(Ht,It)+Pt*yt.get(Ht,St-1)),yt.set(Ht,It,_t)}break}case 2:{let Tt=pt[Et-1];pt[Et-1]=0;for(let It=Et;It<St;It++){let _t=hypotenuse$1(ht[It],Tt),Pt=ht[It]/_t,Zt=Tt/_t;if(ht[It]=_t,Tt=-Zt*pt[It],pt[It]=Pt*pt[It],st)for(let Ht=0;Ht<nt;Ht++)_t=Pt*mt.get(Ht,It)+Zt*mt.get(Ht,Et-1),mt.set(Ht,Et-1,-Zt*mt.get(Ht,It)+Pt*mt.get(Ht,Et-1)),mt.set(Ht,It,_t)}break}case 3:{const Tt=Math.max(Math.abs(ht[St-1]),Math.abs(ht[St-2]),Math.abs(pt[St-2]),Math.abs(ht[Et]),Math.abs(pt[Et])),It=ht[St-1]/Tt,_t=ht[St-2]/Tt,Pt=pt[St-2]/Tt,Zt=ht[Et]/Tt,Ht=pt[Et]/Tt,zt=((_t+It)*(_t-It)+Pt*Pt)/2,jt=It*Pt*(It*Pt);let Wt=0;(zt!==0||jt!==0)&&(zt<0?Wt=0-Math.sqrt(zt*zt+jt):Wt=Math.sqrt(zt*zt+jt),Wt=jt/(zt+Wt));let Nt=(Zt+It)*(Zt-It)+Wt,Lt=Zt*Ht;for(let Jt=Et;Jt<St-1;Jt++){let qt=hypotenuse$1(Nt,Lt);qt===0&&(qt=Number.MIN_VALUE);let Kt=Nt/qt,dn=Lt/qt;if(Jt!==Et&&(pt[Jt-1]=qt),Nt=Kt*ht[Jt]+dn*pt[Jt],pt[Jt]=Kt*pt[Jt]-dn*ht[Jt],Lt=dn*ht[Jt+1],ht[Jt+1]=Kt*ht[Jt+1],lt)for(let gn=0;gn<rt;gn++)qt=Kt*yt.get(gn,Jt)+dn*yt.get(gn,Jt+1),yt.set(gn,Jt+1,-dn*yt.get(gn,Jt)+Kt*yt.get(gn,Jt+1)),yt.set(gn,Jt,qt);if(qt=hypotenuse$1(Nt,Lt),qt===0&&(qt=Number.MIN_VALUE),Kt=Nt/qt,dn=Lt/qt,ht[Jt]=qt,Nt=Kt*pt[Jt]+dn*ht[Jt+1],ht[Jt+1]=-dn*pt[Jt]+Kt*ht[Jt+1],Lt=dn*pt[Jt+1],pt[Jt+1]=Kt*pt[Jt+1],st&&Jt<nt-1)for(let gn=0;gn<nt;gn++)qt=Kt*mt.get(gn,Jt)+dn*mt.get(gn,Jt+1),mt.set(gn,Jt+1,-dn*mt.get(gn,Jt)+Kt*mt.get(gn,Jt+1)),mt.set(gn,Jt,qt)}pt[St-2]=Nt;break}case 4:{if(ht[Et]<=0&&(ht[Et]=ht[Et]<0?-ht[Et]:0,lt))for(let Tt=0;Tt<=kt;Tt++)yt.set(Tt,Et,-yt.get(Tt,Et));for(;Et<kt&&!(ht[Et]>=ht[Et+1]);){let Tt=ht[Et];if(ht[Et]=ht[Et+1],ht[Et+1]=Tt,lt&&Et<rt-1)for(let It=0;It<rt;It++)Tt=yt.get(It,Et+1),yt.set(It,Et+1,yt.get(It,Et)),yt.set(It,Et,Tt);if(st&&Et<nt-1)for(let It=0;It<nt;It++)Tt=mt.get(It,Et+1),mt.set(It,Et+1,mt.get(It,Et)),mt.set(It,Et,Tt);Et++}St--;break}}}if(ut){let Et=yt;yt=mt,mt=Et}this.m=nt,this.n=rt,this.s=ht,this.U=mt,this.V=yt}solve(et){let tt=et,nt=this.threshold,rt=this.s.length,it=Matrix.zeros(rt,rt);for(let ft=0;ft<rt;ft++)Math.abs(this.s[ft])<=nt?it.set(ft,ft,0):it.set(ft,ft,1/this.s[ft]);let ot=this.U,at=this.rightSingularVectors,st=at.mmul(it),lt=at.rows,ut=ot.rows,ct=Matrix.zeros(lt,ut);for(let ft=0;ft<lt;ft++)for(let dt=0;dt<ut;dt++){let ht=0;for(let mt=0;mt<rt;mt++)ht+=st.get(ft,mt)*ot.get(dt,mt);ct.set(ft,dt,ht)}return ct.mmul(tt)}solveForDiagonal(et){return this.solve(Matrix.diag(et))}inverse(){let et=this.V,tt=this.threshold,nt=et.rows,rt=et.columns,it=new Matrix(nt,this.s.length);for(let ut=0;ut<nt;ut++)for(let ct=0;ct<rt;ct++)Math.abs(this.s[ct])>tt&&it.set(ut,ct,et.get(ut,ct)/this.s[ct]);let ot=this.U,at=ot.rows,st=ot.columns,lt=new Matrix(nt,at);for(let ut=0;ut<nt;ut++)for(let ct=0;ct<at;ct++){let ft=0;for(let dt=0;dt<st;dt++)ft+=it.get(ut,dt)*ot.get(ct,dt);lt.set(ut,ct,ft)}return lt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let et=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,tt=0,nt=this.s;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt]>et&&tt++;return tt}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix.diag(this.s)}}function inverse(_e,et=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et?new SingularValueDecomposition(_e).inverse():solve(_e,Matrix.eye(_e.rows))}function solve(_e,et,tt=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et=WrapperMatrix2D.checkMatrix(et),tt?new SingularValueDecomposition(_e).solve(et):_e.isSquare()?new LuDecomposition(_e).solve(et):new QrDecomposition(_e).solve(et)}function pseudoInverse(_e,et=Number.EPSILON){if(_e=Matrix.checkMatrix(_e),_e.isEmpty())return _e.transpose();let tt=new SingularValueDecomposition(_e,{autoTranspose:!0}),nt=tt.leftSingularVectors,rt=tt.rightSingularVectors,it=tt.diagonal;for(let ot=0;ot<it.length;ot++)Math.abs(it[ot])>et?it[ot]=1/it[ot]:it[ot]=0;return rt.mmul(Matrix.diag(it).mmul(nt.transpose()))}class MultivariateLinearRegression{constructor(et,tt,nt={}){const{intercept:rt=!0,statistics:it=!0}=nt;if(this.statistics=it,et===!0)this.weights=tt.weights,this.inputs=tt.inputs,this.outputs=tt.outputs,this.intercept=tt.intercept;else{et=new Matrix(et),tt=new Matrix(tt),rt&&et.addColumn(new Array(et.rows).fill(1));let ot=et.transpose();const at=ot.mmul(et),st=ot.mmul(tt),lt=new SingularValueDecomposition(at).inverse(),ut=st.transpose().mmul(lt).transpose();if(this.weights=ut.to2DArray(),this.inputs=et.columns,this.outputs=tt.columns,rt&&this.inputs--,this.intercept=rt,it){const ct=et.mmul(ut),dt=tt.clone().addM(ct.neg()).to2DArray().map(ht=>Math.pow(ht[0],2)).reduce((ht,mt)=>ht+mt)/(tt.rows-et.columns);this.stdError=Math.sqrt(dt),this.stdErrorMatrix=pseudoInverse(at).mul(dt),this.stdErrors=this.stdErrorMatrix.diagonal().map(ht=>Math.sqrt(ht)),this.tStats=this.weights.map((ht,mt)=>this.stdErrors[mt]===0?0:ht[0]/this.stdErrors[mt])}}}predict(et){if(Array.isArray(et)){if(typeof et[0]=="number")return this._predict(et);if(Array.isArray(et[0])){const tt=new Array(et.length);for(let nt=0;nt<et.length;nt++)tt[nt]=this._predict(et[nt]);return tt}}else if(Matrix.isMatrix(et)){const tt=new Matrix(et.rows,this.outputs);for(let nt=0;nt<et.rows;nt++)tt.setRow(nt,this._predict(et.getRow(nt)));return tt}throw new TypeError("x must be a matrix or array of numbers")}_predict(et){const tt=new Array(this.outputs);if(this.intercept)for(let nt=0;nt<this.outputs;nt++)tt[nt]=this.weights[this.inputs][nt];else tt.fill(0);for(let nt=0;nt<this.inputs;nt++)for(let rt=0;rt<this.outputs;rt++)tt[rt]+=this.weights[nt][rt]*et[nt];return tt}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((et,tt)=>({label:tt===this.weights.length-1?"Intercept":`X Variable ${tt+1}`,coefficients:et,standardError:this.stdErrors[tt],tStat:this.tStats[tt]}))}:void 0}}static load(et){if(et.name!=="multivariateLinearRegression")throw new Error("not a MLR model");return new MultivariateLinearRegression(!0,et)}}function assert(_e,et){if(!_e)throw new Error(et||"unreachable")}function assertUnreachable(_e){throw new Error(`unreachable: ${String(_e)}`)}function getClamp(_e){return _e.maxValue===255?clamp255:(assert(_e.maxValue===65535),clamp65535)}function clamp255(_e){return Math.min(Math.max(_e,0),255)}function clamp65535(_e){return Math.min(Math.max(_e,0),65535)}var r$2={grad:.9,turn:360,rad:360/(2*Math.PI)},t$2=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$2=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},e$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},u$2=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a$2=function(_e){return{r:e$1(_e.r,0,255),g:e$1(_e.g,0,255),b:e$1(_e.b,0,255),a:e$1(_e.a)}},o$2=function(_e){return{r:n$2(_e.r),g:n$2(_e.g),b:n$2(_e.b),a:n$2(_e.a,3)}},i$2=/^#([0-9a-f]{3,8})$/i,s$1=function(_e){var et=_e.toString(16);return et.length<2?"0"+et:et},h$2=function(_e){var et=_e.r,tt=_e.g,nt=_e.b,rt=_e.a,it=Math.max(et,tt,nt),ot=it-Math.min(et,tt,nt),at=ot?it===et?(tt-nt)/ot:it===tt?2+(nt-et)/ot:4+(et-tt)/ot:0;return{h:60*(at<0?at+6:at),s:it?ot/it*100:0,v:it/255*100,a:rt}},b$2=function(_e){var et=_e.h,tt=_e.s,nt=_e.v,rt=_e.a;et=et/360*6,tt/=100,nt/=100;var it=Math.floor(et),ot=nt*(1-tt),at=nt*(1-(et-it)*tt),st=nt*(1-(1-et+it)*tt),lt=it%6;return{r:255*[nt,at,ot,ot,st,nt][lt],g:255*[st,nt,nt,at,ot,ot][lt],b:255*[ot,ot,st,nt,nt,at][lt],a:rt}},g$1=function(_e){return{h:u$2(_e.h),s:e$1(_e.s,0,100),l:e$1(_e.l,0,100),a:e$1(_e.a)}},d$1=function(_e){return{h:n$2(_e.h),s:n$2(_e.s),l:n$2(_e.l),a:n$2(_e.a,3)}},f$1=function(_e){return b$2((tt=(et=_e).s,{h:et.h,s:(tt*=((nt=et.l)<50?nt:100-nt)/100)>0?2*tt/(nt+tt)*100:0,v:nt+tt,a:et.a}));var et,tt,nt},c$1=function(_e){return{h:(et=h$2(_e)).h,s:(rt=(200-(tt=et.s))*(nt=et.v)/100)>0&&rt<200?tt*nt/100/(rt<=100?rt:200-rt)*100:0,l:rt/2,a:et.a};var et,tt,nt,rt},l$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$2={string:[[function(_e){var et=i$2.exec(_e);return et?(_e=et[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$2(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$2(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var et=v$1.exec(_e)||m.exec(_e);return et?et[2]!==et[4]||et[4]!==et[6]?null:a$2({r:Number(et[1])/(et[2]?100/255:1),g:Number(et[3])/(et[4]?100/255:1),b:Number(et[5])/(et[6]?100/255:1),a:et[7]===void 0?1:Number(et[7])/(et[8]?100:1)}):null},"rgb"],[function(_e){var et=l$2.exec(_e)||p$2.exec(_e);if(!et)return null;var tt,nt,rt=g$1({h:(tt=et[1],nt=et[2],nt===void 0&&(nt="deg"),Number(tt)*(r$2[nt]||1)),s:Number(et[3]),l:Number(et[4]),a:et[5]===void 0?1:Number(et[5])/(et[6]?100:1)});return f$1(rt)},"hsl"]],object:[[function(_e){var et=_e.r,tt=_e.g,nt=_e.b,rt=_e.a,it=rt===void 0?1:rt;return t$2(et)&&t$2(tt)&&t$2(nt)?a$2({r:Number(et),g:Number(tt),b:Number(nt),a:Number(it)}):null},"rgb"],[function(_e){var et=_e.h,tt=_e.s,nt=_e.l,rt=_e.a,it=rt===void 0?1:rt;if(!t$2(et)||!t$2(tt)||!t$2(nt))return null;var ot=g$1({h:Number(et),s:Number(tt),l:Number(nt),a:Number(it)});return f$1(ot)},"hsl"],[function(_e){var et=_e.h,tt=_e.s,nt=_e.v,rt=_e.a,it=rt===void 0?1:rt;if(!t$2(et)||!t$2(tt)||!t$2(nt))return null;var ot=function(at){return{h:u$2(at.h),s:e$1(at.s,0,100),v:e$1(at.v,0,100),a:e$1(at.a)}}({h:Number(et),s:Number(tt),v:Number(nt),a:Number(it)});return b$2(ot)},"hsv"]]},N$1=function(_e,et){for(var tt=0;tt<et.length;tt++){var nt=et[tt][0](_e);if(nt)return[nt,et[tt][1]]}return[null,void 0]},x$2=function(_e){return typeof _e=="string"?N$1(_e.trim(),y$2.string):typeof _e=="object"&&_e!==null?N$1(_e,y$2.object):[null,void 0]},M$2=function(_e,et){var tt=c$1(_e);return{h:tt.h,s:e$1(tt.s+100*et,0,100),l:tt.l,a:tt.a}},H$1=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$=function(_e,et){var tt=c$1(_e);return{h:tt.h,s:tt.s,l:e$1(tt.l+100*et,0,100),a:tt.a}},j$1=function(){function _e(et){this.parsed=x$2(et)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$2(H$1(this.rgba),2)},_e.prototype.isDark=function(){return H$1(this.rgba)<.5},_e.prototype.isLight=function(){return H$1(this.rgba)>=.5},_e.prototype.toHex=function(){return et=o$2(this.rgba),tt=et.r,nt=et.g,rt=et.b,ot=(it=et.a)<1?s$1(n$2(255*it)):"","#"+s$1(tt)+s$1(nt)+s$1(rt)+ot;var et,tt,nt,rt,it,ot},_e.prototype.toRgb=function(){return o$2(this.rgba)},_e.prototype.toRgbString=function(){return et=o$2(this.rgba),tt=et.r,nt=et.g,rt=et.b,(it=et.a)<1?"rgba("+tt+", "+nt+", "+rt+", "+it+")":"rgb("+tt+", "+nt+", "+rt+")";var et,tt,nt,rt,it},_e.prototype.toHsl=function(){return d$1(c$1(this.rgba))},_e.prototype.toHslString=function(){return et=d$1(c$1(this.rgba)),tt=et.h,nt=et.s,rt=et.l,(it=et.a)<1?"hsla("+tt+", "+nt+"%, "+rt+"%, "+it+")":"hsl("+tt+", "+nt+"%, "+rt+"%)";var et,tt,nt,rt,it},_e.prototype.toHsv=function(){return et=h$2(this.rgba),{h:n$2(et.h),s:n$2(et.s),v:n$2(et.v),a:n$2(et.a,3)};var et},_e.prototype.invert=function(){return w$2({r:255-(et=this.rgba).r,g:255-et.g,b:255-et.b,a:et.a});var et},_e.prototype.saturate=function(et){return et===void 0&&(et=.1),w$2(M$2(this.rgba,et))},_e.prototype.desaturate=function(et){return et===void 0&&(et=.1),w$2(M$2(this.rgba,-et))},_e.prototype.grayscale=function(){return w$2(M$2(this.rgba,-1))},_e.prototype.lighten=function(et){return et===void 0&&(et=.1),w$2($(this.rgba,et))},_e.prototype.darken=function(et){return et===void 0&&(et=.1),w$2($(this.rgba,-et))},_e.prototype.rotate=function(et){return et===void 0&&(et=15),this.hue(this.hue()+et)},_e.prototype.alpha=function(et){return typeof et=="number"?w$2({r:(tt=this.rgba).r,g:tt.g,b:tt.b,a:et}):n$2(this.rgba.a,3);var tt},_e.prototype.hue=function(et){var tt=c$1(this.rgba);return typeof et=="number"?w$2({h:et,s:tt.s,l:tt.l,a:tt.a}):n$2(tt.h)},_e.prototype.isEqual=function(et){return this.toHex()===w$2(et).toHex()},_e}(),w$2=function(_e){return _e instanceof j$1?_e:new j$1(_e)},S$1=[],k$1=function(_e){_e.forEach(function(et){S$1.indexOf(et)<0&&(et(j$1,y$2),S$1.push(et))})},a$1=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},t$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},o$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},r$1=function(_e){var et=_e/255;return et<.04045?et/12.92:Math.pow((et+.055)/1.055,2.4)},h$1=function(_e){return 255*(_e>.0031308?1.055*Math.pow(_e,1/2.4)-.055:12.92*_e)},n$1=96.422,p$1=100,M$1=82.521,u$1=function(_e){var et,tt,nt={x:.9555766*(et=_e).x+-.0230393*et.y+.0631636*et.z,y:-.0282895*et.x+1.0099416*et.y+.0210077*et.z,z:.0122982*et.x+-.020483*et.y+1.3299098*et.z};return tt={r:h$1(.032404542*nt.x-.015371385*nt.y-.004985314*nt.z),g:h$1(-.00969266*nt.x+.018760108*nt.y+41556e-8*nt.z),b:h$1(556434e-9*nt.x-.002040259*nt.y+.010572252*nt.z),a:_e.a},{r:o$1(tt.r,0,255),g:o$1(tt.g,0,255),b:o$1(tt.b,0,255),a:o$1(tt.a)}},e=function(_e){var et=r$1(_e.r),tt=r$1(_e.g),nt=r$1(_e.b);return function(rt){return{x:o$1(rt.x,0,n$1),y:o$1(rt.y,0,p$1),z:o$1(rt.z,0,M$1),a:o$1(rt.a)}}(function(rt){return{x:1.0478112*rt.x+.0228866*rt.y+-.050127*rt.z,y:.0295424*rt.x+.9904844*rt.y+-.0170491*rt.z,z:-.0092345*rt.x+.0150436*rt.y+.7521316*rt.z,a:rt.a}}({x:100*(.4124564*et+.3575761*tt+.1804375*nt),y:100*(.2126729*et+.7151522*tt+.072175*nt),z:100*(.0193339*et+.119192*tt+.9503041*nt),a:_e.a}))},w$1=216/24389,b$1=24389/27,i$1=function(_e){var et=_e.l,tt=_e.a,nt=_e.b,rt=_e.alpha,it=rt===void 0?1:rt;if(!a$1(et)||!a$1(tt)||!a$1(nt))return null;var ot=function(at){return{l:o$1(at.l,0,400),a:at.a,b:at.b,alpha:o$1(at.alpha)}}({l:Number(et),a:Number(tt),b:Number(nt),alpha:Number(it)});return l$1(ot)},l$1=function(_e){var et=(_e.l+16)/116,tt=_e.a/500+et,nt=et-_e.b/200;return u$1({x:(Math.pow(tt,3)>w$1?Math.pow(tt,3):(116*tt-16)/b$1)*n$1,y:(_e.l>8?Math.pow((_e.l+16)/116,3):_e.l/b$1)*p$1,z:(Math.pow(nt,3)>w$1?Math.pow(nt,3):(116*nt-16)/b$1)*M$1,a:_e.alpha})};function labPlugin(_e,et){_e.prototype.toLab=function(){return nt=e(this.rgba),it=nt.y/p$1,ot=nt.z/M$1,rt=(rt=nt.x/n$1)>w$1?Math.cbrt(rt):(b$1*rt+16)/116,tt={l:116*(it=it>w$1?Math.cbrt(it):(b$1*it+16)/116)-16,a:500*(rt-it),b:200*(it-(ot=ot>w$1?Math.cbrt(ot):(b$1*ot+16)/116)),alpha:nt.a},{l:t$1(tt.l,2),a:t$1(tt.a,2),b:t$1(tt.b,2),alpha:t$1(tt.alpha,3)};var tt,nt,rt,it,ot},_e.prototype.delta=function(tt){tt===void 0&&(tt="#FFF");var nt=tt instanceof _e?tt:new _e(tt),rt=function(it,ot){var at=it.l,st=it.a,lt=it.b,ut=ot.l,ct=ot.a,ft=ot.b,dt=180/Math.PI,ht=Math.PI/180,mt=Math.pow(Math.pow(st,2)+Math.pow(lt,2),.5),yt=Math.pow(Math.pow(ct,2)+Math.pow(ft,2),.5),pt=(at+ut)/2,vt=Math.pow((mt+yt)/2,7),gt=.5*(1-Math.pow(vt/(vt+Math.pow(25,7)),.5)),xt=st*(1+gt),wt=ct*(1+gt),bt=Math.pow(Math.pow(xt,2)+Math.pow(lt,2),.5),St=Math.pow(Math.pow(wt,2)+Math.pow(ft,2),.5),kt=(bt+St)/2,Rt=xt===0&&lt===0?0:Math.atan2(lt,xt)*dt,Et=wt===0&&ft===0?0:Math.atan2(ft,wt)*dt;Rt<0&&(Rt+=360),Et<0&&(Et+=360);var At=Et-Rt,Tt=Math.abs(Et-Rt);Tt>180&&Et<=Rt?At+=360:Tt>180&&Et>Rt&&(At-=360);var It=Rt+Et;Tt<=180?It/=2:It=(Rt+Et<360?It+360:It-360)/2;var _t=1-.17*Math.cos(ht*(It-30))+.24*Math.cos(2*ht*It)+.32*Math.cos(ht*(3*It+6))-.2*Math.cos(ht*(4*It-63)),Pt=ut-at,Zt=St-bt,Ht=2*Math.sin(ht*At/2)*Math.pow(bt*St,.5),zt=1+.015*Math.pow(pt-50,2)/Math.pow(20+Math.pow(pt-50,2),.5),jt=1+.045*kt,Wt=1+.015*kt*_t,Nt=30*Math.exp(-1*Math.pow((It-275)/25,2)),Lt=-2*Math.pow(vt/(vt+Math.pow(25,7)),.5)*Math.sin(2*ht*Nt);return Math.pow(Math.pow(Pt/1/zt,2)+Math.pow(Zt/1/jt,2)+Math.pow(Ht/1/Wt,2)+Lt*Zt*Ht/(1*jt*1*Wt),.5)}(this.toLab(),nt.toLab())/100;return o$1(t$1(rt,3))},et.object.push([i$1,"lab"])}k$1([labPlugin]);function formatReferenceForMlr(_e,et){const tt={r:[],g:[],b:[]};for(let nt of _e)tt.r.push([nt.r/et]),tt.g.push([nt.g/et]),tt.b.push([nt.b/et]);return tt}function formatInputForMlr(_e,et){const tt=[];for(let nt of _e)tt.push(getRegressionVariables(nt.r,nt.g,nt.b,et));return tt}function correctColor(_e,et,tt){if(checkProcessable(_e,{colorModel:["RGB","RGBA"]}),et.length!==tt.length)throw new RangeError("number of measured colors and reference colors must be the same");const nt=formatInputForMlr(et,_e.maxValue),rt=formatReferenceForMlr(tt,_e.maxValue),it=new MultivariateLinearRegression(nt,rt.r),ot=new MultivariateLinearRegression(nt,rt.g),at=new MultivariateLinearRegression(nt,rt.b),st=Image.createFrom(_e);for(let lt=0;lt<_e.height;lt++)for(let ut=0;ut<_e.width;ut++){const ct=_e.getPixel(ut,lt),ft=getRegressionVariables(ct[0],ct[1],ct[2],_e.maxValue),dt=getClamp(_e),ht=[0,0,0],mt=it.predict(ft)[0]*_e.maxValue,yt=ot.predict(ft)[0]*_e.maxValue,pt=at.predict(ft)[0]*_e.maxValue;ht[0]=dt(mt),ht[1]=dt(yt),ht[2]=dt(pt),_e.alpha&&(ht[3]=_e.getValue(ut,lt,3)),st.setPixel(ut,lt,ht)}return st}function getRegressionVariables(_e,et,tt,nt){return _e/=nt,et/=nt,tt/=nt,[_e,et,tt,_e**2,et**2,tt**2,_e**3,et**3,tt**3,_e*et,_e*tt,tt*et]}function line$1(_e,et,tt,nt,rt){for(var it=Math.abs(tt-_e),ot=_e<tt?1:-1,at=-Math.abs(nt-et),st=et<nt?1:-1,lt=it+at,ut;;){if(rt(_e,et),ut=2*lt,ut>=at){if(_e===tt)break;lt+=at,_e+=ot}if(ut<=it){if(et===nt)break;lt+=it,et+=st}}}function circle(_e,et,tt,nt){var rt=-tt,it=0,ot=2-2*tt;do nt(_e-rt,et+it),nt(_e-it,et-rt),nt(_e+rt,et-it),nt(_e+it,et+rt),tt=ot,tt<=it&&(ot+=++it*2+1),(tt>rt||ot>it)&&(ot+=++rt*2+1);while(rt<0)}function getDefaultColor(_e){switch(_e.colorModel){case"GREY":return[0];case"GREYA":return[0,_e.maxValue];case"RGB":return[0,0,0];case"RGBA":return[0,0,0,_e.maxValue];case"BINARY":return[1];default:assert(!1,`invalid image color model: ${_e.colorModel}`)}}function drawCircleOnImage(_e,et,tt,nt={}){const rt=getOutputImage(_e,nt,{clone:!0}),{color:it=getDefaultColor(rt),fill:ot}=nt;if(validateColor(it,rt),checkProcessable(rt,{bitDepth:[8,16]}),!Number.isInteger(tt))throw new TypeError("circle radius must be an integer");if(tt<0)throw new RangeError("circle radius must be positive");return tt===0?(rt.setVisiblePixel(et.column,et.row,it),rt):(ot?(tt===1&&rt.setVisiblePixel(et.column,et.row,ot),circle(et.column,et.row,tt,(at,st)=>{rt.setVisiblePixel(at,st,it),at-1>et.column?rt.drawLine({row:st,column:at-1},{row:st,column:et.column},{strokeColor:ot,out:rt}):at+1<et.column&&rt.drawLine({row:st,column:at+1},{row:st,column:et.column},{strokeColor:ot,out:rt})})):circle(et.column,et.row,tt,(at,st)=>{rt.setVisiblePixel(at,st,it)}),rt)}function drawLineOnImage(_e,et,tt,nt={}){const rt=getOutputImage(_e,nt,{clone:!0}),{strokeColor:it=getDefaultColor(rt),origin:ot={column:0,row:0}}=nt;return validateColor(it,rt),checkProcessable(rt,{bitDepth:[8,16]}),line$1(Math.round(ot.column+et.column),Math.round(ot.row+et.row),Math.round(ot.column+tt.column),Math.round(ot.row+tt.row),(at,st)=>{rt.setVisiblePixel(at,st,it)}),rt}function drawLineOnMask(_e,et,tt,nt={}){const{origin:rt={column:0,row:0}}=nt,it=maskToOutputMask(_e,nt,{clone:!0});return line$1(Math.round(rt.column+et.column),Math.round(rt.row+et.row),Math.round(rt.column+tt.column),Math.round(rt.row+tt.row),(ot,at)=>{it.setVisiblePixel(ot,at,[1])}),it}function drawPolylineOnImage(_e,et,tt={}){const{strokeColor:nt=getDefaultColor(_e),origin:rt={column:0,row:0}}=tt;checkProcessable(_e,{bitDepth:[8,16]});let it=getOutputImage(_e,tt,{clone:!0});validateColor(nt,it);for(let ot=0;ot<et.length-1;ot++){const at=et[ot],st=et[ot+1];it.drawLine(at,st,{out:it,strokeColor:nt,origin:rt})}return it}function drawPolylineOnMask(_e,et,tt={}){let nt=maskToOutputMask(_e,tt,{clone:!0});for(let rt=0;rt<et.length-1;rt++){const it=et[rt],ot=et[rt+1];nt.drawLine(it,ot,{out:nt,origin:tt.origin})}return nt}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(_e,et,tt){var nt=_e*et,rt=SPLITTER*_e,it=rt-_e,ot=rt-it,at=_e-ot,st=SPLITTER*et,lt=st-et,ut=st-lt,ct=et-ut,ft=nt-ot*ut,dt=ft-at*ut,ht=dt-ot*ct,mt=at*ct-ht;return tt?(tt[0]=mt,tt[1]=nt,tt):[mt,nt]}var robustSum=linearExpansionSum;function scalarScalar$1(_e,et){var tt=_e+et,nt=tt-_e,rt=tt-nt,it=et-nt,ot=_e-rt,at=ot+it;return at?[at,tt]:[tt]}function linearExpansionSum(_e,et){var tt=_e.length|0,nt=et.length|0;if(tt===1&&nt===1)return scalarScalar$1(_e[0],et[0]);var rt=tt+nt,it=new Array(rt),ot=0,at=0,st=0,lt=Math.abs,ut=_e[at],ct=lt(ut),ft=et[st],dt=lt(ft),ht,mt;ct<dt?(mt=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(mt=ft,st+=1,st<nt&&(ft=et[st],dt=lt(ft))),at<tt&&ct<dt||st>=nt?(ht=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(ht=ft,st+=1,st<nt&&(ft=et[st],dt=lt(ft)));for(var yt=ht+mt,pt=yt-ht,vt=mt-pt,gt=vt,xt=yt,wt,bt,St,kt,Rt;at<tt&&st<nt;)ct<dt?(ht=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(ht=ft,st+=1,st<nt&&(ft=et[st],dt=lt(ft))),mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt;for(;at<tt;)ht=ut,mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt,at+=1,at<tt&&(ut=_e[at]);for(;st<nt;)ht=ft,mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt,st+=1,st<nt&&(ft=et[st]);return gt&&(it[ot++]=gt),xt&&(it[ot++]=xt),ot||(it[ot++]=0),it.length=ot,it}var twoSum$1=fastTwoSum;function fastTwoSum(_e,et,tt){var nt=_e+et,rt=nt-_e,it=nt-rt,ot=et-rt,at=_e-it;return tt?(tt[0]=at+ot,tt[1]=nt,tt):[at+ot,nt]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(_e,et){var tt=_e.length;if(tt===1){var nt=twoProduct(_e[0],et);return nt[0]?nt:[nt[1]]}var rt=new Array(2*tt),it=[.1,.1],ot=[.1,.1],at=0;twoProduct(_e[0],et,it),it[0]&&(rt[at++]=it[0]);for(var st=1;st<tt;++st){twoProduct(_e[st],et,ot);var lt=it[1];twoSum(lt,ot[0],it),it[0]&&(rt[at++]=it[0]);var ut=ot[1],ct=it[1],ft=ut+ct,dt=ft-ut,ht=ct-dt;it[1]=ft,ht&&(rt[at++]=ht)}return it[1]&&(rt[at++]=it[1]),at===0&&(rt[at++]=0),rt.length=at,rt}var robustDiff=robustSubtract;function scalarScalar(_e,et){var tt=_e+et,nt=tt-_e,rt=tt-nt,it=et-nt,ot=_e-rt,at=ot+it;return at?[at,tt]:[tt]}function robustSubtract(_e,et){var tt=_e.length|0,nt=et.length|0;if(tt===1&&nt===1)return scalarScalar(_e[0],-et[0]);var rt=tt+nt,it=new Array(rt),ot=0,at=0,st=0,lt=Math.abs,ut=_e[at],ct=lt(ut),ft=-et[st],dt=lt(ft),ht,mt;ct<dt?(mt=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(mt=ft,st+=1,st<nt&&(ft=-et[st],dt=lt(ft))),at<tt&&ct<dt||st>=nt?(ht=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(ht=ft,st+=1,st<nt&&(ft=-et[st],dt=lt(ft)));for(var yt=ht+mt,pt=yt-ht,vt=mt-pt,gt=vt,xt=yt,wt,bt,St,kt,Rt;at<tt&&st<nt;)ct<dt?(ht=ut,at+=1,at<tt&&(ut=_e[at],ct=lt(ut))):(ht=ft,st+=1,st<nt&&(ft=-et[st],dt=lt(ft))),mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt;for(;at<tt;)ht=ut,mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt,at+=1,at<tt&&(ut=_e[at]);for(;st<nt;)ht=ft,mt=gt,yt=ht+mt,pt=yt-ht,vt=mt-pt,vt&&(it[ot++]=vt),wt=xt+yt,bt=wt-xt,St=wt-bt,kt=yt-bt,Rt=xt-St,gt=Rt+kt,xt=wt,st+=1,st<nt&&(ft=-et[st]);return gt&&(it[ot++]=gt),xt&&(it[ot++]=xt),ot||(it[ot++]=0),it.length=ot,it}(function(_e){var et=twoProduct_1,tt=robustSum,nt=robustScale,rt=robustDiff,it=5,ot=11102230246251565e-32,at=(3+16*ot)*ot,st=(7+56*ot)*ot;function lt(gt,xt,wt,bt){return function(kt,Rt,Et){var At=gt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0]))),Tt=gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),It=bt(At,Tt);return It[It.length-1]}}function ut(gt,xt,wt,bt){return function(kt,Rt,Et,At){var Tt=gt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),Rt[2]),gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),-Et[2]),wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),At[2]))),gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),At[2])))),It=gt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Et[2]),wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),At[2]))),gt(wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),Et[2])))),_t=bt(Tt,It);return _t[_t.length-1]}}function ct(gt,xt,wt,bt){return function(kt,Rt,Et,At,Tt){var It=gt(gt(gt(wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Et[2]),gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),-At[2]),wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),Tt[2]))),Rt[3]),gt(wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Rt[2]),gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),-At[2]),wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),Tt[2]))),-Et[3]),wt(gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),Rt[2]),gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),-Et[2]),wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),Tt[2]))),At[3]))),gt(wt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),Rt[2]),gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),-Et[2]),wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),At[2]))),-Tt[3]),gt(wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Rt[2]),gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),-At[2]),wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),Tt[2]))),kt[3]),wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-At[2]),wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),Tt[2]))),-Rt[3])))),gt(gt(wt(gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),Tt[2]))),At[3]),gt(wt(gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),At[2]))),-Tt[3]),wt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),Rt[2]),gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),-Et[2]),wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),At[2]))),kt[3]))),gt(wt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Et[2]),wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),At[2]))),-Rt[3]),gt(wt(gt(wt(gt(xt(Rt[1],At[0]),xt(-At[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),At[2]))),Et[3]),wt(gt(wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),Et[2]))),-At[3]))))),_t=gt(gt(gt(wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Et[2]),gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),-At[2]),wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),Tt[2]))),kt[3]),wt(gt(wt(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-At[2]),wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),Tt[2]))),-Et[3])),gt(wt(gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-Et[2]),wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),Tt[2]))),At[3]),wt(gt(wt(gt(xt(Et[1],At[0]),xt(-At[1],Et[0])),kt[2]),gt(wt(gt(xt(kt[1],At[0]),xt(-At[1],kt[0])),-Et[2]),wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),At[2]))),-Tt[3]))),gt(gt(wt(gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),Rt[2]),gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),-Et[2]),wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),Tt[2]))),kt[3]),wt(gt(wt(gt(xt(Et[1],Tt[0]),xt(-Tt[1],Et[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-Et[2]),wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),Tt[2]))),-Rt[3])),gt(wt(gt(wt(gt(xt(Rt[1],Tt[0]),xt(-Tt[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],Tt[0]),xt(-Tt[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),Tt[2]))),Et[3]),wt(gt(wt(gt(xt(Rt[1],Et[0]),xt(-Et[1],Rt[0])),kt[2]),gt(wt(gt(xt(kt[1],Et[0]),xt(-Et[1],kt[0])),-Rt[2]),wt(gt(xt(kt[1],Rt[0]),xt(-Rt[1],kt[0])),Et[2]))),-Tt[3])))),Pt=bt(It,_t);return Pt[Pt.length-1]}}function ft(gt){var xt=gt===3?lt:gt===4?ut:ct;return xt(tt,et,nt,rt)}var dt=ft(3),ht=ft(4),mt=[function(){return 0},function(){return 0},function(xt,wt){return wt[0]-xt[0]},function(xt,wt,bt){var St=(xt[1]-bt[1])*(wt[0]-bt[0]),kt=(xt[0]-bt[0])*(wt[1]-bt[1]),Rt=St-kt,Et;if(St>0){if(kt<=0)return Rt;Et=St+kt}else if(St<0){if(kt>=0)return Rt;Et=-(St+kt)}else return Rt;var At=at*Et;return Rt>=At||Rt<=-At?Rt:dt(xt,wt,bt)},function(xt,wt,bt,St){var kt=xt[0]-St[0],Rt=wt[0]-St[0],Et=bt[0]-St[0],At=xt[1]-St[1],Tt=wt[1]-St[1],It=bt[1]-St[1],_t=xt[2]-St[2],Pt=wt[2]-St[2],Zt=bt[2]-St[2],Ht=Rt*It,zt=Et*Tt,jt=Et*At,Wt=kt*It,Nt=kt*Tt,Lt=Rt*At,Jt=_t*(Ht-zt)+Pt*(jt-Wt)+Zt*(Nt-Lt),qt=(Math.abs(Ht)+Math.abs(zt))*Math.abs(_t)+(Math.abs(jt)+Math.abs(Wt))*Math.abs(Pt)+(Math.abs(Nt)+Math.abs(Lt))*Math.abs(Zt),Kt=st*qt;return Jt>Kt||-Jt>Kt?Jt:ht(xt,wt,bt,St)}];function yt(gt){var xt=mt[gt.length];return xt||(xt=mt[gt.length]=ft(gt.length)),xt.apply(void 0,gt)}function pt(gt,xt,wt,bt,St,kt,Rt){return function(At,Tt,It,_t,Pt){switch(arguments.length){case 0:case 1:return 0;case 2:return bt(At,Tt);case 3:return St(At,Tt,It);case 4:return kt(At,Tt,It,_t);case 5:return Rt(At,Tt,It,_t,Pt)}for(var Zt=new Array(arguments.length),Ht=0;Ht<arguments.length;++Ht)Zt[Ht]=arguments[Ht];return gt(Zt)}}function vt(){for(;mt.length<=it;)mt.push(ft(mt.length));_e.exports=pt.apply(void 0,[yt].concat(mt));for(var gt=0;gt<=it;++gt)_e.exports[gt]=mt[gt]}vt()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(_e,et){for(var tt=et[0],nt=et[1],rt=_e.length,it=1,ot=rt,at=0,st=rt-1;at<ot;st=at++){var lt=_e[at],ut=_e[st],ct=lt[1],ft=ut[1];if(ft<ct){if(ft<nt&&nt<ct){var dt=orient(lt,ut,et);if(dt===0)return 0;it^=0<dt|0}else if(nt===ct){var ht=_e[(at+1)%rt],mt=ht[1];if(ct<mt){var dt=orient(lt,ut,et);if(dt===0)return 0;it^=0<dt|0}}}else if(ct<ft){if(ct<nt&&nt<ft){var dt=orient(lt,ut,et);if(dt===0)return 0;it^=dt<0|0}else if(nt===ct){var ht=_e[(at+1)%rt],mt=ht[1];if(mt<ct){var dt=orient(lt,ut,et);if(dt===0)return 0;it^=dt<0|0}}}else if(nt===ct){var yt=Math.min(lt[0],ut[0]),pt=Math.max(lt[0],ut[0]);if(at===0){for(;st>0;){var vt=(st+rt-1)%rt,gt=_e[vt];if(gt[1]!==nt)break;var xt=gt[0];yt=Math.min(yt,xt),pt=Math.max(pt,xt),st=vt}if(st===0)return yt<=tt&&tt<=pt?0:1;ot=st+1}for(var wt=_e[(st+rt-1)%rt][1];at+1<ot;){var gt=_e[at+1];if(gt[1]!==nt)break;var xt=gt[0];yt=Math.min(yt,xt),pt=Math.max(pt,xt),at+=1}if(yt<=tt&&tt<=pt)return 0;var bt=_e[(at+1)%rt][1];tt<yt&&wt<nt!=bt<nt&&(it^=1)}}return 2*it-1}const robustPointInPolygon$1=getDefaultExportFromCjs(robustPnp);function arrayPointsToObjects(_e){let et=[];for(let tt of _e)et.push([tt.column,tt.row]);return et}function deleteDuplicates(_e){const et=[];for(let tt=0;tt<_e.length;tt++)_e[tt].column===_e[(tt+1)%_e.length].column&&_e[tt].row===_e[(tt+1)%_e.length].row||et.push(_e[tt]);return et}function drawPolygonOnImage(_e,et,tt={}){const{fillColor:nt,origin:rt={column:0,row:0},...it}=tt;checkProcessable(_e,{bitDepth:[8,16]});let ot=getOutputImage(_e,tt,{clone:!0});if(nt===void 0)return ot.drawPolyline([...et,et[0]],{origin:rt,...it});{validateColor(nt,ot);const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let lt=0;lt<ot.height;lt++)for(let ut=0;ut<ot.width;ut++)robustPointInPolygon$1(st,[ut,lt])===-1&&ot.setPixel(rt.column+ut,rt.row+lt,nt)}return ot.drawPolyline([...et,et[0]],{origin:rt,...it})}function drawPolygonOnMask(_e,et,tt={}){const{filled:nt=!1,origin:rt={column:0,row:0},...it}=tt;let ot=maskToOutputMask(_e,tt,{clone:!0});if(!nt)return ot.drawPolyline([...et,et[0]],{origin:rt,...it});const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let lt=0;lt<ot.height;lt++)for(let ut=0;ut<ot.width;ut++)robustPointInPolygon$1(st,[ut,lt])===-1&&ot.setBit(rt.column+ut,rt.row+lt,1);return ot.drawPolyline([...et,et[0]],{origin:rt,...it})}function drawRectangle(_e,et={}){const{origin:tt={column:0,row:0},width:nt=_e.width,height:rt=_e.height,strokeColor:it=getDefaultColor(_e),fillColor:ot="none"}=et,{column:at,row:st}=tt;let lt;if(_e instanceof Image?(checkProcessable(_e,{bitDepth:[8,16]}),lt=getOutputImage(_e,et,{clone:!0})):lt=maskToOutputMask(_e,et,{clone:!0}),it!=="none"){for(let ut=at;ut<at+nt;ut++)lt.setVisiblePixel(ut,st,it),lt.setVisiblePixel(ut,st+rt-1,it);for(let ut=st+1;ut<st+rt-1;ut++)lt.setVisiblePixel(at,ut,it),lt.setVisiblePixel(at+nt-1,ut,it)}if(ot!=="none")for(let ut=st+1;ut<st+rt-1;ut++)for(let ct=at+1;ct<at+nt-1;ct++)lt.setVisiblePixel(ct,ut,ot),lt.setVisiblePixel(ct,ut,ot);return lt}function drawPoints(_e,et,tt={}){const{color:nt=getDefaultColor(_e),origin:rt={row:0,column:0}}=tt;let it;_e instanceof Image?(it=getOutputImage(_e,tt,{clone:!0}),validateColor(nt,it)):it=maskToOutputMask(_e,tt,{clone:!0}),checkProcessable(it,{bitDepth:[1,8,16]});for(const ot of et)it.setVisiblePixel(rt.column+ot.column,rt.row+ot.row,nt);return it}function drawMarker(_e,et,tt){const nt=getOutputImage(_e,tt,{clone:!0}),{color:rt=getDefaultColor(nt),filled:it=!1,shape:ot="cross",size:at=1}=tt;if(validateColor(rt,nt),checkProcessable(nt,{bitDepth:[8,16]}),ot==="circle"&&nt.drawCircle(et,at,{color:rt,fill:it?rt:void 0,out:nt}),ot==="triangle"){const st=[{row:et.row-at,column:et.column},{row:et.row,column:et.column+at},{row:et.row,column:et.column-at}];nt.drawPolygon(st,{strokeColor:rt,fillColor:it?rt:void 0,out:nt})}if(ot==="cross"&&(nt.drawLine({row:et.row-at,column:et.column},{row:et.row+at,column:et.column},{strokeColor:rt,out:nt}),nt.drawLine({row:et.row,column:et.column-at},{row:et.row,column:et.column+at},{strokeColor:rt,out:nt})),ot==="square"){const st={row:Math.floor(et.row-at/2),column:Math.floor(et.column-at/2)};nt.drawRectangle({origin:st,width:at,height:at,strokeColor:rt,fillColor:it?rt:void 0,out:nt})}return nt}function drawMarkers(_e,et,tt={}){const nt=getOutputImage(_e,tt,{clone:!0});for(const rt of et)drawMarker(nt,rt,{...tt,out:nt});return nt}function getBorderInterpolation(_e,et){switch(_e){case"constant":return getInterpolateConstant(et);case"replicate":return interpolateReplicate;case"reflect":return interpolateReflect;case"reflect101":return interpolateReflect101;case"wrap":return interpolateWrap;default:throw new RangeError(`invalid border type: ${_e}`)}}function checkRange(_e,et){if(_e<=0-et||_e>=et+et-1)throw new RangeError("border must be smaller than the original image")}function getInterpolateConstant(_e){return function(tt,nt,rt,it){const ot=interpolateConstantPoint(tt,it.width),at=interpolateConstantPoint(nt,it.height);return ot===-1||at===-1?_e:it.getValue(ot,at,rt)}}function interpolateConstantPoint(_e,et){return _e>=0&&_e<et?_e:-1}function interpolateReplicate(_e,et,tt,nt){return nt.getValue(interpolateReplicatePoint(_e,nt.width),interpolateReplicatePoint(et,nt.height),tt)}function interpolateReplicatePoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0:et-1)}function interpolateReflect(_e,et,tt,nt){return nt.getValue(interpolateReflectPoint(_e,nt.width),interpolateReflectPoint(et,nt.height),tt)}function interpolateReflectPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?-1-_e:et+et-1-_e)}function interpolateWrap(_e,et,tt,nt){return nt.getValue(interpolateWrapPoint(_e,nt.width),interpolateWrapPoint(et,nt.height),tt)}function interpolateWrapPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?et+_e:_e-et)}function interpolateReflect101(_e,et,tt,nt){return nt.getValue(interpolateReflect101Point(_e,nt.width),interpolateReflect101Point(et,nt.height),tt)}function interpolateReflect101Point(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0-_e:et+et-2-_e)}function round(_e){const et=Math.trunc(_e),tt=_e-et;return tt<.5?et:tt>.5?et+1:et%2===0?et:et+1}function getInterpolationFunction(_e){switch(_e){case"nearest":return interpolateNearest;case"bilinear":return interpolateBilinear;case"bicubic":return interpolateBicubic;default:throw new RangeError(`invalid interpolationType: ${_e}`)}}function interpolateNearest(_e,et,tt,nt,rt){return et=Math.round(et),tt=Math.round(tt),rt(et,tt,nt,_e)}function interpolateBilinear(_e,et,tt,nt,rt){const it=Math.floor(et),ot=Math.floor(tt),at=it+1,st=ot+1;if(at<_e.width&&st<_e.height&&it>=0&&ot>=0){const lt=_e.getValue(it,ot,nt),ut=_e.getValue(at,ot,nt),ct=_e.getValue(it,st,nt),ft=_e.getValue(at,st,nt),dt=(at-et)*lt+(et-it)*ut,ht=(at-et)*ct+(et-it)*ft;return round((st-tt)*dt+(tt-ot)*ht)}else{const lt=rt(it,ot,nt,_e),ut=rt(at,ot,nt,_e),ct=rt(it,st,nt,_e),ft=rt(at,st,nt,_e),dt=(at-et)*lt+(et-it)*ut,ht=(at-et)*ct+(et-it)*ft;return round((st-tt)*dt+(tt-ot)*ht)}}function interpolateBicubic(_e,et,tt,nt,rt,it){const ot=Math.floor(et),at=Math.floor(tt);if(ot===et&&at===tt)return rt(ot,at,nt,_e);const st=et-ot,lt=tt-at,ut=rt(ot-1,at-1,nt,_e),ct=rt(ot,at-1,nt,_e),ft=rt(ot+1,at-1,nt,_e),dt=rt(ot+2,at-1,nt,_e),ht=cubic(ut,ct,ft,dt,st),mt=rt(ot-1,at,nt,_e),yt=rt(ot,at,nt,_e),pt=rt(ot+1,at,nt,_e),vt=rt(ot+2,at,nt,_e),gt=cubic(mt,yt,pt,vt,st),xt=rt(ot-1,at+1,nt,_e),wt=rt(ot,at+1,nt,_e),bt=rt(ot+1,at+1,nt,_e),St=rt(ot+2,at+1,nt,_e),kt=cubic(xt,wt,bt,St,st),Rt=rt(ot-1,at+2,nt,_e),Et=rt(ot,at+2,nt,_e),At=rt(ot+1,at+2,nt,_e),Tt=rt(ot+2,at+2,nt,_e),It=cubic(Rt,Et,At,Tt,st);return round(it(cubic(ht,gt,kt,It,lt)))}function cubic(_e,et,tt,nt,rt){return et+.5*rt*(tt-_e+rt*(2*_e-5*et+4*tt-nt+rt*(3*(et-tt)+nt-_e)))}function resize(_e,et){const{interpolationType:tt="bilinear",borderType:nt="constant",borderValue:rt=0}=et,{width:it,height:ot}=checkOptions(_e,et),at=Image.createFrom(_e,{width:it,height:ot}),st=getInterpolationFunction(tt),lt=getBorderInterpolation(nt,rt),ut=getClamp(at),ct=(_e.width-1)/(it-1),ft=(_e.height-1)/(ot-1);for(let dt=0;dt<at.height;dt++)for(let ht=0;ht<at.width;ht++){const mt=ht*ct,yt=dt*ft;for(let pt=0;pt<at.channels;pt++){const vt=st(_e,mt,yt,pt,lt,ut);at.setValue(ht,dt,pt,vt)}}return at}function checkOptions(_e,et){const{width:tt,height:nt,xFactor:rt,yFactor:it,preserveAspectRatio:ot=!0}=et;if(tt===void 0&&nt===void 0&&rt===void 0&&it===void 0)throw new TypeError("at least one of the width, height, xFactor or yFactor options must be passed");let at,st;const lt=getSize$1(tt,rt,_e.width,ot),ut=getSize$1(nt,it,_e.height,ot);return lt===void 0?(assert(ut!==void 0),at=Math.round(ut*(_e.width/_e.height))):at=lt,ut===void 0?(assert(lt!==void 0),st=Math.round(lt*(_e.height/_e.width))):st=ut,{width:at,height:st,xFactor:rt??at/_e.width,yFactor:it??st/_e.height}}function getSize$1(_e,et,tt,nt){if(_e===void 0){if(et!==void 0)return Math.round(tt*et);if(!nt)return tt}else{if(et!==void 0)throw new TypeError("factor and size cannot be passed together");return _e}}function rotate$1(_e,et){const tt=et%180===0?_e.width:_e.height,nt=et%180===0?_e.height:_e.width,rt=Image.createFrom(_e,{width:tt,height:nt});if(et===90||et===-270)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)rt.setValue(rt.width-ot-1,it,at,_e.getValue(it,ot,at));else if(et===180||et===-180)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)rt.setValue(rt.width-it-1,rt.height-ot-1,at,_e.getValue(it,ot,at));else if(et===270||et===-90)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)rt.setValue(ot,rt.height-it-1,at,_e.getValue(it,ot,at));else throw new RangeError(`invalid angle: ${et}`);return rt}function transform(_e,et,tt={}){const{borderType:nt="constant",borderValue:rt=0,interpolationType:it="bilinear",fullImage:ot}=tt;let{width:at=_e.width,height:st=_e.height}=tt;if(ot){et=et.map(Et=>Et.slice()),et[0][2]=0,et[1][2]=0;const dt=[_e.getCoordinates("top-left"),_e.getCoordinates("top-right"),_e.getCoordinates("bottom-right"),_e.getCoordinates("bottom-left")];dt[1].column+=1,dt[2].column+=1,dt[2].row+=1,dt[3].row+=1;const ht=dt.map(Et=>[transformPoint(et[0],Et.column,Et.row),transformPoint(et[1],Et.column,Et.row)]),mt=ht.map(Et=>Et[0]),yt=ht.map(Et=>Et[1]),pt=Math.max(...mt),vt=Math.max(...yt),gt=Math.min(...mt),xt=Math.min(...yt),wt=[(_e.width-1)/2,(_e.height-1)/2];at=pt-gt,st=vt-xt;const bt=transformPoint(et[0],wt[0],wt[1]),St=transformPoint(et[1],wt[0],wt[1]),kt=(at-1)/2-bt,Rt=(st-1)/2-St;et[0][2]=kt,et[1][2]=Rt,at=Math.round(at),st=Math.round(st)}if(et.length!==2||et[0].length!==3||et[1].length!==3)throw new TypeError(`transformation matrix must be 2x3. Received ${et.length}x${et[1].length}`);tt.inverse||(et=[et[0],et[1],[0,0,1]],et=inverse(new Matrix(et)).to2DArray());const lt=Image.createFrom(_e,{width:at,height:st}),ut=getBorderInterpolation(nt,rt),ct=getClamp(lt),ft=getInterpolationFunction(it);for(let dt=0;dt<lt.height;dt++)for(let ht=0;ht<lt.width;ht++){const mt=transformPoint(et[0],ht,dt),yt=transformPoint(et[1],ht,dt);for(let pt=0;pt<lt.channels;pt++){const vt=ft(_e,mt,yt,pt,ut,ct);lt.setValue(ht,dt,pt,vt)}}return lt}function transformPoint(_e,et,tt){return _e[0]*et+_e[1]*tt+_e[2]}function transformRotate(_e,et,tt={}){const{center:nt="center",scale:rt=1,...it}=tt;let ot;typeof nt=="string"?ot=_e.getCoordinates(nt):ot=nt;const at=getRotationMatrix(et,ot,rt);return transform(_e,at,it)}function getRotationMatrix(_e,et,tt){const nt=_e*Math.PI/180,rt=tt*Math.cos(nt),it=tt*Math.sin(nt);return[[rt,it,(1-rt)*et.column-it*et.row],[-it,rt,it*et.column+(1-rt)*et.row]]}function checkKernel$1(_e){if(_e.length%2===0||_e[0].length%2===0)throw new TypeError("the number of rows and columns of the kernel must be odd")}function erode(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);let{kernel:nt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(nt);let it=!0;if(!tt){e:for(const at of nt)for(const st of at)if(st!==1){it=!1;break e}}let ot=_e;for(let at=0;at<rt;at++)if(ot instanceof Mask)if(it){const st=ot.clone();ot=erodeMaskOnlyOnes(ot,st,nt[0].length,nt.length)}else{const st=Mask.createFrom(_e);ot=erodeMask(ot,st,nt)}else if(it){const st=Image.createFrom(_e);ot=erodeGreyOnlyOnes(ot,st,nt[0].length,nt.length)}else{const st=Image.createFrom(_e);ot=erodeGrey(ot,st,nt)}return ot}function erodeGrey(_e,et,tt){const nt=tt[0].length,rt=tt.length;let it=(nt-1)/2,ot=(rt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ut=0;ut<rt;ut++)for(let ct=0;ct<nt;ct++){if(tt[ut][ct]!==1)continue;let ft=ct-it+st,dt=ut-ot+at;if(ft<0||dt<0||ft>=_e.width||dt>=_e.height)continue;const ht=_e.getValue(ft,dt,0);ht<lt&&(lt=ht)}et.setValue(st,at,0,lt)}return et}function erodeGreyOnlyOnes(_e,et,tt,nt){const rt=(tt-1)/2,it=(nt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ut=Math.max(0,at-it);ut<Math.min(_e.height,at+it+1);ut++){const ct=_e.getValue(st,ut,0);ct<lt&&(lt=ct)}ot[st]=lt}for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ut=Math.max(0,st-rt);ut<Math.min(_e.width,st+rt+1);ut++)ot[ut]<lt&&(lt=ot[ut]);et.setValue(st,at,0,lt)}}return et}function erodeMask(_e,et,tt){const nt=tt[0].length,rt=tt.length;let it=(nt-1)/2,ot=(rt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=1;for(let ut=0;ut<rt;ut++)for(let ct=0;ct<nt;ct++){if(tt[ut][ct]!==1)continue;let ft=ct-it+st,dt=ut-ot+at;if(dt<0||ft<0||ft>=_e.width||dt>=_e.height)continue;if(_e.getBit(ft,dt)===0){lt=0;break}}lt===1&&et.setBit(st,at,1)}return et}function erodeMaskOnlyOnes(_e,et,tt,nt){const rt=(tt-1)/2,it=(nt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){ot[st]=1;for(let lt=Math.max(0,at-it);lt<Math.min(_e.height,at+it+1);lt++)if(_e.getBit(st,lt)===0){ot[st]=0;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==0){for(let lt=Math.max(0,st-rt);lt<Math.min(_e.width,st+rt+1);lt++)if(ot[lt]===0){et.setBit(st,at,0);break}}}return et}function dilate(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);let{kernel:nt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(nt);let it=!0;if(!tt){e:for(const at of nt)for(const st of at)if(st!==1){it=!1;break e}}let ot=_e;for(let at=0;at<rt;at++)if(ot instanceof Mask)if(it){const st=ot.clone();ot=dilatMaskOnlyOnes(ot,st,nt[0].length,nt.length)}else{const st=Mask.createFrom(ot);ot=dilateMask(ot,st,nt)}else if(it){const st=Image.createFrom(ot);ot=dilateGreyOnlyOnes(ot,st,nt[0].length,nt.length)}else{const st=Image.createFrom(ot);ot=dilateGrey(ot,st,nt)}return ot}function dilateGrey(_e,et,tt){const nt=tt[0].length,rt=tt.length;let it=(nt-1)/2,ot=(rt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=0;for(let ut=0;ut<rt;ut++)for(let ct=0;ct<nt;ct++){if(tt[ut][ct]!==1)continue;let ft=ct-it+st,dt=ut-ot+at;if(ft<0||dt<0||ft>=_e.width||dt>=_e.height)continue;const ht=_e.getValue(ft,dt,0);ht>lt&&(lt=ht)}et.setValue(st,at,0,lt)}return et}function dilateGreyOnlyOnes(_e,et,tt,nt){const rt=(tt-1)/2,it=(nt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let lt=0;for(let ut=Math.max(0,at-it);ut<Math.min(_e.height,at+it+1);ut++){const ct=_e.getValue(st,ut,0);ct>lt&&(lt=ct)}ot[st]=lt}for(let st=0;st<_e.width;st++){let lt=0;for(let ut=Math.max(0,st-rt);ut<Math.min(_e.width,st+rt+1);ut++)ot[ut]>lt&&(lt=ot[ut]);et.setValue(st,at,0,lt)}}return et}function dilateMask(_e,et,tt){const nt=tt[0].length,rt=tt.length;let it=(nt-1)/2,ot=(rt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=0;for(let ut=0;ut<rt;ut++)for(let ct=0;ct<nt;ct++){if(tt[ut][ct]!==1)continue;let ft=ct-it+st,dt=ut-ot+at;if(dt<0||ft<0||ft>=_e.width||dt>=_e.height)continue;if(_e.getBit(ft,dt)===1){lt=1;break}}lt===1&&et.setBit(st,at,1)}return et}function dilatMaskOnlyOnes(_e,et,tt,nt){const rt=(tt-1)/2,it=(nt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(1);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){ot[st]=0;for(let lt=Math.max(0,at-it);lt<Math.min(_e.height,at+it+1);lt++)if(_e.getBit(st,lt)===1){ot[st]=1;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==1){for(let lt=Math.max(0,st-rt);lt<Math.min(_e.width,st+rt+1);lt++)if(ot[lt]===1){et.setBit(st,at,1);break}}}return et}function open(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(tt);let rt=_e;for(let it=0;it<nt;it++)rt=rt.erode({kernel:tt}),rt=rt.dilate({kernel:tt});return rt}function close(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(tt);let rt=_e;for(let it=0;it<nt;it++)rt=rt.dilate({kernel:tt}).erode({kernel:tt});return rt}function topHat(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(tt);let rt=_e;for(let it=0;it<nt;it++){let ot=rt.open({kernel:tt});rt=subtract(ot,rt,{absolute:!0})}return rt}function bottomHat(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(tt);let rt=_e;for(let it=0;it<nt;it++){let ot=rt.close({kernel:tt});rt=subtract(ot,rt,{absolute:!0})}return rt}function morphologicalGradient(_e,et={}){let{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel$1(tt);let rt=_e;for(let it=0;it<nt;it++){let ot=rt.dilate({kernel:tt}),at=rt.erode({kernel:tt});rt=subtract(ot,at,{absolute:!0})}return rt}function*borderIterator(_e){for(let et=0;et<_e.width;et++)yield et;for(let et=2;et<_e.height;et++)yield et*_e.width-1;for(let et=0;et<_e.width;et++)yield _e.width*_e.height-et-1;for(let et=_e.height-2;et>=1;et--)yield et*_e.width}const MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(_e,et={}){let{startPixels:tt=[0],startPixelValue:nt=0,newPixelValue:rt=1,allowCorners:it=!1}=et,ot=maskToOutputMask(_e,et,{clone:!0}),at=Mask.createFrom(_e),st=0,lt=0;for(let ct of tt)ot.getBitByIndex(ct)===nt&&(toProcess[lt++%MAX_ARRAY]=ct,at.setBitByIndex(ct,1),ot.setBitByIndex(ct,rt));for(;st<lt;){assert(lt-st<=MAX_ARRAY);const ct=toProcess[st++%MAX_ARRAY];ot.setBitByIndex(ct,rt);const ft=ct<_e.width,dt=ct%_e.width===0,ht=ct%_e.width===_e.width-1,mt=ct>_e.size-_e.width;if(!mt){const yt=ct+_e.width;ut(yt)}if(!dt){const yt=ct-1;ut(yt)}if(!ft){const yt=ct-_e.width;ut(yt)}if(!ht){const yt=ct+1;ut(yt)}if(it){if(!ft){if(!dt){const yt=ct-_e.width-1;ut(yt)}if(!ht){const yt=ct-_e.width+1;ut(yt)}}if(!mt){if(!dt){const yt=ct+_e.width-1;ut(yt)}if(!ht){const yt=ct+_e.width+1;ut(yt)}}}}function ut(ct){at.getBitByIndex(ct)||ot.getBitByIndex(ct)===nt&&(toProcess[lt++%MAX_ARRAY]=ct,at.setBitByIndex(ct,1))}return ot}function clearBorder(_e,et={}){let{allowCorners:tt=!1,out:nt,color:rt="white"}=et;return multipleFloodFill(_e,{startPixels:borderIterator(_e),startPixelValue:rt==="white"?1:0,newPixelValue:rt==="white"?0:1,allowCorners:tt,out:nt})}function getIndex(_e,et,tt,nt=0){return(et*tt.width+_e)*tt.channels+nt}const kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(_e,et={}){const{hysteresis:tt=!0,lowThreshold:nt=.04,highThreshold:rt=.1,gaussianBlurOptions:it={sigma:1}}=et,ot=nt*_e.maxValue,at=rt*_e.maxValue;checkProcessable(_e,{colorModel:"GREY"});const st=_e.width,lt=_e.height,ut=_e.gaussianBlur(it),ct=ut.rawDirectConvolution(kernelY),ft=ut.rawDirectConvolution(kernelX);let dt=new Float64Array(_e.size);for(let pt=0;pt<_e.size;pt++)dt[pt]=Math.hypot(ct[pt],ft[pt]);let ht=new Float64Array(_e.size),mt=new Float64Array(_e.size);const yt=imageToOutputMask(_e,et);for(let pt=1;pt<st-1;pt++)for(let vt=1;vt<lt-1;vt++){const gt=ct[getIndex(pt,vt,_e,0)],xt=ft[getIndex(pt,vt,_e,0)];let wt=getDirection(gt,xt);const bt=dt[getIndex(pt,vt,_e,0)];(wt===0&&bt>=dt[getIndex(pt,vt-1,_e,0)]&&bt>=dt[getIndex(pt,vt+1,_e,0)]||wt===1&&bt>=dt[getIndex(pt-1,vt-1,_e,0)]&&bt>=dt[getIndex(pt+1,vt+1,_e,0)]||wt===2&&bt>=dt[getIndex(pt-1,vt,_e,0)]&&bt>=dt[getIndex(pt+1,vt,_e,0)]||wt===3&&bt>=dt[getIndex(pt-1,vt+1,_e,0)]&&bt>=dt[getIndex(pt+1,vt-1,_e,0)])&&(ht[getIndex(pt,vt,_e,0)]=bt)}for(let pt=0;pt<st*lt;++pt){let vt=ht[pt],gt=0;vt>at&&(gt++,yt.setBitByIndex(pt,1)),vt>ot&&gt++,mt[pt]=gt}if(tt){let pt=[];for(let vt=1;vt<st-1;++vt)for(let gt=1;gt<lt-1;++gt)if(mt[getIndex(vt,gt,_e,0)]===1){e:for(let xt=vt-1;xt<vt+2;++xt)for(let wt=gt-1;wt<gt+2;++wt)if(mt[getIndex(xt,wt,_e,0)]===2){pt.push([vt,gt]),yt.setValue(vt,gt,0,1);break e}}for(;pt.length>0;){let vt=[];for(let gt of pt)for(let xt=-1;xt<2;++xt)for(let wt=-1;wt<2;++wt){if(xt===0&&wt===0)continue;let bt=gt[0]+xt,St=gt[1]+wt;mt[getIndex(St,bt,_e,0)]===1&&yt.getValue(St,bt,0)===0&&(vt.push([bt,St]),yt.setValue(St,bt,0,1))}pt=vt}}return yt}function getDirection(_e,et){return(Math.round(Math.atan2(et,_e)*(4/Math.PI))+4)%4}function floodFill(_e,et={}){let{origin:tt={row:0,column:0},allowCorners:nt=!1,out:rt}=et;const it=getIndex(tt.column,tt.row,_e);return multipleFloodFill(_e,{startPixels:[it],allowCorners:nt,out:rt})}function solidFill(_e,et={}){let{allowCorners:tt=!1}=et,nt=maskToOutputMask(_e,et,{clone:!0}),it=_e.invert().clearBorder({allowCorners:tt});return nt.or(it,{out:nt})}function convertColor(_e,et,tt={}){const nt=new Map([["GREY",["GREYA","RGB","RGBA"]],["GREYA",["GREY","RGB","RGBA"]],["RGB",["GREY","GREYA","RGBA"]],["RGBA",["GREY","GREYA","RGB"]],["BINARY",["GREY","RGB","RGBA"]]]);if(_e.colorModel===et)throw new TypeError(`cannot convert color, image is already ${et}`);const rt=nt.get(_e.colorModel);if(!(rt!=null&&rt.includes(et)))throw new RangeError(`conversion from ${_e.colorModel} to ${et} not implemented`);if(_e instanceof Image){const it=getOutputImage(_e,tt,{newParameters:{colorModel:et}});return(_e.colorModel==="GREY"||_e.colorModel==="GREYA")&&convertGreyToAny(_e,it),(_e.colorModel==="RGB"||_e.colorModel==="RGBA")&&(et==="RGB"||et==="RGBA"?convertRgbToRgb(_e,it):convertRgbToGrey(_e,it)),!_e.alpha&&it.alpha&&it.fillAlpha(it.maxValue),_e.alpha&&it.alpha&&copyAlpha(_e,it),it}else if(et==="GREY"){const it=maskToOutputImage(_e,tt);return convertBinaryToGrey(_e,it),it}else{const it=new Image(_e.width,_e.height,{colorModel:et});return convertBinaryToRgb(_e,it),it}}function copyAlpha(_e,et){if(_e.size!==et.size)throw new RangeError("source and destination have different sizes");if(!_e.alpha)throw new RangeError("source image does not have alpha");if(!et.alpha)throw new RangeError("destination does not have alpha");for(let tt=0;tt<et.size;tt++)et.setValueByIndex(tt,et.channels-1,_e.getValueByIndex(tt,_e.channels-1))}function convertGreyToAny(_e,et){for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.components;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,0))}function convertRgbToRgb(_e,et){for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<3;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt))}function convertRgbToGrey(_e,et){for(let tt=0;tt<_e.size;tt++){const nt=_e.getValueByIndex(tt,0),rt=_e.getValueByIndex(tt,1),it=_e.getValueByIndex(tt,2);et.setValueByIndex(tt,0,Math.round(.299*nt+.587*rt+.114*it))}}function convertBinaryToGrey(_e,et){for(let tt=0;tt<_e.size;tt++)et.setValueByIndex(tt,0,_e.getBitByIndex(tt)?et.maxValue:0)}function convertBinaryToRgb(_e,et){const tt=new Array(et.components).fill(0),nt=new Array(et.components).fill(et.maxValue);et.alpha&&(tt.push(et.maxValue),nt.push(et.maxValue));for(let rt=0;rt<_e.size;rt++)et.setPixelByIndex(rt,_e.getBitByIndex(rt)?nt:tt)}function convertBitDepth(_e,et){if(_e.bitDepth===et)throw new RangeError("cannot convert image to same bitDepth");return et===16?convertToUint16(_e):convertToUint8(_e)}function convertToUint16(_e){const et=new Image(_e.width,_e.height,{bitDepth:16,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.channels;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt)<<8);return et}function convertToUint8(_e){const et=new Image(_e.width,_e.height,{bitDepth:8,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let nt=0;nt<et.channels;nt++)et.setValueByIndex(tt,nt,_e.getValueByIndex(tt,nt)>>8);return et}function extract(_e,et,tt={}){const{origin:nt={row:0,column:0}}=tt,{row:rt,column:it}=nt;assert(rt<_e.height&&it<_e.width&&rt+et.width>0&&it+et.height>0,"extract: image and mask have no overlap");const ot=Math.min(_e.width,et.width+it)-Math.max(0,it),at=Math.min(_e.height,et.height+rt)-Math.max(0,rt);let st=new Image(ot,at,{colorModel:_e.colorModel,origin:nt});st.alpha&&(st=st.fillAlpha(0));const lt=Math.max(0,rt),ut=Math.max(0,it),ct=rt<0?-rt:0,ft=it<0?-it:0;for(let dt=0;dt<at;dt++)for(let ht=0;ht<ot;ht++)et.getBit(ft+ht,ct+dt)&&st.setPixel(ht,dt,_e.getPixel(ut+ht,lt+dt));return st}function split(_e){const et=[];for(let tt=0;tt<_e.channels;tt++){const nt=Image.createFrom(_e,{colorModel:"GREY"});for(let rt=0;rt<nt.size;rt++)nt.setValueByIndex(rt,0,_e.getValueByIndex(rt,tt));et.push(nt)}return et}function huang(_e){let et=0;for(let ut=0;ut<_e.length;ut++)if(_e[ut]!==0){et=ut;break}let tt=_e.length-1;for(let ut=_e.length-1;ut>=et;ut--)if(_e[ut]!==0){tt=ut;break}const nt=1/(tt-et),rt=new Array(_e.length);let it=0,ot=0;for(let ut=et;ut<_e.length;ut++)it+=ut*_e[ut],ot+=_e[ut],rt[ut]=it/ot;const at=new Array(_e.length);it=0,ot=0;for(let ut=tt;ut>0;ut--)it+=ut*_e[ut],ot+=_e[ut],at[ut-1]=it/ot;let st=-1,lt=Number.MAX_VALUE;for(let ut=0;ut<_e.length;ut++){let ct=0,ft;for(let dt=0;dt<=ut;dt++)ft=1/(1+nt*Math.abs(dt-rt[ut])),ft<1e-6||ft>.999999||(ct+=_e[dt]*(-ft*Math.log(ft)-(1-ft)*Math.log(1-ft)));for(let dt=ut+1;dt<_e.length;dt++)ft=1/(1+nt*Math.abs(dt-at[ut])),ft<1e-6||ft>.999999||(ct+=_e[dt]*(-ft*Math.log(ft)-(1-ft)*Math.log(1-ft)));ct<lt&&(lt=ct,st=ut)}return st}function intermodes(_e){const et=_e.slice();let tt=0;for(;!bimodalTest$1(et);){let rt=0,it=0,ot=et[0];for(let at=0;at<_e.length-1;at++)rt=it,it=ot,ot=et[at+1],et[at]=(rt+it+ot)/3;et[_e.length-1]=(it+ot)/3,tt++,assert(tt<1e3,"Intermodes threshold not found after 1000 iterations")}let nt=0;for(let rt=1;rt<_e.length-1;rt++)et[rt-1]<et[rt]&&et[rt+1]<et[rt]&&(nt+=rt);return Math.floor(nt/2)}function bimodalTest$1(_e){let et=!1,tt=0;for(let nt=1;nt<_e.length-1;nt++)if(_e[nt-1]<_e[nt]&&_e[nt+1]<_e[nt]&&(tt++,tt>2))return!1;return tt===2&&(et=!0),et}function isodata(_e){let et,tt,nt,rt,it=0;for(let ot=1;ot<_e.length;ot++)if(_e[ot]>0){it=ot+1;break}for(;;){et=0,nt=0;for(let ot=0;ot<it;ot++)nt=nt+_e[ot],et=et+_e[ot]*ot;rt=0,tt=0;for(let ot=it+1;ot<_e.length;ot++)tt+=_e[ot],rt+=_e[ot]*ot;if(nt>0&&tt>0&&(et/=nt,rt/=tt,it===Math.round((et+rt)/2)))break;it++,assert(it<=_e.length-2,"Threshold not found")}return it}function li(_e,et){let tt,nt,rt,it,ot,at,st,lt,ut,ct,dt;ct=0;for(let ht=0;ht<_e.length;ht++)ct+=ht*_e[ht];ct/=et,st=ct;do{at=st,tt=at+.5|0,nt=0,it=0;for(let ht=0;ht<=tt;ht++)nt+=ht*_e[ht],it+=_e[ht];lt=it===0?0:nt/it,rt=0,ot=0;for(let ht=tt+1;ht<_e.length;ht++)rt+=ht*_e[ht],ot+=_e[ht];ut=ot===0?0:rt/ot,dt=(lt-ut)/(Math.log(lt)-Math.log(ut)),dt<-Number.EPSILON?st=dt-.5|0:st=dt+.5|0}while(Math.abs(st-at)>.5);return tt}function maxEntropy(_e,et){const tt=new Array(_e.length);for(let ft=0;ft<_e.length;ft++)tt[ft]=_e[ft]/et;const nt=new Array(_e.length),rt=new Array(_e.length);nt[0]=tt[0],rt[0]=1-nt[0];for(let ft=1;ft<_e.length;ft++)nt[ft]=nt[ft-1]+tt[ft],rt[ft]=1-nt[ft];let it=0;for(let ft=0;ft<_e.length;ft++)if(Math.abs(nt[ft])>=Number.EPSILON){it=ft;break}let ot=_e.length-1;for(let ft=_e.length-1;ft>=it;ft--)if(Math.abs(rt[ft])>=Number.EPSILON){ot=ft;break}let at=-1,st,lt=Number.MIN_VALUE,ut,ct;for(let ft=it;ft<=ot;ft++){ut=0;for(let dt=0;dt<=ft;dt++)_e[dt]!==0&&(ut-=tt[dt]/nt[ft]*Math.log(tt[dt]/nt[ft]));ct=0;for(let dt=ft+1;dt<_e.length;dt++)_e[dt]!==0&&(ct-=tt[dt]/rt[ft]*Math.log(tt[dt]/rt[ft]));st=ut+ct,lt<st&&(lt=st,at=ft)}return at}function mean(_e,et){let tt=0;for(let nt=0;nt<_e.length;nt++)tt+=nt*_e[nt];return Math.floor(tt/et)}function minError(_e,et){let tt,nt=-2,rt,it,ot,at,st,lt,ut,ct,ft,dt,ht,mt=0;for(let yt=0;yt<_e.length;yt++)mt+=yt*_e[yt];for(mt/=et,tt=mt;tt!==nt;){const yt=sumA(_e,tt),pt=sumA(_e,_e.length-1),vt=sumB(_e,tt),gt=sumB(_e,_e.length-1),xt=sumC(_e,tt),wt=sumC(_e,_e.length-1);if(rt=vt/yt,it=(gt-vt)/(pt-yt),ot=yt/pt,at=(pt-yt)/pt,st=xt/yt-rt*rt,lt=(wt-xt)/(pt-yt)-it*it,ut=1/st-1/lt,ct=rt/st-it/lt,ft=rt*rt/st-it*it/lt+Math.log10(st*(at*at)/(lt*(ot*ot))),dt=ct*ct-ut*ft,dt<0)return tt;nt=tt,ht=(ct+Math.sqrt(dt))/ut,Number.isNaN(ht)?tt=nt:tt=Math.floor(ht)}return tt}function sumA(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=_e[nt];return tt}function sumB(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=nt*_e[nt];return tt}function sumC(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=nt*nt*_e[nt];return tt}function minimum(_e){if(_e.length<2)return 0;let et=0,tt=-1,nt=-1,rt=new Array(_e.length);for(let it=0;it<_e.length;it++)rt[it]=_e[it],_e[it]>0&&(nt=it);for(;!bimodalTest(rt);)if(rt=smoothed(rt),et++,et>1e4)return tt;for(let it=1;it<nt;it++)if(rt[it-1]>rt[it]&&rt[it+1]>=rt[it]){tt=it;break}return tt}function smoothed(_e){const et=new Array(_e.length);for(let tt=1;tt<_e.length-1;tt++)et[tt]=(_e[tt-1]+_e[tt]+_e[tt+1])/3;return et[0]=(_e[0]+_e[1])/3,et[_e.length-1]=(_e.at(-2)+_e.at(-1))/3,et}function bimodalTest(_e){const et=_e.length;let tt=!1,nt=0;for(let rt=1;rt<et-1;rt++)if(_e[rt-1]<_e[rt]&&_e[rt+1]<_e[rt]&&(nt++,nt>2))return!1;return nt===2&&(tt=!0),tt}function moments(_e,et){let nt=0,rt=0,it=0,ot=0,at=-1;const st=_e.length,lt=new Array(st);for(let yt=0;yt<st;yt++)lt[yt]=_e[yt]/et;for(let yt=0;yt<st;yt++)nt+=yt*lt[yt],rt+=yt*yt*lt[yt],it+=yt*yt*yt*lt[yt];const ut=1*rt-nt*nt,ct=(-rt*rt+nt*it)/ut,ft=(1*-it+rt*nt)/ut,dt=.5*(-ft-Math.sqrt(ft*ft-4*ct)),ht=.5*(-ft+Math.sqrt(ft*ft-4*ct)),mt=(ht-nt)/(ht-dt);for(let yt=0;yt<st;yt++)if(ot+=lt[yt],ot>mt){at=yt;break}return at}function otsu(_e,et){let tt=0,nt=0,rt=0,it=0,ot=0;for(let at=0;at<_e.length;at++)ot+=at*_e[at];for(let at=0;at<_e.length;at++){nt=nt+_e[at];const st=et-nt;if(nt===0||st===0)continue;tt=tt+at*_e[at];const lt=(ot-tt)/st,ut=nt*st*(tt/nt-lt)*(tt/nt-lt);ut>=rt&&(it=at,rt=ut)}return it}function percentile(_e){let et=-1;const tt=.5,nt=new Array(_e.length),rt=partialSum(_e,_e.length-1);let it=1;for(let ot=0;ot<_e.length;ot++)nt[ot]=Math.abs(partialSum(_e,ot)/rt-tt),nt[ot]<it&&(it=nt[ot],et=ot);return et}function partialSum(_e,et){let tt=0;for(let nt=0;nt<=et;nt++)tt+=_e[nt];return tt}function renyiEntropy(_e,et){let tt,nt;const rt=new Array(_e.length),it=new Array(_e.length),ot=new Array(_e.length);let at=0,st=0,lt=0,ut=0,ct=0,ft=0;const ht=1/(1-.5),yt=1/(1-2);for(let wt=0;wt<_e.length;wt++)rt[wt]=_e[wt]/et;it[0]=rt[0],ot[0]=1-it[0];for(let wt=1;wt<_e.length;wt++)it[wt]=it[wt-1]+rt[wt],ot[wt]=1-it[wt];tt=0;for(let wt=0;wt<_e.length;wt++)if(Math.abs(it[wt])>=Number.EPSILON){tt=wt;break}nt=_e.length-1;for(let wt=_e.length-1;wt>=tt;wt--)if(Math.abs(ot[wt])>=Number.EPSILON){nt=wt;break}for(let wt=tt;wt<=nt;wt++){let bt=0,St=0,kt=0;for(let Pt=0;Pt<=wt;Pt++)_e[Pt]!==0&&(bt-=rt[Pt]/it[wt]*Math.log(rt[Pt]/it[wt])),St+=Math.sqrt(rt[Pt]/it[wt]),kt+=rt[Pt]*rt[Pt]/(it[wt]*it[wt]);let Rt=0,Et=0,At=0;for(let Pt=wt+1;Pt<_e.length;Pt++)_e[Pt]!==0&&(Rt-=rt[Pt]/ot[wt]*Math.log(rt[Pt]/ot[wt])),Et+=Math.sqrt(rt[Pt]/ot[wt]),At+=rt[Pt]*rt[Pt]/(ot[wt]*ot[wt]);const Tt=bt+Rt,It=ht*(St*Et>0?Math.log(St*Et):0),_t=yt*(kt*At>0?Math.log(kt*At):0);Tt>ut&&(ut=Tt,at=wt),It>ct&&(ct=It,st=wt),_t>ft&&(ft=_t,lt=wt)}const pt=new Uint32Array([at,st,lt]);pt.sort();let vt;Math.abs(pt[0]-pt[1])<=5?Math.abs(pt[1]-pt[2])<=5?vt=[1,2,1]:vt=[0,1,3]:Math.abs(pt[1]-pt[2])<=5?vt=[3,1,0]:vt=[1,2,1];const gt=it[pt[2]]-it[pt[0]];return Math.round(pt[0]*(it[pt[0]]+.25*gt*vt[0])+.25*pt[1]*gt*vt[1]+pt[2]*(ot[pt[2]]+.25*gt*vt[2]))}function shanbhag(_e,et){const tt=new Array(_e.length);for(let dt=0;dt<_e.length;dt++)tt[dt]=_e[dt]/et;const nt=new Array(_e.length),rt=new Array(_e.length);nt[0]=tt[0],rt[0]=1-nt[0];for(let dt=1;dt<_e.length;dt++)nt[dt]=nt[dt-1]+tt[dt],rt[dt]=1-nt[dt];let it=0;for(let dt=0;dt<_e.length;dt++)if(Math.abs(nt[dt])>=Number.EPSILON){it=dt;break}let ot=_e.length-1;for(let dt=_e.length-1;dt>=it;dt--)if(Math.abs(rt[dt])>=Number.EPSILON){ot=dt;break}let at=-1,st=Number.MAX_VALUE,lt,ut,ct,ft;for(let dt=it;dt<=ot;dt++){ct=0,lt=.5/nt[dt];for(let ht=1;ht<=dt;ht++)ct-=tt[ht]*Math.log(1-lt*nt[ht-1]);ct*=lt,ft=0,lt=.5/rt[dt];for(let ht=dt+1;ht<_e.length;ht++)ft-=tt[ht]*Math.log(1-lt*rt[ht]);ft*=lt,ut=Math.abs(ct-ft),ut<st&&(st=ut,at=dt)}return at}function triangle(_e){let et=0,tt=0,nt=0,rt=0;for(let ct=0;ct<_e.length;ct++)if(_e[ct]>0){et=ct;break}et>0&&et--;for(let ct=_e.length-1;ct>0;ct--)if(_e[ct]>0){rt=ct;break}rt<_e.length-1&&rt++;for(let ct=0;ct<_e.length;ct++)_e[ct]>tt&&(nt=ct,tt=_e[ct]);let it=!1;if(nt-et<rt-nt){it=!0;let ct=0,ft=_e.length-1;for(;ct<ft;){const dt=_e[ct];_e[ct]=_e[ft],_e[ft]=dt,ct++,ft--}et=_e.length-1-rt,nt=_e.length-1-nt}if(et===nt)return et;let ot,at,st;ot=_e[nt],at=et-nt,st=Math.sqrt(ot*ot+at*at),ot/=st,at/=st,st=ot*et+at*_e[et];let lt=et,ut=0;for(let ct=et+1;ct<=nt;ct++){const ft=ot*ct+at*_e[ct]-st;ft>ut&&(lt=ct,ut=ft)}if(lt--,it){let ct=0,ft=_e.length-1;for(;ct<ft;){const dt=_e[ct];_e[ct]=_e[ft],_e[ft]=dt,ct++,ft--}return _e.length-1-lt}else return lt}function yen(_e,et){const tt=new Array(_e.length);for(let lt=0;lt<_e.length;lt++)tt[lt]=_e[lt]/et;const nt=new Array(_e.length);nt[0]=tt[0];for(let lt=1;lt<_e.length;lt++)nt[lt]=nt[lt-1]+tt[lt];const rt=new Array(_e.length);rt[0]=tt[0]*tt[0];for(let lt=1;lt<_e.length;lt++)rt[lt]=rt[lt-1]+tt[lt]*tt[lt];const it=new Array(_e.length);it[_e.length-1]=0;for(let lt=_e.length-2;lt>=0;lt--)it[lt]=it[lt+1]+tt[lt+1]*tt[lt+1];let ot=-1,at=Number.MIN_VALUE,st;for(let lt=0;lt<_e.length;lt++)st=-1*(rt[lt]*it[lt]>0?Math.log(rt[lt]*it[lt]):0)+2*(nt[lt]*(1-nt[lt])>0?Math.log(nt[lt]*(1-nt[lt])):0),st>at&&(at=st,ot=lt);return ot}function computeThreshold(_e,et="otsu"){if(_e.channels!==1)throw new TypeError("threshold can only be computed on images with one channel");const tt=_e.histogram();switch(et){case"huang":return huang(tt);case"intermodes":return intermodes(tt);case"isodata":return isodata(tt);case"li":return li(tt,_e.size);case"maxEntropy":return maxEntropy(tt,_e.size);case"mean":return mean(tt,_e.size);case"minimum":return minimum(tt);case"minError":return minError(tt,_e.size);case"moments":return moments(tt,_e.size);case"otsu":return otsu(tt,_e.size);case"percentile":return percentile(tt);case"renyiEntropy":return renyiEntropy(tt,_e.size);case"shanbhag":return shanbhag(tt,_e.size);case"triangle":return triangle(tt);case"yen":return yen(tt,_e.size);default:throw new RangeError(`invalid threshold algorithm: ${et}`)}}function threshold(_e,et={}){let tt;if("threshold"in et){const rt=et.threshold;if(rt<0||rt>1)throw new RangeError("threshold must be a value between 0 and 1");tt=rt*_e.maxValue}else tt=computeThreshold(_e,et.algorithm);const nt=imageToOutputMask(_e,et);for(let rt=0;rt<_e.size;rt++)nt.setBitByIndex(rt,_e.getValueByIndex(rt,0)>tt?1:0);return nt}function luma709(_e,et,tt){return _e*6966+et*23436+tt*2366>>15}function luma601(_e,et,tt){return _e*9798+et*19235+tt*3735>>15}function max$1(_e,et,tt){return Math.max(_e,et,tt)}function min$1(_e,et,tt){return Math.min(_e,et,tt)}function average(_e,et,tt){return(_e+et+tt)/3>>0}function minmax(_e,et,tt){return(Math.max(_e,et,tt)+Math.min(_e,et,tt))/2}function red(_e){return _e}function green(_e,et){return et}function blue(_e,et,tt){return tt}function black(_e,et,tt,nt){return Math.min(nt.maxValue-_e,nt.maxValue-et,nt.maxValue-tt)}function cyan(_e,et,tt,nt){let rt=black(_e,et,tt,nt);return(nt.maxValue-_e-rt)/(1-rt/nt.maxValue)>>0}function magenta(_e,et,tt,nt){let rt=black(_e,et,tt,nt);return(nt.maxValue-et-rt)/(1-rt/nt.maxValue)>>0}function yellow(_e,et,tt,nt){let rt=black(_e,et,tt,nt);return(nt.maxValue-tt-rt)/(1-rt/nt.maxValue)>>0}function hue(_e,et,tt,nt){const rt=min$1(_e,et,tt),it=max$1(_e,et,tt);if(it===rt)return 0;let ot=0;const at=it-rt;return it===_e?ot=(et-tt)/at+(et<tt?6:0):it===et?ot=(tt-_e)/at+2:(assert(it===tt),ot=(_e-et)/at+4),ot/6*nt.maxValue>>0}function saturation(_e,et,tt,nt){let rt=min$1(_e,et,tt),it=max$1(_e,et,tt),ot=it-rt;return it===0?0:ot/it*nt.maxValue}function lightness(_e,et,tt){let nt=min$1(_e,et,tt);return(max$1(_e,et,tt)+nt)/2}const greyAlgorithms=Object.freeze(Object.defineProperty({__proto__:null,average,black,blue,cyan,green,hue,lightness,luma601,luma709,magenta,max:max$1,min:min$1,minmax,red,saturation,yellow},Symbol.toStringTag,{value:"Module"})),GreyAlgorithm={LUMA_709:"luma709",LUMA_601:"luma601",MAX:"max",MIN:"min",AVERAGE:"average",MINMAX:"minmax",RED:"red",GREEN:"green",BLUE:"blue",BLACK:"black",CYAN:"cyan",MAGENTA:"magenta",YELLOW:"yellow",HUE:"hue",SATURATION:"saturation",LIGHTNESS:"lightness"};{const _e=new Set(Object.values(GreyAlgorithm));for(const et of Object.keys(greyAlgorithms))assert(_e.has(et),`Grey algorithm ${et} is missing in the GreyAlgorithm enum`)}function grey(_e,et={}){let{algorithm:tt="luma709",keepAlpha:nt=!1,mergeAlpha:rt=!0}=et;checkProcessable(_e,{colorModel:["RGB","RGBA"]}),nt=nt&&_e.alpha,rt=rt&&_e.alpha,nt&&(rt=!1);let ot=getOutputImage(_e,et,{newParameters:{colorModel:nt?"GREYA":"GREY"}}),at;typeof tt=="function"?at=tt:at=greyAlgorithms[tt];let st=getClamp(ot);for(let lt=0;lt<_e.size;lt++){const ut=_e.getValueByIndex(lt,0),ct=_e.getValueByIndex(lt,1),ft=_e.getValueByIndex(lt,2);let dt;if(rt){const ht=_e.getValueByIndex(lt,3);dt=st(at(ut,ct,ft,_e)*ht/_e.maxValue)}else if(dt=st(at(ut,ct,ft,_e)),nt){const ht=_e.getValueByIndex(lt,3);ot.setValueByIndex(lt,1,ht)}ot.setValueByIndex(lt,0,dt)}return ot}function setBlendedPixel(_e,et,tt,nt={}){const{color:rt=getDefaultColor(_e)}=nt;if(!_e.alpha)_e.setPixel(et,tt,rt);else{assert(_e instanceof Image);const it=rt.at(-1);if(it===_e.maxValue){_e.setPixel(et,tt,rt);return}const ot=_e.getValue(et,tt,_e.channels-1);let at=it+ot*(1-it/_e.maxValue);_e.setValue(et,tt,_e.channels-1,at);for(let st=0;st<_e.components;st++){let lt=rt[st],ut=_e.getValue(et,tt,st),ct=(lt*it+ut*ot*(1-it/_e.maxValue))/at;_e.setValue(et,tt,st,ct)}}}function copyTo(_e,et,tt={}){const{origin:nt={column:0,row:0}}=tt,{column:rt,row:it}=nt;if(_e.colorModel!==et.colorModel)throw new RangeError("source and target must have the same color model");let ot;et instanceof Image?ot=getOutputImage(et,tt,{clone:!0}):ot=maskToOutputMask(et,tt,{clone:!0});for(let at=Math.max(it,0);at<Math.min(_e.height+it,et.height);at++)for(let st=Math.max(rt,0);st<Math.min(_e.width+rt,et.width);st++){let lt=_e.getPixel(st-rt,at-it);setBlendedPixel(ot,st,at,{color:lt})}return ot}function crop(_e,et={}){const{origin:tt={row:0,column:0},width:nt=_e.width-tt.column,height:rt=_e.height-tt.row}=et,{column:it,row:ot}=tt;if(checkProcessable(_e,{bitDepth:[8,16]}),ot>_e.height-1||it>_e.width-1)throw new RangeError(`origin (row:${ot}, column:${it}) out of range (${_e.width-1}; ${_e.height-1})`);if(nt<=0||rt<=0)throw new RangeError(`width and height (width:${nt}; height:${rt}) must be positive numbers`);if(ot<0||it<0)throw new RangeError(`row and column (row:${ot}, column:${it}) must be positive numbers`);if(nt>_e.width-it||rt>_e.height-ot)throw new RangeError(`(row:${ot}, column: ${it}, width:${nt}, height:${rt}) size is out of range`);const at=Image.createFrom(_e,{width:nt,height:rt});for(let st=0;st<rt;st++)for(let lt=0;lt<nt;lt++)at.setPixel(lt,st,_e.getPixel(it+lt,ot+st));return at}function paintMaskOnImage(_e,et,tt={}){const{origin:nt={row:0,column:0},color:rt=getDefaultColor(_e),blend:it=!0}=tt,{column:ot,row:at}=nt;if(rt.length!==_e.channels)throw new RangeError("the given color is not compatible with the image");const st=getOutputImage(_e,tt,{clone:!0});if(it){checkColorIsNumberArray(rt);for(let lt=Math.max(at,0);lt<Math.min(et.height+at,_e.height);lt++)for(let ut=Math.max(ot,0);ut<Math.min(et.width+ot,_e.width);ut++)et.getBit(ut-ot,lt-at)&&setBlendedPixel(st,ut,lt,{color:rt})}else for(let lt=Math.max(at,0);lt<Math.min(et.height+at,_e.height);lt++)for(let ut=Math.max(ot,0);ut<Math.min(et.width+ot,_e.width);ut++)if(et.getBit(ut-ot,lt-at))for(let ct=0;ct<_e.channels;ct++){const ft=rt[ct];typeof ft=="number"&&st.setValue(ut,lt,ct,ft)}return st}function checkColorIsNumberArray(_e){for(let et of _e)if(typeof et!="number")throw new TypeError("cannot have null channels in color if blend is true")}function paintMaskOnMask(_e,et,tt={}){const{origin:nt={row:0,column:0},value:rt=1}=tt,{column:it,row:ot}=nt,at=maskToOutputMask(_e,tt,{clone:!0});for(let st=Math.max(ot,0);st<Math.min(et.height+ot,_e.height);st++)for(let lt=Math.max(it,0);lt<Math.min(et.width+it,_e.width);lt++)et.getBit(lt-it,st-ot)&&at.setBit(lt,st,rt);return at}function cropAlpha(_e,et={}){checkProcessable(_e,{alpha:!0});const{threshold:tt=_e.maxValue}=et;let nt=findLeft(_e,tt,_e.components);if(nt===-1)throw new RangeError(`could not find new dimensions. Threshold may be too high: ${tt}`);let rt=findTop(_e,tt,_e.components,nt),it=findBottom(_e,tt,_e.components,nt),ot=findRight(_e,tt,_e.components,nt,rt,it);return _e.crop({origin:{column:nt,row:rt},width:ot-nt+1,height:it-rt+1})}function findLeft(_e,et,tt){for(let nt=0;nt<_e.width;nt++)for(let rt=0;rt<_e.height;rt++)if(_e.getValue(nt,rt,tt)>=et)return nt;return-1}function findTop(_e,et,tt,nt){for(let rt=0;rt<_e.height;rt++)for(let it=nt;it<_e.width;it++)if(_e.getValue(it,rt,tt)>=et)return rt;return-1}function findBottom(_e,et,tt,nt){for(let rt=_e.height-1;rt>=0;rt--)for(let it=nt;it<_e.width;it++)if(_e.getValue(it,rt,tt)>=et)return rt;return-1}function findRight(_e,et,tt,nt,rt,it){for(let ot=_e.width-1;ot>=nt;ot--)for(let at=rt;at<=it;at++)if(_e.getValue(ot,at,tt)>=et)return ot;return-1}const colorModels={GREY:{components:1,alpha:!1,channels:1},GREYA:{components:1,alpha:!0,channels:2},RGB:{components:3,alpha:!1,channels:3},RGBA:{components:3,alpha:!0,channels:4},BINARY:{components:1,alpha:!1,channels:1}};function getMinMax(_e){const et=new Array(_e.channels).fill(_e.maxValue),tt=new Array(_e.channels).fill(0);for(let nt=0;nt<_e.height;nt++)for(let rt=0;rt<_e.width;rt++)for(let it=0;it<_e.channels;it++){let ot=_e.getValue(rt,nt,it);ot<et[it]&&(et[it]=ot),ot>tt[it]&&(tt[it]=ot)}return{min:et,max:tt}}class Image{constructor(et,tt,nt={}){const{bitDepth:rt=8,data:it,colorModel:ot="RGB",origin:at={row:0,column:0},meta:st}=nt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.bitDepth=rt,this.colorModel=ot,this.origin=at,this.meta=st;const lt=colorModels[ot];if(this.components=lt.components,this.alpha=lt.alpha,this.channels=lt.channels,this.maxValue=2**rt-1,it===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.bitDepth,this.maxValue);else{if(rt===8&&it instanceof Uint16Array)throw new RangeError(`bitDepth is ${rt} but data is Uint16Array`);if(rt===16&&it instanceof Uint8Array)throw new RangeError(`bitDepth is ${rt} but data is Uint8Array`);const ut=this.size*this.channels;if(it.length!==ut)throw new RangeError(`incorrect data size: ${it.length}. Expected ${ut}`);this.data=it}}static createFrom(et,tt={}){const{width:nt=et.width,height:rt=et.height}=tt;let it;return et instanceof Image?it=et.bitDepth:it=8,new Image(nt,rt,{bitDepth:it,colorModel:et.colorModel,origin:et.origin,...tt})}getPixel(et,tt){const nt=[],rt=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)nt.push(this.data[rt+it]);return nt}getColumn(et){let tt=[];for(let nt=0;nt<this.channels;nt++){let rt=[];for(let it=0;it<this.height;it++)rt.push(this.getValue(et,it,nt));tt.push(rt)}return tt}getRow(et){let tt=[];for(let nt=0;nt<this.channels;nt++){let rt=[];for(let it=0;it<this.width;it++)rt.push(this.getValue(it,et,nt));tt.push(rt)}return tt}setPixel(et,tt,nt){const rt=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)this.data[rt+it]=nt[it]}setVisiblePixel(et,tt,nt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,nt)}getPixelByIndex(et){const tt=[],nt=et*this.channels;for(let rt=0;rt<this.channels;rt++)tt.push(this.data[nt+rt]);return tt}setPixelByIndex(et,tt){const nt=et*this.channels;for(let rt=0;rt<this.channels;rt++)this.data[nt+rt]=tt[rt]}getValue(et,tt,nt){return this.data[(tt*this.width+et)*this.channels+nt]}setValue(et,tt,nt,rt){this.data[(tt*this.width+et)*this.channels+nt]=rt}getValueByIndex(et,tt){return this.data[et*this.channels+tt]}setValueByIndex(et,tt,nt){this.data[et*this.channels+tt]=nt}getValueByPoint(et,tt){return this.getValue(et.column,et.row,tt)}setValueByPoint(et,tt,nt){this.setValue(et.column,et.row,tt,nt)}minMax(){return getMinMax(this)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,bitDepth:this.bitDepth}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData$1(this),`Image {
  width: ${this.width}
  height: ${this.height}
  bitDepth: ${this.bitDepth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${et}
}`}fill(et){if(typeof et=="number")return validateValue(et,this),this.data.fill(et),this;if(et.length!==this.channels)throw new RangeError(`the size of value must match the number of channels (${this.channels}). Received ${et.length}`);for(const tt of et)validateValue(tt,this);for(let tt=0;tt<this.data.length;tt+=this.channels)for(let nt=0;nt<=this.channels;nt++)this.data[tt+nt]=et[nt];return this}fillChannel(et,tt){validateChannel(et,this),validateValue(tt,this);for(let nt=et;nt<this.data.length;nt+=this.channels)this.data[nt]=tt;return this}getChannel(et){validateChannel(et,this);let tt=new Array(this.size);for(let nt=0;nt<this.size;nt++)tt[nt]=this.data[et+nt*this.channels];return tt}fillAlpha(et){if(validateValue(et,this),!this.alpha)throw new TypeError("fillAlpha can only be called if the image has an alpha channel");const tt=this.channels-1;return this.fillChannel(tt,et)}clone(){return Image.createFrom(this,{data:this.data.slice()})}changeEach(et){for(let tt=0;tt<this.data.length;tt++)this.data[tt]=et(this.data[tt])}getCoordinates(et,tt=!1){switch(et){case"center":{const nt=(this.width-1)/2,rt=(this.height-1)/2;return tt?{column:Math.round(nt),row:Math.round(rt)}:{column:nt,row:rt}}case"top-left":return{column:0,row:0};case"top-right":return{column:this.width-1,row:0};case"bottom-left":return{column:0,row:this.height-1};case"bottom-right":return{column:this.width-1,row:this.height-1};default:throw new RangeError(`invalid image coordinates: ${et}`)}}subtract(et,tt={}){return subtract(this,et,tt)}histogram(et){return histogram(this,et)}mean(){return mean$1(this)}median(){return median(this)}variance(){return variance(this)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,nt={}){return drawLineOnImage(this,et,tt,nt)}drawRectangle(et={}){return drawRectangle(this,et)}drawPolyline(et,tt={}){return drawPolylineOnImage(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnImage(this,et,tt)}drawCircle(et,tt,nt={}){return drawCircleOnImage(this,et,tt,nt)}drawMarker(et,tt={}){return drawMarker(this,et,tt)}drawMarkers(et,tt={}){return drawMarkers(this,et,tt)}split(){return split(this)}convertColor(et,tt){return convertColor(this,et,tt)}convertBitDepth(et){return convertBitDepth(this,et)}grey(et){return grey(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}threshold(et={}){return threshold(this,et)}crop(et){return crop(this,et)}cropAlpha(et={}){return cropAlpha(this,et)}extract(et,tt){return extract(this,et,tt)}paintMask(et,tt){return paintMaskOnImage(this,et,tt)}blur(et){return blur(this,et)}pixelate(et){return pixelate(this,et)}directConvolution(et,tt){return directConvolution(this,et,tt)}rawDirectConvolution(et,tt){return rawDirectConvolution(this,et,tt)}separableConvolution(et,tt,nt){return separableConvolution(this,et,tt,nt)}gaussianBlur(et){return gaussianBlur(this,et)}flip(et){return flip(this,et)}invert(et){return invert(this,et)}hypotenuse(et,tt){return hypotenuse(this,et,tt)}gradientFilter(et){return gradientFilter(this,et)}derivativeFilter(et){return derivativeFilter(this,et)}level(et){return level(this,et)}correctColor(et,tt){return correctColor(this,et,tt)}resize(et){return resize(this,et)}rotate(et){return rotate$1(this,et)}transform(et,tt){return transform(this,et,tt)}transformRotate(et,tt){return transformRotate(this,et,tt)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}cannyEdgeDetector(et){return cannyEdgeDetector(this,et)}}function createPixelArray(_e,et,tt,nt,rt){const it=et*_e;let ot;switch(nt){case 8:ot=new Uint8Array(it);break;case 16:ot=new Uint16Array(it);break;default:throw new RangeError(`invalid bitDepth: ${nt}`)}if(tt)for(let at=et-1;at<it;at+=et)ot[at]=rt;return ot}function printData$1(_e){const et=[],tt=_e.bitDepth===8?3:5;for(let nt=0;nt<_e.height;nt++){const rt=[];for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.channels;ot++)rt.push(String(_e.getValue(it,nt,ot)).padStart(tt," "));et.push(`[${rt.join(" ")}]`)}return`{
    ${`[
     ${et.join(`
     `)}
    ]`}
  }`}function difference(_e,et){return{column:_e.column-et.column,row:_e.row-et.row}}function normalize$1(_e){let et=Math.sqrt(_e.column**2+_e.row**2);return{column:_e.column/et,row:_e.row/et}}function rotate(_e,et){let tt=[];const nt=Math.cos(_e),rt=Math.sin(_e);for(let it of et)tt.push({column:nt*it.column-rt*it.row,row:rt*it.column+nt*it.row});return tt}function toDegrees(_e){return _e*180/Math.PI}function getAngle(_e,et){const tt=difference(et,_e),nt=normalize$1(tt),rt=Math.acos(nt.column);return nt.row<0?-rt:rt}function getFeret(_e){const et=_e.getConvexHull(),tt=et.points;if(et.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},aspectRatio:1};let nt=Number.POSITIVE_INFINITY,rt=0,it=[],ot;for(let pt=0;pt<tt.length;pt++){let vt=getAngle(tt[pt],tt[(pt+1)%tt.length]);const gt=rotate(-vt,tt);let xt=0,wt=[];for(let bt=0;bt<tt.length;bt++){let St=Math.abs(gt[pt].row-gt[bt].row);St>xt&&(xt=St,wt=[gt[pt],gt[bt]])}if(xt<nt){nt=xt,rt=vt,it=wt;const{minIndex:bt,maxIndex:St}=findPointIndexesOfExtremeColumns(gt);ot=getMinLines(rt,bt,St,gt,it)}}const at={points:rotate(rt,it),length:nt,angle:toDegrees(rt),calliperLines:ot};let st=[],lt=0,ut=[];for(let pt=0;pt<tt.length-1;pt++)for(let vt=pt+1;vt<tt.length;vt++){let gt=(tt[pt].column-tt[vt].column)**2+(tt[pt].row-tt[vt].row)**2;gt>lt&&(lt=gt,st=[tt[pt],tt[vt]],ut=[pt,vt])}const ct=getAngle(st[0],st[1]);let ft=rotate(-ct,tt);const{minIndex:dt,maxIndex:ht}=findPointsIndexesOfExtremeRows(ft);let mt=getMaxLines(ct,dt,ht,ft,ut);const yt={length:Math.sqrt(lt),angle:toDegrees(getAngle(st[0],st[1])),points:st,calliperLines:mt};return{minDiameter:at,maxDiameter:yt,aspectRatio:at.length/yt.length}}function findPointIndexesOfExtremeColumns(_e){let et=0,tt=0;for(let nt=0;nt<_e.length;nt++)_e[nt].column>_e[et].column&&(et=nt),_e[nt].column<_e[tt].column&&(tt=nt);return{minIndex:tt,maxIndex:et}}function findPointsIndexesOfExtremeRows(_e){let et=0,tt=0;for(let nt=0;nt<_e.length;nt++)_e[nt].row>_e[et].row&&(et=nt),_e[nt].row<_e[tt].row&&(tt=nt);return{minIndex:tt,maxIndex:et}}function getMinLines(_e,et,tt,nt,rt){let it=[{column:nt[et].column,row:rt[0].row},{column:nt[tt].column,row:rt[0].row}],ot=[{column:nt[et].column,row:rt[1].row},{column:nt[tt].column,row:rt[1].row}];return[rotate(_e,it),rotate(_e,ot)]}function getMaxLines(_e,et,tt,nt,rt){let it=[{column:nt[rt[0]].column,row:nt[et].row},{column:nt[rt[0]].column,row:nt[tt].row}],ot=[{column:nt[rt[1]].column,row:nt[et].row},{column:nt[rt[1]].column,row:nt[tt].row}];return[rotate(_e,it),rotate(_e,ot)]}function getBorderPoints(_e,et={}){const{innerBorders:tt=!1,allowCorners:nt=!1}=et;tt||(_e=_e.solidFill());let rt=[];for(let it=0;it<_e.width;it++)_e.getBit(it,0)&&rt.push({column:it,row:0}),_e.getBit(it,_e.height-1)&&rt.push({column:it,row:_e.height-1});for(let it=0;it<_e.height;it++)_e.getBit(0,it)&&rt.push({column:0,row:it}),_e.getBit(_e.width-1,it)&&rt.push({column:_e.width-1,row:it});for(let it=1;it<_e.height-1;it++)for(let ot=1;ot<_e.width-1;ot++)_e.getBit(ot,it)&&((_e.getBit(ot-1,it)===0||_e.getBit(ot,it-1)===0||_e.getBit(ot+1,it)===0||_e.getBit(ot,it+1)===0)&&rt.push({column:ot,row:it}),nt&&(_e.getBit(ot-1,it-1)===0||_e.getBit(ot-1,it+1)===0||_e.getBit(ot+1,it-1)===0||_e.getBit(ot+1,it+1)===0)&&rt.push({column:ot,row:it}));return rt}function getLineLength(_e,et){return Math.sqrt((_e.column-et.column)**2+(_e.row-et.row)**2)}function getPolygonPerimeter(_e){let et=0;for(let tt=0;tt<_e.length;tt++)et+=getLineLength(_e[(tt+1)%_e.length],_e[tt]);return et}function getPolygonArea(_e){let et=0;for(let tt=0;tt<_e.length;tt++){const nt=(tt+1)%_e.length;et+=_e[tt].column*_e[nt].row,et-=_e[tt].row*_e[nt].column}return Math.abs(et/2)}function getExtendedBorderPoints(_e){const et=_e.getBorderPoints({allowCorners:!0,innerBorders:!1});let tt=[];for(let nt of et)tt.push(nt,{column:nt.column+1,row:nt.row},{column:nt.column+1,row:nt.row+1},{column:nt.column,row:nt.row+1});return tt}function monotoneChainConvexHull(_e,et={}){const{sorted:tt=!1}=et;tt||(_e=_e.slice().sort(byXThenY));const nt=_e.length,rt=new Array(nt*2);let it=0;for(let at=0;at<nt;at++){const st=_e[at];for(;it>=2&&cw(rt[it-2],rt[it-1],st)<=0;)it--;rt[it++]=st}const ot=it+1;for(let at=nt-2;at>=0;at--){const st=_e[at];for(;it>=ot&&cw(rt[it-2],rt[it-1],st)<=0;)it--;rt[it++]=st}return rt.slice(0,it-1)}function cw(_e,et,tt){return(et.row-_e.row)*(tt.column-_e.column)-(et.column-_e.column)*(tt.row-_e.row)}function byXThenY(_e,et){return _e.column===et.column?_e.row-et.row:_e.column-et.column}function getConvexHull(_e){const et=getExtendedBorderPoints(_e);if(et.length===0)return{points:[],surface:0,perimeter:0};const tt=monotoneChainConvexHull(et),nt=getPolygonPerimeter(tt),rt=getPolygonArea(tt);return{points:tt,perimeter:nt,surface:rt}}const leftFirst=(_e,et)=>_e.column<=et.column?-1:1,topFirst=(_e,et)=>_e.row>=et.row?-1:1;function getMbrAngle(_e){const et=_e.slice().sort(leftFirst),tt=et.slice(0,2),nt=et.slice(2,4);tt.sort(topFirst),nt.sort(topFirst);const rt=tt[0],it=nt[0];return-toDegrees(getAngle(rt,it))}function getMbrFromPoints(_e){if(_e.length===0)return{points:[],angle:0,width:0,height:0,surface:0,perimeter:0,aspectRatio:0};if(_e.length===1)return{points:[_e[0],_e[0],_e[0],_e[0]],perimeter:0,surface:0,angle:0,width:0,height:0,aspectRatio:1};let et=[],tt=Number.POSITIVE_INFINITY,nt=0,rt=[];for(let ct=0;ct<_e.length;ct++){let ft=getAngle(_e[ct],_e[(ct+1)%_e.length]);et=rotate(-ft,_e);let dt=et[ct].column,ht=et[ct].row,mt=et[(ct+1)%et.length].column,yt=et[(ct+1)%et.length].row,pt=!0,vt=0,gt=0,xt=0;for(let kt of et){let Rt=kt.column,Et=kt.row,At=(Rt-dt)/(mt-dt);pt?(pt=!1,vt=At,gt=At):(At<vt&&(vt=At),At>gt&&(gt=At));let Tt=(-(mt-dt)*Et+mt*ht-yt*dt)/(mt-dt);Math.abs(Tt)>Math.abs(xt)&&(xt=Tt)}let wt={column:dt+vt*(mt-dt),row:ht},bt={column:dt+gt*(mt-dt),row:ht},St=Math.abs(xt*(vt-gt)*(mt-dt));St<tt&&(nt=ft,tt=St,rt=[bt,wt,{column:wt.column,row:wt.row-xt},{column:bt.column,row:bt.row-xt}])}const it=rotate(nt,rt),ot=[Math.hypot(rt[0].column-rt[1].column,rt[0].row-rt[1].row),Math.hypot(rt[0].column-rt[3].column,rt[0].row-rt[3].row)],at=Math.max(...ot),st=Math.min(...ot),lt=getMbrAngle(it),ut=st/at;return{points:it,surface:tt,angle:lt,width:at,height:st,perimeter:2*at+2*st,aspectRatio:ut}}function getMbr(_e){const et=monotoneChainConvexHull(getExtendedBorderPoints(_e));return getMbrFromPoints(et)}function boolToNumber(_e){let et;return typeof _e=="boolean"?et=_e?1:0:et=_e,et}class Mask{constructor(et,tt,nt={}){const{data:rt,origin:it={row:0,column:0}}=nt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.bitDepth=1,this.colorModel="BINARY",this.origin=it;const ot=colorModels[this.colorModel];if(this.components=ot.components,this.alpha=ot.alpha,this.channels=ot.channels,this.maxValue=1,rt===void 0)this.data=new Uint8Array(this.size);else{const at=this.size*this.channels;if(rt.length!==at)throw new RangeError(`incorrect data size: ${rt.length}. Expected ${at}`);this.data=rt}}static createFrom(et,tt={}){const{width:nt=et.width,height:rt=et.height,origin:it=et.origin}=tt;return new Mask(nt,rt,{origin:it,...tt})}getPixel(et,tt){const nt=[],rt=tt*this.width+et;return nt.push(this.data[rt]),nt}setPixel(et,tt,nt){const rt=tt*this.width+et;this.data[rt]=nt[0]}setVisiblePixel(et,tt,nt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,nt)}getPixelByIndex(et){return[this.data[et]]}setPixelByIndex(et,tt){this.data[et]=tt[0]}static fromPoints(et,tt,nt){let rt=new Mask(et,tt);for(const it of nt)rt.setBit(it.column,it.row,1);return rt}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(et,tt){const nt=tt*this.width+et;return this.data[nt]}setBit(et,tt,nt){const rt=tt*this.width+et;this.data[rt]=nt}getBitByIndex(et){return this.data[et*this.channels]}setBitByIndex(et,tt){let nt=boolToNumber(tt);this.data[et*this.channels]=nt}getValue(et,tt,nt){return checkChannel(nt),this.getBit(et,tt)}setValue(et,tt,nt,rt){checkChannel(nt),this.setBit(et,tt,rt)}getValueByIndex(et,tt){return checkChannel(tt),this.getBitByIndex(et)}setValueByIndex(et,tt,nt){checkChannel(tt),this.setBitByIndex(et,nt)}getValueByPoint(et){return this.getValue(et.column,et.row,0)}setValueByPoint(et,tt){this.setValue(et.column,et.row,0,tt)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${et}
}`}fill(et){let tt=boolToNumber(et);return this.data.fill(tt),this}convertColor(et){return convertColor(this,et)}invert(et){return invert(this,et)}subtract(et,tt){return subtract(this,et,tt)}and(et,tt){return and(this,et,tt)}or(et,tt){return or(this,et,tt)}getBorderPoints(et){return getBorderPoints(this,et)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}clearBorder(et){return clearBorder(this,et)}floodFill(et){return floodFill(this,et)}solidFill(et){return solidFill(this,et)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,nt={}){return drawLineOnMask(this,et,tt,nt)}drawPolyline(et,tt={}){return drawPolylineOnMask(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnMask(this,et,tt)}drawRectangle(et={}){return drawRectangle(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}paintMask(et,tt){return paintMaskOnMask(this,et,tt)}}function printData(_e){const et=[];for(let tt=0;tt<_e.height;tt++){const nt=[];for(let rt=0;rt<_e.width;rt++)nt.push(String(_e.getBit(rt,tt)));et.push(`[${nt.join(" ")}]`)}return et.join(`
        `)}function checkChannel(_e){if(_e!==0)throw new RangeError(`channel value must be 0 on type Mask. Received ${_e}`)}function copyData(_e,et){if(et.width!==_e.width||et.height!==_e.height||et.colorModel!==_e.colorModel)throw new RangeError("images width, height or color model is different");et.data=_e.data.slice()}function getOutputImage(_e,et={},tt={}){const{out:nt}=et,{newParameters:rt,clone:it}=tt;if(nt===void 0)return it?_e.clone():Image.createFrom(_e,rt);{if(!(nt instanceof Image))throw new TypeError("out must be an Image");const ot={width:_e.width,height:_e.height,bitDepth:_e.bitDepth,colorModel:_e.colorModel,...rt};return checkRequirements(ot,nt),it&&_e!==nt&&copyData(_e,nt),nt}}function maskToOutputImage(_e,et={}){const{out:tt}=et;if(tt===void 0)return Image.createFrom(_e,{colorModel:"GREY"});{if(!(tt instanceof Image))throw new TypeError("out must be an Image");const nt={width:_e.width,height:_e.height,bitDepth:8,colorModel:"GREY"};return checkRequirements(nt,tt),tt}}function imageToOutputMask(_e,et={}){const{out:tt}=et;if(tt===void 0)return Mask.createFrom(_e);{if(!(tt instanceof Mask))throw new TypeError("out must be a Mask");const nt={width:_e.width,height:_e.height,bitDepth:1,colorModel:"BINARY"};return checkRequirements(nt,tt),tt}}function checkRequirements(_e,et){for(const tt in _e){const nt=tt;if(et[nt]!==_e[nt])throw new RangeError(`cannot use out image. Its ${tt} property must be ${_e[nt]}. Received ${et[nt]}`)}}function maskToOutputMask(_e,et={},tt={}){const{out:nt}=et,{newParameters:rt,clone:it}=tt;if(nt===void 0)return it?_e.clone():Mask.createFrom(_e,rt);{if(!(nt instanceof Mask))throw new TypeError("out must be a Mask");const ot={width:_e.width,height:_e.height,bitDepth:1,colorModel:"BINARY"};return checkRequirements(ot,nt),it&&_e!==nt&&copyData(_e,nt),nt}}function and(_e,et,tt){const nt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both masks must have the same size");for(let rt=0;rt<nt.size;rt++)_e.getBitByIndex(rt)&&et.getBitByIndex(rt)?nt.setBitByIndex(rt,1):nt.setBitByIndex(rt,0);return nt}function checkSize(_e){if(!Number.isInteger(_e)||_e<1)throw new TypeError(`size must be a positive integer. Got ${_e}`)}function checkKernel(_e){if(_e.length===0||_e.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${_e.length}`)}function checkBorderType(_e){if(_e!=="CONSTANT"&&_e!=="CUT")throw new RangeError(`unexpected border type: ${_e}`)}function checkInputLength(_e,et){if(_e!==et)throw new RangeError(`input length (${_e}) does not match setup size (${et})`)}function createArray(_e){const et=[];for(var tt=0;tt<_e;tt++)et.push(0);return et}class DirectConvolution{constructor(et,tt,nt="CONSTANT"){checkSize(et),checkKernel(tt),checkBorderType(nt),this.size=et,this.kernelOffset=(tt.length-1)/2,this.outputSize=nt==="CONSTANT"?et:et-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=tt,this.kernelSize=tt.length,this.borderType=nt}convolve(et){return checkInputLength(et.length,this.size),this.output.fill(0),this.borderType==="CONSTANT"?this._convolutionBorder0(et):this._convolutionBorderCut(et),this.output}_convolutionBorder0(et){for(let tt=0;tt<this.size;tt++)for(let nt=0;nt<this.kernelSize;nt++)this.output[tt]+=interpolateInput(et,tt-this.kernelOffset+nt)*this.kernel[nt]}_convolutionBorderCut(et){for(let tt=this.kernelOffset;tt<this.size-this.kernelOffset;tt++){const nt=tt-this.kernelOffset;for(let rt=0;rt<this.kernelSize;rt++)this.output[nt]+=et[nt+rt]*this.kernel[rt]}}}function interpolateInput(_e,et){return et<0||et>=_e.length?0:_e[et]}function FFT(_e){if(this.size=_e|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=_e<<1;for(var et=new Array(this.size*2),tt=0;tt<et.length;tt+=2){const st=Math.PI*tt/this.size;et[tt]=Math.cos(st),et[tt+1]=-Math.sin(st)}this.table=et;for(var nt=0,rt=1;this.size>rt;rt<<=1)nt++;this._width=nt%2===0?nt-1:nt,this._bitrev=new Array(1<<this._width);for(var it=0;it<this._bitrev.length;it++){this._bitrev[it]=0;for(var ot=0;ot<this._width;ot+=2){var at=this._width-ot-2;this._bitrev[it]|=(it>>>ot&3)<<at}}this._out=null,this._data=null,this._inv=0}FFT.prototype.fromComplexArray=function(et,tt){for(var nt=tt||new Array(et.length>>>1),rt=0;rt<et.length;rt+=2)nt[rt>>>1]=et[rt];return nt};FFT.prototype.createComplexArray=function(){const et=new Array(this._csize);for(var tt=0;tt<et.length;tt++)et[tt]=0;return et};FFT.prototype.toComplexArray=function(et,tt){for(var nt=tt||this.createComplexArray(),rt=0;rt<nt.length;rt+=2)nt[rt]=et[rt>>>1],nt[rt+1]=0;return nt};FFT.prototype.completeSpectrum=function(et){for(var tt=this._csize,nt=tt>>>1,rt=2;rt<nt;rt+=2)et[tt-rt]=et[rt],et[tt-rt+1]=-et[rt+1]};FFT.prototype.transform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=0,this._transform4(),this._out=null,this._data=null};FFT.prototype.realTransform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=0,this._realTransform4(),this._out=null,this._data=null};FFT.prototype.inverseTransform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=1,this._transform4();for(var nt=0;nt<et.length;nt++)et[nt]/=this.size;this._out=null,this._data=null};FFT.prototype._transform4=function(){var et=this._out,tt=this._csize,nt=this._width,rt=1<<nt,it=tt/rt<<1,ot,at,st=this._bitrev;if(it===4)for(ot=0,at=0;ot<tt;ot+=it,at++){const mt=st[at];this._singleTransform2(ot,mt,rt)}else for(ot=0,at=0;ot<tt;ot+=it,at++){const mt=st[at];this._singleTransform4(ot,mt,rt)}var lt=this._inv?-1:1,ut=this.table;for(rt>>=2;rt>=2;rt>>=2){it=tt/rt<<1;var ct=it>>>2;for(ot=0;ot<tt;ot+=it)for(var ft=ot+ct,dt=ot,ht=0;dt<ft;dt+=2,ht+=rt){const mt=dt,yt=mt+ct,pt=yt+ct,vt=pt+ct,gt=et[mt],xt=et[mt+1],wt=et[yt],bt=et[yt+1],St=et[pt],kt=et[pt+1],Rt=et[vt],Et=et[vt+1],At=gt,Tt=xt,It=ut[ht],_t=lt*ut[ht+1],Pt=wt*It-bt*_t,Zt=wt*_t+bt*It,Ht=ut[2*ht],zt=lt*ut[2*ht+1],jt=St*Ht-kt*zt,Wt=St*zt+kt*Ht,Nt=ut[3*ht],Lt=lt*ut[3*ht+1],Jt=Rt*Nt-Et*Lt,qt=Rt*Lt+Et*Nt,Kt=At+jt,dn=Tt+Wt,gn=At-jt,xn=Tt-Wt,sn=Pt+Jt,pn=Zt+qt,mn=lt*(Pt-Jt),ln=lt*(Zt-qt),vn=Kt+sn,Ct=dn+pn,Ut=Kt-sn,Dt=dn-pn,Ot=gn+ln,$t=xn-mn,Mt=gn-ln,Ft=xn+mn;et[mt]=vn,et[mt+1]=Ct,et[yt]=Ot,et[yt+1]=$t,et[pt]=Ut,et[pt+1]=Dt,et[vt]=Mt,et[vt+1]=Ft}}};FFT.prototype._singleTransform2=function(et,tt,nt){const rt=this._out,it=this._data,ot=it[tt],at=it[tt+1],st=it[tt+nt],lt=it[tt+nt+1],ut=ot+st,ct=at+lt,ft=ot-st,dt=at-lt;rt[et]=ut,rt[et+1]=ct,rt[et+2]=ft,rt[et+3]=dt};FFT.prototype._singleTransform4=function(et,tt,nt){const rt=this._out,it=this._data,ot=this._inv?-1:1,at=nt*2,st=nt*3,lt=it[tt],ut=it[tt+1],ct=it[tt+nt],ft=it[tt+nt+1],dt=it[tt+at],ht=it[tt+at+1],mt=it[tt+st],yt=it[tt+st+1],pt=lt+dt,vt=ut+ht,gt=lt-dt,xt=ut-ht,wt=ct+mt,bt=ft+yt,St=ot*(ct-mt),kt=ot*(ft-yt),Rt=pt+wt,Et=vt+bt,At=gt+kt,Tt=xt-St,It=pt-wt,_t=vt-bt,Pt=gt-kt,Zt=xt+St;rt[et]=Rt,rt[et+1]=Et,rt[et+2]=At,rt[et+3]=Tt,rt[et+4]=It,rt[et+5]=_t,rt[et+6]=Pt,rt[et+7]=Zt};FFT.prototype._realTransform4=function(){var et=this._out,tt=this._csize,nt=this._width,rt=1<<nt,it=tt/rt<<1,ot,at,st=this._bitrev;if(it===4)for(ot=0,at=0;ot<tt;ot+=it,at++){const Sn=st[at];this._singleRealTransform2(ot,Sn>>>1,rt>>>1)}else for(ot=0,at=0;ot<tt;ot+=it,at++){const Sn=st[at];this._singleRealTransform4(ot,Sn>>>1,rt>>>1)}var lt=this._inv?-1:1,ut=this.table;for(rt>>=2;rt>=2;rt>>=2){it=tt/rt<<1;var ct=it>>>1,ft=ct>>>1,dt=ft>>>1;for(ot=0;ot<tt;ot+=it)for(var ht=0,mt=0;ht<=dt;ht+=2,mt+=rt){var yt=ot+ht,pt=yt+ft,vt=pt+ft,gt=vt+ft,xt=et[yt],wt=et[yt+1],bt=et[pt],St=et[pt+1],kt=et[vt],Rt=et[vt+1],Et=et[gt],At=et[gt+1],Tt=xt,It=wt,_t=ut[mt],Pt=lt*ut[mt+1],Zt=bt*_t-St*Pt,Ht=bt*Pt+St*_t,zt=ut[2*mt],jt=lt*ut[2*mt+1],Wt=kt*zt-Rt*jt,Nt=kt*jt+Rt*zt,Lt=ut[3*mt],Jt=lt*ut[3*mt+1],qt=Et*Lt-At*Jt,Kt=Et*Jt+At*Lt,dn=Tt+Wt,gn=It+Nt,xn=Tt-Wt,sn=It-Nt,pn=Zt+qt,mn=Ht+Kt,ln=lt*(Zt-qt),vn=lt*(Ht-Kt),Ct=dn+pn,Ut=gn+mn,Dt=xn+vn,Ot=sn-ln;if(et[yt]=Ct,et[yt+1]=Ut,et[pt]=Dt,et[pt+1]=Ot,ht===0){var $t=dn-pn,Mt=gn-mn;et[vt]=$t,et[vt+1]=Mt;continue}if(ht!==dt){var Ft=xn,Vt=-sn,Bt=dn,Xt=-gn,Yt=-lt*vn,Gt=-lt*ln,Qt=-lt*mn,cn=-lt*pn,hn=Ft+Yt,yn=Vt+Gt,bn=Bt+cn,En=Xt-Qt,_n=ot+ft-ht,wn=ot+ct-ht;et[_n]=hn,et[_n+1]=yn,et[wn]=bn,et[wn+1]=En}}}};FFT.prototype._singleRealTransform2=function(et,tt,nt){const rt=this._out,it=this._data,ot=it[tt],at=it[tt+nt],st=ot+at,lt=ot-at;rt[et]=st,rt[et+1]=0,rt[et+2]=lt,rt[et+3]=0};FFT.prototype._singleRealTransform4=function(et,tt,nt){const rt=this._out,it=this._data,ot=this._inv?-1:1,at=nt*2,st=nt*3,lt=it[tt],ut=it[tt+nt],ct=it[tt+at],ft=it[tt+st],dt=lt+ct,ht=lt-ct,mt=ut+ft,yt=ot*(ut-ft),pt=dt+mt,vt=ht,gt=-yt,xt=dt-mt,wt=ht,bt=yt;rt[et]=pt,rt[et+1]=0,rt[et+2]=vt,rt[et+3]=gt,rt[et+4]=xt,rt[et+5]=0,rt[et+6]=wt,rt[et+7]=bt};const BorderType={CONSTANT:"CONSTANT",CUT:"CUT"};function extendBorders(_e,et){const{horizontal:tt,vertical:nt,borderType:rt="reflect101",borderValue:it=0}=et,ot=getBorderInterpolation(rt,it),at=Image.createFrom(_e,{width:_e.width+2*tt,height:_e.height+2*nt});_e.copyTo(at,{origin:{column:tt,row:nt},out:at});for(let st=0;st<nt;st++)for(let lt=0;lt<at.width;lt++)for(let ut=0;ut<_e.channels;ut++){const ct=ot(lt-tt,st-nt,ut,_e);at.setValue(lt,st,ut,ct)}for(let st=at.height-nt;st<at.height;st++)for(let lt=0;lt<at.width;lt++)for(let ut=0;ut<_e.channels;ut++){const ct=ot(lt-tt,st-nt,ut,_e);at.setValue(lt,st,ut,ct)}for(let st=nt;st<at.height-nt;st++)for(let lt=0;lt<tt;lt++)for(let ut=0;ut<_e.channels;ut++){const ct=ot(lt-tt,st-nt,ut,_e);at.setValue(lt,st,ut,ct)}for(let st=nt;st<at.height-nt;st++)for(let lt=at.width-tt;lt<at.width;lt++)for(let ut=0;ut<_e.channels;ut++){const ct=ot(lt-tt,st-nt,ut,_e);at.setValue(lt,st,ut,ct)}return at}function directConvolution(_e,et,tt={}){const{borderType:nt="reflect101",borderValue:rt=0}=tt,it=rawDirectConvolution(_e,et,{borderType:nt,borderValue:rt}),ot=getOutputImage(_e,tt),at=getClamp(ot);for(let st=0;st<_e.size;st++)for(let lt=0;lt<_e.channels;lt++){let ut=st*_e.channels+lt,ct=round(at(it[ut]));ot.setValueByIndex(st,lt,ct)}return ot}function rawDirectConvolution(_e,et,tt={}){const{borderType:nt="reflect101",borderValue:rt=0}=tt,it=getBorderInterpolation(nt,rt);let ot=new Float64Array(_e.size*_e.channels);for(let at=0;at<_e.channels;at++)for(let st=0;st<_e.height;st++)for(let lt=0;lt<_e.width;lt++){let ut=getIndex(lt,st,_e,at);ot[ut]=computeConvolutionValue(lt,st,at,_e,et,it,{returnRawValue:!0})}return ot}function separableConvolution(_e,et,tt,nt={}){const{normalize:rt,borderType:it="reflect101",borderValue:ot=0}=nt;rt&&([et,tt]=normalizeSeparatedKernel(et,tt));const st=(et.length-1)/2,ut=(tt.length-1)/2,ct=extendBorders(_e,{horizontal:st,vertical:ut,borderType:it,borderValue:ot}),ft=Image.createFrom(_e),dt=getClamp(ft),ht=new DirectConvolution(ct.width,et,BorderType.CUT),mt=new DirectConvolution(ct.height,tt,BorderType.CUT),yt=new Float64Array(ct.width),pt=new Float64Array(ct.height),vt=new Float64Array(_e.width*ct.height);for(let gt=0;gt<ct.channels;gt++){for(let xt=0;xt<ct.height;xt++){for(let bt=0;bt<ct.width;bt++)yt[bt]=ct.getValue(bt,xt,gt);const wt=ht.convolve(yt);for(let bt=0;bt<_e.width;bt++)vt[xt*_e.width+bt]=wt[bt]}for(let xt=0;xt<_e.width;xt++){for(let bt=0;bt<ct.height;bt++)pt[bt]=vt[bt*_e.width+xt];const wt=mt.convolve(pt);for(let bt=0;bt<_e.height;bt++)ft.setValue(xt,bt,gt,round(dt(wt[bt])))}}return ft}function computeConvolutionValue(_e,et,tt,nt,rt,it,ot={}){let{returnRawValue:at=!1,clamp:st}=ot;at&&(st=void 0);let lt=0;const ut=rt[0].length,ct=rt.length,ft=(ut-1)/2,dt=(ct-1)/2;for(let ht=0;ht<ct;ht++)for(let mt=0;mt<ut;mt++){const yt=rt[ht][mt];lt+=yt*it(_e+mt-ft,et+ht-dt,tt,nt)}return st?round(st(lt)):lt}function normalizeSeparatedKernel(_e,et){const tt=_e.reduce((ot,at)=>ot+at,0),nt=et.reduce((ot,at)=>ot+at,0),rt=tt*nt;if(rt<0)throw new RangeError("this separated kernel cannot be normalized");const it=1/Math.sqrt(Math.abs(rt));return[_e.map(ot=>ot*it),et.map(ot=>ot*it)]}function blur(_e,et){const{width:tt,height:nt}=et,rt=new Array(tt).fill(1),it=new Array(nt).fill(1);return separableConvolution(_e,rt,it,{normalize:!0,...et})}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];function derivativeFilter(_e,et={}){const{filter:tt="sobel"}=et;let nt=SOBEL_X,rt=SOBEL_Y;switch(tt){case"sobel":break;case"scharr":nt=SCHARR_X,rt=SCHARR_Y;break;case"prewitt":nt=PREWITT_X,rt=PREWITT_Y;break;default:throw new RangeError(`invalid derivative filter: ${tt}`)}return _e.gradientFilter({kernelX:nt,kernelY:rt,...et})}function getRadius(_e){if(_e%2!==1||_e<0)throw new RangeError("size must be positive and odd");return(_e-1)/2}function gaussianBlur(_e,et){if("sigma"in et){const{sigma:tt,size:nt=getSize(tt),borderType:rt}=et,it=getRadius(nt),ot=getKernel(it,tt);return separableConvolution(_e,ot,ot,{borderType:rt})}else{const{sigmaX:tt,sigmaY:nt,sizeX:rt=getSize(tt),sizeY:it=getSize(nt),borderType:ot}=et,at=getRadius(rt),st=getRadius(it),lt=getKernel(at,tt),ut=getKernel(st,nt);return separableConvolution(_e,lt,ut,{borderType:ot})}}function getKernel(_e,et){const tt=_e*2+1,nt=new Array(tt),rt=et||((tt-1)*.5-1)*.3+.8,it=-.5/(rt*rt);let ot=0;for(let at=0;at<tt;at++){const st=at-_e,lt=Math.exp(it*st*st);nt[at]=lt,ot+=lt}for(let at=0;at<tt;at++)nt[at]/=ot;return nt}function getSize(_e){return 2*Math.ceil(2*_e)+1}function gradientFilter(_e,et){const{borderType:tt="replicate",borderValue:nt=0}=et;if(checkProcessable(_e,{bitDepth:[8,16],colorModel:"GREY"}),"kernelX"in et&&"kernelY"in et){const{kernelX:rt,kernelY:it}=et,ot=_e.rawDirectConvolution(rt,{borderType:tt,borderValue:nt}),at=_e.rawDirectConvolution(it,{borderType:tt,borderValue:nt});let st=new Image(_e.width,_e.height,{colorModel:"GREY"});for(let lt=0;lt<_e.size;lt++)st.setValueByIndex(lt,0,Math.hypot(ot[lt],at[lt]));return st}else{if("kernelX"in et)return _e.directConvolution(et.kernelX,{borderType:tt,borderValue:nt});if("kernelY"in et)return _e.directConvolution(et.kernelY,{borderType:tt,borderValue:nt});throw new TypeError("kernelX and KernelY are not defined")}}function hypotenuse(_e,et,tt={}){let{bitDepth:nt=_e.bitDepth,channels:rt=[]}=tt;for(let ot=0;ot<_e.components;ot++)rt.push(ot);if(checkProcessable(_e,{bitDepth:[8,16]}),_e.width!==et.width||_e.height!==et.height)throw new RangeError("both images must have the same size");if(_e.alpha!==et.alpha||_e.bitDepth!==et.bitDepth)throw new RangeError("both images must have the same alpha and bitDepth");if(_e.channels!==et.channels)throw new RangeError("both images must have the same number of channels");validateChannels(rt,_e);let it=Image.createFrom(_e,{bitDepth:nt});for(const ot of rt)for(let at=0;at<_e.size;at++){let st=Math.hypot(_e.getValueByIndex(at,ot),et.getValueByIndex(at,ot));it.setValueByIndex(at,ot,st>it.maxValue?it.maxValue:st)}return it}function invert(_e,et){if(_e instanceof Image){const tt=getOutputImage(_e,et);_e.alpha&&copyAlpha(_e,tt);const{maxValue:nt,size:rt}=tt;for(let it=0;it<rt;it++)for(let ot=0;ot<_e.components;ot++)tt.setValueByIndex(it,ot,nt-_e.getValueByIndex(it,ot));return tt}else{const tt=maskToOutputMask(_e,et);for(let nt=0;nt<tt.size;nt++)tt.setBitByIndex(nt,!_e.getBitByIndex(nt));return tt}}function level(_e,et={}){let{inputMin:tt=0,inputMax:nt=_e.maxValue,outputMin:rt=0,outputMax:it=_e.maxValue,gamma:ot=1,channels:at=new Array(_e.components).fill(0).map((ut,ct)=>ct)}=et;validateChannels(at,_e),checkProcessable(_e,{bitDepth:[8,16]});let st=getOutputImage(_e,et,{clone:!0});const lt=getClamp(_e);tt=getValueArray(tt,_e.channels),nt=getValueArray(nt,_e.channels),rt=getValueArray(rt,_e.channels),it=getValueArray(it,_e.channels),ot=getValueArray(ot,_e.channels);for(let ut=0;ut<_e.height;ut++)for(let ct=0;ct<_e.width;ct++)for(let ft of at){let dt=_e.getValue(ct,ut,ft),ht=Math.max(Math.min(dt,nt[ft]),tt[ft]);const mt=lt((ht-tt[ft])/(nt[ft]-tt[ft])),yt=lt(mt**(1/ot[ft])*(it[ft]-rt[ft])+rt[ft]);st.setValue(ct,ut,ft,yt)}return st}function getValueArray(_e,et){if(Array.isArray(_e)){if(_e.length===et)return _e;throw new RangeError("array length is not compatible with channel option")}else return new Array(et).fill(_e)}function or(_e,et,tt){const nt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both masks must have the same size");for(let rt=0;rt<nt.size;rt++)_e.getBitByIndex(rt)||et.getBitByIndex(rt)?nt.setBitByIndex(rt,1):nt.setBitByIndex(rt,0);return nt}function flipX(_e){checkProcessable(_e,{bitDepth:[8,16]});for(let et=0;et<_e.height;et++)for(let tt=0;tt<Math.floor(_e.width/2);tt++){const nt=tt,rt=_e.width-tt-1;for(let it=0;it<_e.channels;it++){const ot=_e.getValue(nt,et,it);_e.setValue(nt,et,it,_e.getValue(rt,et,it)),_e.setValue(rt,et,it,ot)}}return _e}function flipY(_e){checkProcessable(_e,{bitDepth:[8,16]});for(let et=0;et<Math.floor(_e.height/2);et++)for(let tt=0;tt<_e.width;tt++){const nt=et,rt=_e.height-et-1;for(let it=0;it<_e.channels;it++){const ot=_e.getValue(tt,nt,it);_e.setValue(tt,nt,it,_e.getValue(tt,rt,it)),_e.setValue(tt,rt,it,ot)}}return _e}function flip(_e,et={}){const{axis:tt="horizontal"}=et;let nt=getOutputImage(_e,et,{clone:!0});return tt==="horizontal"?flipX(nt):flipY(tt==="vertical"?nt:flipX(nt))}function ascending$1(_e,et){return _e<et?-1:_e>et?1:_e>=et?0:NaN}function bisector$1(_e){return _e.length===1&&(_e=ascendingComparator(_e)),{left:function(et,tt,nt,rt){for(nt==null&&(nt=0),rt==null&&(rt=et.length);nt<rt;){var it=nt+rt>>>1;_e(et[it],tt)<0?nt=it+1:rt=it}return nt},right:function(et,tt,nt,rt){for(nt==null&&(nt=0),rt==null&&(rt=et.length);nt<rt;){var it=nt+rt>>>1;_e(et[it],tt)>0?rt=it:nt=it+1}return nt}}}function ascendingComparator(_e){return function(et,tt){return ascending$1(_e(et),tt)}}bisector$1(ascending$1);function xMedian(_e){if(!isAnyArray(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");const et=_e.slice();let tt=0,nt=et.length-1,rt=0,it=0,ot=0,at=calcMiddle(tt,nt);for(;;){if(nt<=tt)return et[at];if(nt===tt+1)return et[tt]>et[nt]&&swap(et,tt,nt),et[at];for(rt=calcMiddle(tt,nt),et[rt]>et[nt]&&swap(et,rt,nt),et[tt]>et[nt]&&swap(et,tt,nt),et[rt]>et[tt]&&swap(et,rt,tt),swap(et,rt,tt+1),it=tt+1,ot=nt;;){do it++;while(et[tt]>et[it]);do ot--;while(et[ot]>et[tt]);if(ot<it)break;swap(et,it,ot)}swap(et,tt,ot),ot<=at&&(tt=it),ot>=at&&(nt=ot-1)}}function swap(_e,et,tt){const nt=_e[tt];_e[tt]=_e[et],_e[et]=nt}function calcMiddle(_e,et){return Math.floor((_e+et)/2)}function pixelate(_e,et){const{cellSize:tt,algorithm:nt="center"}=et;if(!Number.isInteger(tt))throw new TypeError("cellSize must be an integer");if(tt<2)throw new RangeError("cellSize must be greater than 1");const rt=getOutputImage(_e,et),it=getCellValueFunction(nt);for(let ot=0;ot<_e.channels;ot++)for(let at=0;at<_e.width;at+=tt)for(let st=0;st<_e.height;st+=tt){const lt=Math.min(tt,_e.width-at),ut=Math.min(tt,_e.height-st);let ct=it(_e,ot,{width:lt,height:ut,origin:{column:at,row:st}});for(let ft=at;ft<at+lt;ft++)for(let dt=st;dt<st+ut;dt++)rt.setValue(ft,dt,ot,ct)}return rt}function getCellCenter(_e,et,tt){const nt={column:Math.floor((tt.origin.column+tt.origin.column+tt.width-1)/2),row:Math.floor((tt.origin.row+tt.origin.row+tt.height-1)/2)};return _e.getValue(nt.column,nt.row,et)}function getCellMean(_e,et,tt){let nt=0;for(let rt=tt.origin.column;rt<tt.origin.column+tt.width;rt++)for(let it=tt.origin.row;it<tt.origin.row+tt.height;it++)nt+=_e.getValue(rt,it,et);return Math.round(nt/(tt.width*tt.height))}function getCellMedian(_e,et,tt){let nt=[];for(let rt=tt.origin.column;rt<tt.origin.column+tt.width;rt++)for(let it=tt.origin.row;it<tt.origin.row+tt.height;it++)nt.push(_e.getValue(rt,it,et));return xMedian(nt)}function getCellValueFunction(_e){switch(_e){case"mean":return getCellMean;case"median":return getCellMedian;case"center":return getCellCenter;default:assertUnreachable(_e);break}}var imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=_e=>[..._e].map(et=>et.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(_e,et=0){let tt=_e[et],nt=1,rt=0;for(;++rt<8;)nt*=256,tt+=_e[et+rt]*nt;return tt}const fileType=_e=>{if(!(_e instanceof Uint8Array||_e instanceof ArrayBuffer||Buffer.isBuffer(_e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof _e}\``);const et=_e instanceof Uint8Array?_e:new Uint8Array(_e);if(!(et&&et.length>1))return null;const tt=(rt,it)=>{it=Object.assign({offset:0},it);for(let ot=0;ot<rt.length;ot++)if(it.mask){if(rt[ot]!==(it.mask[ot]&et[ot+it.offset]))return!1}else if(rt[ot]!==et[ot+it.offset])return!1;return!0},nt=(rt,it)=>tt(toBytes(rt),it);if(tt([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(tt([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(tt([71,73,70]))return{ext:"gif",mime:"image/gif"};if(tt([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(tt([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((tt([73,73,42,0])||tt([77,77,0,42]))&&tt([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(tt([73,73,42,0])||tt([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(tt([66,77]))return{ext:"bmp",mime:"image/bmp"};if(tt([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(tt([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(tt([80,75,3,4])){if(tt([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(tt(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(nt("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(nt("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(nt("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const rt=(st,lt=0)=>st.findIndex((ut,ct,ft)=>ct>=lt&&ft[ct]===80&&ft[ct+1]===75&&ft[ct+2]===3&&ft[ct+3]===4);let it=0,ot=!1,at=null;do{const st=it+30;if(ot||(ot=tt(oxmlContentTypes,{offset:st})||tt(oxmlRels,{offset:st})),at||(nt("word/",{offset:st})?at={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:nt("ppt/",{offset:st})?at={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:nt("xl/",{offset:st})&&(at={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ot&&at)return at;it=rt(et,st)}while(it>=0);if(at)return at}if(tt([80,75])&&(et[2]===3||et[2]===5||et[2]===7)&&(et[3]===4||et[3]===6||et[3]===8))return{ext:"zip",mime:"application/zip"};if(tt([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(tt([82,97,114,33,26,7])&&(et[6]===0||et[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(tt([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(tt([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(tt([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(tt([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(tt([51,103,112,53])||tt([0,0,0])&&tt([102,116,121,112],{offset:4})&&(tt([109,112,52,49],{offset:8})||tt([109,112,52,50],{offset:8})||tt([105,115,111,109],{offset:8})||tt([105,115,111,50],{offset:8})||tt([109,109,112,52],{offset:8})||tt([77,52,86],{offset:8})||tt([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(tt([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(tt([26,69,223,163])){const rt=et.subarray(4,4100),it=rt.findIndex((ot,at,st)=>st[at]===66&&st[at+1]===130);if(it!==-1){const ot=it+3,at=st=>[...st].every((lt,ut)=>rt[ot+ut]===lt.charCodeAt(0));if(at("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(at("webm"))return{ext:"webm",mime:"video/webm"}}}if(tt([0,0,0,20,102,116,121,112,113,116,32,32])||tt([102,114,101,101],{offset:4})||tt([102,116,121,112,113,116,32,32],{offset:4})||tt([109,100,97,116],{offset:4})||tt([109,111,111,118],{offset:4})||tt([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(tt([82,73,70,70])){if(tt([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(tt([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(tt([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(tt([48,38,178,117,142,102,207,17,166,217])){let rt=30;do{const it=readUInt64LE(et,rt+16);if(tt([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:rt})){if(tt([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:rt+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(tt([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:rt+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}rt+=it}while(rt+24<=et.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(tt([0,0,1,186])||tt([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(tt([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let rt=0;rt<2&&rt<et.length-16;rt++){if(tt([73,68,51],{offset:rt})||tt([255,226],{offset:rt,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(tt([255,228],{offset:rt,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,248],{offset:rt,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,240],{offset:rt,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(tt([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(tt([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(tt([79,103,103,83]))return tt([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:tt([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:tt([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:tt([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:tt([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(tt([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(tt([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(tt([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(tt([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(tt([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(tt([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((et[0]===67||et[0]===70)&&tt([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(tt([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(tt([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(tt([119,79,70,70])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(tt([119,79,70,50])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(tt([76,80],{offset:34})&&(tt([0,0,1],{offset:8})||tt([1,0,2],{offset:8})||tt([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(tt([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(tt([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(tt([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(tt([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(tt([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(tt([37,33]))return{ext:"ps",mime:"application/postscript"};if(tt([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(tt([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(tt([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(tt([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(tt([77,83,67,70])||tt([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(tt([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(tt([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(tt([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(tt([31,160])||tt([31,157]))return{ext:"Z",mime:"application/x-compress"};if(tt([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(tt([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(tt([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(tt([71],{offset:4})&&(tt([71],{offset:192})||tt([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(tt([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(tt([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(tt([0,0,0,12,106,80,32,32,13,10,135,10])){if(tt([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(tt([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(tt([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(tt([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(tt([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(nt("<?xml "))return{ext:"xml",mime:"application/xml"};if(tt([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(tt([102,116,121,112],{offset:4})){if(tt([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(tt([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(tt([104,101,105,99],{offset:8})||tt([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(tt([104,101,118,99],{offset:8})||tt([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return tt([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:tt([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:tt([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:tt([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:tt([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:tt([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:tt([212,195,178,161])||tt([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const _e=new stream.PassThrough,et=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{_e.fileType=fileType(et)}catch(tt){reject(tt)}readableStream.unshift(et),stream.pipeline?resolve(stream.pipeline(readableStream,_e,()=>{})):resolve(readableStream.pipe(_e))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=_e=>{const et=fileType(_e);return imageExts.has(et&&et.ext)?et:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs(imageTypeExports);(function(_e){if(_e.TextEncoder&&_e.TextDecoder)return!1;function et(nt="utf-8"){if(nt!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${nt}') is invalid.`)}Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),et.prototype.encode=function(nt,rt={stream:!1}){if(rt.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let it=0;const ot=nt.length;let at=0,st=Math.max(32,ot+(ot>>1)+7),lt=new Uint8Array(st>>3<<3);for(;it<ot;){let ut=nt.charCodeAt(it++);if(ut>=55296&&ut<=56319){if(it<ot){const ct=nt.charCodeAt(it);(ct&64512)===56320&&(++it,ut=((ut&1023)<<10)+(ct&1023)+65536)}if(ut>=55296&&ut<=56319)continue}if(at+4>lt.length){st+=8,st*=1+it/nt.length*2,st=st>>3<<3;const ct=new Uint8Array(st);ct.set(lt),lt=ct}if(ut&4294967168)if(!(ut&4294965248))lt[at++]=ut>>6&31|192;else if(!(ut&4294901760))lt[at++]=ut>>12&15|224,lt[at++]=ut>>6&63|128;else if(!(ut&4292870144))lt[at++]=ut>>18&7|240,lt[at++]=ut>>12&63|128,lt[at++]=ut>>6&63|128;else continue;else{lt[at++]=ut;continue}lt[at++]=ut&63|128}return lt.slice(0,at)};function tt(nt="utf-8",rt={fatal:!1}){if(nt!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${nt}') is invalid.`);if(rt.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(tt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(tt.prototype,"fatal",{value:!1}),Object.defineProperty(tt.prototype,"ignoreBOM",{value:!1}),tt.prototype.decode=function(nt,rt={stream:!1}){if(rt.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const it=new Uint8Array(nt);let ot=0;const at=it.length,st=[];for(;ot<at;){const lt=it[ot++];if(lt===0)break;if(!(lt&128))st.push(lt);else if((lt&224)===192){const ut=it[ot++]&63;st.push((lt&31)<<6|ut)}else if((lt&240)===224){const ut=it[ot++]&63,ct=it[ot++]&63;st.push((lt&31)<<12|ut<<6|ct)}else if((lt&248)===240){const ut=it[ot++]&63,ct=it[ot++]&63,ft=it[ot++]&63;let dt=(lt&7)<<18|ut<<12|ct<<6|ft;dt>65535&&(dt-=65536,st.push(dt>>>10&1023|55296),dt=56320|dt&1023),st.push(dt)}}return String.fromCharCode.apply(null,st)},_e.TextEncoder=et,_e.TextDecoder=tt})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$3(_e,et="utf8"){return new TextDecoder(et).decode(_e)}const encoder$1=new TextEncoder;function encode$1(_e){return encoder$1.encode(_e)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const _e=new Uint8Array(4),et=new Uint32Array(_e.buffer);return!((et[0]=1)&_e[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(et=defaultByteLength,tt={}){let nt=!1;typeof et=="number"?et=new ArrayBuffer(et):(nt=!0,this.lastWrittenByte=et.byteLength);const rt=tt.offset?tt.offset>>>0:0,it=et.byteLength-rt;let ot=rt;(ArrayBuffer.isView(et)||et instanceof IOBuffer)&&(et.byteLength!==et.buffer.byteLength&&(ot=et.byteOffset+rt),et=et.buffer),nt?this.lastWrittenByte=it:this.lastWrittenByte=0,this.buffer=et,this.length=it,this.byteLength=it,this.byteOffset=ot,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ot,it),this._mark=0,this._marks=[]}available(et=1){return this.offset+et<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(et=1){return this.offset+=et,this}back(et=1){return this.offset-=et,this}seek(et){return this.offset=et,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const et=this._marks.pop();if(et===void 0)throw new Error("Mark stack empty");return this.seek(et),this}rewind(){return this.offset=0,this}ensureAvailable(et=1){if(!this.available(et)){const nt=(this.offset+et)*2,rt=new Uint8Array(nt);rt.set(new Uint8Array(this.buffer)),this.buffer=rt.buffer,this.length=this.byteLength=nt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(et=1){return this.readArray(et,"uint8")}readArray(et,tt){const nt=typedArrays[tt].BYTES_PER_ELEMENT*et,rt=this.byteOffset+this.offset,it=this.buffer.slice(rt,rt+nt);if(this.littleEndian===hostBigEndian&&tt!=="uint8"&&tt!=="int8"){const at=new Uint8Array(this.buffer.slice(rt,rt+nt));at.reverse();const st=new typedArrays[tt](at.buffer);return this.offset+=nt,st.reverse(),st}const ot=new typedArrays[tt](it);return this.offset+=nt,ot}readInt16(){const et=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,et}readUint16(){const et=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,et}readInt32(){const et=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,et}readUint32(){const et=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat32(){const et=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat64(){const et=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,et}readBigInt64(){const et=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,et}readBigUint64(){const et=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,et}readChar(){return String.fromCharCode(this.readInt8())}readChars(et=1){let tt="";for(let nt=0;nt<et;nt++)tt+=this.readChar();return tt}readUtf8(et=1){return decode$3(this.readBytes(et))}decodeText(et=1,tt="utf-8"){return decode$3(this.readBytes(et),tt)}writeBoolean(et){return this.writeUint8(et?255:0),this}writeInt8(et){return this.ensureAvailable(1),this._data.setInt8(this.offset++,et),this._updateLastWrittenByte(),this}writeUint8(et){return this.ensureAvailable(1),this._data.setUint8(this.offset++,et),this._updateLastWrittenByte(),this}writeByte(et){return this.writeUint8(et)}writeBytes(et){this.ensureAvailable(et.length);for(let tt=0;tt<et.length;tt++)this._data.setUint8(this.offset++,et[tt]);return this._updateLastWrittenByte(),this}writeInt16(et){return this.ensureAvailable(2),this._data.setInt16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(et){return this.ensureAvailable(2),this._data.setUint16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(et){return this.ensureAvailable(4),this._data.setInt32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(et){return this.ensureAvailable(4),this._data.setUint32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(et){return this.ensureAvailable(4),this._data.setFloat32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(et){return this.ensureAvailable(8),this._data.setFloat64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(et){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(et){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(et){return this.writeUint8(et.charCodeAt(0))}writeChars(et){for(let tt=0;tt<et.length;tt++)this.writeUint8(et.charCodeAt(tt));return this}writeUtf8(et){return this.writeBytes(encode$1(et))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function guessStripByteCounts(_e){if(_e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const et=_e.rowsPerStrip*_e.width*_e.samplesPerPixel*(_e.bitsPerSample/8);return new Array(_e.stripOffsets.length).fill(et)}function applyHorizontalDifferencing8Bit(_e,et,tt){let nt=0;for(;nt<_e.length;){for(let rt=tt;rt<et*tt;rt+=tt)for(let it=0;it<tt;it++)_e[nt+rt+it]=_e[nt+rt+it]+_e[nt+rt-(tt-it)]&255;nt+=et*tt}}function applyHorizontalDifferencing16Bit(_e,et,tt){let nt=0;for(;nt<_e.length;){for(let rt=tt;rt<et*tt;rt+=tt)for(let it=0;it<tt;it++)_e[nt+rt+it]=_e[nt+rt+it]+_e[nt+rt-(tt-it)]&65535;nt+=et*tt}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(let _e in tagsById$2)tagsByName$2[tagsById$2[_e]]=Number(_e);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(let _e in tagsById$1)tagsByName$1[tagsById$1[_e]]=Number(_e);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(let _e in tagsById)tagsByName[tagsById[_e]]=Number(_e);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(et){if(!et)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=et,this._hasMap=!1,this._map={}}get(et){if(typeof et=="number")return this.fields.get(et);if(typeof et=="string")return this.fields.get(tags[this.kind].tagsByName[et]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const et=tags[this.kind].tagsById;for(let tt of this.fields.keys())et[tt]&&(this._map[et[tt]]=this.fields.get(tt));this._hasMap=!0}return this._map}}let types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(_e,et){const tt=types.get(_e);if(!tt)throw new Error(`type not found: ${_e}`);return tt[0]*et}function readData(_e,et,tt){const nt=types.get(et);if(!nt)throw new Error(`type not found: ${et}`);return nt[1](_e,tt)}function readByte(_e,et){if(et===1)return _e.readUint8();let tt=new Uint8Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint8();return tt}function readASCII(_e,et){let tt=[],nt="";for(let rt=0;rt<et;rt++){let it=String.fromCharCode(_e.readUint8());it==="\0"?(tt.push(nt),nt=""):nt+=it}return tt.length===1?tt[0]:tt}function readShort(_e,et){if(et===1)return _e.readUint16();let tt=new Uint16Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint16();return tt}function readLong(_e,et){if(et===1)return _e.readUint32();let tt=new Uint32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint32();return tt}function readRational(_e,et){if(et===1)return _e.readUint32()/_e.readUint32();let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readUint32()/_e.readUint32();return tt}function readSByte(_e,et){if(et===1)return _e.readInt8();let tt=new Int8Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt8();return tt}function readSShort(_e,et){if(et===1)return _e.readInt16();let tt=new Int16Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt16();return tt}function readSLong(_e,et){if(et===1)return _e.readInt32();let tt=new Int32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt32();return tt}function readSRational(_e,et){if(et===1)return _e.readInt32()/_e.readInt32();let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readInt32()/_e.readInt32();return tt}function readFloat(_e,et){if(et===1)return _e.readFloat32();let tt=new Float32Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readFloat32();return tt}function readDouble(_e,et){if(et===1)return _e.readFloat64();let tt=new Float64Array(et);for(let nt=0;nt<et;nt++)tt[nt]=_e.readFloat64();return tt}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let et=0;et<256;et++)stringTable.push([et]);const _e=[];for(let et=256;et<4096;et++)stringTable.push(_e)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(et){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(et.buffer,et.byteOffset,et.byteLength),this.outData=new IOBuffer(et.byteLength),this.initializeTable()}decode(){let et=0,tt=0;for(;(et=this.getNextCode())!==EOI_CODE;)if(et===CLEAR_CODE){if(this.initializeTable(),et=this.getNextCode(),et===EOI_CODE)break;this.writeString(this.stringFromCode(et)),tt=et}else if(this.isInTable(et))this.writeString(this.stringFromCode(et)),this.addStringToTable(this.stringFromCode(tt).concat(this.stringFromCode(et)[0])),tt=et;else{const rt=this.stringFromCode(tt).concat(this.stringFromCode(tt)[0]);this.writeString(rt),this.addStringToTable(rt),tt=et}const nt=this.outData.toArray();return new DataView(nt.buffer,nt.byteOffset,nt.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(et){this.outData.writeBytes(et)}stringFromCode(et){return stringTable[et]}isInTable(et){return et<this.tableLength}addStringToTable(et){if(stringTable[this.tableLength++]=et,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const et=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:et}}function decompressLzw(_e){return new LzwDecoder(_e).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let et=new Date,tt=dateTimeRegex.exec(this.dateTime);if(tt===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return et.setFullYear(Number(tt[1]),Number(tt[2])-1,Number(tt[3])),et.setHours(Number(tt[4]),Number(tt[5]),Number(tt[6])),et}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const et=this.get("BitsPerSample");return et&&typeof et!="number"?et[0]:et}get alpha(){const et=this.extraSamples;return et?et[0]!==0:!1}get associatedAlpha(){const et=this.extraSamples;return et?et[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const et=2**this.bitsPerSample,tt=this.get("ColorMap");if(!tt)return;if(tt.length!==3*et)throw new Error(`ColorMap size must be ${et}`);const nt=[];for(let rt=0;rt<et;rt++)nt.push([tt[rt],tt[rt+et],tt[rt+2*et]]);return nt}}function alwaysArray(_e){return typeof _e=="number"?[_e]:_e}function decompressZlib(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=inflate_1(et);return new DataView(tt.buffer,tt.byteOffset,tt.byteLength)}const defaultOptions={ignoreImageData:!1,onlyFirst:!1};class TIFFDecoder extends IOBuffer{constructor(et){super(et),this._nextIFD=0}get isMultiPage(){let et=0;for(this.decodeHeader();this._nextIFD;)if(et++,this.decodeIFD({ignoreImageData:!0},!0),et===2)return!0;if(et===1)return!1;throw unsupported("ifdCount",et)}get pageCount(){let et=0;for(this.decodeHeader();this._nextIFD;)et++,this.decodeIFD({ignoreImageData:!0},!0);if(et>0)return et;throw unsupported("ifdCount",et)}decode(et={}){et=Object.assign({},defaultOptions,et);const tt=[];for(this.decodeHeader();this._nextIFD;)if(tt.push(this.decodeIFD(et,!0)),et.onlyFirst)return[tt[0]];return tt}decodeHeader(){const et=this.readUint16();if(et===18761)this.setLittleEndian();else if(et===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${et.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(et,tt){this.seek(this._nextIFD);let nt;if(tt)nt=new TiffIfd;else{if(!et.kind)throw new Error("kind is missing");nt=new IFD(et.kind)}const rt=this.readUint16();for(let it=0;it<rt;it++)this.decodeIFDEntry(nt);if(!et.ignoreImageData){if(!(nt instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(nt)}return this._nextIFD=this.readUint32(),nt}decodeIFDEntry(et){const tt=this.offset,nt=this.readUint16(),rt=this.readUint16(),it=this.readUint32();if(rt<1||rt>12){this.skip(4);return}getByteLength(rt,it)>4&&this.seek(this.readUint32());const at=readData(this,rt,it);if(et.fields.set(nt,at),nt===34665||nt===34853){let st=this.offset,lt="exif";nt===34665?lt="exif":nt===34853&&(lt="gps"),this._nextIFD=at,et[lt]=this.decodeIFD({kind:lt,ignoreImageData:!0},!1),this.offset=st}this.seek(tt),this.skip(12)}decodeImageData(et){const tt=et.orientation;if(tt&&tt!==1)throw unsupported("orientation",tt);switch(et.type){case 0:case 1:case 2:case 3:this.readStripData(et);break;default:throw unsupported("image type",et.type)}if(this.applyPredictor(et),this.convertAlpha(et),et.type===0){const nt=et.bitsPerSample,rt=Math.pow(2,nt)-1;for(let it=0;it<et.data.length;it++)et.data[it]=rt-et.data[it]}}readStripData(et){const tt=et.width,nt=et.height,rt=et.bitsPerSample,it=et.sampleFormat,ot=tt*nt*et.samplesPerPixel,at=getDataArray(ot,rt,it),lt=et.rowsPerStrip*tt*et.samplesPerPixel,ut=et.stripOffsets,ct=et.stripByteCounts||guessStripByteCounts(et);let ft=ot,dt=0;for(let ht=0;ht<ut.length;ht++){let mt=new DataView(this.buffer,this.byteOffset+ut[ht],ct[ht]),yt=ft>lt?lt:ft;ft-=yt;let pt=mt;switch(et.compression){case 1:break;case 5:{pt=decompressLzw(mt);break}case 8:{pt=decompressZlib(mt);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",et.compression)}dt=this.fillUncompressed(rt,it,at,pt,dt,yt)}et.data=at}fillUncompressed(et,tt,nt,rt,it,ot){if(et===8)return fill8bit(nt,rt,it,ot);if(et===16)return fill16bit(nt,rt,it,ot,this.isLittleEndian());if(et===32&&tt===3)return fillFloat32(nt,rt,it,ot,this.isLittleEndian());throw unsupported("bitDepth",et)}applyPredictor(et){const tt=et.bitsPerSample;switch(et.predictor){case 1:break;case 2:{if(tt===8)applyHorizontalDifferencing8Bit(et.data,et.width,et.components);else if(tt===16)applyHorizontalDifferencing16Bit(et.data,et.width,et.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${tt}`);break}default:throw new Error(`invalid predictor: ${et.predictor}`)}}convertAlpha(et){if(et.alpha&&et.associatedAlpha){const{data:tt,components:nt,maxSampleValue:rt}=et;for(let it=0;it<tt.length;it+=nt){const ot=tt[it+nt-1];for(let at=0;at<nt-1;at++)tt[it+at]=Math.round(tt[it+at]*rt/ot)}}}}function getDataArray(_e,et,tt){if(et===8)return new Uint8Array(_e);if(et===16)return new Uint16Array(_e);if(et===32&&tt===3)return new Float32Array(_e);throw unsupported("bit depth / sample format",`${et} / ${tt}`)}function fill8bit(_e,et,tt,nt){for(let rt=0;rt<nt;rt++)_e[tt++]=et.getUint8(rt);return tt}function fill16bit(_e,et,tt,nt,rt){for(let it=0;it<nt*2;it+=2)_e[tt++]=et.getUint16(it,rt);return tt}function fillFloat32(_e,et,tt,nt,rt){for(let it=0;it<nt*4;it+=4)_e[tt++]=et.getFloat32(it,rt);return tt}function unsupported(_e,et){return new Error(`Unsupported ${_e}: ${et}`)}function decodeTIFF(_e,et){return new TIFFDecoder(_e).decode(et)}function decode$2(_e){const et=new IOBuffer(_e),tt={};if(et.setBigEndian(),et.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(et.readUint16()===65505){et.skip(2);const it=et.readBytes(6);it[0]===69&&it[1]===120&&it[2]===105&&it[3]===102&&it[4]===0&&it[5]===0&&(tt.exif=decodeTIFF(new Uint8Array(et.buffer,et.byteOffset+12,et.byteLength-12),{onlyFirst:!0,ignoreImageData:!0}))}return tt}var encoder={exports:{}};(function(_e){function et(nt){var rt=Math.floor,it=new Array(64),ot=new Array(64),at=new Array(64),st=new Array(64),lt,ut,ct,ft,dt=new Array(65535),ht=new Array(65535),mt=new Array(64),yt=new Array(64),pt=[],vt=0,gt=7,xt=new Array(64),wt=new Array(64),bt=new Array(64),St=new Array(256),kt=new Array(2048),Rt,Et=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],At=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Tt=[0,1,2,3,4,5,6,7,8,9,10,11],It=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_t=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Pt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Zt=[0,1,2,3,4,5,6,7,8,9,10,11],Ht=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],zt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function jt(Mt){for(var Ft=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Vt=0;Vt<64;Vt++){var Bt=rt((Ft[Vt]*Mt+50)/100);Bt<1?Bt=1:Bt>255&&(Bt=255),it[Et[Vt]]=Bt}for(var Xt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Yt=0;Yt<64;Yt++){var Gt=rt((Xt[Yt]*Mt+50)/100);Gt<1?Gt=1:Gt>255&&(Gt=255),ot[Et[Yt]]=Gt}for(var Qt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],cn=0,hn=0;hn<8;hn++)for(var yn=0;yn<8;yn++)at[cn]=1/(it[Et[cn]]*Qt[hn]*Qt[yn]*8),st[cn]=1/(ot[Et[cn]]*Qt[hn]*Qt[yn]*8),cn++}function Wt(Mt,Ft){for(var Vt=0,Bt=0,Xt=new Array,Yt=1;Yt<=16;Yt++){for(var Gt=1;Gt<=Mt[Yt];Gt++)Xt[Ft[Bt]]=[],Xt[Ft[Bt]][0]=Vt,Xt[Ft[Bt]][1]=Yt,Bt++,Vt++;Vt*=2}return Xt}function Nt(){lt=Wt(At,Tt),ut=Wt(Pt,Zt),ct=Wt(It,_t),ft=Wt(Ht,zt)}function Lt(){for(var Mt=1,Ft=2,Vt=1;Vt<=15;Vt++){for(var Bt=Mt;Bt<Ft;Bt++)ht[32767+Bt]=Vt,dt[32767+Bt]=[],dt[32767+Bt][1]=Vt,dt[32767+Bt][0]=Bt;for(var Xt=-(Ft-1);Xt<=-Mt;Xt++)ht[32767+Xt]=Vt,dt[32767+Xt]=[],dt[32767+Xt][1]=Vt,dt[32767+Xt][0]=Ft-1+Xt;Mt<<=1,Ft<<=1}}function Jt(){for(var Mt=0;Mt<256;Mt++)kt[Mt]=19595*Mt,kt[Mt+256>>0]=38470*Mt,kt[Mt+512>>0]=7471*Mt+32768,kt[Mt+768>>0]=-11059*Mt,kt[Mt+1024>>0]=-21709*Mt,kt[Mt+1280>>0]=32768*Mt+8421375,kt[Mt+1536>>0]=-27439*Mt,kt[Mt+1792>>0]=-5329*Mt}function qt(Mt){for(var Ft=Mt[0],Vt=Mt[1]-1;Vt>=0;)Ft&1<<Vt&&(vt|=1<<gt),Vt--,gt--,gt<0&&(vt==255?(Kt(255),Kt(0)):Kt(vt),gt=7,vt=0)}function Kt(Mt){pt.push(Mt)}function dn(Mt){Kt(Mt>>8&255),Kt(Mt&255)}function gn(Mt,Ft){var Vt,Bt,Xt,Yt,Gt,Qt,cn,hn,yn=0,bn,En=8,_n=64;for(bn=0;bn<En;++bn){Vt=Mt[yn],Bt=Mt[yn+1],Xt=Mt[yn+2],Yt=Mt[yn+3],Gt=Mt[yn+4],Qt=Mt[yn+5],cn=Mt[yn+6],hn=Mt[yn+7];var wn=Vt+hn,Sn=Vt-hn,kn=Bt+cn,Tn=Bt-cn,Cn=Xt+Qt,Rn=Xt-Qt,On=Yt+Gt,Pn=Yt-Gt,An=wn+On,Mn=wn-On,$n=kn+Cn,In=kn-Cn;Mt[yn]=An+$n,Mt[yn+4]=An-$n;var Dn=(In+Mn)*.707106781;Mt[yn+2]=Mn+Dn,Mt[yn+6]=Mn-Dn,An=Pn+Rn,$n=Rn+Tn,In=Tn+Sn;var jn=(An-In)*.382683433,Fn=.5411961*An+jn,Vn=1.306562965*In+jn,Wn=$n*.707106781,Gn=Sn+Wn,Zn=Sn-Wn;Mt[yn+5]=Zn+Fn,Mt[yn+3]=Zn-Fn,Mt[yn+1]=Gn+Vn,Mt[yn+7]=Gn-Vn,yn+=8}for(yn=0,bn=0;bn<En;++bn){Vt=Mt[yn],Bt=Mt[yn+8],Xt=Mt[yn+16],Yt=Mt[yn+24],Gt=Mt[yn+32],Qt=Mt[yn+40],cn=Mt[yn+48],hn=Mt[yn+56];var Yn=Vt+hn,Un=Vt-hn,Kn=Bt+cn,qn=Bt-cn,Xn=Xt+Qt,Qn=Xt-Qt,Jn=Yt+Gt,lr=Yt-Gt,Nn=Yn+Jn,Hn=Yn-Jn,Ln=Kn+Xn,Bn=Kn-Xn;Mt[yn]=Nn+Ln,Mt[yn+32]=Nn-Ln;var er=(Bn+Hn)*.707106781;Mt[yn+16]=Hn+er,Mt[yn+48]=Hn-er,Nn=lr+Qn,Ln=Qn+qn,Bn=qn+Un;var tr=(Nn-Bn)*.382683433,nr=.5411961*Nn+tr,rr=1.306562965*Bn+tr,ir=Ln*.707106781,ar=Un+ir,sr=Un-ir;Mt[yn+40]=sr+nr,Mt[yn+24]=sr-nr,Mt[yn+8]=ar+rr,Mt[yn+56]=ar-rr,yn++}var zn;for(bn=0;bn<_n;++bn)zn=Mt[bn]*Ft[bn],mt[bn]=zn>0?zn+.5|0:zn-.5|0;return mt}function xn(){dn(65504),dn(16),Kt(74),Kt(70),Kt(73),Kt(70),Kt(0),Kt(1),Kt(1),Kt(0),dn(1),dn(1),Kt(0),Kt(0)}function sn(Mt){if(Mt){dn(65505),Mt[0]===69&&Mt[1]===120&&Mt[2]===105&&Mt[3]===102?dn(Mt.length+2):(dn(Mt.length+5+2),Kt(69),Kt(120),Kt(105),Kt(102),Kt(0));for(var Ft=0;Ft<Mt.length;Ft++)Kt(Mt[Ft])}}function pn(Mt,Ft){dn(65472),dn(17),Kt(8),dn(Ft),dn(Mt),Kt(3),Kt(1),Kt(17),Kt(0),Kt(2),Kt(17),Kt(1),Kt(3),Kt(17),Kt(1)}function mn(){dn(65499),dn(132),Kt(0);for(var Mt=0;Mt<64;Mt++)Kt(it[Mt]);Kt(1);for(var Ft=0;Ft<64;Ft++)Kt(ot[Ft])}function ln(){dn(65476),dn(418),Kt(0);for(var Mt=0;Mt<16;Mt++)Kt(At[Mt+1]);for(var Ft=0;Ft<=11;Ft++)Kt(Tt[Ft]);Kt(16);for(var Vt=0;Vt<16;Vt++)Kt(It[Vt+1]);for(var Bt=0;Bt<=161;Bt++)Kt(_t[Bt]);Kt(1);for(var Xt=0;Xt<16;Xt++)Kt(Pt[Xt+1]);for(var Yt=0;Yt<=11;Yt++)Kt(Zt[Yt]);Kt(17);for(var Gt=0;Gt<16;Gt++)Kt(Ht[Gt+1]);for(var Qt=0;Qt<=161;Qt++)Kt(zt[Qt])}function vn(Mt){typeof Mt>"u"||Mt.constructor!==Array||Mt.forEach(Ft=>{if(typeof Ft=="string"){dn(65534);var Vt=Ft.length;dn(Vt+2);var Bt;for(Bt=0;Bt<Vt;Bt++)Kt(Ft.charCodeAt(Bt))}})}function Ct(){dn(65498),dn(12),Kt(3),Kt(1),Kt(0),Kt(2),Kt(17),Kt(3),Kt(17),Kt(0),Kt(63),Kt(0)}function Ut(Mt,Ft,Vt,Bt,Xt){for(var Yt=Xt[0],Gt=Xt[240],Qt,cn=16,hn=63,yn=64,bn=gn(Mt,Ft),En=0;En<yn;++En)yt[Et[En]]=bn[En];var _n=yt[0]-Vt;Vt=yt[0],_n==0?qt(Bt[0]):(Qt=32767+_n,qt(Bt[ht[Qt]]),qt(dt[Qt]));for(var wn=63;wn>0&&yt[wn]==0;wn--);if(wn==0)return qt(Yt),Vt;for(var Sn=1,kn;Sn<=wn;){for(var Tn=Sn;yt[Sn]==0&&Sn<=wn;++Sn);var Cn=Sn-Tn;if(Cn>=cn){kn=Cn>>4;for(var Rn=1;Rn<=kn;++Rn)qt(Gt);Cn=Cn&15}Qt=32767+yt[Sn],qt(Xt[(Cn<<4)+ht[Qt]]),qt(dt[Qt]),Sn++}return wn!=hn&&qt(Yt),Vt}function Dt(){for(var Mt=String.fromCharCode,Ft=0;Ft<256;Ft++)St[Ft]=Mt(Ft)}this.encode=function(Mt,Ft){new Date().getTime(),Ft&&Ot(Ft),pt=new Array,vt=0,gt=7,dn(65496),xn(),vn(Mt.comments),sn(Mt.exifBuffer),mn(),pn(Mt.width,Mt.height),ln(),Ct();var Vt=0,Bt=0,Xt=0;vt=0,gt=7,this.encode.displayName="_encode_";for(var Yt=Mt.data,Gt=Mt.width,Qt=Mt.height,cn=Gt*4,hn,yn=0,bn,En,_n,wn,Sn,kn,Tn,Cn;yn<Qt;){for(hn=0;hn<cn;){for(wn=cn*yn+hn,Sn=wn,kn=-1,Tn=0,Cn=0;Cn<64;Cn++)Tn=Cn>>3,kn=(Cn&7)*4,Sn=wn+Tn*cn+kn,yn+Tn>=Qt&&(Sn-=cn*(yn+1+Tn-Qt)),hn+kn>=cn&&(Sn-=hn+kn-cn+4),bn=Yt[Sn++],En=Yt[Sn++],_n=Yt[Sn++],xt[Cn]=(kt[bn]+kt[En+256>>0]+kt[_n+512>>0]>>16)-128,wt[Cn]=(kt[bn+768>>0]+kt[En+1024>>0]+kt[_n+1280>>0]>>16)-128,bt[Cn]=(kt[bn+1280>>0]+kt[En+1536>>0]+kt[_n+1792>>0]>>16)-128;Vt=Ut(xt,at,Vt,lt,ct),Bt=Ut(wt,st,Bt,ut,ft),Xt=Ut(bt,st,Xt,ut,ft),hn+=32}yn+=8}if(gt>=0){var Rn=[];Rn[1]=gt+1,Rn[0]=(1<<gt+1)-1,qt(Rn)}return dn(65497),Buffer.from(pt)};function Ot(Mt){if(Mt<=0&&(Mt=1),Mt>100&&(Mt=100),Rt!=Mt){var Ft=0;Mt<50?Ft=Math.floor(5e3/Mt):Ft=Math.floor(200-Mt*2),jt(Ft),Rt=Mt}}function $t(){var Mt=new Date().getTime();nt||(nt=50),Dt(),Nt(),Lt(),Jt(),Ot(nt),new Date().getTime()-Mt}$t()}_e.exports=tt;function tt(nt,rt){typeof rt>"u"&&(rt=50);var it=new et(rt),ot=it.encode(nt,rt);return{data:ot,width:nt.width,height:nt.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(_e){var et=function(){var rt=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),it=4017,ot=799,at=3406,st=2276,lt=1567,ut=3784,ct=5793,ft=2896;function dt(){}function ht(wt,bt){for(var St=0,kt=[],Rt,Et,At=16;At>0&&!wt[At-1];)At--;kt.push({children:[],index:0});var Tt=kt[0],It;for(Rt=0;Rt<At;Rt++){for(Et=0;Et<wt[Rt];Et++){for(Tt=kt.pop(),Tt.children[Tt.index]=bt[St];Tt.index>0;){if(kt.length===0)throw new Error("Could not recreate Huffman Table");Tt=kt.pop()}for(Tt.index++,kt.push(Tt);kt.length<=Rt;)kt.push(It={children:[],index:0}),Tt.children[Tt.index]=It.children,Tt=It;St++}Rt+1<At&&(kt.push(It={children:[],index:0}),Tt.children[Tt.index]=It.children,Tt=It)}return kt[0].children}function mt(wt,bt,St,kt,Rt,Et,At,Tt,It,_t){St.precision,St.samplesPerLine,St.scanLines;var Pt=St.mcusPerLine,Zt=St.progressive;St.maxH,St.maxV;var Ht=bt,zt=0,jt=0;function Wt(){if(jt>0)return jt--,zt>>jt&1;if(zt=wt[bt++],zt==255){var Qt=wt[bt++];if(Qt)throw new Error("unexpected marker: "+(zt<<8|Qt).toString(16))}return jt=7,zt>>>7}function Nt(Qt){for(var cn=Qt,hn;(hn=Wt())!==null;){if(cn=cn[hn],typeof cn=="number")return cn;if(typeof cn!="object")throw new Error("invalid huffman sequence")}return null}function Lt(Qt){for(var cn=0;Qt>0;){var hn=Wt();if(hn===null)return;cn=cn<<1|hn,Qt--}return cn}function Jt(Qt){var cn=Lt(Qt);return cn>=1<<Qt-1?cn:cn+(-1<<Qt)+1}function qt(Qt,cn){var hn=Nt(Qt.huffmanTableDC),yn=hn===0?0:Jt(hn);cn[0]=Qt.pred+=yn;for(var bn=1;bn<64;){var En=Nt(Qt.huffmanTableAC),_n=En&15,wn=En>>4;if(_n===0){if(wn<15)break;bn+=16;continue}bn+=wn;var Sn=rt[bn];cn[Sn]=Jt(_n),bn++}}function Kt(Qt,cn){var hn=Nt(Qt.huffmanTableDC),yn=hn===0?0:Jt(hn)<<It;cn[0]=Qt.pred+=yn}function dn(Qt,cn){cn[0]|=Wt()<<It}var gn=0;function xn(Qt,cn){if(gn>0){gn--;return}for(var hn=Et,yn=At;hn<=yn;){var bn=Nt(Qt.huffmanTableAC),En=bn&15,_n=bn>>4;if(En===0){if(_n<15){gn=Lt(_n)+(1<<_n)-1;break}hn+=16;continue}hn+=_n;var wn=rt[hn];cn[wn]=Jt(En)*(1<<It),hn++}}var sn=0,pn;function mn(Qt,cn){for(var hn=Et,yn=At,bn=0;hn<=yn;){var En=rt[hn],_n=cn[En]<0?-1:1;switch(sn){case 0:var wn=Nt(Qt.huffmanTableAC),Sn=wn&15,bn=wn>>4;if(Sn===0)bn<15?(gn=Lt(bn)+(1<<bn),sn=4):(bn=16,sn=1);else{if(Sn!==1)throw new Error("invalid ACn encoding");pn=Jt(Sn),sn=bn?2:3}continue;case 1:case 2:cn[En]?cn[En]+=(Wt()<<It)*_n:(bn--,bn===0&&(sn=sn==2?3:0));break;case 3:cn[En]?cn[En]+=(Wt()<<It)*_n:(cn[En]=pn<<It,sn=0);break;case 4:cn[En]&&(cn[En]+=(Wt()<<It)*_n);break}hn++}sn===4&&(gn--,gn===0&&(sn=0))}function ln(Qt,cn,hn,yn,bn){var En=hn/Pt|0,_n=hn%Pt,wn=En*Qt.v+yn,Sn=_n*Qt.h+bn;Qt.blocks[wn]===void 0&&_t.tolerantDecoding||cn(Qt,Qt.blocks[wn][Sn])}function vn(Qt,cn,hn){var yn=hn/Qt.blocksPerLine|0,bn=hn%Qt.blocksPerLine;Qt.blocks[yn]===void 0&&_t.tolerantDecoding||cn(Qt,Qt.blocks[yn][bn])}var Ct=kt.length,Ut,Dt,Ot,$t,Mt,Ft;Zt?Et===0?Ft=Tt===0?Kt:dn:Ft=Tt===0?xn:mn:Ft=qt;var Vt=0,Bt,Xt;Ct==1?Xt=kt[0].blocksPerLine*kt[0].blocksPerColumn:Xt=Pt*St.mcusPerColumn,Rt||(Rt=Xt);for(var Yt,Gt;Vt<Xt;){for(Dt=0;Dt<Ct;Dt++)kt[Dt].pred=0;if(gn=0,Ct==1)for(Ut=kt[0],Mt=0;Mt<Rt;Mt++)vn(Ut,Ft,Vt),Vt++;else for(Mt=0;Mt<Rt;Mt++){for(Dt=0;Dt<Ct;Dt++)for(Ut=kt[Dt],Yt=Ut.h,Gt=Ut.v,Ot=0;Ot<Gt;Ot++)for($t=0;$t<Yt;$t++)ln(Ut,Ft,Vt,Ot,$t);if(Vt++,Vt===Xt)break}if(Vt===Xt)do{if(wt[bt]===255&&wt[bt+1]!==0)break;bt+=1}while(bt<wt.length-2);if(jt=0,Bt=wt[bt]<<8|wt[bt+1],Bt<65280)throw new Error("marker was not found");if(Bt>=65488&&Bt<=65495)bt+=2;else break}return bt-Ht}function yt(wt,bt){var St=[],kt=bt.blocksPerLine,Rt=bt.blocksPerColumn,Et=kt<<3,At=new Int32Array(64),Tt=new Uint8Array(64);function It(Lt,Jt,qt){var Kt=bt.quantizationTable,dn,gn,xn,sn,pn,mn,ln,vn,Ct,Ut=qt,Dt;for(Dt=0;Dt<64;Dt++)Ut[Dt]=Lt[Dt]*Kt[Dt];for(Dt=0;Dt<8;++Dt){var Ot=8*Dt;if(Ut[1+Ot]==0&&Ut[2+Ot]==0&&Ut[3+Ot]==0&&Ut[4+Ot]==0&&Ut[5+Ot]==0&&Ut[6+Ot]==0&&Ut[7+Ot]==0){Ct=ct*Ut[0+Ot]+512>>10,Ut[0+Ot]=Ct,Ut[1+Ot]=Ct,Ut[2+Ot]=Ct,Ut[3+Ot]=Ct,Ut[4+Ot]=Ct,Ut[5+Ot]=Ct,Ut[6+Ot]=Ct,Ut[7+Ot]=Ct;continue}dn=ct*Ut[0+Ot]+128>>8,gn=ct*Ut[4+Ot]+128>>8,xn=Ut[2+Ot],sn=Ut[6+Ot],pn=ft*(Ut[1+Ot]-Ut[7+Ot])+128>>8,vn=ft*(Ut[1+Ot]+Ut[7+Ot])+128>>8,mn=Ut[3+Ot]<<4,ln=Ut[5+Ot]<<4,Ct=dn-gn+1>>1,dn=dn+gn+1>>1,gn=Ct,Ct=xn*ut+sn*lt+128>>8,xn=xn*lt-sn*ut+128>>8,sn=Ct,Ct=pn-ln+1>>1,pn=pn+ln+1>>1,ln=Ct,Ct=vn+mn+1>>1,mn=vn-mn+1>>1,vn=Ct,Ct=dn-sn+1>>1,dn=dn+sn+1>>1,sn=Ct,Ct=gn-xn+1>>1,gn=gn+xn+1>>1,xn=Ct,Ct=pn*st+vn*at+2048>>12,pn=pn*at-vn*st+2048>>12,vn=Ct,Ct=mn*ot+ln*it+2048>>12,mn=mn*it-ln*ot+2048>>12,ln=Ct,Ut[0+Ot]=dn+vn,Ut[7+Ot]=dn-vn,Ut[1+Ot]=gn+ln,Ut[6+Ot]=gn-ln,Ut[2+Ot]=xn+mn,Ut[5+Ot]=xn-mn,Ut[3+Ot]=sn+pn,Ut[4+Ot]=sn-pn}for(Dt=0;Dt<8;++Dt){var $t=Dt;if(Ut[8+$t]==0&&Ut[16+$t]==0&&Ut[24+$t]==0&&Ut[32+$t]==0&&Ut[40+$t]==0&&Ut[48+$t]==0&&Ut[56+$t]==0){Ct=ct*qt[Dt+0]+8192>>14,Ut[0+$t]=Ct,Ut[8+$t]=Ct,Ut[16+$t]=Ct,Ut[24+$t]=Ct,Ut[32+$t]=Ct,Ut[40+$t]=Ct,Ut[48+$t]=Ct,Ut[56+$t]=Ct;continue}dn=ct*Ut[0+$t]+2048>>12,gn=ct*Ut[32+$t]+2048>>12,xn=Ut[16+$t],sn=Ut[48+$t],pn=ft*(Ut[8+$t]-Ut[56+$t])+2048>>12,vn=ft*(Ut[8+$t]+Ut[56+$t])+2048>>12,mn=Ut[24+$t],ln=Ut[40+$t],Ct=dn-gn+1>>1,dn=dn+gn+1>>1,gn=Ct,Ct=xn*ut+sn*lt+2048>>12,xn=xn*lt-sn*ut+2048>>12,sn=Ct,Ct=pn-ln+1>>1,pn=pn+ln+1>>1,ln=Ct,Ct=vn+mn+1>>1,mn=vn-mn+1>>1,vn=Ct,Ct=dn-sn+1>>1,dn=dn+sn+1>>1,sn=Ct,Ct=gn-xn+1>>1,gn=gn+xn+1>>1,xn=Ct,Ct=pn*st+vn*at+2048>>12,pn=pn*at-vn*st+2048>>12,vn=Ct,Ct=mn*ot+ln*it+2048>>12,mn=mn*it-ln*ot+2048>>12,ln=Ct,Ut[0+$t]=dn+vn,Ut[56+$t]=dn-vn,Ut[8+$t]=gn+ln,Ut[48+$t]=gn-ln,Ut[16+$t]=xn+mn,Ut[40+$t]=xn-mn,Ut[24+$t]=sn+pn,Ut[32+$t]=sn-pn}for(Dt=0;Dt<64;++Dt){var Mt=128+(Ut[Dt]+8>>4);Jt[Dt]=Mt<0?0:Mt>255?255:Mt}}xt(Et*Rt*8);for(var _t,Pt,Zt=0;Zt<Rt;Zt++){var Ht=Zt<<3;for(_t=0;_t<8;_t++)St.push(new Uint8Array(Et));for(var zt=0;zt<kt;zt++){It(bt.blocks[Zt][zt],Tt,At);var jt=0,Wt=zt<<3;for(Pt=0;Pt<8;Pt++){var Nt=St[Ht+Pt];for(_t=0;_t<8;_t++)Nt[Wt+_t]=Tt[jt++]}}}return St}function pt(wt){return wt<0?0:wt>255?255:wt}dt.prototype={load:function(bt){var St=new XMLHttpRequest;St.open("GET",bt,!0),St.responseType="arraybuffer",St.onload=function(){var kt=new Uint8Array(St.response||St.mozResponseArrayBuffer);this.parse(kt),this.onload&&this.onload()}.bind(this),St.send(null)},parse:function(bt){var St=this.opts.maxResolutionInMP*1e3*1e3,kt=0;bt.length;function Rt(){var _n=bt[kt]<<8|bt[kt+1];return kt+=2,_n}function Et(){var _n=Rt(),wn=bt.subarray(kt,kt+_n-2);return kt+=wn.length,wn}function At(_n){var wn=1,Sn=1,kn,Tn;for(Tn in _n.components)_n.components.hasOwnProperty(Tn)&&(kn=_n.components[Tn],wn<kn.h&&(wn=kn.h),Sn<kn.v&&(Sn=kn.v));var Cn=Math.ceil(_n.samplesPerLine/8/wn),Rn=Math.ceil(_n.scanLines/8/Sn);for(Tn in _n.components)if(_n.components.hasOwnProperty(Tn)){kn=_n.components[Tn];var On=Math.ceil(Math.ceil(_n.samplesPerLine/8)*kn.h/wn),Pn=Math.ceil(Math.ceil(_n.scanLines/8)*kn.v/Sn),An=Cn*kn.h,Mn=Rn*kn.v,$n=Mn*An,In=[];xt($n*256);for(var Dn=0;Dn<Mn;Dn++){for(var jn=[],Fn=0;Fn<An;Fn++)jn.push(new Int32Array(64));In.push(jn)}kn.blocksPerLine=On,kn.blocksPerColumn=Pn,kn.blocks=In}_n.maxH=wn,_n.maxV=Sn,_n.mcusPerLine=Cn,_n.mcusPerColumn=Rn}var Tt=null,It=null,_t,Pt,Zt=[],Ht=[],zt=[],jt=[],Wt=Rt(),Nt=-1;if(this.comments=[],Wt!=65496)throw new Error("SOI not found");for(Wt=Rt();Wt!=65497;){var Lt,Jt;switch(Wt){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var qt=Et();if(Wt===65534){var Kt=String.fromCharCode.apply(null,qt);this.comments.push(Kt)}Wt===65504&&qt[0]===74&&qt[1]===70&&qt[2]===73&&qt[3]===70&&qt[4]===0&&(Tt={version:{major:qt[5],minor:qt[6]},densityUnits:qt[7],xDensity:qt[8]<<8|qt[9],yDensity:qt[10]<<8|qt[11],thumbWidth:qt[12],thumbHeight:qt[13],thumbData:qt.subarray(14,14+3*qt[12]*qt[13])}),Wt===65505&&qt[0]===69&&qt[1]===120&&qt[2]===105&&qt[3]===102&&qt[4]===0&&(this.exifBuffer=qt.subarray(5,qt.length)),Wt===65518&&qt[0]===65&&qt[1]===100&&qt[2]===111&&qt[3]===98&&qt[4]===101&&qt[5]===0&&(It={version:qt[6],flags0:qt[7]<<8|qt[8],flags1:qt[9]<<8|qt[10],transformCode:qt[11]});break;case 65499:for(var dn=Rt(),gn=dn+kt-2;kt<gn;){var xn=bt[kt++];xt(256);var sn=new Int32Array(64);if(xn>>4)if(xn>>4===1)for(Jt=0;Jt<64;Jt++){var pn=rt[Jt];sn[pn]=Rt()}else throw new Error("DQT: invalid table spec");else for(Jt=0;Jt<64;Jt++){var pn=rt[Jt];sn[pn]=bt[kt++]}Zt[xn&15]=sn}break;case 65472:case 65473:case 65474:Rt(),_t={},_t.extended=Wt===65473,_t.progressive=Wt===65474,_t.precision=bt[kt++],_t.scanLines=Rt(),_t.samplesPerLine=Rt(),_t.components={},_t.componentsOrder=[];var mn=_t.scanLines*_t.samplesPerLine;if(mn>St){var ln=Math.ceil((mn-St)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${ln}MP`)}var vn=bt[kt++],Ct;for(Lt=0;Lt<vn;Lt++){Ct=bt[kt];var Ut=bt[kt+1]>>4,Dt=bt[kt+1]&15,Ot=bt[kt+2];if(Ut<=0||Dt<=0)throw new Error("Invalid sampling factor, expected values above 0");_t.componentsOrder.push(Ct),_t.components[Ct]={h:Ut,v:Dt,quantizationIdx:Ot},kt+=3}At(_t),Ht.push(_t);break;case 65476:var $t=Rt();for(Lt=2;Lt<$t;){var Mt=bt[kt++],Ft=new Uint8Array(16),Vt=0;for(Jt=0;Jt<16;Jt++,kt++)Vt+=Ft[Jt]=bt[kt];xt(16+Vt);var Bt=new Uint8Array(Vt);for(Jt=0;Jt<Vt;Jt++,kt++)Bt[Jt]=bt[kt];Lt+=17+Vt,(Mt>>4?zt:jt)[Mt&15]=ht(Ft,Bt)}break;case 65501:Rt(),Pt=Rt();break;case 65500:Rt(),Rt();break;case 65498:Rt();var Xt=bt[kt++],Yt=[],Gt;for(Lt=0;Lt<Xt;Lt++){Gt=_t.components[bt[kt++]];var Qt=bt[kt++];Gt.huffmanTableDC=jt[Qt>>4],Gt.huffmanTableAC=zt[Qt&15],Yt.push(Gt)}var cn=bt[kt++],hn=bt[kt++],yn=bt[kt++],bn=mt(bt,kt,_t,Yt,Pt,cn,hn,yn>>4,yn&15,this.opts);kt+=bn;break;case 65535:bt[kt]!==255&&kt--;break;default:if(bt[kt-3]==255&&bt[kt-2]>=192&&bt[kt-2]<=254){kt-=3;break}else if(Wt===224||Wt==225){if(Nt!==-1)throw new Error(`first unknown JPEG marker at offset ${Nt.toString(16)}, second unknown JPEG marker ${Wt.toString(16)} at offset ${(kt-1).toString(16)}`);Nt=kt-1;const _n=Rt();if(bt[kt+_n-2]===255){kt+=_n-2;break}}throw new Error("unknown JPEG marker "+Wt.toString(16))}Wt=Rt()}if(Ht.length!=1)throw new Error("only single frame JPEGs supported");for(var Lt=0;Lt<Ht.length;Lt++){var En=Ht[Lt].components;for(var Jt in En)En[Jt].quantizationTable=Zt[En[Jt].quantizationIdx],delete En[Jt].quantizationIdx}this.width=_t.samplesPerLine,this.height=_t.scanLines,this.jfif=Tt,this.adobe=It,this.components=[];for(var Lt=0;Lt<_t.componentsOrder.length;Lt++){var Gt=_t.components[_t.componentsOrder[Lt]];this.components.push({lines:yt(_t,Gt),scaleX:Gt.h/_t.maxH,scaleY:Gt.v/_t.maxV})}},getData:function(bt,St){var kt=this.width/bt,Rt=this.height/St,Et,At,Tt,It,_t,Pt,Zt,Ht,zt,jt,Wt=0,Nt,Lt,Jt,qt,Kt,dn,gn,xn,sn,pn,mn,ln=bt*St*this.components.length;xt(ln);var vn=new Uint8Array(ln);switch(this.components.length){case 1:for(Et=this.components[0],jt=0;jt<St;jt++)for(_t=Et.lines[0|jt*Et.scaleY*Rt],zt=0;zt<bt;zt++)Nt=_t[0|zt*Et.scaleX*kt],vn[Wt++]=Nt;break;case 2:for(Et=this.components[0],At=this.components[1],jt=0;jt<St;jt++)for(_t=Et.lines[0|jt*Et.scaleY*Rt],Pt=At.lines[0|jt*At.scaleY*Rt],zt=0;zt<bt;zt++)Nt=_t[0|zt*Et.scaleX*kt],vn[Wt++]=Nt,Nt=Pt[0|zt*At.scaleX*kt],vn[Wt++]=Nt;break;case 3:for(mn=!0,this.adobe&&this.adobe.transformCode?mn=!0:typeof this.opts.colorTransform<"u"&&(mn=!!this.opts.colorTransform),Et=this.components[0],At=this.components[1],Tt=this.components[2],jt=0;jt<St;jt++)for(_t=Et.lines[0|jt*Et.scaleY*Rt],Pt=At.lines[0|jt*At.scaleY*Rt],Zt=Tt.lines[0|jt*Tt.scaleY*Rt],zt=0;zt<bt;zt++)mn?(Nt=_t[0|zt*Et.scaleX*kt],Lt=Pt[0|zt*At.scaleX*kt],Jt=Zt[0|zt*Tt.scaleX*kt],xn=pt(Nt+1.402*(Jt-128)),sn=pt(Nt-.3441363*(Lt-128)-.71413636*(Jt-128)),pn=pt(Nt+1.772*(Lt-128))):(xn=_t[0|zt*Et.scaleX*kt],sn=Pt[0|zt*At.scaleX*kt],pn=Zt[0|zt*Tt.scaleX*kt]),vn[Wt++]=xn,vn[Wt++]=sn,vn[Wt++]=pn;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(mn=!1,this.adobe&&this.adobe.transformCode?mn=!0:typeof this.opts.colorTransform<"u"&&(mn=!!this.opts.colorTransform),Et=this.components[0],At=this.components[1],Tt=this.components[2],It=this.components[3],jt=0;jt<St;jt++)for(_t=Et.lines[0|jt*Et.scaleY*Rt],Pt=At.lines[0|jt*At.scaleY*Rt],Zt=Tt.lines[0|jt*Tt.scaleY*Rt],Ht=It.lines[0|jt*It.scaleY*Rt],zt=0;zt<bt;zt++)mn?(Nt=_t[0|zt*Et.scaleX*kt],Lt=Pt[0|zt*At.scaleX*kt],Jt=Zt[0|zt*Tt.scaleX*kt],qt=Ht[0|zt*It.scaleX*kt],Kt=255-pt(Nt+1.402*(Jt-128)),dn=255-pt(Nt-.3441363*(Lt-128)-.71413636*(Jt-128)),gn=255-pt(Nt+1.772*(Lt-128))):(Kt=_t[0|zt*Et.scaleX*kt],dn=Pt[0|zt*At.scaleX*kt],gn=Zt[0|zt*Tt.scaleX*kt],qt=Ht[0|zt*It.scaleX*kt]),vn[Wt++]=255-Kt,vn[Wt++]=255-dn,vn[Wt++]=255-gn,vn[Wt++]=255-qt;break;default:throw new Error("Unsupported color mode")}return vn},copyToImageData:function(bt,St){var kt=bt.width,Rt=bt.height,Et=bt.data,At=this.getData(kt,Rt),Tt=0,It=0,_t,Pt,Zt,Ht,zt,jt,Wt,Nt,Lt;switch(this.components.length){case 1:for(Pt=0;Pt<Rt;Pt++)for(_t=0;_t<kt;_t++)Zt=At[Tt++],Et[It++]=Zt,Et[It++]=Zt,Et[It++]=Zt,St&&(Et[It++]=255);break;case 3:for(Pt=0;Pt<Rt;Pt++)for(_t=0;_t<kt;_t++)Wt=At[Tt++],Nt=At[Tt++],Lt=At[Tt++],Et[It++]=Wt,Et[It++]=Nt,Et[It++]=Lt,St&&(Et[It++]=255);break;case 4:for(Pt=0;Pt<Rt;Pt++)for(_t=0;_t<kt;_t++)zt=At[Tt++],jt=At[Tt++],Zt=At[Tt++],Ht=At[Tt++],Wt=255-pt(zt*(1-Ht/255)+Ht),Nt=255-pt(jt*(1-Ht/255)+Ht),Lt=255-pt(Zt*(1-Ht/255)+Ht),Et[It++]=Wt,Et[It++]=Nt,Et[It++]=Lt,St&&(Et[It++]=255);break;default:throw new Error("Unsupported color mode")}}};var vt=0,gt=0;function xt(wt=0){var bt=vt+wt;if(bt>gt){var St=Math.ceil((bt-gt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${St}MB`)}vt=bt}return dt.resetMaxMemoryUsage=function(wt){vt=0,gt=wt},dt.getBytesAllocated=function(){return vt},dt.requestMemoryAllocation=xt,dt}();_e.exports=tt;function tt(nt,rt={}){var it={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ot={...it,...rt},at=new Uint8Array(nt),st=new et;st.opts=ot,et.resetMaxMemoryUsage(ot.maxMemoryUsageInMB*1024*1024),st.parse(at);var lt=ot.formatAsRGBA?4:3,ut=st.width*st.height*lt;try{et.requestMemoryAllocation(ut);var ct={width:st.width,height:st.height,exifBuffer:st.exifBuffer,data:ot.useTArray?new Uint8Array(ut):Buffer.alloc(ut)};st.comments.length>0&&(ct.comments=st.comments)}catch(ft){throw ft instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+ut):ft instanceof ReferenceError&&ft.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ft}return st.copyToImageData(ct,ot.formatAsRGBA),ct}})(decoder);var decoderExports=decoder.exports,encode=encoderExports,decode$1=decoderExports,jpegJs={encode,decode:decode$1};function getMetadata(_e){return{tiff:{fields:_e.fields,tags:_e.map},exif:_e.exif}}function decodeJpeg(_e){var rt;const et=jpegJs.decode(_e,{useTArray:!0,maxMemoryUsageInMB:Number.POSITIVE_INFINITY,maxResolutionInMP:Number.POSITIVE_INFINITY}),tt=decode$2(_e),nt=(rt=tt.exif)!=null&&rt[0]?getMetadata(tt.exif[0]):void 0;return new Image(et.width,et.height,{data:et.data,colorModel:"RGBA",meta:nt})}const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let _e=0;_e<256;_e++){let et=_e;for(let tt=0;tt<8;tt++)et&1?et=3988292384^et>>>1:et=et>>>1;crcTable[_e]=et}const initialCrc=4294967295;function updateCrc(_e,et,tt){let nt=_e;for(let rt=0;rt<tt;rt++)nt=crcTable[(nt^et[rt])&255]^nt>>>8;return nt}function crc(_e,et){return(updateCrc(initialCrc,_e,et)^initialCrc)>>>0}var ColorType;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.GREYSCALE=0]="GREYSCALE",_e[_e.TRUECOLOUR=2]="TRUECOLOUR",_e[_e.INDEXED_COLOUR=3]="INDEXED_COLOUR",_e[_e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",_e[_e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.NO_INTERLACE=0]="NO_INTERLACE",_e[_e.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer{constructor(et,tt={}){super(et);const{checkCrc:nt=!1}=tt;this._checkCrc=nt,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let et=0;et<pngSignature.length;et++)if(this.readUint8()!==pngSignature[et])throw new Error(`wrong PNG signature. Byte at ${et} should be ${pngSignature[et]}.`)}decodeChunk(){const et=this.readUint32(),tt=this.readChars(4),nt=this.offset;switch(tt){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(et);break;case"IDAT":this.decodeIDAT(et);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(et);break;case"iCCP":this.decodeiCCP(et);break;case"tEXt":this.decodetEXt(et);break;case"pHYs":this.decodepHYs();break;default:this.skip(et);break}if(this.offset-nt!==et)throw new Error(`Length mismatch while decoding chunk ${tt}`);if(this._checkCrc){const rt=this.readUint32(),it=et+4,ot=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-it-4,it),it);if(ot!==rt)throw new Error(`CRC mismatch for chunk ${tt}. Expected ${rt}, found ${ot}`)}else this.skip(4)}decodeIHDR(){const et=this._png;et.width=this.readUint32(),et.height=this.readUint32(),et.depth=checkBitDepth(this.readUint8());const tt=this.readUint8();this._colorType=tt;let nt;switch(tt){case ColorType.GREYSCALE:nt=1;break;case ColorType.TRUECOLOUR:nt=3;break;case ColorType.INDEXED_COLOUR:nt=1;break;case ColorType.GREYSCALE_ALPHA:nt=2;break;case ColorType.TRUECOLOUR_ALPHA:nt=4;break;default:throw new Error(`Unknown color type: ${tt}`)}if(this._png.channels=nt,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(et){if(et%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${et}`);const tt=et/3;this._hasPalette=!0;const nt=[];this._palette=nt;for(let rt=0;rt<tt;rt++)nt.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(et){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,et)),this.skip(et)}decodetRNS(et){if(this._colorType===3){if(et>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${et} vs ${this._palette.length})`);let tt=0;for(;tt<et;tt++){const nt=this.readByte();this._palette[tt].push(nt)}for(;tt<this._palette.length;tt++)this._palette[tt].push(255)}}decodeiCCP(et){let tt="",nt;for(;(nt=this.readChar())!==NULL;)tt+=nt;const rt=this.readUint8();if(rt!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${rt}`);const it=this.readBytes(et-tt.length-2);this._png.iccEmbeddedProfile={name:tt,profile:inflate_1(it)}}decodetEXt(et){let tt="",nt;for(;(nt=this.readChar())!==NULL;)tt+=nt;this._png.text[tt]=this.readChars(et-tt.length-1)}decodepHYs(){const et=this.readUint32(),tt=this.readUint32(),nt=this.readByte();this._png.resolution={x:et,y:tt,unit:nt}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const et=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(et);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(et){const tt=this._png.height,nt=this._png.channels*this._png.depth/8,rt=this._png.width*nt,it=new Uint8Array(this._png.height*rt);let ot=empty,at=0,st,lt;for(let ut=0;ut<tt;ut++){switch(st=et.subarray(at+1,at+1+rt),lt=it.subarray(ut*rt,(ut+1)*rt),et[at]){case 0:unfilterNone(st,lt,rt);break;case 1:unfilterSub(st,lt,rt,nt);break;case 2:unfilterUp(st,lt,ot,rt);break;case 3:unfilterAverage(st,lt,ot,rt,nt);break;case 4:unfilterPaeth(st,lt,ot,rt,nt);break;default:throw new Error(`Unsupported filter: ${et[at]}`)}ot=lt,at+=rt+1}if(this._hasPalette&&(this._png.palette=this._palette),this._png.depth===16){const ut=new Uint16Array(it.buffer);if(osIsLittleEndian)for(let ct=0;ct<ut.length;ct++)ut[ct]=swap16(ut[ct]);this._png.data=ut}else this._png.data=it}}function unfilterNone(_e,et,tt){for(let nt=0;nt<tt;nt++)et[nt]=_e[nt]}function unfilterSub(_e,et,tt,nt){let rt=0;for(;rt<nt;rt++)et[rt]=_e[rt];for(;rt<tt;rt++)et[rt]=_e[rt]+et[rt-nt]&255}function unfilterUp(_e,et,tt,nt){let rt=0;if(tt.length===0)for(;rt<nt;rt++)et[rt]=_e[rt];else for(;rt<nt;rt++)et[rt]=_e[rt]+tt[rt]&255}function unfilterAverage(_e,et,tt,nt,rt){let it=0;if(tt.length===0){for(;it<rt;it++)et[it]=_e[it];for(;it<nt;it++)et[it]=_e[it]+(et[it-rt]>>1)&255}else{for(;it<rt;it++)et[it]=_e[it]+(tt[it]>>1)&255;for(;it<nt;it++)et[it]=_e[it]+(et[it-rt]+tt[it]>>1)&255}}function unfilterPaeth(_e,et,tt,nt,rt){let it=0;if(tt.length===0){for(;it<rt;it++)et[it]=_e[it];for(;it<nt;it++)et[it]=_e[it]+et[it-rt]&255}else{for(;it<rt;it++)et[it]=_e[it]+tt[it]&255;for(;it<nt;it++)et[it]=_e[it]+paethPredictor(et[it-rt],tt[it],tt[it-rt])&255}}function paethPredictor(_e,et,tt){const nt=_e+et-tt,rt=Math.abs(nt-_e),it=Math.abs(nt-et),ot=Math.abs(nt-tt);return rt<=it&&rt<=ot?_e:it<=ot?et:tt}function swap16(_e){return(_e&255)<<8|_e>>8&255}function checkBitDepth(_e){if(_e!==1&&_e!==2&&_e!==4&&_e!==8&&_e!==16)throw new Error(`invalid bit depth: ${_e}`);return _e}var ResolutionUnitSpecifier;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng$1(_e,et){return new PngDecoder(_e,et).decode()}function decodePng(_e){const et=decodePng$1(_e);let tt;const nt=et.depth===16?16:8;if(et.palette)return loadPalettePng(et);switch(et.channels){case 1:tt="GREY";break;case 2:tt="GREYA";break;case 3:tt="RGB";break;case 4:tt="RGBA";break;default:throw new RangeError(`invalid number of channels: ${et.channels}`)}return new Image(et.width,et.height,{colorModel:tt,bitDepth:nt,data:et.data})}function loadPalettePng(_e){assert(_e.palette);const et=_e.width*_e.height,tt=new Uint8Array(et*3),nt=8/_e.depth,rt=_e.depth<8?nt:1,it=Number.parseInt("1".repeat(_e.depth),2);let ot=0;for(let at=0;at<et;at++){const st=Math.floor(at/rt);let lt=_e.data[st];_e.depth<8&&(lt=lt>>>_e.depth*(nt-1-at%nt)&it);const ut=_e.palette[lt];tt[ot++]=ut[0],tt[ot++]=ut[1],tt[ot++]=ut[2]}return new Image(_e.width,_e.height,{data:tt})}function decodeTiff(_e){let et=decodeTIFF(_e);return getImageFromIFD(et[0])}function getImageFromIFD(_e){if(_e.type===3){const et=new Uint16Array(3*_e.width*_e.height),tt=_e.palette;let nt=0;for(let rt of _e.data){const it=tt[rt];et[nt++]=it[0],et[nt++]=it[1],et[nt++]=it[2]}return new Image(_e.width,_e.height,{data:et,colorModel:_e.alpha?"RGBA":"RGB",bitDepth:16,meta:getMetadata(_e)})}else return new Image(_e.width,_e.height,{data:_e.data,bitDepth:_e.bitsPerSample,colorModel:_e.type===2?_e.alpha?"RGBA":"RGB":_e.alpha?"GREYA":"GREY",meta:getMetadata(_e)})}function decode(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=imageType$1(et);switch(tt==null?void 0:tt.mime){case"image/png":return decodePng(et);case"image/jpeg":return decodeJpeg(et);case"image/tiff":return decodeTiff(et);default:throw new RangeError(`invalid data format: ${tt==null?void 0:tt.mime}`)}}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;function writeCanvas(_e,et,tt={}){_e.colorModel!=="RGBA"&&(_e=_e.convertColor("RGBA")),_e.bitDepth!==8&&_e instanceof Image&&(_e=_e.convertBitDepth(8));const{resizeCanvas:nt=!0,dx:rt=0,dy:it=0,dirtyX:ot=0,dirtyY:at=0,dirtyWidth:st=_e.width,dirtyHeight:lt=_e.height}=tt;nt&&(et.width=_e.width,et.height=_e.height);const ut=et.getContext("2d");assert(ut);const ct=_e.getRawImage().data;ut.putImageData(new ImageData(new Uint8ClampedArray(ct.buffer,ct.byteOffset,ct.byteLength),_e.width,_e.height),rt,it,ot,at,st,lt)}const DispatchContext=reactExports.createContext({data:()=>{throw new Error("DataContext not initialized")},preferences:()=>{throw new Error("PreferencesContext not initialized")},view:()=>{throw new Error("ViewContext not initialized")}}),DispatchProvider=DispatchContext.Provider;function useDataDispatch(){return reactExports.useContext(DispatchContext).data}const levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10,silent:0},labels:{0:"silent",10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};class FifoLogger{constructor(et={}){this.lastID={id:0},this.initialOptions=et,this.uuids=[v4()],this.events=[],this.level=et.level||"info",this.levelAsNumber=levels.values[this.level],this.limit=et.limit??1e3,this.bindings=et.bindings??{},this.onChange=et.onChange}setLevel(et){this.level=et,this.levelAsNumber=levels.values[et]}setLimit(et){this.limit=et,this.checkSize()}checkSize(){this.events.length>this.limit&&this.events.splice(0,this.events.length-this.limit)}clear(){var et;for(let tt=this.events.length-1;tt>=0;tt--)this.events[tt].uuids.includes(this.uuids[0])&&this.events.splice(tt,1);(et=this.onChange)==null||et.call(this,void 0,this.events,{depth:this.uuids.length})}getLogs(et={}){const{level:tt,minLevel:nt,includeChildren:rt}=et;let it=this.events.slice();if(rt?it=it.filter(ot=>ot.uuids.includes(this.uuids[0])):it=it.filter(ot=>ot.uuids[0]===this.uuids[0]),tt){const ot=Number(levels.values[tt]);if(Number.isNaN(ot))throw new Error("Invalid level");it=it.filter(at=>at.level===ot)}if(nt){const ot=Number(levels.values[nt]);if(Number.isNaN(ot))throw new Error("Invalid level");it=it.filter(at=>at.level>=ot)}return it}child(et){const tt=new FifoLogger(this.initialOptions);return tt.events=this.events,tt.uuids=[v4(),...this.uuids],tt.lastID=this.lastID,tt.bindings={...this.bindings,...et},tt}trace(et,tt){addEvent(this,levels.values.trace,et,tt)}debug(et,tt){addEvent(this,levels.values.debug,et,tt)}info(et,tt){addEvent(this,levels.values.info,et,tt)}warn(et,tt){addEvent(this,levels.values.warn,et,tt)}error(et,tt){addEvent(this,levels.values.error,et,tt)}fatal(et,tt){addEvent(this,levels.values.fatal,et,tt)}}function addEvent(_e,et,tt,nt){if(et<_e.levelAsNumber)return;const rt={id:++_e.lastID.id,level:et,levelLabel:levels.labels[et],time:Date.now(),uuids:_e.uuids};if(tt instanceof Error)rt.message=tt.toString(),rt.error=tt,rt.meta={..._e.bindings};else if(nt!==void 0&&typeof tt=="object")rt.message=nt,rt.meta={..._e.bindings,...tt};else if(nt===void 0&&typeof tt=="string")rt.message=tt,rt.meta={..._e.bindings};else throw new Error("Invalid arguments");_e.events.push(rt),_e.checkSize(),_e.onChange&&_e.onChange(rt,_e.events,{depth:_e.uuids.length})}const LogContext=reactExports.createContext(null);function LogProvider({children:_e}){const[et,tt]=reactExports.useState([]),nt=reactExports.useRef(new FifoLogger({onChange:(ct,ft)=>{tt(ft.slice())}})),rt=reactExports.useCallback(()=>{nt.current.clear(),tt([])},[tt]),[it,ot]=reactExports.useState(0),at=reactExports.useCallback(()=>{if(et.length<=0)return;const ct=et[et.length-1].id;ot(ct)},[et,ot]),st=reactExports.useMemo(()=>et.length<=0?0:et[et.length-1].id-it,[it,et]),lt=reactExports.useMemo(()=>et.filter(ct=>ct.id>it).reduce((ct,ft)=>ft.level>ct?ft.level:ct,-1),[it,et]),ut=reactExports.useMemo(()=>({logger:nt.current,logs:et,clear:rt,markAsRead:at,unreadCount:st,unreadLevel:lt}),[rt,et,at,st,lt]);return jsx(LogContext.Provider,{value:ut,children:_e})}function useLog(){const _e=reactExports.useContext(LogContext);if(!_e)throw new Error("useLog must be used within a LogProvider");return _e}function useFileLoader(){const _e=useDataDispatch(),{logger:et}=useLog(),tt=reactExports.useCallback(async rt=>{const it=await fileCollectionFromFiles(rt).then(at=>at.files).catch(()=>(et.error("Error loading files"),[])),ot=[];for(const at of it)try{const st=decode(new Uint8Array(await at.arrayBuffer())),lt={name:at.name,relativePath:at.relativePath};ot.push({image:st,metadata:lt})}catch{et.error(`Error decoding file ${at.name}`)}return _e({type:LOAD_DROP,payload:ot}),ot.length},[_e,et]);return reactExports.useCallback(rt=>{_e({type:SET_LOADING,payload:!0}),tt(rt).then(it=>et.info(it===0?"No image loaded":`Loaded ${it} images`)).finally(()=>_e({type:SET_LOADING,payload:!1}))},[_e,tt,et])}const ViewContext=reactExports.createContext(initialViewState),ViewProvider=ViewContext.Provider;function useView(){return reactExports.useContext(ViewContext)}function useViewDispatch(){return reactExports.useContext(DispatchContext).view}var reactMapInteraction={exports:{}};(function(_e,et){(function(nt,rt){_e.exports=rt(requirePropTypes(),reactExports)})(commonjsGlobal,function(tt,nt){return function(rt){var it={};function ot(at){if(it[at])return it[at].exports;var st=it[at]={i:at,l:!1,exports:{}};return rt[at].call(st.exports,st,st.exports,ot),st.l=!0,st.exports}return ot.m=rt,ot.c=it,ot.d=function(at,st,lt){ot.o(at,st)||Object.defineProperty(at,st,{enumerable:!0,get:lt})},ot.r=function(at){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})},ot.t=function(at,st){if(st&1&&(at=ot(at)),st&8||st&4&&typeof at=="object"&&at&&at.__esModule)return at;var lt=Object.create(null);if(ot.r(lt),Object.defineProperty(lt,"default",{enumerable:!0,value:at}),st&2&&typeof at!="string")for(var ut in at)ot.d(lt,ut,function(ct){return at[ct]}.bind(null,ut));return lt},ot.n=function(at){var st=at&&at.__esModule?function(){return at.default}:function(){return at};return ot.d(st,"a",st),st},ot.o=function(at,st){return Object.prototype.hasOwnProperty.call(at,st)},ot.p="",ot(ot.s=2)}([function(rt,it){rt.exports=tt},function(rt,it){rt.exports=nt},function(rt,it,ot){ot.r(it);var at=ot(1),st=ot.n(at),lt=ot(0),ut=ot.n(lt);function ct(Dt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ct=function($t){return typeof $t}:ct=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},ct(Dt)}function ft(Dt,Ot){if(!(Dt instanceof Ot))throw new TypeError("Cannot call a class as a function")}function dt(Dt,Ot){for(var $t=0;$t<Ot.length;$t++){var Mt=Ot[$t];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(Dt,Mt.key,Mt)}}function ht(Dt,Ot,$t){return Ot&&dt(Dt.prototype,Ot),$t&&dt(Dt,$t),Dt}function mt(Dt,Ot){return Ot&&(ct(Ot)==="object"||typeof Ot=="function")?Ot:yt(Dt)}function yt(Dt){if(Dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dt}function pt(Dt){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function($t){return $t.__proto__||Object.getPrototypeOf($t)},pt(Dt)}function vt(Dt,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Super expression must either be null or a function");Dt.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:Dt,writable:!0,configurable:!0}}),Ot&&gt(Dt,Ot)}function gt(Dt,Ot){return gt=Object.setPrototypeOf||function(Mt,Ft){return Mt.__proto__=Ft,Mt},gt(Dt,Ot)}var xt=function(Dt){vt(Ot,Dt);function Ot(){return ft(this,Ot),mt(this,pt(Ot).apply(this,arguments))}return ht(Ot,[{key:"render",value:function(){var Mt=this,Ft=this.props,Vt=Ft.plusBtnContents,Bt=Ft.minusBtnContents,Xt=Ft.btnClass,Yt=Ft.plusBtnClass,Gt=Ft.minusBtnClass,Qt=Ft.controlsClass,cn=Ft.scale,hn=Ft.minScale,yn=Ft.maxScale,bn=Ft.onClickPlus,En=Ft.onClickMinus,_n=Ft.disableZoom,wn={width:30,paddingTop:5,marginBottom:5},Sn=Qt?void 0:{position:"absolute",right:10,top:10};function kn(Cn){Cn.preventDefault(),Cn.target.blur(),!_n&&bn()}function Tn(Cn){Cn.preventDefault(),Cn.target.blur(),!_n&&En()}return st.a.createElement("div",{style:Sn,className:Qt},st.a.createElement("div",null,st.a.createElement("button",{ref:function(Rn){Mt.plusNode=Rn},onClick:kn,onTouchEnd:kn,className:[Xt||"",Yt||""].join(" "),type:"button",style:Xt||Yt?void 0:wn,disabled:_n||cn>=yn},Vt)),st.a.createElement("div",null,st.a.createElement("button",{ref:function(Rn){Mt.minusNode=Rn},onClick:Tn,onTouchEnd:Tn,className:[Xt||"",Gt||""].join(" "),type:"button",style:Xt||Gt?void 0:wn,disabled:_n||cn<=hn},Bt)))}}]),Ot}(at.Component);xt.propTypes={onClickPlus:ut.a.func.isRequired,onClickMinus:ut.a.func.isRequired,plusBtnContents:ut.a.node,minusBtnContents:ut.a.node,btnClass:ut.a.string,plusBtnClass:ut.a.string,minusBtnClass:ut.a.string,controlsClass:ut.a.string,scale:ut.a.number,minScale:ut.a.number,maxScale:ut.a.number,disableZoom:ut.a.bool},xt.defaultProps={plusBtnContents:"+",minusBtnContents:"-",disableZoom:!1};var wt=xt;function bt(Dt,Ot,$t){return Math.max(Dt,Math.min(Ot,$t))}function St(Dt,Ot){var $t=Dt.x-Ot.x,Mt=Dt.y-Ot.y;return Math.sqrt(Math.pow($t,2)+Math.pow(Mt,2))}function kt(Dt,Ot){return{x:(Dt.x+Ot.x)/2,y:(Dt.y+Ot.y)/2}}function Rt(Dt){return{x:Dt.clientX,y:Dt.clientY}}function Et(Dt,Ot){var $t=Rt(Dt),Mt=Rt(Ot);return St($t,Mt)}var At=!1;try{var Tt={get passive(){At=!0}};window.addEventListener("test",Tt,Tt),window.removeEventListener("test",Tt,Tt)}catch{At=!1}function It(Dt){return At?{passive:Dt}:Dt}var _t=It;function Pt(Dt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pt=function($t){return typeof $t}:Pt=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},Pt(Dt)}function Zt(){return Zt=Object.assign||function(Dt){for(var Ot=1;Ot<arguments.length;Ot++){var $t=arguments[Ot];for(var Mt in $t)Object.prototype.hasOwnProperty.call($t,Mt)&&(Dt[Mt]=$t[Mt])}return Dt},Zt.apply(this,arguments)}function Ht(Dt,Ot){if(Dt==null)return{};var $t=zt(Dt,Ot),Mt,Ft;if(Object.getOwnPropertySymbols){var Vt=Object.getOwnPropertySymbols(Dt);for(Ft=0;Ft<Vt.length;Ft++)Mt=Vt[Ft],!(Ot.indexOf(Mt)>=0)&&Object.prototype.propertyIsEnumerable.call(Dt,Mt)&&($t[Mt]=Dt[Mt])}return $t}function zt(Dt,Ot){if(Dt==null)return{};var $t={},Mt=Object.keys(Dt),Ft,Vt;for(Vt=0;Vt<Mt.length;Vt++)Ft=Mt[Vt],!(Ot.indexOf(Ft)>=0)&&($t[Ft]=Dt[Ft]);return $t}function jt(Dt){for(var Ot=1;Ot<arguments.length;Ot++){var $t=arguments[Ot]!=null?arguments[Ot]:{},Mt=Object.keys($t);typeof Object.getOwnPropertySymbols=="function"&&(Mt=Mt.concat(Object.getOwnPropertySymbols($t).filter(function(Ft){return Object.getOwnPropertyDescriptor($t,Ft).enumerable}))),Mt.forEach(function(Ft){Wt(Dt,Ft,$t[Ft])})}return Dt}function Wt(Dt,Ot,$t){return Ot in Dt?Object.defineProperty(Dt,Ot,{value:$t,enumerable:!0,configurable:!0,writable:!0}):Dt[Ot]=$t,Dt}function Nt(Dt,Ot){if(!(Dt instanceof Ot))throw new TypeError("Cannot call a class as a function")}function Lt(Dt,Ot){return Ot&&(Pt(Ot)==="object"||typeof Ot=="function")?Ot:qt(Dt)}function Jt(Dt){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function($t){return $t.__proto__||Object.getPrototypeOf($t)},Jt(Dt)}function qt(Dt){if(Dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dt}function Kt(Dt,Ot){for(var $t=0;$t<Ot.length;$t++){var Mt=Ot[$t];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(Dt,Mt.key,Mt)}}function dn(Dt,Ot,$t){return Ot&&Kt(Dt.prototype,Ot),$t&&Kt(Dt,$t),Dt}function gn(Dt,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Super expression must either be null or a function");Dt.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:Dt,writable:!0,configurable:!0}}),Ot&&xn(Dt,Ot)}function xn(Dt,Ot){return xn=Object.setPrototypeOf||function(Mt,Ft){return Mt.__proto__=Ft,Mt},xn(Dt,Ot)}var sn=function(Ot,$t){return $t*Ot-Ot},pn=ut.a.shape({x:ut.a.number,y:ut.a.number}),mn=function(Dt){gn(Ot,Dt),dn(Ot,null,[{key:"propTypes",get:function(){return{children:ut.a.func,value:ut.a.shape({scale:ut.a.number.isRequired,translation:pn.isRequired}).isRequired,onChange:ut.a.func.isRequired,disableZoom:ut.a.bool,disablePan:ut.a.bool,translationBounds:ut.a.shape({xMin:ut.a.number,xMax:ut.a.number,yMin:ut.a.number,yMax:ut.a.number}),minScale:ut.a.number,maxScale:ut.a.number,showControls:ut.a.bool,plusBtnContents:ut.a.node,minusBtnContents:ut.a.node,btnClass:ut.a.string,plusBtnClass:ut.a.string,minusBtnClass:ut.a.string,controlsClass:ut.a.string}}},{key:"defaultProps",get:function(){return{minScale:.05,maxScale:3,showControls:!1,translationBounds:{},disableZoom:!1,disablePan:!1}}}]);function Ot($t){var Mt;return Nt(this,Ot),Mt=Lt(this,Jt(Ot).call(this,$t)),Mt.state={shouldPreventTouchEndDefault:!1},Mt.startPointerInfo=void 0,Mt.onMouseDown=Mt.onMouseDown.bind(qt(Mt)),Mt.onTouchStart=Mt.onTouchStart.bind(qt(Mt)),Mt.onMouseMove=Mt.onMouseMove.bind(qt(Mt)),Mt.onTouchMove=Mt.onTouchMove.bind(qt(Mt)),Mt.onMouseUp=Mt.onMouseUp.bind(qt(Mt)),Mt.onTouchEnd=Mt.onTouchEnd.bind(qt(Mt)),Mt.onWheel=Mt.onWheel.bind(qt(Mt)),Mt}return dn(Ot,[{key:"componentDidMount",value:function(){var Mt=_t(!1);this.getContainerNode().addEventListener("wheel",this.onWheel,Mt),this.getContainerNode().addEventListener("touchstart",this.onTouchStart,Mt),this.getContainerNode().addEventListener("mousedown",this.onMouseDown,Mt),window.addEventListener("touchmove",this.onTouchMove,Mt),window.addEventListener("mousemove",this.onMouseMove,Mt);var Ft=jt({capture:!0},Mt);window.addEventListener("touchend",this.onTouchEnd,Ft),window.addEventListener("mouseup",this.onMouseUp,Ft)}},{key:"componentWillUnmount",value:function(){this.getContainerNode().removeEventListener("wheel",this.onWheel),this.getContainerNode().removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),this.getContainerNode().removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"onMouseDown",value:function(Mt){Mt.preventDefault(),this.setPointerState([Mt])}},{key:"onTouchStart",value:function(Mt){Mt.preventDefault(),this.setPointerState(Mt.touches)}},{key:"onMouseUp",value:function(Mt){this.setPointerState()}},{key:"onTouchEnd",value:function(Mt){this.setPointerState(Mt.touches)}},{key:"onMouseMove",value:function(Mt){!this.startPointerInfo||this.props.disablePan||(Mt.preventDefault(),this.onDrag(Mt))}},{key:"onTouchMove",value:function(Mt){if(this.startPointerInfo){Mt.preventDefault();var Ft=this.props,Vt=Ft.disablePan,Bt=Ft.disableZoom,Xt=Mt.touches.length==2&&this.startPointerInfo.pointers.length>1;Xt&&!Bt?this.scaleFromMultiTouch(Mt):Mt.touches.length===1&&this.startPointerInfo&&!Vt&&this.onDrag(Mt.touches[0])}}},{key:"onDrag",value:function(Mt){var Ft=this,Vt=this.startPointerInfo,Bt=Vt.translation,Xt=Vt.pointers,Yt=Xt[0],Gt=Mt.clientX-Yt.clientX,Qt=Mt.clientY-Yt.clientY,cn={x:Bt.x+Gt,y:Bt.y+Qt},hn=Math.abs(Gt)>1||Math.abs(Qt)>1;this.setState({shouldPreventTouchEndDefault:hn},function(){Ft.props.onChange({scale:Ft.props.value.scale,translation:Ft.clampTranslation(cn)})})}},{key:"onWheel",value:function(Mt){if(!this.props.disableZoom){Mt.preventDefault(),Mt.stopPropagation();var Ft=Math.pow(2,Mt.deltaY*.002),Vt=bt(this.props.minScale,this.props.value.scale+(1-Ft),this.props.maxScale),Bt=this.clientPosToTranslatedPos({x:Mt.clientX,y:Mt.clientY});this.scaleFromPoint(Vt,Bt)}}},{key:"setPointerState",value:function(Mt){if(!Mt||Mt.length===0){this.startPointerInfo=void 0;return}this.startPointerInfo={pointers:Mt,scale:this.props.value.scale,translation:this.props.value.translation}}},{key:"clampTranslation",value:function(Mt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props,Vt=Mt.x,Bt=Mt.y,Xt=Ft.translationBounds,Yt=Xt.xMax,Gt=Xt.xMin,Qt=Xt.yMax,cn=Xt.yMin;return Gt=Gt??-1/0,cn=cn??-1/0,Yt=Yt??1/0,Qt=Qt??1/0,{x:bt(Gt,Vt,Yt),y:bt(cn,Bt,Qt)}}},{key:"translatedOrigin",value:function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.value.translation,Ft=this.getContainerBoundingClientRect();return{x:Ft.left+Mt.x,y:Ft.top+Mt.y}}},{key:"clientPosToTranslatedPos",value:function(Mt){var Ft=Mt.x,Vt=Mt.y,Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.value.translation,Xt=this.translatedOrigin(Bt);return{x:Ft-Xt.x,y:Vt-Xt.y}}},{key:"scaleFromPoint",value:function(Mt,Ft){var Vt=this.props.value,Bt=Vt.translation,Xt=Vt.scale,Yt=Mt/(Xt!=0?Xt:1),Gt={x:sn(Ft.x,Yt),y:sn(Ft.y,Yt)},Qt={x:Bt.x-Gt.x,y:Bt.y-Gt.y};this.props.onChange({scale:Mt,translation:this.clampTranslation(Qt)})}},{key:"scaleFromMultiTouch",value:function(Mt){var Ft=this.startPointerInfo.pointers,Vt=Mt.touches,Bt=Et(Ft[0],Ft[1]),Xt=Et(Vt[0],Vt[1]),Yt=Xt/Bt,Gt=this.startPointerInfo.scale,Qt=Gt+(Yt-1)*Gt,cn=bt(this.props.minScale,Qt,this.props.maxScale),hn=kt(Rt(Ft[0]),Rt(Ft[1])),yn=kt(Rt(Vt[0]),Rt(Vt[1])),bn={x:yn.x-hn.x,y:yn.y-hn.y},En=cn/Gt,_n=this.clientPosToTranslatedPos(hn,this.startPointerInfo.translation),wn={x:sn(_n.x,En),y:sn(_n.y,En)},Sn={x:this.startPointerInfo.translation.x-wn.x+bn.x,y:this.startPointerInfo.translation.y-wn.y+bn.y};this.props.onChange({scale:cn,translation:this.clampTranslation(Sn)})}},{key:"discreteScaleStepSize",value:function(){var Mt=this.props,Ft=Mt.minScale,Vt=Mt.maxScale,Bt=Math.abs(Vt-Ft);return Bt/10}},{key:"changeScale",value:function(Mt){var Ft=this.props.value.scale+Mt,Vt=this.props,Bt=Vt.minScale,Xt=Vt.maxScale,Yt=bt(Bt,Ft,Xt),Gt=this.getContainerBoundingClientRect(),Qt=Gt.left+Gt.width/2,cn=Gt.top+Gt.height/2,hn=this.clientPosToTranslatedPos({x:Qt,y:cn});this.scaleFromPoint(Yt,hn)}},{key:"getContainerNode",value:function(){return this.containerNode}},{key:"getContainerBoundingClientRect",value:function(){return this.getContainerNode().getBoundingClientRect()}},{key:"renderControls",value:function(){var Mt=this,Ft=this.discreteScaleStepSize();return st.a.createElement(wt,{onClickPlus:function(){return Mt.changeScale(Ft)},onClickMinus:function(){return Mt.changeScale(-Ft)},plusBtnContents:this.props.plusBtnContents,minusBtnContents:this.props.minusBtnContents,btnClass:this.props.btnClass,plusBtnClass:this.props.plusBtnClass,minusBtnClass:this.props.minusBtnClass,controlsClass:this.props.controlsClass,scale:this.props.value.scale,minScale:this.props.minScale,maxScale:this.props.maxScale,disableZoom:this.props.disableZoom})}},{key:"render",value:function(){var Mt=this,Ft=this.props,Vt=Ft.showControls,Bt=Ft.children,Xt=this.props.value.scale,Yt=this.clampTranslation(this.props.value.translation),Gt=function(cn){Mt.state.shouldPreventTouchEndDefault&&(cn.preventDefault(),Mt.setState({shouldPreventTouchEndDefault:!1}))};return st.a.createElement("div",{ref:function(cn){Mt.containerNode=cn},style:{height:"100%",width:"100%",position:"relative",touchAction:"none"},onClickCapture:Gt,onTouchEndCapture:Gt},(Bt||void 0)&&Bt({translation:Yt,scale:Xt}),(Vt||void 0)&&this.renderControls())}}]),Ot}(at.Component),ln=function(Dt){gn(Ot,Dt),dn(Ot,null,[{key:"propTypes",get:function(){return{children:ut.a.func,value:ut.a.shape({scale:ut.a.number.isRequired,translation:pn.isRequired}),defaultValue:ut.a.shape({scale:ut.a.number.isRequired,translation:pn.isRequired}),disableZoom:ut.a.bool,disablePan:ut.a.bool,onChange:ut.a.func,translationBounds:ut.a.shape({xMin:ut.a.number,xMax:ut.a.number,yMin:ut.a.number,yMax:ut.a.number}),minScale:ut.a.number,maxScale:ut.a.number,showControls:ut.a.bool,plusBtnContents:ut.a.node,minusBtnContents:ut.a.node,btnClass:ut.a.string,plusBtnClass:ut.a.string,minusBtnClass:ut.a.string,controlsClass:ut.a.string}}}]);function Ot($t){var Mt;Nt(this,Ot),Mt=Lt(this,Jt(Ot).call(this,$t));var Ft=Ot.isControlled($t);return Ft?Mt.state={lastKnownValueFromProps:$t.value}:Mt.state={value:$t.defaultValue||{scale:1,translation:{x:0,y:0}},lastKnownValueFromProps:void 0},Mt}return dn(Ot,[{key:"innerProps",value:function(){var Mt=this.props;Mt.value,Mt.defaultValue,Mt.onChange;var Ft=Ht(Mt,["value","defaultValue","onChange"]);return Ft}},{key:"getValue",value:function(){var Mt=Ot.isControlled(this.props);return Mt?this.props.value:this.state.value}},{key:"render",value:function(){var Mt=this,Ft=this.props,Vt=Ft.onChange,Bt=Ft.children,Xt=Ot.isControlled(this.props),Yt=Xt?this.props.value:this.state.value;return st.a.createElement(mn,Zt({onChange:function(Qt){Xt?Vt(Qt):Mt.setState({value:Qt})},value:Yt},this.innerProps()),Bt)}}],[{key:"getDerivedStateFromProps",value:function(Mt,Ft){var Vt=Ot.isControlled(Mt),Bt=Ft.lastKnownValueFromProps&&Ot.isControlled({value:Ft.lastKnownValueFromProps});if(!Bt&&Vt)return{value:void 0,lastKnownValueFromProps:Mt.value};if(Bt&&!Vt)return{value:Ft.lastKnownValueFromProps,lastKnownValueFromProps:void 0};if(Bt&&Vt)return{lastKnownValueFromProps:Mt.value};if(!Bt&&!Vt)return null}},{key:"isControlled",value:function(Mt){return Mt.value!=null}}]),Ot}(at.Component),vn=ln,Ct=function(Ot){return st.a.createElement(vn,Ot,function($t){var Mt=$t.translation,Ft=$t.scale,Vt="translate(".concat(Mt.x,"px, ").concat(Mt.y,"px) scale(").concat(Ft,")");return st.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative",overflow:"hidden",touchAction:"none",msTouchAction:"none",cursor:"all-scroll",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}},st.a.createElement("div",{style:{display:"inline-block",transform:Vt,transformOrigin:"0 0 "}},Ot.children))})},Ut=Ct;ot.d(it,"MapInteractionCSS",function(){return Ut}),ot.d(it,"MapInteraction",function(){return vn}),it.default=vn}])})})(reactMapInteraction);var reactMapInteractionExports=reactMapInteraction.exports;function ImageViewer({identifier:_e,image:et}){const tt=reactExports.useRef(null),nt=useView(),rt=useViewDispatch(),it=reactExports.useMemo(()=>nt.imageViewerProps[_e]||{translation:{x:0,y:0},scale:1},[_e,nt.imageViewerProps]),ot=reactExports.useCallback(at=>{rt({type:SET_PAN_ZOOM,payload:{identifier:_e,panZoom:at}})},[_e,rt]);return reactExports.useEffect(()=>{et===void 0||tt.current===null||writeCanvas(et,tt.current)},[et]),jsx(reactMapInteractionExports.MapInteractionCSS,{value:it,onChange:ot,children:jsx("div",{style:{position:"relative"},children:jsx("canvas",{ref:tt,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})})}const ImageViewer$1=reactExports.memo(ImageViewer);function CenterPanel(){const{files:_e}=useData(),et=reactExports.useMemo(()=>Object.keys(_e).map(ot=>({id:ot,title:_e[ot].metadata.name,content:jsx(ImageViewer$1,{identifier:ot,image:_e[ot].image})})),[_e]),{currentTab:tt}=useView(),nt=useViewDispatch(),rt=reactExports.useCallback(ot=>{nt({type:"OPEN_TAB",payload:ot})},[nt]);reactExports.useEffect(()=>{!tt&&et.length>0&&rt(et[0].id)},[rt,tt,et]);const it=useFileLoader();return jsx("div",{style:{width:"100%",overflowX:"auto"},children:jsx(DropZoneContainer,{emptyText:"Drag and drop here either an image or a Pixelium file.",onDrop:it,children:et.length>0?jsx(Tabs,{orientation:"horizontal",items:et,opened:tt,onClick:rt}):null})})}const CenterPanel$1=reactExports.memo(CenterPanel);var noop=function(){};function on$1(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];_e&&_e.addEventListener&&_e.addEventListener.apply(_e,et)}function off(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];_e&&_e.removeEventListener&&_e.removeEventListener.apply(_e,et)}var isBrowser=typeof window<"u",toggleReducer=function(_e,et){return typeof et=="boolean"?et:!_e},useToggle=function(_e){return reactExports.useReducer(toggleReducer,_e)};const useToggle$1=useToggle;var useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect;const useIsomorphicLayoutEffect$1=useIsomorphicLayoutEffect;var screenfull$1={exports:{}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(_e){(function(){var et=typeof window<"u"&&typeof window.document<"u"?window.document:{},tt=_e.exports,nt=function(){for(var ot,at=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],st=0,lt=at.length,ut={};st<lt;st++)if(ot=at[st],ot&&ot[1]in et){for(st=0;st<ot.length;st++)ut[at[0][st]]=ot[st];return ut}return!1}(),rt={change:nt.fullscreenchange,error:nt.fullscreenerror},it={request:function(ot,at){return new Promise(function(st,lt){var ut=function(){this.off("change",ut),st()}.bind(this);this.on("change",ut),ot=ot||et.documentElement;var ct=ot[nt.requestFullscreen](at);ct instanceof Promise&&ct.then(ut).catch(lt)}.bind(this))},exit:function(){return new Promise(function(ot,at){if(!this.isFullscreen){ot();return}var st=function(){this.off("change",st),ot()}.bind(this);this.on("change",st);var lt=et[nt.exitFullscreen]();lt instanceof Promise&&lt.then(st).catch(at)}.bind(this))},toggle:function(ot,at){return this.isFullscreen?this.exit():this.request(ot,at)},onchange:function(ot){this.on("change",ot)},onerror:function(ot){this.on("error",ot)},on:function(ot,at){var st=rt[ot];st&&et.addEventListener(st,at,!1)},off:function(ot,at){var st=rt[ot];st&&et.removeEventListener(st,at,!1)},raw:nt};if(!nt){tt?_e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(it,{isFullscreen:{get:function(){return!!et[nt.fullscreenElement]}},element:{enumerable:!0,get:function(){return et[nt.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!et[nt.fullscreenEnabled]}}}),tt?_e.exports=it:window.screenfull=it})()})(screenfull$1);var screenfullExports=screenfull$1.exports;const screenfull=getDefaultExportFromCjs(screenfullExports);var useFullscreen=function(_e,et,tt){tt===void 0&&(tt={});var nt=tt.video,rt=tt.onClose,it=rt===void 0?noop:rt,ot=reactExports.useState(et),at=ot[0],st=ot[1];return useIsomorphicLayoutEffect$1(function(){if(et&&_e.current){var lt=function(){nt!=null&&nt.current&&off(nt.current,"webkitendfullscreen",lt),it()},ut=function(){if(screenfull.isEnabled){var ct=screenfull.isFullscreen;st(ct),ct||it()}};if(screenfull.isEnabled){try{screenfull.request(_e.current),st(!0)}catch(ct){it(ct),st(!1)}screenfull.on("change",ut)}else nt&&nt.current&&nt.current.webkitEnterFullscreen?(nt.current.webkitEnterFullscreen(),on$1(nt.current,"webkitendfullscreen",lt),st(!0)):(it(),st(!1));return function(){if(st(!1),screenfull.isEnabled)try{screenfull.off("change",ut),screenfull.exit()}catch{}else nt&&nt.current&&nt.current.webkitExitFullscreen&&(off(nt.current,"webkitendfullscreen",lt),nt.current.webkitExitFullscreen())}}},[et,nt,_e]),at};const useFullscreen$1=useFullscreen,GlobalContext=reactExports.createContext(null),GlobalProvider=GlobalContext.Provider;function useGlobal(){const _e=reactExports.useContext(GlobalContext);if(!_e)throw new Error("useGlobal must be used within a GlobalProvider");return _e}function SvgZakodium({title:_e,titleId:et,...tt}){return jsxRuntimeExports.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 588.44 588.44",width:"1em",height:"1em","aria-labelledby":et,...tt,children:[_e?jsxRuntimeExports.jsx("title",{id:et,children:_e}):null,jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("style",{children:".cls-1{fill:#2b143e}"})}),jsxRuntimeExports.jsx("circle",{className:"cls-1",cx:93.23,cy:398.47,r:56.95}),jsxRuntimeExports.jsx("path",{className:"cls-1",d:"M528.16 397.39V455H279l-.46.46h-72.77l.47-.46 44.21-57.57 79.21-102.71 36.39-47 44.21-57.11H205.31V133h321.47l-44.67 57.6L402 294.68l-36.38 47-43.3 55.73z"})]})}const StyledModalBody=newStyled.div`
  width: 100%;
  min-height: 100%;
  display: flex;
  padding: 10px 20px;
`,StyledModalHeader=newStyled.div`
  font-size: 1.25rem;
`,modalStyle$3=css`
  display: flex;
  flex-direction: column;
  width: 500px;

  .container {
    padding: 20px;
  }
`;function AboutModal(){const[_e,et,tt]=useOnOff(!1);return jsxs(Fragment,{children:[jsx(Toolbar.Item,{title:"About Pixelium",titleOrientation:"horizontal",onClick:et,children:jsx(SvgZakodium,{})}),jsx(Modal,{isOpen:_e,onRequestClose:tt,hasCloseButton:!0,children:jsxs("div",{css:modalStyle$3,children:[jsx(StyledModalHeader,{children:jsx(Modal.Header,{children:"About Pixelium"})}),jsx(StyledModalBody,{children:jsx(Modal.Body,{children:"Nothing to see here at this time."})})]})})]})}const AboutModal$1=reactExports.memo(AboutModal),buttons={info:{basic:"#4f46e5",hover:"#6366f1"},danger:{basic:"#c81e1e",hover:"#971d1f"}},modalStyle$2=css`
  display: flex;
  flex-direction: column;
  width: 50vw;
  height: 50vh;

  .table-container {
    width: 100%;
    max-width: 100%;
    overflow-y: auto;
  }

  table {
    width: 100%;
  }

  .no-log {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.25rem;
  }
`,tableHeaderStyle={textAlign:"left"},logsDataFormat=new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric",second:"numeric"});function getNotificationColor(_e){return _e>40?"#ff0000":_e===40?"#ffc409":"#2dd36f"}function getRowColor(_e){return _e>40?"pink":_e===40?"lightyellow":"lightgreen"}function LogModal(){const[_e,et,tt]=useOnOff(!1),{logs:nt,clear:rt,unreadLevel:it,unreadCount:ot,markAsRead:at}=useLog(),st=reactExports.useMemo(()=>nt.slice().reverse(),[nt]),lt=reactExports.useCallback(()=>{et(),at()},[at,et]);return jsxs(Fragment,{children:[jsxs(Toolbar.Item,{title:"Logs",titleOrientation:"vertical",onClick:lt,children:[jsx(FaBug,{}),ot>0&&jsx("span",{style:{position:"absolute",top:"0.5em",left:"0.5em",backgroundColor:getNotificationColor(it),borderRadius:"50%",minWidth:"14px",fontSize:"0.75em",color:"white"},children:ot})]}),jsx(Modal,{isOpen:_e,onRequestClose:tt,hasCloseButton:!0,children:jsxs("div",{css:modalStyle$2,children:[jsx(StyledModalHeader,{children:jsx(Modal.Header,{children:"Log history"})}),jsx(Modal.Body,{children:jsx(StyledModalBody,{children:nt.length>0?jsx("div",{className:"table-container",children:jsxs(Table,{children:[jsxs(Table.Header,{children:[jsx(Header$1,{style:tableHeaderStyle,value:"#"}),jsx(Header$1,{style:tableHeaderStyle,value:"Time"}),jsx(Header$1,{style:tableHeaderStyle,value:"Label"}),jsx(Header$1,{style:tableHeaderStyle,value:"Message"})]}),st.map(ut=>{const ct={backgroundColor:getRowColor(ut.level)};return jsxs(Table.Row,{children:[jsx(Number$1,{style:ct,value:ut.id}),jsx(Text,{style:ct,value:logsDataFormat.format(ut.time)}),jsx(Text,{style:ct,value:ut.levelLabel}),jsx(Text,{style:ct,value:ut.message})]},ut.id)})]})}):jsx("div",{className:"no-log",children:"Nothing to see for now."})})}),jsx(Modal.Footer,{children:jsx(Button,{backgroundColor:buttons.danger,onClick:rt,children:jsxs("span",{style:{display:"flex",alignItems:"center"},children:[jsx(FaTrash,{}),jsx("span",{style:{marginLeft:"8px"},children:"Clear logs"})]})})})]})})]})}const LogModal$1=reactExports.memo(LogModal);function PixeliumHeader(){const{rootRef:_e}=useGlobal(),[et,tt]=useToggle$1(!1),nt=useFullscreen$1(_e,et,{onClose:()=>tt(!1)});return jsxs(Header$2,{children:[jsx(Toolbar,{orientation:"horizontal",children:jsx(AboutModal$1,{})}),jsxs(Toolbar,{orientation:"horizontal",children:[jsx(Toolbar.Item,{title:"User manual",onClick:()=>window.open("https://zakodium.com","_blank"),children:jsx(FaQuestionCircle,{})}),jsx(LogModal$1,{}),jsx(Toolbar.Item,{title:"Settings",children:jsx(FaWrench,{})}),!nt&&jsx(Toolbar.Item,{title:"Full Screen",onClick:tt,children:jsx(FaRegWindowMaximize,{})})]})]})}const Header=reactExports.memo(PixeliumHeader);function useImageInformations(_e){return reactExports.useMemo(()=>_e===null?[]:[{key:"Image size",render:jsx(Text,{value:`${_e.width.toLocaleString()} x ${_e.height.toLocaleString()} (${(_e.width*_e.height).toLocaleString()} pixels)`})},{key:"Bit depth",render:jsx(Number$1,{value:_e.bitDepth})},{key:"Channels",render:jsx(Number$1,{value:_e.channels})},{key:"Components",render:jsx(Number$1,{value:_e.components})},{key:"Color model",render:jsx(Text,{value:_e.colorModel})}],[_e])}function getComponent(_e){switch(typeof _e){case"string":return jsx(Text,{value:_e});case"number":return jsx(Number$1,{value:_e});case"boolean":return jsx(Boolean$1,{value:_e});case"object":return jsx(ObjectRenderer,{value:_e||{}});default:return null}}function getDisplayKey(_e){return _e.replace(/(?<capitals>[A-Z])/g," $<capitals>").trim()}function useImageMetadata(_e){return reactExports.useMemo(()=>_e===null?[]:_e.meta===void 0?[]:Object.entries(_e.meta.tiff.tags).map(([et,tt])=>({key:getDisplayKey(et),render:getComponent(tt)})),[_e])}const initialSize={x:0,y:0,width:0,height:0};function useBBoxObserver(){const[_e,et]=reactExports.useState(initialSize),tt=reactExports.useRef(initialSize),nt=reactExports.useRef();return{ref:reactExports.useCallback(it=>{if(nt.current&&nt.current(),it!==null){const ot=new ResizeObserver(([at])=>{const st=at.target.getBBox(),lt=tt.current;if(lt.x!==st.x||lt.y!==st.y||lt.width!==st.width||lt.height!==st.height){const ut={x:st.x,y:st.y,width:st.width,height:st.height};tt.current=ut,et(ut)}});ot.observe(it),nt.current=()=>{ot.unobserve(it)}}},[]),..._e}}function calculatePosition(_e,et,tt,nt){switch(et){case"start":return _e;case"end":return _e-tt;case"middle":return _e-tt/2;case"none":return nt;default:throw new Error(`Unkwnown alignment ${JSON.stringify(et)}`)}}function AlignGroup(_e){const{x:et=0,y:tt=0,verticalAlign:nt="start",horizontalAlign:rt="start",children:it,style:ot={}}=_e,at=useBBoxObserver(),st=reactExports.useMemo(()=>calculatePosition(et-at.x,rt,at.width||0,et),[et,at.x,at.width,rt]),lt=reactExports.useMemo(()=>calculatePosition(tt-at.y,nt,at.height||0,tt),[tt,at.y,at.height,nt]);return jsxRuntimeExports.jsx("g",{style:ot,ref:at.ref,transform:`translate(${st}, ${lt})`,children:it})}function ResponsiveChart(_e){const{width:et,height:tt,minWidth:nt,minHeight:rt,maxWidth:it,maxHeight:ot,children:at}=_e,st=useResizeObserver();return jsxRuntimeExports.jsx("div",{ref:st.ref,style:{position:"relative",flex:1,width:et||"100%",height:tt||"100%",minWidth:nt||0,minHeight:rt||0,maxWidth:it,maxHeight:ot},children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:st.width&&st.height?at({width:st.width,height:st.height}):null})})}function textDimensions(_e,et){var tt,nt;const rt=document.createTextNode(_e),it=document.createElementNS("http://www.w3.org/2000/svg","text");it.setAttribute("class","test"),it.appendChild(rt),(tt=et.current)===null||tt===void 0||tt.appendChild(it);const ot=it.getBBox();return(nt=et.current)===null||nt===void 0||nt.removeChild(it),ot}const TEST_HEIGHT$1="+1234567890";function useTicks(_e,et,tt,nt){const rt=_e.range();if(!rt)throw new Error("Range needs to be specified");if(!_e.domain())throw new Error("Domain needs to be specified");const{minSpace:ot=8,tickFormat:at,setTicks:st}=nt,lt=Math.abs(rt[0]-rt[1]);reactExports.useEffect(()=>{if(tt.current){let ut,ct=[];if(et==="horizontal")for(;;){ct=_e.ticks(ut);const ft=ct.map(at);ut=Math.min(ct.length,ut||1/0);const{width:dt}=textDimensions(ft.join(""),tt);if(dt+(ct.length-1)*ot>lt&&ut>1)ut=ut-1;else break}else{const{height:ft}=textDimensions(TEST_HEIGHT$1,tt);for(;ct=_e.ticks(ut),ut=Math.min(ct.length,ut||1/0),ct.length*(ft+ot)-ot>lt&&ut>1;)ut=ut-1}st(ct.map(ft=>({label:at(ft),position:_e(ft),value:ft})))}},[lt,et,ot,tt,_e,st,at])}function useLinearPrimaryTicks(_e,et,tt,nt={}){const[rt,it]=reactExports.useState([]),{tickFormat:ot=String}=nt;return useTicks(_e,et,tt,{...nt,tickFormat:ot,setTicks:it}),rt}const TEST_HEIGHT="+1234567890";function isMainTick(_e){const et=_e/Math.pow(10,Math.round(Math.log10(_e)));return Math.floor(et<1?et*10:et)}function formatTicks(_e,et,tt,nt,rt){const it=_e.filter(ut=>isMainTick(ut)===1).map(et),ot=Math.abs(it[0]-it[1]),at=(nt+rt)/ot,st=at>=1?Math.ceil(at):1;let lt=0;return _e.map(ut=>{const ct=et(ut);let ft="";return isMainTick(ut)===1&&(ft=lt===0?tt(ut):"",lt=(lt+1)%st),{label:ft,position:ct,value:ut}})}function useLogTicks(_e,et,tt,nt={}){const[rt,it]=reactExports.useState(40);if(!_e.range())throw new Error("Range needs to be specified");const at=_e.domain();if(!at)throw new Error("Domain needs to be specified");const{minSpace:st=8}=nt,lt=nt==null?void 0:nt.tickFormat,ut=reactExports.useCallback(ft=>lt?lt(ft):String(ft),[lt]),ct=reactExports.useMemo(()=>_e.ticks(),[_e]);return reactExports.useEffect(()=>{if(tt.current)if(et==="horizontal"){const ft=ct.filter(ht=>isMainTick(ht)===1).map(ut).reduce((ht,mt)=>ht.length<mt.length?mt:ht,""),{width:dt}=textDimensions(ft,tt);it(Math.ceil(dt))}else{const{height:ft}=textDimensions(TEST_HEIGHT,tt);it(Math.ceil(ft))}},[et,at,ut,tt,ct]),formatTicks(ct,_e,ut,rt,st)}function useTimeTicks(_e,et,tt,nt){const{tickFormat:rt=_e.tickFormat()}=nt,[it,ot]=reactExports.useState([]);return useTicks(_e,et,tt,{...nt,setTicks:ot,tickFormat:rt}),it}function ascending(_e,et){return _e==null||et==null?NaN:_e<et?-1:_e>et?1:_e>=et?0:NaN}function descending(_e,et){return _e==null||et==null?NaN:et<_e?-1:et>_e?1:et>=_e?0:NaN}function bisector(_e){let et,tt,nt;_e.length!==2?(et=ascending,tt=(at,st)=>ascending(_e(at),st),nt=(at,st)=>_e(at)-st):(et=_e===ascending||_e===descending?_e:zero,tt=_e,nt=_e);function rt(at,st,lt=0,ut=at.length){if(lt<ut){if(et(st,st)!==0)return ut;do{const ct=lt+ut>>>1;tt(at[ct],st)<0?lt=ct+1:ut=ct}while(lt<ut)}return lt}function it(at,st,lt=0,ut=at.length){if(lt<ut){if(et(st,st)!==0)return ut;do{const ct=lt+ut>>>1;tt(at[ct],st)<=0?lt=ct+1:ut=ct}while(lt<ut)}return lt}function ot(at,st,lt=0,ut=at.length){const ct=rt(at,st,lt,ut-1);return ct>lt&&nt(at[ct-1],st)>-nt(at[ct],st)?ct-1:ct}return{left:rt,center:ot,right:it}}function zero(){return 0}function number$2(_e){return _e===null?NaN:+_e}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;function extent(_e,et){let tt,nt;if(et===void 0)for(const rt of _e)rt!=null&&(tt===void 0?rt>=rt&&(tt=nt=rt):(tt>rt&&(tt=rt),nt<rt&&(nt=rt)));else{let rt=-1;for(let it of _e)(it=et(it,++rt,_e))!=null&&(tt===void 0?it>=it&&(tt=nt=it):(tt>it&&(tt=it),nt<it&&(nt=it)))}return[tt,nt]}class InternMap extends Map{constructor(et,tt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tt}}),et!=null)for(const[nt,rt]of et)this.set(nt,rt)}get(et){return super.get(intern_get(this,et))}has(et){return super.has(intern_get(this,et))}set(et,tt){return super.set(intern_set(this,et),tt)}delete(et){return super.delete(intern_delete(this,et))}}function intern_get({_intern:_e,_key:et},tt){const nt=et(tt);return _e.has(nt)?_e.get(nt):tt}function intern_set({_intern:_e,_key:et},tt){const nt=et(tt);return _e.has(nt)?_e.get(nt):(_e.set(nt,tt),tt)}function intern_delete({_intern:_e,_key:et},tt){const nt=et(tt);return _e.has(nt)&&(tt=_e.get(nt),_e.delete(nt)),tt}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,et,tt){const nt=(et-_e)/Math.max(0,tt),rt=Math.floor(Math.log10(nt)),it=nt/Math.pow(10,rt),ot=it>=e10?10:it>=e5?5:it>=e2?2:1;let at,st,lt;return rt<0?(lt=Math.pow(10,-rt)/ot,at=Math.round(_e*lt),st=Math.round(et*lt),at/lt<_e&&++at,st/lt>et&&--st,lt=-lt):(lt=Math.pow(10,rt)*ot,at=Math.round(_e/lt),st=Math.round(et/lt),at*lt<_e&&++at,st*lt>et&&--st),st<at&&.5<=tt&&tt<2?tickSpec(_e,et,tt*2):[at,st,lt]}function ticks(_e,et,tt){if(et=+et,_e=+_e,tt=+tt,!(tt>0))return[];if(_e===et)return[_e];const nt=et<_e,[rt,it,ot]=nt?tickSpec(et,_e,tt):tickSpec(_e,et,tt);if(!(it>=rt))return[];const at=it-rt+1,st=new Array(at);if(nt)if(ot<0)for(let lt=0;lt<at;++lt)st[lt]=(it-lt)/-ot;else for(let lt=0;lt<at;++lt)st[lt]=(it-lt)*ot;else if(ot<0)for(let lt=0;lt<at;++lt)st[lt]=(rt+lt)/-ot;else for(let lt=0;lt<at;++lt)st[lt]=(rt+lt)*ot;return st}function tickIncrement(_e,et,tt){return et=+et,_e=+_e,tt=+tt,tickSpec(_e,et,tt)[2]}function tickStep(_e,et,tt){et=+et,_e=+_e,tt=+tt;const nt=et<_e,rt=nt?tickIncrement(et,_e,tt):tickIncrement(_e,et,tt);return(nt?-1:1)*(rt<0?1/-rt:rt)}function max(_e,et){let tt;if(et===void 0)for(const nt of _e)nt!=null&&(tt<nt||tt===void 0&&nt>=nt)&&(tt=nt);else{let nt=-1;for(let rt of _e)(rt=et(rt,++nt,_e))!=null&&(tt<rt||tt===void 0&&rt>=rt)&&(tt=rt)}return tt}function min(_e,et){let tt;if(et===void 0)for(const nt of _e)nt!=null&&(tt>nt||tt===void 0&&nt>=nt)&&(tt=nt);else{let nt=-1;for(let rt of _e)(rt=et(rt,++nt,_e))!=null&&(tt>rt||tt===void 0&&rt>=rt)&&(tt=rt)}return tt}function initRange(_e,et){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(et).domain(_e);break}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,et=[],tt=[],nt=implicit;function rt(it){let ot=_e.get(it);if(ot===void 0){if(nt!==implicit)return nt;_e.set(it,ot=et.push(it)-1)}return tt[ot%tt.length]}return rt.domain=function(it){if(!arguments.length)return et.slice();et=[],_e=new InternMap;for(const ot of it)_e.has(ot)||_e.set(ot,et.push(ot)-1);return rt},rt.range=function(it){return arguments.length?(tt=Array.from(it),rt):tt.slice()},rt.unknown=function(it){return arguments.length?(nt=it,rt):nt},rt.copy=function(){return ordinal(et,tt).unknown(nt)},initRange.apply(rt,arguments),rt}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$1(_e){return _e}function normalize(_e,et){return(et-=_e=+_e)?function(tt){return(tt-_e)/et}:constants(isNaN(et)?NaN:.5)}function clamper(_e,et){var tt;return _e>et&&(tt=_e,_e=et,et=tt),function(nt){return Math.max(_e,Math.min(et,nt))}}function bimap(_e,et,tt){var nt=_e[0],rt=_e[1],it=et[0],ot=et[1];return rt<nt?(nt=normalize(rt,nt),it=tt(ot,it)):(nt=normalize(nt,rt),it=tt(it,ot)),function(at){return it(nt(at))}}function polymap(_e,et,tt){var nt=Math.min(_e.length,et.length)-1,rt=new Array(nt),it=new Array(nt),ot=-1;for(_e[nt]<_e[0]&&(_e=_e.slice().reverse(),et=et.slice().reverse());++ot<nt;)rt[ot]=normalize(_e[ot],_e[ot+1]),it[ot]=tt(et[ot],et[ot+1]);return function(at){var st=bisect(_e,at,1,nt)-1;return it[st](rt[st](at))}}function copy(_e,et){return et.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer(){var _e=unit,et=unit,tt=interpolate,nt,rt,it,ot=identity$1,at,st,lt;function ut(){var ft=Math.min(_e.length,et.length);return ot!==identity$1&&(ot=clamper(_e[0],_e[ft-1])),at=ft>2?polymap:bimap,st=lt=null,ct}function ct(ft){return ft==null||isNaN(ft=+ft)?it:(st||(st=at(_e.map(nt),et,tt)))(nt(ot(ft)))}return ct.invert=function(ft){return ot(rt((lt||(lt=at(et,_e.map(nt),interpolateNumber)))(ft)))},ct.domain=function(ft){return arguments.length?(_e=Array.from(ft,number$1),ut()):_e.slice()},ct.range=function(ft){return arguments.length?(et=Array.from(ft),ut()):et.slice()},ct.rangeRound=function(ft){return et=Array.from(ft),tt=interpolateRound,ut()},ct.clamp=function(ft){return arguments.length?(ot=ft?!0:identity$1,ut()):ot!==identity$1},ct.interpolate=function(ft){return arguments.length?(tt=ft,ut()):tt},ct.unknown=function(ft){return arguments.length?(it=ft,ct):it},function(ft,dt){return nt=ft,rt=dt,ut()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,et){if((tt=(_e=et?_e.toExponential(et-1):_e.toExponential()).indexOf("e"))<0)return null;var tt,nt=_e.slice(0,tt);return[nt.length>1?nt[0]+nt.slice(2):nt,+_e.slice(tt+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,et){return function(tt,nt){for(var rt=tt.length,it=[],ot=0,at=_e[0],st=0;rt>0&&at>0&&(st+at+1>nt&&(at=Math.max(1,nt-st)),it.push(tt.substring(rt-=at,rt+at)),!((st+=at+1)>nt));)at=_e[ot=(ot+1)%_e.length];return it.reverse().join(et)}}function formatNumerals(_e){return function(et){return et.replace(/[0-9]/g,function(tt){return _e[+tt]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!(et=re.exec(_e)))throw new Error("invalid format: "+_e);var et;return new FormatSpecifier({fill:et[1],align:et[2],sign:et[3],symbol:et[4],zero:et[5],width:et[6],comma:et[7],precision:et[8]&&et[8].slice(1),trim:et[9],type:et[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var et=_e.length,tt=1,nt=-1,rt;tt<et;++tt)switch(_e[tt]){case".":nt=rt=tt;break;case"0":nt===0&&(nt=tt),rt=tt;break;default:if(!+_e[tt])break e;nt>0&&(nt=0);break}return nt>0?_e.slice(0,nt)+_e.slice(rt+1):_e}var prefixExponent;function formatPrefixAuto(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var nt=tt[0],rt=tt[1],it=rt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(rt/3)))*3)+1,ot=nt.length;return it===ot?nt:it>ot?nt+new Array(it-ot+1).join("0"):it>0?nt.slice(0,it)+"."+nt.slice(it):"0."+new Array(1-it).join("0")+formatDecimalParts(_e,Math.max(0,et+it-1))[0]}function formatRounded(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var nt=tt[0],rt=tt[1];return rt<0?"0."+new Array(-rt).join("0")+nt:nt.length>rt+1?nt.slice(0,rt+1)+"."+nt.slice(rt+1):nt+new Array(rt-nt.length+2).join("0")}const formatTypes={"%":(_e,et)=>(_e*100).toFixed(et),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,et)=>_e.toExponential(et),f:(_e,et)=>_e.toFixed(et),g:(_e,et)=>_e.toPrecision(et),o:_e=>Math.round(_e).toString(8),p:(_e,et)=>formatRounded(_e*100,et),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity(_e){return _e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var et=_e.grouping===void 0||_e.thousands===void 0?identity:formatGroup(map.call(_e.grouping,Number),_e.thousands+""),tt=_e.currency===void 0?"":_e.currency[0]+"",nt=_e.currency===void 0?"":_e.currency[1]+"",rt=_e.decimal===void 0?".":_e.decimal+"",it=_e.numerals===void 0?identity:formatNumerals(map.call(_e.numerals,String)),ot=_e.percent===void 0?"%":_e.percent+"",at=_e.minus===void 0?"":_e.minus+"",st=_e.nan===void 0?"NaN":_e.nan+"";function lt(ct){ct=formatSpecifier(ct);var ft=ct.fill,dt=ct.align,ht=ct.sign,mt=ct.symbol,yt=ct.zero,pt=ct.width,vt=ct.comma,gt=ct.precision,xt=ct.trim,wt=ct.type;wt==="n"?(vt=!0,wt="g"):formatTypes[wt]||(gt===void 0&&(gt=12),xt=!0,wt="g"),(yt||ft==="0"&&dt==="=")&&(yt=!0,ft="0",dt="=");var bt=mt==="$"?tt:mt==="#"&&/[boxX]/.test(wt)?"0"+wt.toLowerCase():"",St=mt==="$"?nt:/[%p]/.test(wt)?ot:"",kt=formatTypes[wt],Rt=/[defgprs%]/.test(wt);gt=gt===void 0?6:/[gprs]/.test(wt)?Math.max(1,Math.min(21,gt)):Math.max(0,Math.min(20,gt));function Et(At){var Tt=bt,It=St,_t,Pt,Zt;if(wt==="c")It=kt(At)+It,At="";else{At=+At;var Ht=At<0||1/At<0;if(At=isNaN(At)?st:kt(Math.abs(At),gt),xt&&(At=formatTrim(At)),Ht&&+At==0&&ht!=="+"&&(Ht=!1),Tt=(Ht?ht==="("?ht:at:ht==="-"||ht==="("?"":ht)+Tt,It=(wt==="s"?prefixes[8+prefixExponent/3]:"")+It+(Ht&&ht==="("?")":""),Rt){for(_t=-1,Pt=At.length;++_t<Pt;)if(Zt=At.charCodeAt(_t),48>Zt||Zt>57){It=(Zt===46?rt+At.slice(_t+1):At.slice(_t))+It,At=At.slice(0,_t);break}}}vt&&!yt&&(At=et(At,1/0));var zt=Tt.length+At.length+It.length,jt=zt<pt?new Array(pt-zt+1).join(ft):"";switch(vt&&yt&&(At=et(jt+At,jt.length?pt-It.length:1/0),jt=""),dt){case"<":At=Tt+At+It+jt;break;case"=":At=Tt+jt+At+It;break;case"^":At=jt.slice(0,zt=jt.length>>1)+Tt+At+It+jt.slice(zt);break;default:At=jt+Tt+At+It;break}return it(At)}return Et.toString=function(){return ct+""},Et}function ut(ct,ft){var dt=lt((ct=formatSpecifier(ct),ct.type="f",ct)),ht=Math.max(-8,Math.min(8,Math.floor(exponent(ft)/3)))*3,mt=Math.pow(10,-ht),yt=prefixes[8+ht/3];return function(pt){return dt(mt*pt)+yt}}return{format:lt,formatPrefix:ut}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,et){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(et)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,et){return _e=Math.abs(_e),et=Math.abs(et)-_e,Math.max(0,exponent(et)-exponent(_e))+1}function tickFormat(_e,et,tt,nt){var rt=tickStep(_e,et,tt),it;switch(nt=formatSpecifier(nt??",f"),nt.type){case"s":{var ot=Math.max(Math.abs(_e),Math.abs(et));return nt.precision==null&&!isNaN(it=precisionPrefix(rt,ot))&&(nt.precision=it),formatPrefix(nt,ot)}case"":case"e":case"g":case"p":case"r":{nt.precision==null&&!isNaN(it=precisionRound(rt,Math.max(Math.abs(_e),Math.abs(et))))&&(nt.precision=it-(nt.type==="e"));break}case"f":case"%":{nt.precision==null&&!isNaN(it=precisionFixed(rt))&&(nt.precision=it-(nt.type==="%")*2);break}}return format(nt)}function linearish(_e){var et=_e.domain;return _e.ticks=function(tt){var nt=et();return ticks(nt[0],nt[nt.length-1],tt??10)},_e.tickFormat=function(tt,nt){var rt=et();return tickFormat(rt[0],rt[rt.length-1],tt??10,nt)},_e.nice=function(tt){tt==null&&(tt=10);var nt=et(),rt=0,it=nt.length-1,ot=nt[rt],at=nt[it],st,lt,ut=10;for(at<ot&&(lt=ot,ot=at,at=lt,lt=rt,rt=it,it=lt);ut-- >0;){if(lt=tickIncrement(ot,at,tt),lt===st)return nt[rt]=ot,nt[it]=at,et(nt);if(lt>0)ot=Math.floor(ot/lt)*lt,at=Math.ceil(at/lt)*lt;else if(lt<0)ot=Math.ceil(ot*lt)/lt,at=Math.floor(at*lt)/lt;else break;st=lt}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function nice(_e,et){_e=_e.slice();var tt=0,nt=_e.length-1,rt=_e[tt],it=_e[nt],ot;return it<rt&&(ot=tt,tt=nt,nt=ot,ot=rt,rt=it,it=ot),_e[tt]=et.floor(rt),_e[nt]=et.ceil(it),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:et=>Math.pow(_e,et)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),et=>Math.log(et)/_e)}function reflect(_e){return(et,tt)=>-_e(-et,tt)}function loggish(_e){const et=_e(transformLog,transformExp),tt=et.domain;let nt=10,rt,it;function ot(){return rt=logp(nt),it=powp(nt),tt()[0]<0?(rt=reflect(rt),it=reflect(it),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),et}return et.base=function(at){return arguments.length?(nt=+at,ot()):nt},et.domain=function(at){return arguments.length?(tt(at),ot()):tt()},et.ticks=at=>{const st=tt();let lt=st[0],ut=st[st.length-1];const ct=ut<lt;ct&&([lt,ut]=[ut,lt]);let ft=rt(lt),dt=rt(ut),ht,mt;const yt=at==null?10:+at;let pt=[];if(!(nt%1)&&dt-ft<yt){if(ft=Math.floor(ft),dt=Math.ceil(dt),lt>0){for(;ft<=dt;++ft)for(ht=1;ht<nt;++ht)if(mt=ft<0?ht/it(-ft):ht*it(ft),!(mt<lt)){if(mt>ut)break;pt.push(mt)}}else for(;ft<=dt;++ft)for(ht=nt-1;ht>=1;--ht)if(mt=ft>0?ht/it(-ft):ht*it(ft),!(mt<lt)){if(mt>ut)break;pt.push(mt)}pt.length*2<yt&&(pt=ticks(lt,ut,yt))}else pt=ticks(ft,dt,Math.min(dt-ft,yt)).map(it);return ct?pt.reverse():pt},et.tickFormat=(at,st)=>{if(at==null&&(at=10),st==null&&(st=nt===10?"s":","),typeof st!="function"&&(!(nt%1)&&(st=formatSpecifier(st)).precision==null&&(st.trim=!0),st=format(st)),at===1/0)return st;const lt=Math.max(1,nt*at/et.ticks().length);return ut=>{let ct=ut/it(Math.round(rt(ut)));return ct*nt<nt-.5&&(ct*=nt),ct<=lt?st(ut):""}},et.nice=()=>tt(nice(tt(),{floor:at=>it(Math.floor(rt(at))),ceil:at=>it(Math.ceil(rt(at)))})),et}function log(){const _e=loggish(transformer()).domain([1,10]);return _e.copy=()=>copy(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}const t0=new Date,t1=new Date;function timeInterval(_e,et,tt,nt){function rt(it){return _e(it=arguments.length===0?new Date:new Date(+it)),it}return rt.floor=it=>(_e(it=new Date(+it)),it),rt.ceil=it=>(_e(it=new Date(it-1)),et(it,1),_e(it),it),rt.round=it=>{const ot=rt(it),at=rt.ceil(it);return it-ot<at-it?ot:at},rt.offset=(it,ot)=>(et(it=new Date(+it),ot==null?1:Math.floor(ot)),it),rt.range=(it,ot,at)=>{const st=[];if(it=rt.ceil(it),at=at==null?1:Math.floor(at),!(it<ot)||!(at>0))return st;let lt;do st.push(lt=new Date(+it)),et(it,at),_e(it);while(lt<it&&it<ot);return st},rt.filter=it=>timeInterval(ot=>{if(ot>=ot)for(;_e(ot),!it(ot);)ot.setTime(ot-1)},(ot,at)=>{if(ot>=ot)if(at<0)for(;++at<=0;)for(;et(ot,-1),!it(ot););else for(;--at>=0;)for(;et(ot,1),!it(ot););}),tt&&(rt.count=(it,ot)=>(t0.setTime(+it),t1.setTime(+ot),_e(t0),_e(t1),Math.floor(tt(t0,t1))),rt.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?rt.filter(nt?ot=>nt(ot)%it===0:ot=>rt.count(0,ot)%it===0):rt)),rt}const millisecond=timeInterval(()=>{},(_e,et)=>{_e.setTime(+_e+et)},(_e,et)=>et-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval(et=>{et.setTime(Math.floor(et/_e)*_e)},(et,tt)=>{et.setTime(+et+tt*_e)},(et,tt)=>(tt-et)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,et)=>{_e.setTime(+_e+et*durationSecond)},(_e,et)=>(et-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,et)=>_e.setDate(_e.getDate()+et),(_e,et)=>(et-_e-(et.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval(et=>{et.setDate(et.getDate()-(et.getDay()+7-_e)%7),et.setHours(0,0,0,0)},(et,tt)=>{et.setDate(et.getDate()+tt*7)},(et,tt)=>(tt-et-(tt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval(et=>{et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-_e)%7),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt*7)},(et,tt)=>(tt-et)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setMonth(_e.getMonth()+et)},(_e,et)=>et.getMonth()-_e.getMonth()+(et.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCMonth(_e.getUTCMonth()+et)},(_e,et)=>et.getUTCMonth()-_e.getUTCMonth()+(et.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setFullYear(_e.getFullYear()+et)},(_e,et)=>et.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setFullYear(Math.floor(et.getFullYear()/_e)*_e),et.setMonth(0,1),et.setHours(0,0,0,0)},(et,tt)=>{et.setFullYear(et.getFullYear()+tt*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCFullYear(_e.getUTCFullYear()+et)},(_e,et)=>et.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setUTCFullYear(Math.floor(et.getUTCFullYear()/_e)*_e),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCFullYear(et.getUTCFullYear()+tt*_e)});utcYear.range;function ticker(_e,et,tt,nt,rt,it){const ot=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[it,1,durationMinute],[it,5,5*durationMinute],[it,15,15*durationMinute],[it,30,30*durationMinute],[rt,1,durationHour],[rt,3,3*durationHour],[rt,6,6*durationHour],[rt,12,12*durationHour],[nt,1,durationDay],[nt,2,2*durationDay],[tt,1,durationWeek],[et,1,durationMonth],[et,3,3*durationMonth],[_e,1,durationYear]];function at(lt,ut,ct){const ft=ut<lt;ft&&([lt,ut]=[ut,lt]);const dt=ct&&typeof ct.range=="function"?ct:st(lt,ut,ct),ht=dt?dt.range(lt,+ut+1):[];return ft?ht.reverse():ht}function st(lt,ut,ct){const ft=Math.abs(ut-lt)/ct,dt=bisector(([,,yt])=>yt).right(ot,ft);if(dt===ot.length)return _e.every(tickStep(lt/durationYear,ut/durationYear,ct));if(dt===0)return millisecond.every(Math.max(tickStep(lt,ut,ct),1));const[ht,mt]=ot[ft/ot[dt-1][2]<ot[dt][2]/ft?dt-1:dt];return ht.every(mt)}return[at,st]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return et.setFullYear(_e.y),et}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return et.setUTCFullYear(_e.y),et}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,et,tt){return{y:_e,m:et,d:tt,H:0,M:0,S:0,L:0}}function formatLocale(_e){var et=_e.dateTime,tt=_e.date,nt=_e.time,rt=_e.periods,it=_e.days,ot=_e.shortDays,at=_e.months,st=_e.shortMonths,lt=formatRe(rt),ut=formatLookup(rt),ct=formatRe(it),ft=formatLookup(it),dt=formatRe(ot),ht=formatLookup(ot),mt=formatRe(at),yt=formatLookup(at),pt=formatRe(st),vt=formatLookup(st),gt={a:Ht,A:zt,b:jt,B:Wt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Nt,q:Lt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},xt={a:Jt,A:qt,b:Kt,B:dn,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:gn,q:xn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},wt={a:Et,A:At,b:Tt,B:It,c:_t,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Rt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Pt,X:Zt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};gt.x=bt(tt,gt),gt.X=bt(nt,gt),gt.c=bt(et,gt),xt.x=bt(tt,xt),xt.X=bt(nt,xt),xt.c=bt(et,xt);function bt(sn,pn){return function(mn){var ln=[],vn=-1,Ct=0,Ut=sn.length,Dt,Ot,$t;for(mn instanceof Date||(mn=new Date(+mn));++vn<Ut;)sn.charCodeAt(vn)===37&&(ln.push(sn.slice(Ct,vn)),(Ot=pads[Dt=sn.charAt(++vn)])!=null?Dt=sn.charAt(++vn):Ot=Dt==="e"?" ":"0",($t=pn[Dt])&&(Dt=$t(mn,Ot)),ln.push(Dt),Ct=vn+1);return ln.push(sn.slice(Ct,vn)),ln.join("")}}function St(sn,pn){return function(mn){var ln=newDate(1900,void 0,1),vn=kt(ln,sn,mn+="",0),Ct,Ut;if(vn!=mn.length)return null;if("Q"in ln)return new Date(ln.Q);if("s"in ln)return new Date(ln.s*1e3+("L"in ln?ln.L:0));if(pn&&!("Z"in ln)&&(ln.Z=0),"p"in ln&&(ln.H=ln.H%12+ln.p*12),ln.m===void 0&&(ln.m="q"in ln?ln.q:0),"V"in ln){if(ln.V<1||ln.V>53)return null;"w"in ln||(ln.w=1),"Z"in ln?(Ct=utcDate(newDate(ln.y,0,1)),Ut=Ct.getUTCDay(),Ct=Ut>4||Ut===0?utcMonday.ceil(Ct):utcMonday(Ct),Ct=utcDay.offset(Ct,(ln.V-1)*7),ln.y=Ct.getUTCFullYear(),ln.m=Ct.getUTCMonth(),ln.d=Ct.getUTCDate()+(ln.w+6)%7):(Ct=localDate(newDate(ln.y,0,1)),Ut=Ct.getDay(),Ct=Ut>4||Ut===0?timeMonday.ceil(Ct):timeMonday(Ct),Ct=timeDay.offset(Ct,(ln.V-1)*7),ln.y=Ct.getFullYear(),ln.m=Ct.getMonth(),ln.d=Ct.getDate()+(ln.w+6)%7)}else("W"in ln||"U"in ln)&&("w"in ln||(ln.w="u"in ln?ln.u%7:"W"in ln?1:0),Ut="Z"in ln?utcDate(newDate(ln.y,0,1)).getUTCDay():localDate(newDate(ln.y,0,1)).getDay(),ln.m=0,ln.d="W"in ln?(ln.w+6)%7+ln.W*7-(Ut+5)%7:ln.w+ln.U*7-(Ut+6)%7);return"Z"in ln?(ln.H+=ln.Z/100|0,ln.M+=ln.Z%100,utcDate(ln)):localDate(ln)}}function kt(sn,pn,mn,ln){for(var vn=0,Ct=pn.length,Ut=mn.length,Dt,Ot;vn<Ct;){if(ln>=Ut)return-1;if(Dt=pn.charCodeAt(vn++),Dt===37){if(Dt=pn.charAt(vn++),Ot=wt[Dt in pads?pn.charAt(vn++):Dt],!Ot||(ln=Ot(sn,mn,ln))<0)return-1}else if(Dt!=mn.charCodeAt(ln++))return-1}return ln}function Rt(sn,pn,mn){var ln=lt.exec(pn.slice(mn));return ln?(sn.p=ut.get(ln[0].toLowerCase()),mn+ln[0].length):-1}function Et(sn,pn,mn){var ln=dt.exec(pn.slice(mn));return ln?(sn.w=ht.get(ln[0].toLowerCase()),mn+ln[0].length):-1}function At(sn,pn,mn){var ln=ct.exec(pn.slice(mn));return ln?(sn.w=ft.get(ln[0].toLowerCase()),mn+ln[0].length):-1}function Tt(sn,pn,mn){var ln=pt.exec(pn.slice(mn));return ln?(sn.m=vt.get(ln[0].toLowerCase()),mn+ln[0].length):-1}function It(sn,pn,mn){var ln=mt.exec(pn.slice(mn));return ln?(sn.m=yt.get(ln[0].toLowerCase()),mn+ln[0].length):-1}function _t(sn,pn,mn){return kt(sn,et,pn,mn)}function Pt(sn,pn,mn){return kt(sn,tt,pn,mn)}function Zt(sn,pn,mn){return kt(sn,nt,pn,mn)}function Ht(sn){return ot[sn.getDay()]}function zt(sn){return it[sn.getDay()]}function jt(sn){return st[sn.getMonth()]}function Wt(sn){return at[sn.getMonth()]}function Nt(sn){return rt[+(sn.getHours()>=12)]}function Lt(sn){return 1+~~(sn.getMonth()/3)}function Jt(sn){return ot[sn.getUTCDay()]}function qt(sn){return it[sn.getUTCDay()]}function Kt(sn){return st[sn.getUTCMonth()]}function dn(sn){return at[sn.getUTCMonth()]}function gn(sn){return rt[+(sn.getUTCHours()>=12)]}function xn(sn){return 1+~~(sn.getUTCMonth()/3)}return{format:function(sn){var pn=bt(sn+="",gt);return pn.toString=function(){return sn},pn},parse:function(sn){var pn=St(sn+="",!1);return pn.toString=function(){return sn},pn},utcFormat:function(sn){var pn=bt(sn+="",xt);return pn.toString=function(){return sn},pn},utcParse:function(sn){var pn=St(sn+="",!0);return pn.toString=function(){return sn},pn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,et,tt){var nt=_e<0?"-":"",rt=(nt?-_e:_e)+"",it=rt.length;return nt+(it<tt?new Array(tt-it+1).join(et)+rt:rt)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map((et,tt)=>[et.toLowerCase(),tt]))}function parseWeekdayNumberSunday(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+1));return nt?(_e.w=+nt[0],tt+nt[0].length):-1}function parseWeekdayNumberMonday(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+1));return nt?(_e.u=+nt[0],tt+nt[0].length):-1}function parseWeekNumberSunday(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.U=+nt[0],tt+nt[0].length):-1}function parseWeekNumberISO(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.V=+nt[0],tt+nt[0].length):-1}function parseWeekNumberMonday(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.W=+nt[0],tt+nt[0].length):-1}function parseFullYear(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+4));return nt?(_e.y=+nt[0],tt+nt[0].length):-1}function parseYear(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.y=+nt[0]+(+nt[0]>68?1900:2e3),tt+nt[0].length):-1}function parseZone(_e,et,tt){var nt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(tt,tt+6));return nt?(_e.Z=nt[1]?0:-(nt[2]+(nt[3]||"00")),tt+nt[0].length):-1}function parseQuarter(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+1));return nt?(_e.q=nt[0]*3-3,tt+nt[0].length):-1}function parseMonthNumber(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.m=nt[0]-1,tt+nt[0].length):-1}function parseDayOfMonth(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.d=+nt[0],tt+nt[0].length):-1}function parseDayOfYear(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+3));return nt?(_e.m=0,_e.d=+nt[0],tt+nt[0].length):-1}function parseHour24(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.H=+nt[0],tt+nt[0].length):-1}function parseMinutes(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.M=+nt[0],tt+nt[0].length):-1}function parseSeconds(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+2));return nt?(_e.S=+nt[0],tt+nt[0].length):-1}function parseMilliseconds(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+3));return nt?(_e.L=+nt[0],tt+nt[0].length):-1}function parseMicroseconds(_e,et,tt){var nt=numberRe.exec(et.slice(tt,tt+6));return nt?(_e.L=Math.floor(nt[0]/1e3),tt+nt[0].length):-1}function parseLiteralPercent(_e,et,tt){var nt=percentRe.exec(et.slice(tt,tt+1));return nt?tt+nt[0].length:-1}function parseUnixTimestamp(_e,et,tt){var nt=numberRe.exec(et.slice(tt));return nt?(_e.Q=+nt[0],tt+nt[0].length):-1}function parseUnixTimestampSeconds(_e,et,tt){var nt=numberRe.exec(et.slice(tt));return nt?(_e.s=+nt[0],tt+nt[0].length):-1}function formatDayOfMonth(_e,et){return pad(_e.getDate(),et,2)}function formatHour24(_e,et){return pad(_e.getHours(),et,2)}function formatHour12(_e,et){return pad(_e.getHours()%12||12,et,2)}function formatDayOfYear(_e,et){return pad(1+timeDay.count(timeYear(_e),_e),et,3)}function formatMilliseconds(_e,et){return pad(_e.getMilliseconds(),et,3)}function formatMicroseconds(_e,et){return formatMilliseconds(_e,et)+"000"}function formatMonthNumber(_e,et){return pad(_e.getMonth()+1,et,2)}function formatMinutes(_e,et){return pad(_e.getMinutes(),et,2)}function formatSeconds(_e,et){return pad(_e.getSeconds(),et,2)}function formatWeekdayNumberMonday(_e){var et=_e.getDay();return et===0?7:et}function formatWeekNumberSunday(_e,et){return pad(timeSunday.count(timeYear(_e)-1,_e),et,2)}function dISO(_e){var et=_e.getDay();return et>=4||et===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,et){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),et,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,et){return pad(timeMonday.count(timeYear(_e)-1,_e),et,2)}function formatYear(_e,et){return pad(_e.getFullYear()%100,et,2)}function formatYearISO(_e,et){return _e=dISO(_e),pad(_e.getFullYear()%100,et,2)}function formatFullYear(_e,et){return pad(_e.getFullYear()%1e4,et,4)}function formatFullYearISO(_e,et){var tt=_e.getDay();return _e=tt>=4||tt===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,et,4)}function formatZone(_e){var et=_e.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+pad(et/60|0,"0",2)+pad(et%60,"0",2)}function formatUTCDayOfMonth(_e,et){return pad(_e.getUTCDate(),et,2)}function formatUTCHour24(_e,et){return pad(_e.getUTCHours(),et,2)}function formatUTCHour12(_e,et){return pad(_e.getUTCHours()%12||12,et,2)}function formatUTCDayOfYear(_e,et){return pad(1+utcDay.count(utcYear(_e),_e),et,3)}function formatUTCMilliseconds(_e,et){return pad(_e.getUTCMilliseconds(),et,3)}function formatUTCMicroseconds(_e,et){return formatUTCMilliseconds(_e,et)+"000"}function formatUTCMonthNumber(_e,et){return pad(_e.getUTCMonth()+1,et,2)}function formatUTCMinutes(_e,et){return pad(_e.getUTCMinutes(),et,2)}function formatUTCSeconds(_e,et){return pad(_e.getUTCSeconds(),et,2)}function formatUTCWeekdayNumberMonday(_e){var et=_e.getUTCDay();return et===0?7:et}function formatUTCWeekNumberSunday(_e,et){return pad(utcSunday.count(utcYear(_e)-1,_e),et,2)}function UTCdISO(_e){var et=_e.getUTCDay();return et>=4||et===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,et){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),et,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,et){return pad(utcMonday.count(utcYear(_e)-1,_e),et,2)}function formatUTCYear(_e,et){return pad(_e.getUTCFullYear()%100,et,2)}function formatUTCYearISO(_e,et){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,et,2)}function formatUTCFullYear(_e,et){return pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCFullYearISO(_e,et){var tt=_e.getUTCDay();return _e=tt>=4||tt===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,et,tt,nt,rt,it,ot,at,st,lt){var ut=continuous(),ct=ut.invert,ft=ut.domain,dt=lt(".%L"),ht=lt(":%S"),mt=lt("%I:%M"),yt=lt("%I %p"),pt=lt("%a %d"),vt=lt("%b %d"),gt=lt("%B"),xt=lt("%Y");function wt(bt){return(st(bt)<bt?dt:at(bt)<bt?ht:ot(bt)<bt?mt:it(bt)<bt?yt:nt(bt)<bt?rt(bt)<bt?pt:vt:tt(bt)<bt?gt:xt)(bt)}return ut.invert=function(bt){return new Date(ct(bt))},ut.domain=function(bt){return arguments.length?ft(Array.from(bt,number)):ft().map(date)},ut.ticks=function(bt){var St=ft();return _e(St[0],St[St.length-1],bt??10)},ut.tickFormat=function(bt,St){return St==null?wt:lt(St)},ut.nice=function(bt){var St=ft();return(!bt||typeof bt.range!="function")&&(bt=et(St[0],St[St.length-1],bt??10)),bt?ft(nice(St,bt)):ut},ut.copy=function(){return copy(ut,calendar(_e,et,tt,nt,rt,it,ot,at,st,lt))},ut}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n(_e){for(var et=arguments.length,tt=Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];throw Error("[Immer] minified error nr: "+_e+(tt.length?" "+tt.map(function(rt){return"'"+rt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(_e){return!!_e&&!!_e[Q]}function t(_e){var et;return!!_e&&(function(tt){if(!tt||typeof tt!="object")return!1;var nt=Object.getPrototypeOf(tt);if(nt===null)return!0;var rt=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return rt===Object||typeof rt=="function"&&Function.toString.call(rt)===Z}(_e)||Array.isArray(_e)||!!_e[L]||!!(!((et=_e.constructor)===null||et===void 0)&&et[L])||s(_e)||v(_e))}function i(_e,et,tt){tt===void 0&&(tt=!1),o(_e)===0?(tt?Object.keys:nn)(_e).forEach(function(nt){tt&&typeof nt=="symbol"||et(nt,_e[nt],_e)}):_e.forEach(function(nt,rt){return et(rt,nt,_e)})}function o(_e){var et=_e[Q];return et?et.i>3?et.i-4:et.i:Array.isArray(_e)?1:s(_e)?2:v(_e)?3:0}function u(_e,et){return o(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function a(_e,et){return o(_e)===2?_e.get(et):_e[et]}function f(_e,et,tt){var nt=o(_e);nt===2?_e.set(et,tt):nt===3?_e.add(tt):_e[et]=tt}function c(_e,et){return _e===et?_e!==0||1/_e==1/et:_e!=_e&&et!=et}function s(_e){return X&&_e instanceof Map}function v(_e){return q&&_e instanceof Set}function p(_e){return _e.o||_e.t}function l(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var et=rn(_e);delete et[Q];for(var tt=nn(et),nt=0;nt<tt.length;nt++){var rt=tt[nt],it=et[rt];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(et[rt]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[rt]})}return Object.create(Object.getPrototypeOf(_e),et)}function d(_e,et){return et===void 0&&(et=!1),y$1(_e)||r(_e)||!t(_e)||(o(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h),Object.freeze(_e),et&&i(_e,function(tt,nt){return d(nt,!0)},!0)),_e}function h(){n(2)}function y$1(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b(_e){var et=tn[_e];return et||n(18,_e),et}function _(){return U}function j(_e,et){et&&(b("Patches"),_e.u=[],_e.s=[],_e.v=et)}function g(_e){O(_e),_e.p.forEach(S),_e.p=null}function O(_e){_e===U&&(U=_e.l)}function w(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var et=_e[Q];et.i===0||et.i===1?et.j():et.g=!0}function P(_e,et){et._=et.p.length;var tt=et.p[0],nt=_e!==void 0&&_e!==tt;return et.h.O||b("ES5").S(et,_e,nt),nt?(tt[Q].P&&(g(et),n(4)),t(_e)&&(_e=M(et,_e),et.l||x$1(et,_e)),et.u&&b("Patches").M(tt[Q].t,_e,et.u,et.s)):_e=M(et,tt,[]),g(et),et.u&&et.v(et.u,et.s),_e!==H?_e:void 0}function M(_e,et,tt){if(y$1(et))return et;var nt=et[Q];if(!nt)return i(et,function(at,st){return A(_e,nt,et,at,st,tt)},!0),et;if(nt.A!==_e)return et;if(!nt.P)return x$1(_e,nt.t,!0),nt.t;if(!nt.I){nt.I=!0,nt.A._--;var rt=nt.i===4||nt.i===5?nt.o=l(nt.k):nt.o,it=rt,ot=!1;nt.i===3&&(it=new Set(rt),rt.clear(),ot=!0),i(it,function(at,st){return A(_e,nt,rt,at,st,tt,ot)}),x$1(_e,rt,!1),tt&&_e.u&&b("Patches").N(nt,tt,_e.u,_e.s)}return nt.o}function A(_e,et,tt,nt,rt,it,ot){if(r(rt)){var at=M(_e,rt,it&&et&&et.i!==3&&!u(et.R,nt)?it.concat(nt):void 0);if(f(tt,nt,at),!r(at))return;_e.m=!1}else ot&&tt.add(rt);if(t(rt)&&!y$1(rt)){if(!_e.h.D&&_e._<1)return;M(_e,rt),et&&et.A.l||x$1(_e,rt)}}function x$1(_e,et,tt){tt===void 0&&(tt=!1),!_e.l&&_e.h.D&&_e.m&&d(et,tt)}function z(_e,et){var tt=_e[Q];return(tt?p(tt):_e)[et]}function I(_e,et){if(et in _e)for(var tt=Object.getPrototypeOf(_e);tt;){var nt=Object.getOwnPropertyDescriptor(tt,et);if(nt)return nt;tt=Object.getPrototypeOf(tt)}}function k(_e){_e.P||(_e.P=!0,_e.l&&k(_e.l))}function E(_e){_e.o||(_e.o=l(_e.t))}function N(_e,et,tt){var nt=s(et)?b("MapSet").F(et,tt):v(et)?b("MapSet").T(et,tt):_e.O?function(rt,it){var ot=Array.isArray(rt),at={i:ot?1:0,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:rt,k:null,o:null,j:null,C:!1},st=at,lt=en;ot&&(st=[at],lt=on);var ut=Proxy.revocable(st,lt),ct=ut.revoke,ft=ut.proxy;return at.k=ft,at.j=ct,ft}(et,tt):b("ES5").J(et,tt);return(tt?tt.A:_()).p.push(nt),nt}function R(_e){return r(_e)||n(22,_e),function et(tt){if(!t(tt))return tt;var nt,rt=tt[Q],it=o(tt);if(rt){if(!rt.P&&(rt.i<4||!b("ES5").K(rt)))return rt.t;rt.I=!0,nt=D(tt,it),rt.I=!1}else nt=D(tt,it);return i(nt,function(ot,at){rt&&a(rt.t,ot)===at||f(nt,ot,et(at))}),it===3?new Set(nt):nt}(_e)}function D(_e,et){switch(et){case 2:return new Map(_e);case 3:return Array.from(_e)}return l(_e)}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var et={};return nn(_e).forEach(function(tt){et[tt]=Object.getOwnPropertyDescriptor(_e,tt)}),et},tn={},en={get:function(_e,et){if(et===Q)return _e;var tt=p(_e);if(!u(tt,et))return function(rt,it,ot){var at,st=I(it,ot);return st?"value"in st?st.value:(at=st.get)===null||at===void 0?void 0:at.call(rt.k):void 0}(_e,tt,et);var nt=tt[et];return _e.I||!t(nt)?nt:nt===z(_e.t,et)?(E(_e),_e.o[et]=N(_e.A.h,nt,_e)):nt},has:function(_e,et){return et in p(_e)},ownKeys:function(_e){return Reflect.ownKeys(p(_e))},set:function(_e,et,tt){var nt=I(p(_e),et);if(nt!=null&&nt.set)return nt.set.call(_e.k,tt),!0;if(!_e.P){var rt=z(p(_e),et),it=rt==null?void 0:rt[Q];if(it&&it.t===tt)return _e.o[et]=tt,_e.R[et]=!1,!0;if(c(tt,rt)&&(tt!==void 0||u(_e.t,et)))return!0;E(_e),k(_e)}return _e.o[et]===tt&&(tt!==void 0||et in _e.o)||Number.isNaN(tt)&&Number.isNaN(_e.o[et])||(_e.o[et]=tt,_e.R[et]=!0),!0},deleteProperty:function(_e,et){return z(_e.t,et)!==void 0||et in _e.t?(_e.R[et]=!1,E(_e),k(_e)):delete _e.R[et],_e.o&&delete _e.o[et],!0},getOwnPropertyDescriptor:function(_e,et){var tt=p(_e),nt=Reflect.getOwnPropertyDescriptor(tt,et);return nt&&{writable:!0,configurable:_e.i!==1||et!=="length",enumerable:nt.enumerable,value:tt[et]}},defineProperty:function(){n(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n(12)}},on={};i(en,function(_e,et){on[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on.deleteProperty=function(_e,et){return on.set.call(this,_e,et,void 0)},on.set=function(_e,et,tt){return en.set.call(this,_e[0],et,tt,_e[0])};var un=function(){function _e(tt){var nt=this;this.O=B,this.D=!0,this.produce=function(rt,it,ot){if(typeof rt=="function"&&typeof it!="function"){var at=it;it=rt;var st=nt;return function(mt){var yt=this;mt===void 0&&(mt=at);for(var pt=arguments.length,vt=Array(pt>1?pt-1:0),gt=1;gt<pt;gt++)vt[gt-1]=arguments[gt];return st.produce(mt,function(xt){var wt;return(wt=it).call.apply(wt,[yt,xt].concat(vt))})}}var lt;if(typeof it!="function"&&n(6),ot!==void 0&&typeof ot!="function"&&n(7),t(rt)){var ut=w(nt),ct=N(nt,rt,void 0),ft=!0;try{lt=it(ct),ft=!1}finally{ft?g(ut):O(ut)}return typeof Promise<"u"&&lt instanceof Promise?lt.then(function(mt){return j(ut,ot),P(mt,ut)},function(mt){throw g(ut),mt}):(j(ut,ot),P(lt,ut))}if(!rt||typeof rt!="object"){if((lt=it(rt))===void 0&&(lt=rt),lt===H&&(lt=void 0),nt.D&&d(lt,!0),ot){var dt=[],ht=[];b("Patches").M(rt,lt,dt,ht),ot(dt,ht)}return lt}n(21,rt)},this.produceWithPatches=function(rt,it){if(typeof rt=="function")return function(lt){for(var ut=arguments.length,ct=Array(ut>1?ut-1:0),ft=1;ft<ut;ft++)ct[ft-1]=arguments[ft];return nt.produceWithPatches(lt,function(dt){return rt.apply(void 0,[dt].concat(ct))})};var ot,at,st=nt.produce(rt,it,function(lt,ut){ot=lt,at=ut});return typeof Promise<"u"&&st instanceof Promise?st.then(function(lt){return[lt,ot,at]}):[st,ot,at]},typeof(tt==null?void 0:tt.useProxies)=="boolean"&&this.setUseProxies(tt.useProxies),typeof(tt==null?void 0:tt.autoFreeze)=="boolean"&&this.setAutoFreeze(tt.autoFreeze)}var et=_e.prototype;return et.createDraft=function(tt){t(tt)||n(8),r(tt)&&(tt=R(tt));var nt=w(this),rt=N(this,tt,void 0);return rt[Q].C=!0,O(nt),rt},et.finishDraft=function(tt,nt){var rt=tt&&tt[Q],it=rt.A;return j(it,nt),P(void 0,it)},et.setAutoFreeze=function(tt){this.D=tt},et.setUseProxies=function(tt){tt&&!B&&n(20),this.O=tt},et.applyPatches=function(tt,nt){var rt;for(rt=nt.length-1;rt>=0;rt--){var it=nt[rt];if(it.path.length===0&&it.op==="replace"){tt=it.value;break}}rt>-1&&(nt=nt.slice(rt+1));var ot=b("Patches").$;return r(tt)?ot(tt,nt):this.produce(tt,function(at){return ot(at,nt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const context=reactExports.createContext(null);function useLegend(){const _e=reactExports.useContext(context);if(!_e)throw new Error("context was not initialized");return _e}const legendReducer=fn((_e,et)=>{switch(et.type){case"ADD_LEGEND_LABEL":{const{shape:tt,...nt}=et.payload,rt=_e.labels.findIndex(({id:it})=>nt.id===it);if(rt<0)_e.labels.push({...nt,shape:tt,isVisible:!0});else{const it=_e.labels[rt].isVisible;_e.labels[rt]={...nt,isVisible:it,shape:tt}}return}case"REMOVE_LEGEND_LABEL":{const{id:tt}=et.payload,nt=_e.labels.findIndex(rt=>rt.id===tt);nt!==-1&&_e.labels.splice(nt,1);return}case"TOGGLE_VISIBILITY":{const{id:tt}=et.payload,nt=_e.labels.findIndex(rt=>rt.id===tt);nt!==-1&&(_e.labels[nt].isVisible=!_e.labels[nt].isVisible);return}default:throw new Error("unreachable")}}),initialLegendState={labels:[]},LegendProvider=_e=>{const[et,tt]=reactExports.useReducer(legendReducer,initialLegendState),nt=reactExports.useMemo(()=>[et,tt],[et,tt]);return jsxRuntimeExports.jsx(context.Provider,{value:nt,children:_e.children})};let currentValue=1;function getNextId(){return++currentValue}function useId(_e,et){return reactExports.useMemo(()=>_e||`${et}-${getNextId()}`,[_e,et])}const horizontal=["top","bottom"],vertical=["left","right"];function validatePosition(_e,et,tt){if(horizontal.includes(_e)&&!horizontal.includes(et)||vertical.includes(_e)&&!vertical.includes(et))throw new Error(`The positions are ortogonal for ${tt}`)}function validateAxis(_e,et,tt,nt={}){const{onlyOrthogonal:rt=!1}=nt,it=_e[et],ot=_e[tt];if(!it||!ot)return[void 0,void 0];if(rt&&(horizontal.includes(it.position)&&horizontal.includes(ot.position)||vertical.includes(ot.position)&&vertical.includes(it.position)))throw new Error(`The axis ${et} and ${tt} are not orthogonal`);if(!rt&&(horizontal.includes(it.position)?!vertical.includes(ot.position):vertical.includes(it.position)))throw vertical.includes(it.position)||horizontal.includes(ot.position)?new Error(`The axis ${et} should be ${horizontal.join(" ")} and ${tt} should be ${vertical.join(" ")}`):new Error(`The axis ${et} and ${tt} are not orthogonal`);return[it.scale,ot.scale]}function functionalStyle(_e,et,tt,nt,rt){let it={..._e};for(const ot in et)typeof et[ot]=="function"?it[ot]=et[ot](tt,nt,rt):it[ot]=et[ot];return it}function functionalShape(_e,et,tt,nt){let rt;return typeof _e=="function"?rt=_e(et,tt,nt):rt=_e,rt}function functionalLabel(_e,et,tt,nt){let rt;return typeof _e=="function"?rt=_e(et,tt,nt):rt=_e,rt}function validateSeriesPointError(_e){return typeof _e=="number"?[_e,_e]:Array.isArray(_e)&&_e.length>=2?_e:null}function closestPoint(_e,et,tt){let nt={index:0,distance:Number.POSITIVE_INFINITY};for(let rt=0;rt<_e.length;rt++){const it=tt(_e[rt],et);it<nt.distance&&(nt.index=rt,nt.distance=it)}return _e[nt.index]}function toNumber(_e){return typeof _e>"u"||typeof _e=="number"?_e:_e.getTime()}function middlePoint(_e,et){return{x:(_e.x+et.x)/2,y:(_e.y+et.y)/2}}function plotReducer(_e,et){switch(et.type){case"addSeries":{_e.series.push(et.payload);break}case"removeSeries":{const{id:tt}=et.payload,nt=_e.series.filter(rt=>rt.id!==tt);_e.series=nt;break}case"addAxis":{const{id:tt,position:nt,...rt}=et.payload,it=_e.axes[tt];it?(validatePosition(it.position,nt,tt),_e.axes[tt]={...it,position:nt,...rt}):_e.axes[tt]={id:tt,position:nt,...rt};break}case"removeAxis":{const{id:tt}=et.payload;delete _e.axes[tt];break}case"addHeading":{_e.headingPosition=et.payload.position;break}case"removeHeading":{_e.headingPosition=null;break}case"addLegend":{_e.legendPosition=et.payload.position,_e.legendMargin=et.payload.margin;break}case"removeLegend":{_e.legendPosition=null,_e.legendMargin=0;break}default:throw new Error(`Unknown reducer type ${et.type}`)}}const plotContext=reactExports.createContext({width:0,height:0,plotWidth:0,plotHeight:0,colorScaler:ordinal(),axisContext:{}}),plotDispatchContext=reactExports.createContext(()=>{});function usePlotContext(){const _e=reactExports.useContext(plotContext);if(!_e)throw new Error("usePlotContext called outside of Plot context");return _e}function usePlotDispatchContext(){const _e=reactExports.useContext(plotDispatchContext);if(!_e)throw new Error("usePlotDispatchContext called outside of Plot context");return _e}function useAxisContext(_e,et,{plotWidth:tt,plotHeight:nt}){return reactExports.useMemo(()=>{const it={};for(const ot in _e.axes){const at=_e.axes[ot],st=et[ot],lt=["top","bottom"].includes(at.position),ut=lt?"x":"y";let ct=!1,ft;(st==null?void 0:st.min)!=null?(ft=st.min,ct=!0):at.min!=null?(ft=at.min,ct=!0):ft=min(_e.series.filter(xt=>ut!=="x"||!xt.id.startsWith("~")),xt=>xt[ut].axisId===ot?xt[ut].min:void 0);let dt=!1,ht;if((st==null?void 0:st.max)!=null?(ht=st.max,dt=!0):at.max!=null?(ht=at.max,dt=!0):ht=max(_e.series.filter(xt=>ut!=="x"||!xt.id.startsWith("~")),xt=>xt[ut].axisId===ot?xt[ut].max:void 0),ft===void 0||ht===void 0)return{};if(ft>ht)throw new Error(`${ot}: min (${ft}) is bigger than max (${ht})`);const mt=lt?tt:nt,yt=computeAxisPadding(at,ht-ft,mt,ct,dt),pt=lt?[0,tt]:[nt,0],vt=[ft-yt.min,ht+yt.max],gt=function(wt){return wt<vt[0]?vt[0]:wt>vt[1]?vt[1]:wt};switch(at.scale){case"log":{it[ot]={type:at.scale,position:at.position,tickLabelFormat:at.tickLabelFormat,scale:log().domain(vt).range(at.flip?pt.reverse():pt),domain:vt,clampInDomain:gt};break}case"time":{it[ot]={type:at.scale,position:at.position,tickLabelFormat:at.tickLabelFormat,scale:time().domain(vt).range(at.flip?pt.reverse():pt),domain:vt,clampInDomain:gt};break}case"linear":{it[ot]={type:"linear",position:at.position,tickLabelFormat:at.tickLabelFormat,scale:linear().domain(vt).range(at.flip?pt.reverse():pt),domain:vt,clampInDomain:gt};break}default:throw new Error("unreachable")}}return it},[_e.axes,_e.series,et,tt,nt])}function computeAxisPadding(_e,et,tt,nt,rt){const{paddingStart:it,paddingEnd:ot}=_e;if(nt&&rt)return{min:0,max:0};if(rt)return{min:convertAxisPadding(it,0,et,tt).start,max:0};if(nt)return{min:0,max:convertAxisPadding(0,ot,et,tt).end};{const at=convertAxisPadding(it,ot,et,tt);return{min:at.start,max:at.end}}}function convertAxisPadding(_e,et,tt,nt){let rt=0,it=0,ot=tt;typeof _e=="number"&&(ot+=_e,rt=_e),typeof et=="number"&&(ot+=et,it=et);let at=0,st=0;typeof _e=="string"&&(at=toPx(_e,nt)/nt),typeof et=="string"&&(st=toPx(et,nt)/nt);const lt=at+st;if(lt!==0){const ut=lt*ot/(1-lt);rt=at/lt*ut,it=st/lt*ut}return{start:rt,end:it}}function toPx(_e,et){return _e.endsWith("%")?Number(_e.slice(0,-1))/100*et:Number(_e)}function createNestableContext(_e){const et=reactExports.createContext(new Map);function tt(rt){const it=reactExports.useContext(et);return it.has(rt)?it.get(rt):_e}function nt(rt){const{id:it,value:ot,children:at}=rt,st=reactExports.useContext(et),lt=reactExports.useMemo(()=>{const ut=new Map(st);return ut.set(it,ot),ut},[st,it,ot]);return jsxRuntimeExports.jsx(et.Provider,{value:lt,children:at})}return{useNestedContext:tt,NestedContextProvider:nt}}const initialPlotOverridesState={axes:{}},plotOverridesContext=createNestableContext(initialPlotOverridesState);function usePlotOverrides(_e){return plotOverridesContext.useNestedContext(_e==null?void 0:_e.controllerId)}createNestableContext(null);createNestableContext(null);const plotEventsPlotContext=createNestableContext(null);function usePlotEventsPlotContext(_e){return plotEventsPlotContext.useNestedContext(_e==null?void 0:_e.controllerId)}function squaredEuclidean(_e,et){let tt=0;for(let nt=0;nt<_e.length;nt++)tt+=(_e[nt]-et[nt])*(_e[nt]-et[nt]);return tt}function euclidean(_e,et){return Math.sqrt(squaredEuclidean(_e,et))}function convertString(_e,et){return _e.endsWith("%")?Number(_e.slice(0,-1))*et/100:Number(_e)}function convertToPx(_e,et,tt){return tt===void 0?0:typeof _e=="number"?tt(_e)-tt(0):convertString(_e,et)}function useIsSeriesVisible(_e){const[et]=useLegend(),tt=et.labels.find(nt=>nt.id===_e);return tt?tt.isVisible:!0}function useShift(_e){const{axisContext:et,plotWidth:tt,plotHeight:nt}=usePlotContext(),{xAxis:rt,yAxis:it,xShift:ot,yShift:at}=_e,[st,lt]=validateAxis(et,rt,it,{onlyOrthogonal:!0});return{xShift:convertToPx(ot,tt,st),yShift:convertToPx(at,nt,lt)}}const markersComps={circle:Circle,square:Square,diamond:Diamond,triangle:Triangle,cross:Cross,xmark:XMark,pentagon:Pentagon,star:Star,hexagon:Hexagon},halfPi=Math.PI/2,twoPi=Math.PI*2;function Circle({style:_e,size:et}){return jsxRuntimeExports.jsx("circle",{r:et/2,style:_e})}function Square({style:_e,size:et}){const tt=et/2;return jsxRuntimeExports.jsx("rect",{x:-tt,y:-tt,width:et,height:et,style:_e})}function Diamond({size:_e,style:et}){const tt=_e/2;return jsxRuntimeExports.jsx("polygon",{points:`0,${-tt} ${tt},0 0,${tt} ${-tt},0`,style:et})}function Triangle({style:_e,size:et}){const tt=Math.sqrt(3)*et/2,nt=et/2;return jsxRuntimeExports.jsx("polygon",{transform:`translate(0, -${(et-tt)/2})`,points:`${-nt},${nt} ${nt},${nt} 0,${nt-tt}`,style:_e})}function Cross({size:_e,style:et}){const tt=_e/2;return jsxRuntimeExports.jsxs("g",{strokeWidth:1,style:et,children:[jsxRuntimeExports.jsx("line",{x1:0,x2:0,y1:tt,y2:-tt}),jsxRuntimeExports.jsx("line",{x1:-tt,x2:tt,y1:0,y2:0})]})}function XMark(_e){return jsxRuntimeExports.jsx("g",{transform:"rotate(45)",children:jsxRuntimeExports.jsx(Cross,{..._e})})}function Pentagon({style:_e,size:et}){return jsxRuntimeExports.jsx("polygon",{points:Array.from(getPolyPoints(et,5)).join(" "),style:_e})}function Star({style:_e,size:et}){const tt=Array.from(getPolyPoints(et,5,0)),nt=Array.from(getPolyPoints(et/2.5,5,2*Math.PI/10)),rt=[];for(let it=0;it<tt.length;it++)rt.push(tt[it],nt[it]);return jsxRuntimeExports.jsx("polygon",{points:rt.join(" "),style:_e})}function Hexagon({style:_e,size:et}){return jsxRuntimeExports.jsx("polygon",{points:Array.from(getPolyPoints(et,6)).join(" "),style:_e})}function*getPolyPoints(_e,et,tt=0){const nt=_e/2;for(let rt=0;rt<et;rt++){const it=twoPi*rt/et-halfPi+tt,ot=nt*Math.cos(it),at=nt*Math.sin(it);yield`${ot},${at}`}}function Annotations(_e){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.children})}function getInnerOffset(_e,et,tt,nt){return _e||et?0:getOffsetFromTickPosition(tt,nt)}function getOffsetFromTickPosition(_e,et){switch(_e){case"outer":return 0;case"inner":return et;case"center":return et/2;default:throw new Error("unreachable")}}const bboxContext=reactExports.createContext(null);function HorizontalAxisGridLines(_e){const{plotHeight:et,style:tt,primaryTicks:nt,position:rt,primaryGrid:it,secondaryGrid:ot,secondaryStyle:at,scale:st}=_e,lt=reactExports.useMemo(()=>{const ut=[];if(it)for(const{position:ct}of nt)ut.push(jsxRuntimeExports.jsx("line",{x1:ct,x2:ct,y1:rt==="top"?et:-et,y2:"0",stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:tt},ct));if(ot){const ft=(st==null?void 0:st.ticks(nt.length*5))||[];for(const dt of ft){const ht=st==null?void 0:st(dt);if(!ht||nt.map(mt=>mt.position).includes(ht))return null;ut.push(jsxRuntimeExports.jsx("line",{x1:ht,x2:ht,y1:rt==="top"?et:-et,y2:"0",stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:at},ht))}}return ut},[rt,et,it,nt,st,ot,at,tt]);return jsxRuntimeExports.jsx("g",{children:lt})}function HorizontalAxisLabel(_e){const{plotWidth:et,label:tt,labelStyle:nt,verticalAlign:rt}=_e;return jsxRuntimeExports.jsx(AlignGroup,{x:et/2,y:0,horizontalAlign:"middle",verticalAlign:rt,children:jsxRuntimeExports.jsx("text",{textAnchor:"middle",style:nt,children:tt})})}function HorizontalAxisLine(_e){const{plotWidth:et,style:tt}=_e;return jsxRuntimeExports.jsx("line",{x1:0,x2:et,stroke:"black",style:tt})}function Ticks(_e){const{primaryTicks:et,getPositions:tt,secondaryTickLength:nt,scale:rt,secondaryTickStyle:it,style:ot,...at}=_e,st=et.map(ut=>{const{line:ct,text:ft}=tt(ut.position);return jsxRuntimeExports.jsx(Tick,{line:ct,style:ot,text:ft,...at,children:ut.label},ut.position)});let lt=[];if(nt!==0){const ft=(Math.abs((rt==null?void 0:rt.range()[1])-(rt==null?void 0:rt.range()[0]))||0)/et.length<50?5:10;lt=((rt==null?void 0:rt.ticks(et.length*ft))||[]).map(ht=>{if(et.map(pt=>pt.position).includes(rt(ht)))return null;const{line:mt,text:yt}=tt(rt(ht),!0);return jsxRuntimeExports.jsx(Tick,{line:mt,text:yt,secondary:!0,style:it,...at},String(ht))})||[]}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lt,st]})}function Tick(_e){const{line:{x1:et=0,x2:tt=0,y1:nt=0,y2:rt=0},text:{x1:it=0,y1:ot=0},children:at,strokeColor:st="black",strokeHeight:lt=1,anchor:ut="end",secondary:ct=!1,labelStyle:ft,style:dt,dominantBaseline:ht="middle"}=_e;return jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et,x2:ct&&et!==tt?tt*lt:tt,y1:nt,y2:ct&&nt!==rt?rt*lt:rt,stroke:st,strokeWidth:ct?1:1.5,style:dt}),!ct&&jsxRuntimeExports.jsx("text",{x:it,y:ot,textAnchor:ut,dominantBaseline:ht,style:ft,children:at})]})}function HorizontalAxis(_e){const{primaryTickStyle:et,primaryTickLength:tt,tickPosition:nt,hiddenTicks:rt,lineStyle:it,hiddenLine:ot,hidden:at,plotWidth:st,plotHeight:lt,displayPrimaryGridLines:ut,displaySecondaryGridLines:ct,primaryGridLineStyle:ft,secondaryGridLineStyle:dt,label:ht,labelStyle:mt,axisRef:yt,primaryTicks:pt,position:vt,tickLabelStyle:gt,innerOffset:xt,secondaryTickLength:wt,scale:bt,secondaryTickStyle:St}=_e,kt=vt==="bottom",Rt=0,Et=kt?`translate(0, ${lt})`:void 0,At=useBBoxObserver();function Tt(jt,Wt=!1){const{y1:Nt,y2:Lt,textPosition:Jt}=It(Wt);return{line:{x1:jt,x2:jt,y1:Nt,y2:Lt},text:{x1:jt,y1:kt?Jt:-Jt}}}function It(jt=!1){const Wt=jt?wt:tt,Nt=kt?Wt:-Wt;switch(nt){case"center":return{y1:Nt/2,y2:-Nt/2,textPosition:Rt+Wt/2};case"inner":return{y1:0,y2:-Nt,textPosition:Rt};case"outer":return{y1:0,y2:Nt,textPosition:Rt+Wt};default:return{y1:0,y:0,textPosition:0}}}const _t=ut||ct?jsxRuntimeExports.jsx(HorizontalAxisGridLines,{position:vt,plotHeight:lt,primaryTicks:pt,style:ft,primaryGrid:ut,secondaryGrid:ct,secondaryStyle:dt,scale:bt}):null,Pt=!at&&!rt?jsxRuntimeExports.jsx(Ticks,{anchor:"middle",primaryTicks:pt,getPositions:Tt,labelStyle:gt,style:et,secondaryTickLength:wt,scale:bt,secondaryTickStyle:St,dominantBaseline:kt?"text-before-edge":"text-after-edge"}):null,Zt=!at&&!ot?jsxRuntimeExports.jsx(HorizontalAxisLine,{style:it,plotWidth:st}):null,Ht=!at&&ht?jsxRuntimeExports.jsx(HorizontalAxisLabel,{plotWidth:st,label:ht,labelStyle:mt,verticalAlign:kt?"start":"end"}):null,zt=reactExports.useContext(bboxContext);return jsxRuntimeExports.jsxs("g",{transform:Et,children:[_t,jsxRuntimeExports.jsxs("g",{ref:zt,children:[jsxRuntimeExports.jsx("g",{ref:At.ref,children:Pt}),jsxRuntimeExports.jsx("g",{ref:yt,children:Zt}),jsxRuntimeExports.jsx("g",{transform:`translate(0, ${(At.height-xt)*(kt?1:-1)})`,children:Ht})]})]})}function VerticalAxisGridlines(_e){const{plotWidth:et,style:tt,primaryTicks:nt,position:rt,primaryGrid:it,secondaryGrid:ot,scale:at,secondaryStyle:st}=_e,lt=reactExports.useMemo(()=>{const ut=[];if(it)for(const{position:ct}of nt)ut.push(jsxRuntimeExports.jsx("line",{x1:"0",x2:rt==="left"?et:-et,y1:ct,y2:ct,stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:tt},ct));if(ot){const ft=(at==null?void 0:at.ticks(nt.length*5))||[];for(const dt of ft){const ht=(at==null?void 0:at(dt))||0;if(nt.map(mt=>mt.position).includes(ht))return null;ut.push(jsxRuntimeExports.jsx("line",{x1:"0",x2:rt==="left"?et:-et,y1:ht,y2:ht,stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:st},ht))}}return ut},[rt,et,it,nt,at,ot,st,tt]);return jsxRuntimeExports.jsx("g",{children:lt})}function VerticalText(_e){const{transform:et="",label:tt,...nt}=_e;return jsxRuntimeExports.jsx("text",{...nt,transform:`${et}rotate(-90)`,textAnchor:"middle",children:tt})}function VerticalAxisLabel(_e){const{plotHeight:et,label:tt,labelStyle:nt,horizontalAlign:rt}=_e;return jsxRuntimeExports.jsx(AlignGroup,{x:0,y:et/2,horizontalAlign:rt,verticalAlign:"middle",children:jsxRuntimeExports.jsx(VerticalText,{label:tt,style:nt})})}function VerticalAxisLine(_e){const{plotHeight:et,style:tt}=_e;return jsxRuntimeExports.jsx("line",{y1:0,y2:et,stroke:"black",style:tt})}function VerticalAxis(_e){const{primaryTickStyle:et,primaryTickLength:tt,tickPosition:nt,hiddenTicks:rt,primaryGridLineStyle:it,lineStyle:ot,hiddenLine:at,hidden:st,plotWidth:lt,plotHeight:ut,displayPrimaryGridLines:ct,displaySecondaryGridLines:ft,secondaryGridLineStyle:dt,label:ht,labelStyle:mt,axisRef:yt,primaryTicks:pt,position:vt,tickLabelStyle:gt,innerOffset:xt,secondaryTickLength:wt,scale:bt,secondaryTickStyle:St}=_e,kt=vt==="right",Rt=3,Et=kt?`translate(${lt}, 0)`:void 0,At=useBBoxObserver();function Tt(jt,Wt=!1){const{x1:Nt,x2:Lt,textPosition:Jt}=It(Wt);return{line:{y1:jt,y2:jt,x1:Nt,x2:Lt},text:{y1:jt,x1:kt?Jt:-Jt}}}function It(jt=!1){const Wt=jt?wt:tt,Nt=kt?Wt:-Wt;switch(nt){case"center":return{x1:Nt/2,x2:-Nt/2,textPosition:Rt+Wt/2};case"inner":return{x1:0,x2:-Nt,textPosition:Rt};case"outer":return{x1:0,x2:Nt,textPosition:Rt+Wt};default:return{x1:0,x2:0,textPosition:3}}}const _t=ct||ft?jsxRuntimeExports.jsx(VerticalAxisGridlines,{position:vt,plotWidth:lt,primaryTicks:pt,style:it,primaryGrid:ct,secondaryGrid:ft,secondaryStyle:dt,scale:bt}):null,Pt=!st&&!rt?jsxRuntimeExports.jsx(Ticks,{anchor:kt?"start":"end",primaryTicks:pt,getPositions:Tt,labelStyle:gt,style:et,secondaryTickLength:wt,scale:bt,secondaryTickStyle:St}):null,Zt=!st&&!at?jsxRuntimeExports.jsx(VerticalAxisLine,{style:ot,plotHeight:ut}):null,Ht=!st&&ht?jsxRuntimeExports.jsx(VerticalAxisLabel,{plotHeight:ut,label:ht,labelStyle:mt,horizontalAlign:kt?"start":"end"}):null,zt=reactExports.useContext(bboxContext);return jsxRuntimeExports.jsxs("g",{transform:Et,children:[_t,jsxRuntimeExports.jsxs("g",{ref:zt,children:[jsxRuntimeExports.jsx("g",{ref:At.ref,children:Pt}),jsxRuntimeExports.jsx("g",{ref:yt,children:Zt}),jsxRuntimeExports.jsx("g",{transform:`translate(${(At.width-xt)*(kt?1:-1)}, 0)`,children:Ht})]})]})}function LinearAxis(_e){const{position:et,tickLabelFormat:tt,scale:nt,...rt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useLinearPrimaryTicks(nt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:nt,axisRef:it,primaryTicks:at,position:et,...rt})}const LinearAxis$1=reactExports.memo(LinearAxis);function LogAxis(_e){const{position:et,tickLabelFormat:tt,scale:nt,...rt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useLogTicks(nt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:nt,axisRef:it,primaryTicks:at,position:et,...rt})}const LogAxis$1=reactExports.memo(LogAxis);function TimeAxis(_e){const{position:et,tickLabelFormat:tt,scale:nt,...rt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useTimeTicks(nt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:nt,axisRef:it,primaryTicks:at,position:et,...rt})}const TimeAxis$1=reactExports.memo(TimeAxis);function Axis({id:_e,position:et,min:tt,max:nt,paddingStart:rt=0,paddingEnd:it=0,flip:ot=!1,scale:at="linear",label:st,displayPrimaryGridLines:lt=!1,primaryGridLineStyle:ut,displaySecondaryGridLines:ct,secondaryGridLineStyle:ft,labelStyle:dt,hidden:ht=!1,tickLabelStyle:mt,tickLabelFormat:yt=at==="time"?void 0:String,hiddenLine:pt=!1,lineStyle:vt,hiddenTicks:gt=!1,tickPosition:xt="outer",primaryTickLength:wt=5,primaryTickStyle:bt,secondaryTickLength:St=3,secondaryTickStyle:kt}){const Rt=usePlotDispatchContext(),{axisContext:Et,plotWidth:At,plotHeight:Tt}=usePlotContext(),It=["top","bottom"].includes(et)?"x":"y",_t=_e||It,Pt=getInnerOffset(ht,gt,xt,wt);reactExports.useEffect(()=>(Rt({type:"addAxis",payload:{id:_t,position:et,min:tt,max:nt,paddingStart:rt,paddingEnd:it,flip:ot,scale:at,innerOffset:Pt,tickLabelFormat:yt}}),()=>Rt({type:"removeAxis",payload:{id:_t}})),[Rt,ot,Pt,nt,tt,it,rt,et,at,_t,yt]);const Zt=Et[_t];if(!Zt)return null;const Ht={hidden:ht,plotWidth:At,plotHeight:Tt,displayPrimaryGridLines:lt,label:st,labelStyle:dt,tickLabelStyle:mt,position:et,hiddenLine:pt,primaryGridLineStyle:ut,displaySecondaryGridLines:ct,secondaryGridLineStyle:ft,lineStyle:vt,hiddenTicks:gt,tickPosition:xt,primaryTickLength:wt,primaryTickStyle:bt,innerOffset:Pt,secondaryTickLength:St,secondaryTickStyle:kt};return at==="linear"?jsxRuntimeExports.jsx(LinearAxis$1,{...Ht,tickLabelFormat:yt,scale:Zt.scale}):at==="time"?jsxRuntimeExports.jsx(TimeAxis$1,{...Ht,tickLabelFormat:yt,scale:Zt.scale}):jsxRuntimeExports.jsx(LogAxis$1,{...Ht,tickLabelFormat:yt,scale:Zt.scale})}function parallelPosition(_e){switch(_e){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left";default:throw new Error(`Unknown position ${_e}`)}}function ParallelAxis(_e){const{id:et,hidden:tt=!1,primaryTickLength:nt=5,secondaryTickLength:rt=3,tickPosition:it="outer",hiddenLine:ot=!1,hiddenTicks:at=!1,tickLabelFormat:st,...lt}=_e,{axisContext:ut,plotWidth:ct,plotHeight:ft}=usePlotContext(),dt=getInnerOffset(tt,at,it,nt),ht=ut[et];if(!ht)return null;const mt=parallelPosition(ht.position),{type:yt,scale:pt,tickLabelFormat:vt}=ht,gt=st??vt,xt={plotWidth:ct,plotHeight:ft,position:mt,displayPrimaryGridLines:!1,hidden:tt,primaryTickLength:nt,tickPosition:it,hiddenLine:ot,hiddenTicks:at,innerOffset:dt,secondaryTickLength:rt,...lt};return yt==="linear"?jsxRuntimeExports.jsx(LinearAxis$1,{...xt,tickLabelFormat:gt,scale:pt}):yt==="time"?jsxRuntimeExports.jsx(TimeAxis$1,{...xt,tickLabelFormat:gt,scale:pt}):jsxRuntimeExports.jsx(LogAxis$1,{...xt,tickLabelFormat:gt,scale:pt})}function Heading({title:_e,titleStyle:et,titleClass:tt,subtitle:nt,subtitleStyle:rt,subtitleClass:it,position:ot="top"}){const{width:at,height:st}=usePlotContext(),lt=usePlotDispatchContext(),ut={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"16px",fontWeight:"bold"},ct={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"14px",color:"gray"},ft=useBBoxObserver();return reactExports.useEffect(()=>(lt({type:"addHeading",payload:{position:ot}}),()=>lt({type:"removeHeading"})),[lt,ot]),jsxRuntimeExports.jsxs(AlignGroup,{x:at/2,y:ot==="top"?0:st,horizontalAlign:"middle",verticalAlign:ot==="top"?"start":"end",children:[jsxRuntimeExports.jsx("text",{ref:ft.ref,style:{...ut,...et},className:tt,children:_e}),nt&&jsxRuntimeExports.jsx("text",{transform:`translate(0, ${ft.height})`,style:{...ct,...rt},className:it,children:nt})]})}Heading.defaultProps={position:"top"};const legendOffsetContext=reactExports.createContext(0);function exclusiveProps(_e,et,tt,nt){if(_e[et]!==void 0){if(_e[tt]!==void 0)throw new Error(`${et} and ${tt} should't be both defined for the position ${nt}`);return{key:et,value:_e[et]}}return _e[tt]!==void 0?{key:tt,value:_e[tt]}:{}}function translation(_e,et,tt,nt,rt){switch(_e){case"embedded":{const{key:it="top",value:ot=10}=exclusiveProps(et,"top","bottom",_e),{key:at="left",value:st=10}=exclusiveProps(et,"left","right",_e),lt=at==="right"?tt-st:st,ut=it==="bottom"?nt-ot:ot;return{x:lt,y:ut,horizontalAlign:at==="left"?"start":"end",verticalAlign:it==="top"?"start":"end"}}case"top":{const{value:it=tt/2}=exclusiveProps(et,"left","right",_e),ot=it,at=-(et.bottom||0)-rt;return{x:ot,y:at,horizontalAlign:"middle",verticalAlign:"end"}}case"right":{const{key:it="top",value:ot=nt/2}=exclusiveProps(et,"top","bottom",_e),at=it==="bottom"?-ot:ot;return{x:tt+(et.left||0)+rt,y:at,horizontalAlign:"start",verticalAlign:"middle"}}case"bottom":{const{value:it=tt/2}=exclusiveProps(et,"left","right",_e),ot=it,at=nt+(et.top||0)+rt;return{x:ot,y:at,horizontalAlign:"middle",verticalAlign:"start"}}case"left":{const{key:it="top",value:ot=nt/2}=exclusiveProps(et,"top","bottom",_e),at=it==="bottom"?-ot:ot;return{x:-(et.right||0)-rt,y:at,horizontalAlign:"end",verticalAlign:"middle"}}default:throw new Error(`Position ${JSON.stringify(_e)} unknown`)}}function Legend(_e){const{position:et="embedded",margin:tt=10,onClick:nt,lineStyle:rt={},showHide:it=!1,labelStyle:ot={},...at}=_e,{plotWidth:st,plotHeight:lt}=usePlotContext(),ut=usePlotDispatchContext(),[ct,ft]=useLegend(),dt=reactExports.useContext(legendOffsetContext),ht=reactExports.useMemo(()=>translation(et,at,st,lt,dt),[et,at,st,lt,dt]);reactExports.useEffect(()=>(ut({type:"addLegend",payload:{position:et,margin:tt}}),()=>ut({type:"removeLegend"})),[ut,et,tt]);function mt(yt,pt){nt==null||nt({event:yt,id:pt}),it&&ft({type:"TOGGLE_VISIBILITY",payload:{id:pt}})}return jsxRuntimeExports.jsx(AlignGroup,{...ht,children:ct.labels.map((yt,pt)=>{const vt=functionalStyle({fontSize:"16px"},ot,{id:yt.id}),gt=functionalStyle({},rt,{id:yt.id}),xt=Number.parseInt(String(vt.fontSize),10),wt=10,bt=pt*xt+xt/2+3;if(yt.range)return jsxRuntimeExports.jsxs("g",{onClick:kt=>mt(kt,yt.id),transform:`translate(${wt}, 0)`,style:{opacity:yt.isVisible?"1":"0.6"},children:[getRangeShape({index:pt,rangeColor:yt.range.rangeColor,lineColor:yt.colorLine,style:gt,height:xt}),jsxRuntimeExports.jsx("text",{style:vt,x:30,y:`${(pt+1)*xt}`,children:yt.label})]},pt);let St;return yt.shape&&(St=markersComps[yt.shape.figure]),jsxRuntimeExports.jsxs("g",{onClick:kt=>mt(kt,yt.id),transform:`translate(${wt}, 0)`,style:{opacity:yt.isVisible?"1":"0.6"},children:[getLineShape({index:pt,color:yt.colorLine,style:gt,height:xt}),jsxRuntimeExports.jsx("g",{transform:`translate(${wt-1}, ${bt})`,children:yt.shape&&St&&!yt.shape.hidden&&jsxRuntimeExports.jsx(St,{size:10,style:{fill:yt.shape.color}})}),jsxRuntimeExports.jsx("text",{style:vt,x:30,y:`${(pt+1)*xt}`,children:yt.label})]},pt)})})}function getLineShape(_e){const{index:et,color:tt,style:nt={},height:rt=16}=_e,it=0,{strokeWidth:ot="2px"}=nt,at=et*rt+rt/2+3;return jsxRuntimeExports.jsx("line",{x1:it,x2:it+20,y1:at,y2:at,stroke:tt,style:{...nt,strokeWidth:ot}})}function getRangeShape(_e){const{index:et,rangeColor:tt,lineColor:nt,style:rt={},height:it=16}=_e,{strokeWidth:ot="15px"}=rt,at=Number.parseInt(ot==null?void 0:ot.toString(),10)/5,st=0,lt=et*it+it/2-at;return jsxRuntimeExports.jsxs("g",{transform:`translate(${st}, ${lt})`,children:[jsxRuntimeExports.jsx("rect",{width:"20",height:at*3,fill:tt}),jsxRuntimeExports.jsx("line",{style:rt,x1:0,y:0,x2:20,y2:0,stroke:nt,strokeWidth:at}),jsxRuntimeExports.jsx("line",{style:rt,x1:0,y1:at*3,x2:20,y2:at*3,stroke:nt,strokeWidth:at})]})}function ErrorBars(_e){const{xAxis:et="x",yAxis:tt="y",data:nt,hidden:rt,transform:it,...ot}=_e,{axisContext:at}=usePlotContext(),[st,lt]=validateAxis(at,et,tt),ut=reactExports.useMemo(()=>rt||st===void 0||lt===void 0?null:nt.map((ft,dt)=>{const ht=validateSeriesPointError(ft.xError),mt=validateSeriesPointError(ft.yError);return jsxRuntimeExports.jsx(PointBars,{origin:{x:st(ft.x),y:lt(ft.y)},bottom:mt?lt(ft.y-(mt[0]||0)):null,top:mt?lt(ft.y+(mt[1]||0)):null,left:ht?st(ft.x-(ht[0]||0)):null,right:ht?st(ft.x+(ht[1]||0)):null,...ot},`ErrorBars-${dt}`)}),[nt,st,lt,rt,ot]);return jsxRuntimeExports.jsx("g",{transform:it,children:ut})}function PointBars(_e){const{origin:et,top:tt,bottom:nt,left:rt,right:it,style:ot,capSize:at=10,capStyle:st}=_e,lt="black";return jsxRuntimeExports.jsxs("g",{children:[tt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:et.x,y1:et.y,y2:tt,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:et.x-at/2,x2:et.x+at/2,y1:tt,y2:tt,stroke:lt,...ot,...st})]}),nt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:et.x,y1:et.y,y2:nt,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:et.x-at/2,x2:et.x+at/2,y1:nt,y2:nt,stroke:lt,...ot,...st})]}),rt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:rt,y1:et.y,y2:et.y,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:rt,x2:rt,y1:et.y-at/2,y2:et.y+at/2,stroke:lt,...ot,...st})]}),it!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:it,y1:et.y,y2:et.y,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:it,x2:it,y1:et.y-at/2,y2:et.y+at/2,stroke:lt,...ot,...st})]})]})}function ScatterSeries(_e){const et=usePlotDispatchContext(),{colorScaler:tt}=usePlotContext(),[,nt]=useLegend(),rt=useId(_e.id,"series"),{xAxis:it="x",yAxis:ot="y",data:at,label:st,hidden:lt,displayErrorBars:ut=!1,xShift:ct=0,yShift:ft=0,...dt}=_e,{markerShape:ht="circle",markerStyle:mt={},errorBarsStyle:yt,errorBarsCapStyle:pt,errorBarsCapSize:vt}=dt,gt=useIsSeriesVisible(rt),{xShift:xt,yShift:wt}=useShift({xAxis:it,yAxis:ot,xShift:ct,yShift:ft}),bt=`translate(${xt},${wt})`;if(reactExports.useEffect(()=>{var Rt;if(!lt)return nt({type:"ADD_LEGEND_LABEL",payload:{id:rt,label:st,colorLine:"white",shape:{color:((Rt=mt==null?void 0:mt.fill)===null||Rt===void 0?void 0:Rt.toString())||tt(rt),figure:typeof ht=="string"?ht:"circle",hidden:!1}}}),()=>nt({type:"REMOVE_LEGEND_LABEL",payload:{id:rt}})},[tt,lt,rt,st,nt,ht,mt==null?void 0:mt.fill]),reactExports.useEffect(()=>{const[Rt,Et]=extent(at,Pt=>Pt.x),[At,Tt]=extent(at,Pt=>Pt.y);return et({type:"addSeries",payload:{id:rt,x:{min:Rt,max:Et,axisId:it,shift:ct},y:{min:At,max:Tt,axisId:ot,shift:ft},label:st,data:at}}),()=>et({type:"removeSeries",payload:{id:rt}})},[et,rt,at,it,ot,st,ct,ft]),lt)return null;const St={data:at,xAxis:it,yAxis:ot},kt={hidden:!ut,style:yt,capStyle:pt,capSize:vt,transform:bt};return gt?jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx(ErrorBars,{...St,...kt}),jsxRuntimeExports.jsx(ScatterSeriesRender,{...dt,...St,id:rt,transform:bt})]}):null}function ScatterSeriesRender({id:_e,data:et,xAxis:tt,yAxis:nt,markerShape:rt="circle",markerSize:it=8,markerStyle:ot={},pointLabel:at="",pointLabelStyle:st={},displayMarkers:lt=!0,lineStyle:ut={},displayLines:ct=!1,transform:ft}){const{axisContext:dt,colorScaler:ht}=usePlotContext(),[mt,yt]=validateAxis(dt,tt,nt),pt=reactExports.useMemo(()=>{if(mt===void 0||yt===void 0)return null;const vt=ht(_e),gt={fill:vt,stroke:vt};return et.map((wt,bt)=>{const St=functionalStyle(gt,ot,wt,bt,et),kt=markersComps[functionalShape(rt,wt,bt,et)],Rt=functionalLabel(at,wt,bt,et),Et=functionalStyle({},st,wt,bt,et),At=[];if(ct){const Tt=functionalStyle({},ut,wt,bt,et),It=bt>0?middlePoint(wt,et[bt-1]):void 0,_t=et[bt+1]?middlePoint(wt,et[bt+1]):void 0,Pt=It?jsxRuntimeExports.jsx("line",{x1:0,y1:0,x2:mt(It.x)-mt(wt.x),y2:yt(It.y)-yt(wt.y),style:{stroke:St.fill,...Tt}},`markers-${bt}-previous`):null,Zt=_t?jsxRuntimeExports.jsx("line",{x1:0,y1:0,x2:mt(_t.x)-mt(wt.x),y2:yt(_t.y)-yt(wt.y),style:{stroke:St.fill,...Tt}},`markers-${bt}-next`):null;At.push(Pt,Zt)}return jsxRuntimeExports.jsxs("g",{transform:`translate(${mt(wt.x)}, ${yt(wt.y)})`,children:[At,lt?jsxRuntimeExports.jsx(kt,{size:it,style:{stroke:St.fill,...St}}):null,Rt?jsxRuntimeExports.jsx("text",{style:Et,children:Rt}):null]},`markers-${bt}`)})},[mt,yt,ht,_e,et,ot,rt,at,st,ut,ct,lt,it]);return pt?jsxRuntimeExports.jsx("g",{transform:ft,className:"markers",children:pt}):null}function BarSeries(_e){var et;const[,tt]=useLegend(),{colorScaler:nt}=usePlotContext(),rt=useId(_e.id,"series"),{lineStyle:it={},displayMarkers:ot=!1,hidden:at,...st}=_e,{xAxis:lt="x",yAxis:ut="y",xShift:ct="0",yShift:ft="0",pointLabel:dt,displayErrorBars:ht,label:mt,markerStyle:yt,markerShape:pt}=st,{xShift:vt,yShift:gt}=useShift({xAxis:lt,yAxis:ut,xShift:ct,yShift:ft}),xt={id:rt,data:_e.data,xAxis:lt,yAxis:ut,lineStyle:functionalStyle({},it,{id:rt}),transform:`translate(${vt},${gt})`},wt=it!=null&&it.stroke?it==null?void 0:it.stroke.toString():nt(rt),bt=((et=yt==null?void 0:yt.fill)===null||et===void 0?void 0:et.toString())||nt(rt),St=pt||"circle",kt=reactExports.useMemo(()=>({color:bt,figure:St,hidden:!ot}),[bt,ot,St]),Rt=useIsSeriesVisible(rt);return reactExports.useEffect(()=>{if(!at)return tt({type:"ADD_LEGEND_LABEL",payload:{id:rt,label:mt,colorLine:wt,shape:kt}}),()=>tt({type:"REMOVE_LEGEND_LABEL",payload:{id:rt}})},[wt,tt,mt,kt,rt,at]),at?null:jsxRuntimeExports.jsxs("g",{children:[Rt&&jsxRuntimeExports.jsx(BarSeriesRender,{...xt}),jsxRuntimeExports.jsx(ScatterSeries,{...st,hidden:!ot&&!dt&&!ht,displayMarkers:ot,id:rt})]})}function BarSeriesRender({id:_e,data:et,xAxis:tt,yAxis:nt,lineStyle:rt,transform:it}){const{axisContext:ot,colorScaler:at}=usePlotContext(),[st,lt]=validateAxis(ot,tt,nt),ut=at(_e);if(st===void 0||lt===void 0)return null;const ct={stroke:ut,strokeWidth:2,...rt};return jsxRuntimeExports.jsx("g",{transform:it,children:et.map(({x:ft,y:dt})=>jsxRuntimeExports.jsx("line",{style:ct,x1:st(ft),x2:st(ft),y1:lt(dt),y2:lt(0)},`${ft}-${dt}`))})}function constant(_e){return function(){return _e}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let et=1,tt=_e.length;et<tt;++et)this._+=arguments[et]+_e[et]}function appendRound(_e){let et=Math.floor(_e);if(!(et>=0))throw new Error(`invalid digits: ${_e}`);if(et>15)return append;const tt=10**et;return function(nt){this._+=nt[0];for(let rt=1,it=nt.length;rt<it;++rt)this._+=Math.round(arguments[rt]*tt)/tt+nt[rt]}}class Path{constructor(et){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=et==null?append:appendRound(et)}moveTo(et,tt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(et,tt){this._append`L${this._x1=+et},${this._y1=+tt}`}quadraticCurveTo(et,tt,nt,rt){this._append`Q${+et},${+tt},${this._x1=+nt},${this._y1=+rt}`}bezierCurveTo(et,tt,nt,rt,it,ot){this._append`C${+et},${+tt},${+nt},${+rt},${this._x1=+it},${this._y1=+ot}`}arcTo(et,tt,nt,rt,it){if(et=+et,tt=+tt,nt=+nt,rt=+rt,it=+it,it<0)throw new Error(`negative radius: ${it}`);let ot=this._x1,at=this._y1,st=nt-et,lt=rt-tt,ut=ot-et,ct=at-tt,ft=ut*ut+ct*ct;if(this._x1===null)this._append`M${this._x1=et},${this._y1=tt}`;else if(ft>epsilon)if(!(Math.abs(ct*st-lt*ut)>epsilon)||!it)this._append`L${this._x1=et},${this._y1=tt}`;else{let dt=nt-ot,ht=rt-at,mt=st*st+lt*lt,yt=dt*dt+ht*ht,pt=Math.sqrt(mt),vt=Math.sqrt(ft),gt=it*Math.tan((pi-Math.acos((mt+ft-yt)/(2*pt*vt)))/2),xt=gt/vt,wt=gt/pt;Math.abs(xt-1)>epsilon&&this._append`L${et+xt*ut},${tt+xt*ct}`,this._append`A${it},${it},0,0,${+(ct*dt>ut*ht)},${this._x1=et+wt*st},${this._y1=tt+wt*lt}`}}arc(et,tt,nt,rt,it,ot){if(et=+et,tt=+tt,nt=+nt,ot=!!ot,nt<0)throw new Error(`negative radius: ${nt}`);let at=nt*Math.cos(rt),st=nt*Math.sin(rt),lt=et+at,ut=tt+st,ct=1^ot,ft=ot?rt-it:it-rt;this._x1===null?this._append`M${lt},${ut}`:(Math.abs(this._x1-lt)>epsilon||Math.abs(this._y1-ut)>epsilon)&&this._append`L${lt},${ut}`,nt&&(ft<0&&(ft=ft%tau+tau),ft>tauEpsilon?this._append`A${nt},${nt},0,1,${ct},${et-at},${tt-st}A${nt},${nt},0,1,${ct},${this._x1=lt},${this._y1=ut}`:ft>epsilon&&this._append`A${nt},${nt},0,${+(ft>=pi)},${ct},${this._x1=et+nt*Math.cos(it)},${this._y1=tt+nt*Math.sin(it)}`)}rect(et,tt,nt,rt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}h${nt=+nt}v${+rt}h${-nt}Z`}toString(){return this._}}function withPath(_e){let et=3;return _e.digits=function(tt){if(!arguments.length)return et;if(tt==null)et=null;else{const nt=Math.floor(tt);if(!(nt>=0))throw new RangeError(`invalid digits: ${tt}`);et=nt}return _e},()=>new Path(et)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:this._context.lineTo(_e,et);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function line(_e,et){var tt=constant(!0),nt=null,rt=curveLinear,it=null,ot=withPath(at);_e=typeof _e=="function"?_e:_e===void 0?x:constant(_e),et=typeof et=="function"?et:et===void 0?y:constant(et);function at(st){var lt,ut=(st=array(st)).length,ct,ft=!1,dt;for(nt==null&&(it=rt(dt=ot())),lt=0;lt<=ut;++lt)!(lt<ut&&tt(ct=st[lt],lt,st))===ft&&((ft=!ft)?it.lineStart():it.lineEnd()),ft&&it.point(+_e(ct,lt,st),+et(ct,lt,st));if(dt)return it=null,dt+""||null}return at.x=function(st){return arguments.length?(_e=typeof st=="function"?st:constant(+st),at):_e},at.y=function(st){return arguments.length?(et=typeof st=="function"?st:constant(+st),at):et},at.defined=function(st){return arguments.length?(tt=typeof st=="function"?st:constant(!!st),at):tt},at.curve=function(st){return arguments.length?(rt=st,nt!=null&&(it=rt(nt)),at):rt},at.context=function(st){return arguments.length?(st==null?nt=it=null:it=rt(nt=st),at):nt},at}function area(_e,et,tt){var nt=null,rt=constant(!0),it=null,ot=curveLinear,at=null,st=withPath(lt);_e=typeof _e=="function"?_e:_e===void 0?x:constant(+_e),et=typeof et=="function"?et:constant(et===void 0?0:+et),tt=typeof tt=="function"?tt:tt===void 0?y:constant(+tt);function lt(ct){var ft,dt,ht,mt=(ct=array(ct)).length,yt,pt=!1,vt,gt=new Array(mt),xt=new Array(mt);for(it==null&&(at=ot(vt=st())),ft=0;ft<=mt;++ft){if(!(ft<mt&&rt(yt=ct[ft],ft,ct))===pt)if(pt=!pt)dt=ft,at.areaStart(),at.lineStart();else{for(at.lineEnd(),at.lineStart(),ht=ft-1;ht>=dt;--ht)at.point(gt[ht],xt[ht]);at.lineEnd(),at.areaEnd()}pt&&(gt[ft]=+_e(yt,ft,ct),xt[ft]=+et(yt,ft,ct),at.point(nt?+nt(yt,ft,ct):gt[ft],tt?+tt(yt,ft,ct):xt[ft]))}if(vt)return at=null,vt+""||null}function ut(){return line().defined(rt).curve(ot).context(it)}return lt.x=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant(+ct),nt=null,lt):_e},lt.x0=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant(+ct),lt):_e},lt.x1=function(ct){return arguments.length?(nt=ct==null?null:typeof ct=="function"?ct:constant(+ct),lt):nt},lt.y=function(ct){return arguments.length?(et=typeof ct=="function"?ct:constant(+ct),tt=null,lt):et},lt.y0=function(ct){return arguments.length?(et=typeof ct=="function"?ct:constant(+ct),lt):et},lt.y1=function(ct){return arguments.length?(tt=ct==null?null:typeof ct=="function"?ct:constant(+ct),lt):tt},lt.lineX0=lt.lineY0=function(){return ut().x(_e).y(et)},lt.lineY1=function(){return ut().x(_e).y(tt)},lt.lineX1=function(){return ut().x(nt).y(et)},lt.defined=function(ct){return arguments.length?(rt=typeof ct=="function"?ct:constant(!!ct),lt):rt},lt.curve=function(ct){return arguments.length?(ot=ct,it!=null&&(at=ot(it)),lt):ot},lt.context=function(ct){return arguments.length?(ct==null?it=at=null:at=ot(it=ct),lt):it},lt}function LineSeriesInner(_e){const[,et]=useLegend(),{colorScaler:tt}=usePlotContext(),nt=useId(_e.id,"series"),{lineStyle:rt={},displayMarkers:it=!1,hidden:ot,...at}=_e,{xAxis:st="x",yAxis:lt="y",xShift:ut="0",yShift:ct="0",pointLabel:ft,displayErrorBars:dt,label:ht,markerStyle:mt,markerShape:yt}=at,{xShift:pt,yShift:vt}=useShift({xAxis:st,yAxis:lt,xShift:ut,yShift:ct}),gt=functionalStyle({},rt,{id:nt}),xt=useIsSeriesVisible(nt);if(reactExports.useEffect(()=>{var bt,St;if(!ot)return et({type:"ADD_LEGEND_LABEL",payload:{id:nt,label:ht,colorLine:((bt=gt==null?void 0:gt.stroke)===null||bt===void 0?void 0:bt.toString())||tt(nt),shape:{color:((St=mt==null?void 0:mt.fill)===null||St===void 0?void 0:St.toString())||tt(nt),figure:yt||"circle",hidden:!it}}}),()=>et({type:"REMOVE_LEGEND_LABEL",payload:{id:nt}})},[ot,tt,it,nt,et,gt==null?void 0:gt.stroke,ht,yt,mt==null?void 0:mt.fill]),ot)return null;const wt={id:nt,data:_e.data,xAxis:st,yAxis:lt,lineStyle:gt,transform:`translate(${pt},${vt})`};return jsxRuntimeExports.jsxs("g",{children:[xt&&jsxRuntimeExports.jsx(LineSeriesRender,{...wt}),jsxRuntimeExports.jsx(ScatterSeries,{...at,hidden:!it&&!ft&&!dt,displayMarkers:it,id:nt})]})}const LineSeries=reactExports.memo(LineSeriesInner);function LineSeriesRender({id:_e,data:et,xAxis:tt,yAxis:nt,lineStyle:rt,transform:it}){const{axisContext:ot,colorScaler:at}=usePlotContext(),[st,lt]=validateAxis(ot,tt,nt),ut=at(_e),ct=reactExports.useMemo(()=>st===void 0||lt===void 0?null:line().x(ht=>st(ht.x)).y(ht=>lt(ht.y))(et),[et,st,lt]);if(!ct)return null;const ft={stroke:ut,strokeWidth:2,...rt};return jsxRuntimeExports.jsx("path",{transform:it,style:ft,d:ct,fill:"none"})}function FunctionSeries(_e){const{getY:et,xAxis:tt="x",id:nt,...rt}=_e,it=`~${useId(nt,"series")}`,{axisContext:ot,plotWidth:at,plotHeight:st}=usePlotContext(),lt=ot[tt],ut=1,ct=reactExports.useMemo(()=>{const ft=[];if(lt){const ht=(lt?lt.position==="top"||lt.position==="bottom":!1)?at:st,mt=lt.scale;for(let yt=0;yt<=ht;yt+=ut){const pt=toNumber(mt.invert(yt));ft.push({x:pt,y:et(pt)})}return ft}return[{x:0,y:0}]},[lt==null?void 0:lt.domain[0],lt==null?void 0:lt.domain[1]]);return jsxRuntimeExports.jsx(LineSeries,{data:ct,id:it,...rt})}function RangeSeriesInner(_e){const et=useId(_e.id,"series"),[,tt]=useLegend(),{colorScaler:nt}=usePlotContext(),{lineStyle:rt={fill:nt(et),fillOpacity:.5},hidden:it,xAxis:ot="x",yAxis:at="y",data:st,label:lt,xShift:ut="0",yShift:ct="0"}=_e,{xShift:ft,yShift:dt}=useShift({xAxis:ot,yAxis:at,xShift:ut,yShift:ct}),ht=usePlotDispatchContext();reactExports.useEffect(()=>{const[pt,vt]=extent(st,Rt=>Rt.x),[gt,xt]=extent(st,Rt=>Rt.y1),[wt,bt]=extent(st,Rt=>Rt.y2),St={min:pt,max:vt,shift:ut,axisId:ot},kt={min:Math.min(gt,wt),max:Math.max(xt,bt),shift:ct,axisId:at};return ht({type:"addSeries",payload:{id:et,x:St,y:kt,label:lt}}),()=>ht({type:"removeSeries",payload:{id:et}})},[ht,et,st,ot,at,lt,ut,ct]);const mt=useIsSeriesVisible(et);if(reactExports.useEffect(()=>{if(!it)return tt({type:"ADD_LEGEND_LABEL",payload:{id:et,label:lt,colorLine:rt.stroke,range:{rangeColor:rt.fill||"none"}}}),()=>tt({type:"REMOVE_LEGEND_LABEL",payload:{id:et}})},[lt,tt,rt.fill,rt.stroke,et,it]),it)return null;const yt={id:et,data:st,xAxis:ot,yAxis:at,lineStyle:rt,transform:`translate(${ft},${dt})`};return mt?jsxRuntimeExports.jsx(RangeSeriesRender,{...yt}):null}const RangeSeries=reactExports.memo(RangeSeriesInner);function RangeSeriesRender({data:_e,xAxis:et,yAxis:tt,lineStyle:nt,transform:rt}){const{axisContext:it}=usePlotContext(),[ot,at]=validateAxis(it,et,tt),st=reactExports.useMemo(()=>ot===void 0||at===void 0?null:area().x(ct=>ot(ct.x)).y0(ct=>at(ct.y1)).y1(ct=>at(ct.y2))(_e),[_e,ot,at]);if(!st)return null;const lt={strokeWidth:2,...nt};return jsxRuntimeExports.jsx("path",{transform:rt,style:lt,d:st,fill:"none"})}function Series(_e){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.children})}function splitChildren(_e){let et=null,tt=null,nt=null,rt=null,it=[],ot=null,at=null,st=[],lt=[];for(let ut of reactExports.Children.toArray(_e)){if(typeof ut!="object"||!reactExports.isValidElement(ut))throw console.error("Invalid Plot child:",ut),new Error("invalid Plot child");if(ut.type===Series||ut.type===FunctionSeries||ut.type===LineSeries||ut.type===ScatterSeries||ut.type===RangeSeries||ut.type===BarSeries)st.push(ut);else if(ut.type===Annotations)lt.push(ut);else if(ut.type===Axis)switch(ut.props.position){case"top":{if(et!==null)throw new Error("Plot can only have one top axis");et=ut;break}case"right":{if(tt!==null)throw new Error("Plot can only have one right axis");tt=ut;break}case"bottom":{if(nt!==null)throw new Error("Plot can only have one bottom axis");nt=ut;break}case"left":{if(rt!==null)throw new Error("Plot can only have one left axis");rt=ut;break}default:throw new Error("unreachable")}else if(ut.type===ParallelAxis){if(it.length===2)throw new Error("Plot can have at most two parallel axes");it.push(ut)}else if(ut.type===Heading){if(ot!==null)throw new Error("Plot can only have one Heading element");ot=ut}else if(ut.type===Legend){if(at!==null)throw new Error("Plot can only have one Legend element");at=ut}else throw console.error("Invalid Plot child:",ut),new Error("invalid plot child")}!nt&&!et&&(nt=jsxRuntimeExports.jsx(Axis,{position:"bottom"})),!rt&&!tt&&(rt=jsxRuntimeExports.jsx(Axis,{position:"left"}));for(const ut of it){const ct=ut.props.id;if((et==null?void 0:et.props.id)===ct){if(nt!==null)throw new Error("Plot can only have one bottom axis");nt=ut}if((tt==null?void 0:tt.props.id)===ct){if(rt!==null)throw new Error("Plot can only have one left axis");rt=ut}if((nt==null?void 0:nt.props.id)===ct){if(et!==null)throw new Error("Plot can only have one top axis");et=ut}if((rt==null?void 0:rt.props.id)===ct){if(tt!==null)throw new Error("Plot can only have one right axis");tt=ut}}return{topAxis:et,rightAxis:tt,bottomAxis:nt,leftAxis:rt,heading:ot,legend:at,series:st,annotations:lt}}function usePlotSizes({width:_e,height:et,margin:tt,axes:nt,topAxisHeight:rt,rightAxisWidth:it,bottomAxisHeight:ot,leftAxisWidth:at,headingPosition:st,headingHeight:lt,legendPosition:ut,legendMargin:ct,legendWidth:ft,legendHeight:dt}){const{top:ht=0,right:mt=0,bottom:yt=0,left:pt=0}=tt;return reactExports.useMemo(()=>{const vt=axesToOffsets(nt),gt=rt-vt.top,xt=it-vt.right,wt=ot-vt.bottom,bt=at-vt.left;let St=_e-pt-bt-mt-xt,kt=et-ht-lt-gt-yt-wt,Rt=pt+bt,Et=ht+gt;st==="top"&&(Et+=lt);const At=dt+ct,Tt=ft+ct;let It=0;switch(ut){case"top":kt-=At,Et+=At,It=gt+ct;break;case"right":St-=Tt,It=xt+ct;break;case"bottom":kt-=At,It=wt+ct;break;case"left":St-=Tt,Rt+=Tt,It=bt+ct;break}return{plotWidth:St,plotHeight:kt,leftOffset:Rt,topOffset:Et,legendOffset:It}},[_e,et,ht,mt,yt,pt,rt,it,ot,at,st,lt,ut,ct,ft,dt,nt])}function axesToOffsets(_e){const et={top:0,right:0,bottom:0,left:0};for(const tt of Object.values(_e))et[tt.position]=tt.innerOffset;return et}const HORIZONTAL=new Set(["bottom","top"]);function infoFromEvent(_e,et,tt,nt){const{clientX:rt,clientY:it,movementX:ot,movementY:at}=_e,{left:st,top:lt}=nt.getBoundingClientRect(),ut=rt-st,ct=it-lt,ft={},dt={},ht={},mt={};for(const yt in et){const{scale:pt,clampInDomain:vt,position:gt,domain:xt}=et[yt];HORIZONTAL.has(gt)?(ft[yt]=toNumber(pt.invert(ut)),mt[yt]=toNumber(pt.invert(ot))-xt[0]):(ft[yt]=toNumber(pt.invert(ct)),mt[yt]=toNumber(pt.invert(at))-xt[1]),dt[yt]=vt(ft[yt]),ht[yt]=xt}return{event:_e,coordinates:ft,clampedCoordinates:dt,movement:mt,getClosest(yt){return closestCalculation(yt,{x:ut,y:ct},tt,et)},domains:ht}}function closestCalculation(_e,et,tt,nt){let rt={};switch(_e){case"x":{for(const{id:it,x:ot,data:at,label:st}of tt)if(at){const lt=closestPoint(at,et,(ut,ct)=>{const{scale:ft}=nt[ot.axisId],dt=ct[ot.axisId];return Math.abs(ft(ut.x)-dt)});rt[it]={point:lt,label:st,axis:nt[ot.axisId]}}break}case"y":{for(const{id:it,y:ot,data:at,label:st}of tt)if(at){const lt=closestPoint(at,et,(ut,ct)=>{const{scale:ft}=nt[ot.axisId],dt=ct[ot.axisId];return Math.abs(ft(ut.y)-dt)});rt[it]={point:lt,label:st,axis:nt[ot.axisId]}}break}case"euclidean":{for(const{id:it,x:ot,y:at,data:st,label:lt}of tt)if(st){const ut=closestPoint(st,et,(ct,ft)=>{const{scale:dt}=nt[ot.axisId],{scale:ht}=nt[at.axisId],mt=ft[ot.axisId],yt=ft[at.axisId];return euclidean([dt(ct.x),ht(ct.y)],[mt,yt])});rt[it]={point:ut,label:lt,axis:{x:nt[ot.axisId],y:nt[at.axisId]}}}break}default:throw new Error(`Unknown distance name: ${_e}`)}return rt}const nativeEventMap={pointerenter:"onPointerEnter",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerleave:"onPointerLeave",click:"onClick",dblclick:"onDoubleClick",wheel:"onWheel"},nativeEventNames=["pointerenter","pointerdown","pointermove","pointerup","pointerleave","click","dblclick","wheel"],globalNativeEventNames=["pointermove","pointerup"];function Tracking({plotId:_e,plotEvents:et,stateSeries:tt,axisContext:nt,plotHeight:rt,plotWidth:it}){const ot=reactExports.useRef(null),at=reactExports.useRef({plotId:_e,plotEvents:et,stateSeries:tt,axisContext:nt,plotHeight:rt,plotWidth:it});return reactExports.useEffect(()=>{at.current={plotId:_e,plotEvents:et,stateSeries:tt,axisContext:nt,plotHeight:rt,plotWidth:it}},[nt,et,rt,_e,it,tt]),reactExports.useEffect(()=>{const st=ot.current;if(!st)return;function lt(ut){if(ut.type==="pointerdown")for(const ft of globalNativeEventNames)window.addEventListener(ft,lt);else if(ut.type==="pointerup")for(const ft of globalNativeEventNames)window.removeEventListener(ft,lt);const ct=infoFromEvent(ut,at.current.axisContext,at.current.stateSeries,st);et.handleEvent(_e,nativeEventMap[ut.type],ct)}for(const ut of nativeEventNames)st.addEventListener(ut,lt);return()=>{for(const ut of nativeEventNames)st.removeEventListener(ut,lt);for(const ut of globalNativeEventNames)window.removeEventListener(ut,lt)}},[_e,et]),jsxRuntimeExports.jsx("rect",{ref:ot,width:it,height:rt,style:{fillOpacity:0}})}function AnnotationsTrackingLayer(_e){const{width:et,height:tt,svgStyle:nt,svgId:rt,svgClassName:it,topOffset:ot,leftOffset:at,legendOffset:st,legend:lt,legendRef:ut,plotId:ct,annotations:ft,tracking:dt}=_e;return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:et,height:tt,style:nt,id:rt?`${rt}-annotations`:void 0,className:it,children:[jsxRuntimeExports.jsxs("g",{transform:`translate(${at}, ${ot})`,children:[jsxRuntimeExports.jsx("g",{style:{clipPath:`url(#seriesViewportClip-${ct})`},children:ft}),dt]}),jsxRuntimeExports.jsx("g",{transform:`translate(${at}, ${ot})`,children:jsxRuntimeExports.jsx(legendOffsetContext.Provider,{value:st,children:jsxRuntimeExports.jsx("g",{ref:ut,children:lt})})})]})}function TransparentRect(_e){const{style:et}=_e;return jsxRuntimeExports.jsx("rect",{..._e,style:{fillOpacity:et!=null&&et.fill?void 0:0,...et}})}function MainLayer(_e){const{width:et,height:tt,svgStyle:nt,svgId:rt,svgClassName:it,plotViewportStyle:ot,seriesViewportStyle:at,topOffset:st,leftOffset:lt,plotWidth:ut,plotHeight:ct,plotId:ft,series:dt,topAxisRef:ht,topAxis:mt,rightAxisRef:yt,rightAxis:pt,bottomAxisRef:vt,bottomAxis:gt,leftAxisRef:xt,leftAxis:wt,headingRef:bt,heading:St}=_e;return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:et,height:tt,style:nt,id:rt,className:it,children:[jsxRuntimeExports.jsx(TransparentRect,{width:et,height:tt,style:ot}),jsxRuntimeExports.jsxs("g",{transform:`translate(${lt}, ${st})`,children:[jsxRuntimeExports.jsx(TransparentRect,{width:ut,height:ct,style:at}),jsxRuntimeExports.jsx("clipPath",{id:`seriesViewportClip-${ft}`,children:jsxRuntimeExports.jsx("rect",{width:ut,height:ct})}),jsxRuntimeExports.jsx("g",{style:{clipPath:`url(#seriesViewportClip-${ft})`},children:dt}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:ht,children:jsxRuntimeExports.jsx("g",{children:mt})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:yt,children:jsxRuntimeExports.jsx("g",{children:pt})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:vt,children:jsxRuntimeExports.jsx("g",{children:gt})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:xt,children:jsxRuntimeExports.jsx("g",{children:wt})})]}),jsxRuntimeExports.jsx("g",{ref:bt,children:St})]})}const reducerCurr=fn(plotReducer),initialState={headingPosition:null,legendPosition:null,legendMargin:0,series:[],axes:{}},defaultSvgStyle={overflow:"visible",fontFamily:"Arial, Helvetica, sans-serif",userSelect:"none",WebkitUserSelect:"none"},defaultEventSvgStyle={touchAction:"none"};function Plot(_e){const{width:et,height:tt,colorScheme:nt=schemeSet1,margin:rt={},svgStyle:it={},svgId:ot,svgClassName:at,plotViewportStyle:st={},seriesViewportStyle:lt={},controllerId:ut,children:ct}=_e,ft=useId(void 0,"plot"),[dt,ht]=reactExports.useReducer(reducerCurr,initialState,void 0),{series:mt,annotations:yt,topAxis:pt,rightAxis:vt,bottomAxis:gt,leftAxis:xt,heading:wt,legend:bt}=splitChildren(ct);if(et===void 0)throw new Error("width is mandatory");if(tt===void 0)throw new Error("height is mandatory");const St=usePlotEventsPlotContext({controllerId:ut});reactExports.useEffect(()=>{if(St)return St.registerPlot(ft),()=>St.unregisterPlot(ft)},[St,ft]);const kt=usePlotOverrides({controllerId:ut}),Rt=useBBoxObserver(),Et=useBBoxObserver(),At=useBBoxObserver(),Tt=useBBoxObserver(),It=useBBoxObserver(),_t=useBBoxObserver(),{plotWidth:Pt,plotHeight:Zt,topOffset:Ht,leftOffset:zt,legendOffset:jt}=usePlotSizes({width:et,height:tt,margin:rt,axes:dt.axes,topAxisHeight:Et.height,rightAxisWidth:At.width,bottomAxisHeight:Tt.height,leftAxisWidth:It.width,headingPosition:dt.headingPosition,headingHeight:Rt.height,legendPosition:dt.legendPosition,legendMargin:dt.legendMargin,legendWidth:_t.width,legendHeight:_t.height}),Wt=useAxisContext(dt,kt.axes,{plotWidth:Pt,plotHeight:Zt}),Nt=reactExports.useMemo(()=>dt.series.map(({id:Kt})=>Kt),[dt.series]),Lt=reactExports.useMemo(()=>ordinal().range(nt).domain(Nt),[nt,Nt]),Jt=reactExports.useMemo(()=>({width:et,height:tt,plotWidth:Pt,plotHeight:Zt,axisContext:Wt,colorScaler:Lt}),[et,tt,Pt,Zt,Wt,Lt]),qt={...defaultSvgStyle,...St?defaultEventSvgStyle:null,...it,position:"absolute",top:"0",left:"0"};return jsxRuntimeExports.jsx(plotContext.Provider,{value:Jt,children:jsxRuntimeExports.jsx(plotDispatchContext.Provider,{value:ht,children:jsxRuntimeExports.jsx(LegendProvider,{children:jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:et,height:tt},children:[jsxRuntimeExports.jsx(MainLayer,{width:et,height:tt,svgStyle:qt,svgId:ot,svgClassName:at,plotViewportStyle:st,seriesViewportStyle:lt,topOffset:Ht,leftOffset:zt,plotWidth:Pt,plotHeight:Zt,plotId:ft,series:mt,topAxisRef:Et.ref,topAxis:pt,rightAxisRef:At.ref,rightAxis:vt,bottomAxisRef:Tt.ref,bottomAxis:gt,leftAxisRef:It.ref,leftAxis:xt,headingRef:Rt.ref,heading:wt}),jsxRuntimeExports.jsx(AnnotationsTrackingLayer,{width:et,height:tt,svgStyle:qt,svgId:ot,svgClassName:at,topOffset:Ht,leftOffset:zt,legendOffset:jt,legend:bt,legendRef:_t.ref,plotId:ft,annotations:yt,tracking:St?jsxRuntimeExports.jsx(Tracking,{plotId:ft,plotEvents:St,stateSeries:dt.series,axisContext:Wt,plotWidth:Pt,plotHeight:Zt}):null})]})})})})}function Histogram({image:_e,channel:et}){const tt=_e.histogram({channel:et}),nt=Array.from(tt).map((rt,it)=>({x:it,y:rt}));return jsx(ResponsiveChart,{children:({width:rt,height:it})=>jsxs(Plot,{width:rt,height:it,margin:{bottom:20,left:20,top:20,right:20},children:[jsx(BarSeries,{data:nt}),jsx(Axis,{position:"bottom",label:"Intensity"}),jsx(Axis,{position:"left",label:"Pixel count"}),jsx(Heading,{title:`Channel ${et}`})]})})}const Histogram$1=reactExports.memo(Histogram),HistogramsContainer=newStyled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  padding: 8px 0;
`;function Histograms({image:_e}){return jsx(HistogramsContainer,{children:[...new Array(_e.components).keys()].map(et=>jsx(Histogram$1,{image:_e,channel:et},et))})}const Histograms$1=reactExports.memo(Histograms),MissingMetadata=newStyled.div`
  margin-top: 8px;
  font-size: 1.5em;
  text-align: center;
`;function Sidebar$2(){const _e=useData(),et=useView(),tt=reactExports.useMemo(()=>et.currentTab===void 0?null:_e.files[et.currentTab].image,[_e.files,et.currentTab]),nt=useImageInformations(tt),rt=useImageMetadata(tt);return tt===null?null:jsx("div",{style:{width:"100%",minWidth:"300px"},children:jsxs(Accordion,{children:[jsx(Accordion.Item,{title:"General informations",children:jsx(Table,{children:nt.map(({key:it,render:ot})=>jsxs(Table.Row,{children:[jsx(Text,{value:it}),ot]},it))})}),jsx(Accordion.Item,{title:"Metadatas",children:rt.length===0?jsx(MissingMetadata,{children:"No metadatas found"}):jsx(Table,{children:rt.map(({key:it,render:ot})=>jsxs(Table.Row,{children:[jsx(Text,{value:it}),ot]},it))})}),jsx(Accordion.Item,{title:"Histograms",children:jsx(Histograms$1,{image:tt})})]})})}const Sidebar$3=reactExports.memo(Sidebar$2),PreferencesContext=reactExports.createContext(initialPreferencesState),PreferencesProvider=PreferencesContext.Provider,modalStyle$1=css`
  display: flex;
  flex-direction: column;
  width: 500px;

  .header {
    font-size: 1.25rem;
  }

  .container {
    padding: 20px;
  }
`;function ExportModal(){const[_e,et,tt]=useOnOff(!1);return jsxs(Fragment,{children:[jsx(Toolbar.Item,{title:"Export",titleOrientation:"horizontal",onClick:et,children:jsx(FaFileExport,{})}),jsx(Modal,{isOpen:_e,onRequestClose:tt,hasCloseButton:!0,children:jsxs("div",{css:modalStyle$1,children:[jsx(StyledModalHeader,{children:jsx(Modal.Header,{children:jsx("div",{className:"header",children:"Export"})})}),jsx(StyledModalBody,{children:jsx(Modal.Body,{children:"Nothing to see here at this time."})})]})})]})}const ExportModal$1=reactExports.memo(ExportModal);function ExportTool(){return jsx(ExportModal$1,{})}const ExportTool$1=reactExports.memo(ExportTool);function isColor(_e){return _e.colorModel.includes("RGB")}const Container=newStyled.div`
  overflow-y: auto;
  height: 100%;
`,List=newStyled.ul`
  display: flex;
  flex-direction: column;
  border-radius: 6px;
`,ListElement=newStyled.li`
  padding: 10px;
  border: 1px solid #9e9e9e;
  border-top-width: 0px;
  width: 100%;
  height: 100%;
  font-size: 1.125rem;
  display: flex;
  justify-content: center;
  align-items: center;

  &:first-of-type {
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
    border-top-width: 1px;
  }

  &:last-of-type {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
  }

  background-color: ${({selected:_e})=>_e?"royalblue":"white"};
  color: ${({selected:_e})=>_e?"white":"black"};
`;function FastSelector({options:_e,selected:et,setSelected:tt}){const nt=_e.reduce((ot,at)=>(ot[at]=reactExports.createRef(),ot),{}),rt=reactExports.useCallback(ot=>{var at;tt(ot),(at=nt[ot].current)==null||at.scrollIntoView({behavior:"smooth",block:"nearest"})},[nt,tt]),it=useKbs([{shortcut:"ArrowUp",handler:()=>{if(et===void 0)return rt(_e[0]);const ot=_e.indexOf(et);ot!==-1&&ot!==0&&rt(_e[ot-1])}},{shortcut:"ArrowDown",handler:()=>{if(et===void 0)return rt(_e[_e.length-1]);const ot=_e.indexOf(et);ot!==-1&&ot!==_e.length-1&&rt(_e[ot+1])}}]);return jsx(Container,{...it,children:jsx(List,{children:_e.map(ot=>jsx(ListElement,{selected:ot===et,onClick:()=>tt(ot),ref:nt[ot],children:ot},ot))})})}const modalStyle=css`
  display: flex;
  flex-direction: column;
  width: 75vw;
  max-height: 75vh;
`,ImageViewerContainer=newStyled.div`
  width: 40%;
  border: 1px solid #9e9e9e;
  border-radius: 4px;
`,FooterStyled=newStyled.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
`;function ExploreGreyModal({isOpenDialog:_e,closeDialog:et,previewImageIdentifier:tt}){const nt=useData(),rt=reactExports.useMemo(()=>{var st;return(st=nt.files[tt])==null?void 0:st.image},[nt.files,tt]),[it,ot]=reactExports.useState(),at=reactExports.useMemo(()=>rt.grey({algorithm:it}),[it,rt]);return jsx(Modal,{isOpen:_e,onRequestClose:et,hasCloseButton:!0,children:jsxs("div",{css:modalStyle,children:[jsx(StyledModalHeader,{children:jsx(Modal.Header,{children:"Explore grey filters"})}),jsx(Modal.Body,{children:jsxs(StyledModalBody,{children:[jsx(ImageViewerContainer,{children:jsx(ImageViewer$1,{identifier:"__grey_filter_preview",image:rt})}),jsx("div",{style:{width:"20%",paddingInline:"20px"},children:jsx(FastSelector,{options:Object.values(GreyAlgorithm),selected:it,setSelected:ot})}),jsx(ImageViewerContainer,{children:jsx(ImageViewer$1,{identifier:"__grey_filter_preview",image:at})})]})}),jsx(Modal.Footer,{children:jsx(FooterStyled,{children:jsx(Button,{backgroundColor:buttons.info,children:"Add filter"})})})]})})}const ExploreGreyModal$1=reactExports.memo(ExploreGreyModal);function GreyTool(){const[_e,et,tt]=useOnOff(!1),{currentTab:nt}=useView(),{files:rt}=useData();return nt===void 0||!isColor(rt[nt].image)?null:jsxs(Fragment,{children:[jsx(Toolbar.Item,{title:"Grey filters",onClick:et,children:jsx(FaFilter,{})}),jsx(ExploreGreyModal$1,{isOpenDialog:_e,closeDialog:tt,previewImageIdentifier:nt})]})}function ImportTool(){const _e=reactExports.useRef(null),et=reactExports.useCallback(()=>{_e.current&&_e.current.click()},[]),tt=useFileLoader(),nt=reactExports.useCallback(rt=>{tt(rt.target.files)},[tt]);return jsxs(Toolbar.Item,{title:"Import file",onClick:et,children:[jsx(FaFileImport,{}),jsx("input",{ref:_e,type:"file",multiple:!0,style:{display:"none"},onChange:nt})]})}const ImportTool$1=reactExports.memo(ImportTool),pixeliumContainerStyle=css`
  width: 100%;
  height: 100%;
  background-color: white;
  display: flex;
  flex-direction: column;
`;function Pixelium({data:_e,preferences:et,view:tt}){const nt=reactExports.useRef(null),[rt,it]=reactExports.useReducer(dataReducer,initialDataState),[ot,at]=reactExports.useReducer(preferencesReducer,initialPreferencesState),[st,lt]=reactExports.useReducer(viewReducer,initialViewState),ut=reactExports.useMemo(()=>({data:it,preferences:at,view:lt}),[it,at,lt]);return jsx(RootLayout,{children:jsx(GlobalProvider,{value:{rootRef:nt},children:jsx(KbsProvider,{children:jsx(LogProvider,{children:jsx(DataProvider,{value:rt,children:jsx(PreferencesProvider,{value:ot,children:jsx(ViewProvider,{value:st,children:jsx(DispatchProvider,{value:ut,children:jsxs("div",{css:pixeliumContainerStyle,ref:nt,children:[jsx(Header,{}),jsxs("div",{style:{display:"flex",flexDirection:"row",height:"100%",overflow:"hidden"},children:[jsxs(Toolbar,{orientation:"vertical",children:[jsx(ImportTool$1,{}),jsx(ExportTool$1,{}),jsx(GreyTool,{})]}),jsxs(SplitPane,{direction:"horizontal",size:"20%",controlledSide:"end",children:[jsx(CenterPanel$1,{}),jsx(Sidebar$3,{})]})]})]})})})})})})})})})}const Pixelium$1=reactExports.memo(Pixelium),sidebarStyle=css`
  display: flex;
  flex-direction: column;
  width: 200px;
  color: white;
  background-color: cornflowerblue;
  padding: 0 20px;

  h1 {
    font-size: 1.5rem;
    margin: 0;
    padding: 20px 0;
    border-bottom: 1px solid white;
  }
`;function Sidebar(){return jsx("div",{css:sidebarStyle,children:jsx("h1",{children:"Pixelium"})})}const Sidebar$1=reactExports.memo(Sidebar),wrapperStyle=css`
  display: flex;
  height: 100vh;
  flex-direction: row;
  overflow: hidden;
`;function MainView(){return jsxs("div",{css:wrapperStyle,children:[jsx(Sidebar$1,{}),jsx("div",{style:{padding:"20px",backgroundColor:"lightgray",flex:"1"},children:jsx(Pixelium$1,{})})]})}const MainView$1=reactExports.memo(MainView),modernNormalize="",rootElement=document.querySelector("#root");if(!rootElement)throw new Error("#root element not found");const root=createRoot(rootElement);root.render(jsx(HashRouter,{children:jsx(Routes,{children:jsx(Route,{path:"*",element:jsx(MainView$1,{})})})}));
