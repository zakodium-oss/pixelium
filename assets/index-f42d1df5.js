var fo=Object.defineProperty;var ho=(_e,et,tt)=>et in _e?fo(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt;var eo=(_e,et,tt)=>(ho(_e,typeof et!="symbol"?et+"":et,tt),tt),Dn=(_e,et,tt)=>{if(!et.has(_e))throw TypeError("Cannot "+tt)};var rr=(_e,et,tt)=>(Dn(_e,et,"read from private field"),tt?tt.call(_e):et.get(_e)),wr=(_e,et,tt)=>{if(et.has(_e))throw TypeError("Cannot add the same private member more than once");et instanceof WeakSet?et.add(_e):et.set(_e,tt)},yr=(_e,et,tt,rt)=>(Dn(_e,et,"write to private field"),rt?rt.call(_e,tt):et.set(_e,tt),tt);var In=(_e,et,tt,rt)=>({set _(nt){yr(_e,et,nt,tt)},get _(){return rr(_e,et,rt)}}),Cr=(_e,et,tt)=>(Dn(_e,et,"access private method"),tt);function _mergeNamespaces(_e,et){for(var tt=0;tt<et.length;tt++){const rt=et[tt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const nt in rt)if(nt!=="default"&&!(nt in _e)){const it=Object.getOwnPropertyDescriptor(rt,nt);it&&Object.defineProperty(_e,nt,it.get?it:{enumerable:!0,get:()=>rt[nt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const it of nt)if(it.type==="childList")for(const ot of it.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&rt(ot)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const it={};return nt.integrity&&(it.integrity=nt.integrity),nt.referrerPolicy&&(it.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?it.credentials="include":nt.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(nt){if(nt.ep)return;nt.ep=!0;const it=tt(nt);fetch(nt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var et=_e.default;if(typeof et=="function"){var tt=function rt(){return this instanceof rt?Reflect.construct(et,arguments,this.constructor):et.apply(this,arguments)};tt.prototype=et.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(_e,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return _e[rt]}})}),tt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$8=Symbol.for("react.element"),n$7=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$7=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$5=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(_e){return _e===null||typeof _e!="object"?null:(_e=z$3&&_e[z$3]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$2}var H$3=G$2.prototype=new F$2;H$3.constructor=G$2;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$5(_e,et,tt){var rt,nt={},it=null,ot=null;if(et!=null)for(rt in et.ref!==void 0&&(ot=et.ref),et.key!==void 0&&(it=""+et.key),et)J.call(et,rt)&&!L$2.hasOwnProperty(rt)&&(nt[rt]=et[rt]);var at=arguments.length-2;if(at===1)nt.children=tt;else if(1<at){for(var st=Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt+2];nt.children=st}if(_e&&_e.defaultProps)for(rt in at=_e.defaultProps,at)nt[rt]===void 0&&(nt[rt]=at[rt]);return{$$typeof:l$8,type:_e,key:it,ref:ot,props:nt,_owner:K$2.current}}function N$3(_e,et){return{$$typeof:l$8,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$8}function escape(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$2=/\/+/g;function Q$3(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):et.toString(36)}function R$4(_e,et,tt,rt,nt){var it=typeof _e;(it==="undefined"||it==="boolean")&&(_e=null);var ot=!1;if(_e===null)ot=!0;else switch(it){case"string":case"number":ot=!0;break;case"object":switch(_e.$$typeof){case l$8:case n$7:ot=!0}}if(ot)return ot=_e,nt=nt(ot),_e=rt===""?"."+Q$3(ot,0):rt,I$4(nt)?(tt="",_e!=null&&(tt=_e.replace(P$2,"$&/")+"/"),R$4(nt,et,tt,"",function(lt){return lt})):nt!=null&&(O$3(nt)&&(nt=N$3(nt,tt+(!nt.key||ot&&ot.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+_e)),et.push(nt)),1;if(ot=0,rt=rt===""?".":rt+":",I$4(_e))for(var at=0;at<_e.length;at++){it=_e[at];var st=rt+Q$3(it,at);ot+=R$4(it,et,tt,st,nt)}else if(st=A$3(_e),typeof st=="function")for(_e=st.call(_e),at=0;!(it=_e.next()).done;)it=it.value,st=rt+Q$3(it,at++),ot+=R$4(it,et,tt,st,nt);else if(it==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$3(_e,et,tt){if(_e==null)return _e;var rt=[],nt=0;return R$4(_e,rt,"","",function(it){return et.call(tt,it,nt++)}),rt}function T$3(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(_e,et,tt){S$3(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$3(_e,function(){et++}),et},toArray:function(_e){return S$3(_e,function(et){return et})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var rt=C$2({},_e.props),nt=_e.key,it=_e.ref,ot=_e._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,ot=K$2.current),et.key!==void 0&&(nt=""+et.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(st in et)J.call(et,st)&&!L$2.hasOwnProperty(st)&&(rt[st]=et[st]===void 0&&at!==void 0?at[st]:et[st])}var st=arguments.length-2;if(st===1)rt.children=tt;else if(1<st){at=Array(st);for(var lt=0;lt<st;lt++)at[lt]=arguments[lt+2];rt.children=at}return{$$typeof:l$8,type:_e.type,key:nt,ref:it,props:rt,_owner:ot}};react_production_min.createContext=function(_e){return _e={$$typeof:u$7,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$7,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$5;react_production_min.createFactory=function(_e){var et=M$5.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$6,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$3}};react_production_min.memo=function(_e,et){return{$$typeof:x$5,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,et){return U$3.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$3.current.useEffect(_e,et)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$3.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$3.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$3.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$3.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$3.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$3.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$5=Symbol.for("react.element"),l$7=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$6=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$3(_e,et,tt){var rt,nt={},it=null,ot=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(ot=et.ref);for(rt in et)m$5.call(et,rt)&&!p$6.hasOwnProperty(rt)&&(nt[rt]=et[rt]);if(_e&&_e.defaultProps)for(rt in et=_e.defaultProps,et)nt[rt]===void 0&&(nt[rt]=et[rt]);return{$$typeof:k$5,type:_e,key:it,ref:ot,props:nt,_owner:n$6.current}}reactJsxRuntime_production_min.Fragment=l$7;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===_e)return document.styleSheets[et]}function createStyleElement(_e){var et=document.createElement("style");return et.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&et.setAttribute("nonce",_e.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function _e(tt){var rt=this;this._insertTag=function(nt){var it;rt.tags.length===0?rt.insertionPoint?it=rt.insertionPoint.nextSibling:rt.prepend?it=rt.container.firstChild:it=rt.before:it=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(nt,it),rt.tags.push(nt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var et=_e.prototype;return et.hydrate=function(rt){rt.forEach(this._insertTag)},et.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(nt);try{it.insertRule(rt,it.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(rt));this.ctr++},et.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$1=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash$2(_e,et){return charat(_e,0)^45?(((et<<2^charat(_e,0))<<2^charat(_e,1))<<2^charat(_e,2))<<2^charat(_e,3):0}function trim(_e){return _e.trim()}function match(_e,et){return(_e=et.exec(_e))?_e[0]:_e}function replace$1(_e,et,tt){return _e.replace(et,tt)}function indexof(_e,et){return _e.indexOf(et)}function charat(_e,et){return _e.charCodeAt(et)|0}function substr(_e,et,tt){return _e.slice(et,tt)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append$1(_e,et){return et.push(_e),_e}function combine(_e,et){return _e.map(et).join("")}var line$2=1,column=1,length=0,position=0,character=0,characters="";function node(_e,et,tt,rt,nt,it,ot){return{value:_e,root:et,parent:tt,type:rt,props:nt,children:it,line:line$2,column,length:ot,return:""}}function copy$2(_e,et){return assign$1(node("",null,null,"",null,null,0),_e,{length:-_e.length},et)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line$2--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line$2++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice(_e,et){return substr(characters,_e,et)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line$2=column=1,length=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace(_e){for(;(character=peek$1())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(et<6&&peek$1()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,et){for(;next()&&_e+character!==47+10;)if(_e+character===42+42&&peek$1()===47)break;return"/*"+slice(et,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek$1());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,et,tt,rt,nt,it,ot,at,st){for(var lt=0,ct=0,ut=ot,ft=0,dt=0,pt=0,mt=1,vt=1,ht=1,yt=0,gt="",xt=nt,_t=it,wt=rt,Et=gt;vt;)switch(pt=yt,yt=next()){case 40:if(pt!=108&&charat(Et,ut-1)==58){indexof(Et+=replace$1(delimit(yt),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:Et+=delimit(yt);break;case 9:case 10:case 13:case 32:Et+=whitespace(pt);break;case 92:Et+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment(commenter(next(),caret()),et,tt),st);break;default:Et+="/"}break;case 123*mt:at[lt++]=strlen(Et)*ht;case 125*mt:case 59:case 0:switch(yt){case 0:case 125:vt=0;case 59+ct:ht==-1&&(Et=replace$1(Et,/\f/g,"")),dt>0&&strlen(Et)-ut&&append$1(dt>32?declaration(Et+";",rt,tt,ut-1):declaration(replace$1(Et," ","")+";",rt,tt,ut-2),st);break;case 59:Et+=";";default:if(append$1(wt=ruleset(Et,et,tt,lt,ct,nt,at,gt,xt=[],_t=[],ut),it),yt===123)if(ct===0)parse(Et,et,wt,wt,xt,it,ut,at,_t);else switch(ft===99&&charat(Et,3)===110?100:ft){case 100:case 108:case 109:case 115:parse(_e,wt,wt,rt&&append$1(ruleset(_e,wt,wt,0,0,nt,at,gt,nt,xt=[],ut),_t),nt,_t,ut,at,rt?xt:_t);break;default:parse(Et,wt,wt,wt,[""],_t,0,at,_t)}}lt=ct=dt=0,mt=ht=1,gt=Et="",ut=ot;break;case 58:ut=1+strlen(Et),dt=pt;default:if(mt<1){if(yt==123)--mt;else if(yt==125&&mt++==0&&prev()==125)continue}switch(Et+=from(yt),yt*mt){case 38:ht=ct>0?1:(Et+="\f",-1);break;case 44:at[lt++]=(strlen(Et)-1)*ht,ht=1;break;case 64:peek$1()===45&&(Et+=delimit(next())),ft=peek$1(),ct=ut=strlen(gt=Et+=identifier(caret())),yt++;break;case 45:pt===45&&strlen(Et)==2&&(mt=0)}}return it}function ruleset(_e,et,tt,rt,nt,it,ot,at,st,lt,ct){for(var ut=nt-1,ft=nt===0?it:[""],dt=sizeof(ft),pt=0,mt=0,vt=0;pt<rt;++pt)for(var ht=0,yt=substr(_e,ut+1,ut=abs$1(mt=ot[pt])),gt=_e;ht<dt;++ht)(gt=trim(mt>0?ft[ht]+" "+yt:replace$1(yt,/&\f/g,ft[ht])))&&(st[vt++]=gt);return node(_e,et,tt,nt===0?RULESET:at,st,lt,ct)}function comment(_e,et,tt){return node(_e,et,tt,COMMENT$1,from(char()),substr(_e,2,-2),0)}function declaration(_e,et,tt,rt){return node(_e,et,tt,DECLARATION,substr(_e,0,rt),substr(_e,rt+1,-1),rt)}function serialize(_e,et){for(var tt="",rt=sizeof(_e),nt=0;nt<rt;nt++)tt+=et(_e[nt],nt,_e,et)||"";return tt}function stringify(_e,et,tt,rt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT$1:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,rt)+"}";case RULESET:_e.value=_e.props.join(",")}return strlen(tt=serialize(_e.children,rt))?_e.return=_e.value+"{"+tt+"}":""}function middleware(_e){var et=sizeof(_e);return function(tt,rt,nt,it){for(var ot="",at=0;at<et;at++)ot+=_e[at](tt,rt,nt,it)||"";return ot}}function rulesheet(_e){return function(et){et.root||(et=et.return)&&_e(et)}}function memoize(_e){var et=Object.create(null);return function(tt){return et[tt]===void 0&&(et[tt]=_e(tt)),et[tt]}}var identifierWithPointTracking=function(et,tt,rt){for(var nt=0,it=0;nt=it,it=peek$1(),nt===38&&it===12&&(tt[rt]=1),!token(it);)next();return slice(et,position)},toRules=function(et,tt){var rt=-1,nt=44;do switch(token(nt)){case 0:nt===38&&peek$1()===12&&(tt[rt]=1),et[rt]+=identifierWithPointTracking(position-1,tt,rt);break;case 2:et[rt]+=delimit(nt);break;case 4:if(nt===44){et[++rt]=peek$1()===58?"&\f":"",tt[rt]=et[rt].length;break}default:et[rt]+=from(nt)}while(nt=next());return et},getRules=function(et,tt){return dealloc(toRules(alloc(et),tt))},fixedElements=new WeakMap,compat=function(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var tt=et.value,rt=et.parent,nt=et.column===rt.column&&et.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(et.props.length===1&&tt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!nt){fixedElements.set(et,!0);for(var it=[],ot=getRules(tt,it),at=rt.props,st=0,lt=0;st<ot.length;st++)for(var ct=0;ct<at.length;ct++,lt++)et.props[lt]=it[st]?ot[st].replace(/&\f/g,at[ct]):at[ct]+" "+ot[st]}}},removeLabel=function(et){if(et.type==="decl"){var tt=et.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(et.return="",et.value="")}};function prefix(_e,et){switch(hash$2(_e,et)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace$1(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace$1(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace$1(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace$1(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace$1(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace$1(_e,"-grow","")+WEBKIT+_e+MS+replace$1(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace$1(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace$1(replace$1(replace$1(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace$1(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$1(replace$1(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace$1(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(_e)-1-et>6)switch(charat(_e,et+1)){case 109:if(charat(_e,et+4)!==45)break;case 102:return replace$1(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(_e,et+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof(_e,"stretch")?prefix(replace$1(_e,"stretch","fill-available"),et)+_e:_e}break;case 4949:if(charat(_e,et+1)!==115)break;case 6444:switch(charat(_e,strlen(_e)-3-(~indexof(_e,"!important")&&10))){case 107:return replace$1(_e,":",":"+WEBKIT)+_e;case 101:return replace$1(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat(_e,et+11)){case 114:return WEBKIT+_e+MS+replace$1(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace$1(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace$1(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function(et,tt,rt,nt){if(et.length>-1&&!et.return)switch(et.type){case DECLARATION:et.return=prefix(et.value,et.length);break;case KEYFRAMES:return serialize([copy$2(et,{value:replace$1(et.value,"@","@"+WEBKIT)})],nt);case RULESET:if(et.length)return combine(et.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$2(et,{props:[replace$1(it,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy$2(et,{props:[replace$1(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$2(et,{props:[replace$1(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$2(et,{props:[replace$1(it,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(et){var tt=et.key;if(tt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(mt){var vt=mt.getAttribute("data-emotion");vt.indexOf(" ")!==-1&&(document.head.appendChild(mt),mt.setAttribute("data-s",""))})}var nt=et.stylisPlugins||defaultStylisPlugins,it={},ot,at=[];ot=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(mt){for(var vt=mt.getAttribute("data-emotion").split(" "),ht=1;ht<vt.length;ht++)it[vt[ht]]=!0;at.push(mt)});var st,lt=[compat,removeLabel];{var ct,ut=[stringify,rulesheet(function(mt){ct.insert(mt)})],ft=middleware(lt.concat(nt,ut)),dt=function(vt){return serialize(compile(vt),ft)};st=function(vt,ht,yt,gt){ct=yt,dt(vt?vt+"{"+ht.styles+"}":ht.styles),gt&&(pt.inserted[ht.name]=!0)}}var pt={key:tt,sheet:new StyleSheet({key:tt,container:ot,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:it,registered:{},insert:st};return pt.sheet.hydrate(at),pt};function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$3.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$4=b$3?Symbol.for("react.portal"):60106,e$3=b$3?Symbol.for("react.fragment"):60107,f$2=b$3?Symbol.for("react.strict_mode"):60108,g$2=b$3?Symbol.for("react.profiler"):60114,h$4=b$3?Symbol.for("react.provider"):60109,k$4=b$3?Symbol.for("react.context"):60110,l$6=b$3?Symbol.for("react.async_mode"):60111,m$4=b$3?Symbol.for("react.concurrent_mode"):60111,n$5=b$3?Symbol.for("react.forward_ref"):60112,p$5=b$3?Symbol.for("react.suspense"):60113,q$2=b$3?Symbol.for("react.suspense_list"):60120,r$6=b$3?Symbol.for("react.memo"):60115,t$6=b$3?Symbol.for("react.lazy"):60116,v$5=b$3?Symbol.for("react.block"):60121,w$3=b$3?Symbol.for("react.fundamental"):60117,x$4=b$3?Symbol.for("react.responder"):60118,y$4=b$3?Symbol.for("react.scope"):60119;function z$2(_e){if(typeof _e=="object"&&_e!==null){var et=_e.$$typeof;switch(et){case c$2:switch(_e=_e.type,_e){case l$6:case m$4:case e$3:case g$2:case f$2:case p$5:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$4:case n$5:case t$6:case r$6:case h$4:return _e;default:return et}}case d$4:return et}}}function A$2(_e){return z$2(_e)===m$4}reactIs_production_min.AsyncMode=l$6;reactIs_production_min.ConcurrentMode=m$4;reactIs_production_min.ContextConsumer=k$4;reactIs_production_min.ContextProvider=h$4;reactIs_production_min.Element=c$2;reactIs_production_min.ForwardRef=n$5;reactIs_production_min.Fragment=e$3;reactIs_production_min.Lazy=t$6;reactIs_production_min.Memo=r$6;reactIs_production_min.Portal=d$4;reactIs_production_min.Profiler=g$2;reactIs_production_min.StrictMode=f$2;reactIs_production_min.Suspense=p$5;reactIs_production_min.isAsyncMode=function(_e){return A$2(_e)||z$2(_e)===l$6};reactIs_production_min.isConcurrentMode=A$2;reactIs_production_min.isContextConsumer=function(_e){return z$2(_e)===k$4};reactIs_production_min.isContextProvider=function(_e){return z$2(_e)===h$4};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$2};reactIs_production_min.isForwardRef=function(_e){return z$2(_e)===n$5};reactIs_production_min.isFragment=function(_e){return z$2(_e)===e$3};reactIs_production_min.isLazy=function(_e){return z$2(_e)===t$6};reactIs_production_min.isMemo=function(_e){return z$2(_e)===r$6};reactIs_production_min.isPortal=function(_e){return z$2(_e)===d$4};reactIs_production_min.isProfiler=function(_e){return z$2(_e)===g$2};reactIs_production_min.isStrictMode=function(_e){return z$2(_e)===f$2};reactIs_production_min.isSuspense=function(_e){return z$2(_e)===p$5};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$3||_e===m$4||_e===g$2||_e===f$2||_e===p$5||_e===q$2||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$6||_e.$$typeof===r$6||_e.$$typeof===h$4||_e.$$typeof===k$4||_e.$$typeof===n$5||_e.$$typeof===w$3||_e.$$typeof===x$4||_e.$$typeof===y$4||_e.$$typeof===v$5)};reactIs_production_min.typeOf=z$2;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(_e,et,tt){var rt="";return tt.split(" ").forEach(function(nt){_e[nt]!==void 0?et.push(_e[nt]+";"):rt+=nt+" "}),rt}var registerStyles=function(et,tt,rt){var nt=et.key+"-"+tt.name;(rt===!1||isBrowser$1===!1)&&et.registered[nt]===void 0&&(et.registered[nt]=tt.styles)},insertStyles=function(et,tt,rt){registerStyles(et,tt,rt);var nt=et.key+"-"+tt.name;if(et.inserted[tt.name]===void 0){var it=tt;do et.insert(tt===it?"."+nt:"",it,et.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(_e){for(var et=0,tt,rt=0,nt=_e.length;nt>=4;++rt,nt-=4)tt=_e.charCodeAt(rt)&255|(_e.charCodeAt(++rt)&255)<<8|(_e.charCodeAt(++rt)&255)<<16|(_e.charCodeAt(++rt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,et=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch(nt){case 3:et^=(_e.charCodeAt(rt+2)&255)<<16;case 2:et^=(_e.charCodeAt(rt+1)&255)<<8;case 1:et^=_e.charCodeAt(rt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(et){return et.charCodeAt(1)===45},isProcessableValue=function(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(et,tt){switch(et){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(animationRegex,function(rt,nt,it){return cursor={name:nt,styles:it,next:cursor},nt})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof tt=="number"&&tt!==0?tt+"px":tt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(_e,et,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;if(tt.styles!==void 0){var rt=tt.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var nt=tt.styles+";";return nt}return createStringFromObject(_e,et,tt)}case"function":{if(_e!==void 0){var it=cursor,ot=tt(_e);return cursor=it,handleInterpolation(_e,et,ot)}break}}if(et==null)return tt;var at=et[tt];return at!==void 0?at:tt}function createStringFromObject(_e,et,tt){var rt="";if(Array.isArray(tt))for(var nt=0;nt<tt.length;nt++)rt+=handleInterpolation(_e,et,tt[nt])+";";else for(var it in tt){var ot=tt[it];if(typeof ot!="object")et!=null&&et[ot]!==void 0?rt+=it+"{"+et[ot]+"}":isProcessableValue(ot)&&(rt+=processStyleName(it)+":"+processStyleValue(it,ot)+";");else if(Array.isArray(ot)&&typeof ot[0]=="string"&&(et==null||et[ot[0]]===void 0))for(var at=0;at<ot.length;at++)isProcessableValue(ot[at])&&(rt+=processStyleName(it)+":"+processStyleValue(it,ot[at])+";");else{var st=handleInterpolation(_e,et,ot);switch(it){case"animation":case"animationName":{rt+=processStyleName(it)+":"+st+";";break}default:rt+=it+"{"+st+"}"}}}return rt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(et,tt,rt){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var nt=!0,it="";cursor=void 0;var ot=et[0];ot==null||ot.raw===void 0?(nt=!1,it+=handleInterpolation(rt,tt,ot)):it+=ot[0];for(var at=1;at<et.length;at++)it+=handleInterpolation(rt,tt,et[at]),nt&&(it+=ot[at]);labelPattern.lastIndex=0;for(var st="",lt;(lt=labelPattern.exec(it))!==null;)st+="-"+lt[1];var ct=murmur2(it)+st;return{name:ct,styles:it,next:cursor}},syncFallback=function(et){return et()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,hasOwn={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(et){return reactExports.forwardRef(function(tt,rt){var nt=reactExports.useContext(EmotionCacheContext);return et(tt,nt,rt)})},ThemeContext$1=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(et,tt){var rt={};for(var nt in tt)hasOwn.call(tt,nt)&&(rt[nt]=tt[nt]);return rt[typePropName]=et,rt},Insertion$1=function(et){var tt=et.cache,rt=et.serialized,nt=et.isStringTag;return registerStyles(tt,rt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,rt,nt)}),null},Emotion=withEmotionCache(function(_e,et,tt){var rt=_e.css;typeof rt=="string"&&et.registered[rt]!==void 0&&(rt=et.registered[rt]);var nt=_e[typePropName],it=[rt],ot="";typeof _e.className=="string"?ot=getRegisteredStyles(et.registered,it,_e.className):_e.className!=null&&(ot=_e.className+" ");var at=serializeStyles(it,void 0,reactExports.useContext(ThemeContext$1));ot+=et.key+"-"+at.name;var st={};for(var lt in _e)hasOwn.call(_e,lt)&&lt!=="css"&&lt!==typePropName&&(st[lt]=_e[lt]);return st.ref=tt,st.className=ot,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:et,serialized:at,isStringTag:typeof nt=="string"}),reactExports.createElement(nt,st))}),Emotion$1=Emotion,Fragment=jsxRuntimeExports.Fragment;function jsx(_e,et,tt){return hasOwn.call(et,"css")?jsxRuntimeExports.jsx(Emotion$1,createEmotionProps(_e,et),tt):jsxRuntimeExports.jsx(_e,et,tt)}function jsxs(_e,et,tt){return hasOwn.call(et,"css")?jsxRuntimeExports.jsxs(Emotion$1,createEmotionProps(_e,et),tt):jsxRuntimeExports.jsxs(_e,et,tt)}var reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Bt,Dt){var zt=Bt.length;Bt.push(Dt);e:for(;0<zt;){var Lt=zt-1>>>1,Ft=Bt[Lt];if(0<nt(Ft,Dt))Bt[Lt]=Dt,Bt[zt]=Ft,zt=Lt;else break e}}function tt(Bt){return Bt.length===0?null:Bt[0]}function rt(Bt){if(Bt.length===0)return null;var Dt=Bt[0],zt=Bt.pop();if(zt!==Dt){Bt[0]=zt;e:for(var Lt=0,Ft=Bt.length,Xt=Ft>>>1;Lt<Xt;){var Wt=2*(Lt+1)-1,Ht=Bt[Wt],nr=Wt+1,fr=Bt[nr];if(0>nt(Ht,zt))nr<Ft&&0>nt(fr,Ht)?(Bt[Lt]=fr,Bt[nr]=zt,Lt=nr):(Bt[Lt]=Ht,Bt[Wt]=zt,Lt=Wt);else if(nr<Ft&&0>nt(fr,zt))Bt[Lt]=fr,Bt[nr]=zt,Lt=nr;else break e}}return Dt}function nt(Bt,Dt){var zt=Bt.sortIndex-Dt.sortIndex;return zt!==0?zt:Bt.id-Dt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;_e.unstable_now=function(){return it.now()}}else{var ot=Date,at=ot.now();_e.unstable_now=function(){return ot.now()-at}}var st=[],lt=[],ct=1,ut=null,ft=3,dt=!1,pt=!1,mt=!1,vt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Bt){for(var Dt=tt(lt);Dt!==null;){if(Dt.callback===null)rt(lt);else if(Dt.startTime<=Bt)rt(lt),Dt.sortIndex=Dt.expirationTime,et(st,Dt);else break;Dt=tt(lt)}}function xt(Bt){if(mt=!1,gt(Bt),!pt)if(tt(st)!==null)pt=!0,Nt(_t);else{var Dt=tt(lt);Dt!==null&&jt(xt,Dt.startTime-Bt)}}function _t(Bt,Dt){pt=!1,mt&&(mt=!1,ht(St),St=-1),dt=!0;var zt=ft;try{for(gt(Dt),ut=tt(st);ut!==null&&(!(ut.expirationTime>Dt)||Bt&&!At());){var Lt=ut.callback;if(typeof Lt=="function"){ut.callback=null,ft=ut.priorityLevel;var Ft=Lt(ut.expirationTime<=Dt);Dt=_e.unstable_now(),typeof Ft=="function"?ut.callback=Ft:ut===tt(st)&&rt(st),gt(Dt)}else rt(st);ut=tt(st)}if(ut!==null)var Xt=!0;else{var Wt=tt(lt);Wt!==null&&jt(xt,Wt.startTime-Dt),Xt=!1}return Xt}finally{ut=null,ft=zt,dt=!1}}var wt=!1,Et=null,St=-1,Ct=5,bt=-1;function At(){return!(_e.unstable_now()-bt<Ct)}function Tt(){if(Et!==null){var Bt=_e.unstable_now();bt=Bt;var Dt=!0;try{Dt=Et(!0,Bt)}finally{Dt?Ot():(wt=!1,Et=null)}}else wt=!1}var Ot;if(typeof yt=="function")Ot=function(){yt(Tt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,It=$t.port2;$t.port1.onmessage=Tt,Ot=function(){It.postMessage(null)}}else Ot=function(){vt(Tt,0)};function Nt(Bt){Et=Bt,wt||(wt=!0,Ot())}function jt(Bt,Dt){St=vt(function(){Bt(_e.unstable_now())},Dt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Bt){Bt.callback=null},_e.unstable_continueExecution=function(){pt||dt||(pt=!0,Nt(_t))},_e.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Bt?Math.floor(1e3/Bt):5},_e.unstable_getCurrentPriorityLevel=function(){return ft},_e.unstable_getFirstCallbackNode=function(){return tt(st)},_e.unstable_next=function(Bt){switch(ft){case 1:case 2:case 3:var Dt=3;break;default:Dt=ft}var zt=ft;ft=Dt;try{return Bt()}finally{ft=zt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Bt,Dt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var zt=ft;ft=Bt;try{return Dt()}finally{ft=zt}},_e.unstable_scheduleCallback=function(Bt,Dt,zt){var Lt=_e.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Lt+zt:Lt):zt=Lt,Bt){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=zt+Ft,Bt={id:ct++,callback:Dt,priorityLevel:Bt,startTime:zt,expirationTime:Ft,sortIndex:-1},zt>Lt?(Bt.sortIndex=zt,et(lt,Bt),tt(st)===null&&Bt===tt(lt)&&(mt?(ht(St),St=-1):mt=!0,jt(xt,zt-Lt))):(Bt.sortIndex=Ft,et(st,Bt),pt||dt||(pt=!0,Nt(_t))),Bt},_e.unstable_shouldYield=At,_e.unstable_wrapCallback=function(Bt){var Dt=ft;return function(){var zt=ft;ft=Dt;try{return Bt.apply(this,arguments)}finally{ft=zt}}}})(scheduler_production_min);scheduler$1.exports=scheduler_production_min;var schedulerExports=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,rt){if(et===null||typeof et>"u"||pa(_e,et,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$4(_e,et,tt,rt,nt,it,ot){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=it,this.removeEmptyString=ot}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$4(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z$1[et]=new v$4(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$4(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$4(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$4(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$4(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$4(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$4(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$4(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$4(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$4(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z$1[et]=new v$4(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,rt){var nt=z$1.hasOwnProperty(et)?z$1[et]:null;(nt!==null?nt.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,nt,rt)&&(tt=null),rt||nt===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):nt.mustUseProperty?_e[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(et=nt.attributeName,rt=nt.attributeNamespace,tt===null?_e.removeAttribute(et):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?_e.setAttributeNS(rt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(lt){var rt=lt}Reflect.construct(_e,[],et)}else{try{et.call()}catch(lt){rt=lt}_e.call(et.prototype)}else{try{throw Error()}catch(lt){rt=lt}_e()}}catch(lt){if(lt&&rt&&typeof lt.stack=="string"){for(var nt=lt.stack.split(`
`),it=rt.stack.split(`
`),ot=nt.length-1,at=it.length-1;1<=ot&&0<=at&&nt[ot]!==it[at];)at--;for(;1<=ot&&0<=at;ot--,at--)if(nt[ot]!==it[at]){if(ot!==1||at!==1)do if(ot--,at--,0>at||nt[ot]!==it[at]){var st=`
`+nt[ot].replace(" at new "," at ");return _e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",_e.displayName)),st}while(1<=ot&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),rt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,it=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return nt.call(this)},set:function(ot){rt=""+ot,it.call(this,ot)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(ot){rt=""+ot},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),rt="";return _e&&(rt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=rt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A$1({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:rt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),rt=et.type;if(tt!=null)rt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(rt==="submit"||rt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,rt){if(_e=_e.options,et){et={};for(var nt=0;nt<tt.length;nt++)et["$"+tt[nt]]=!0;for(tt=0;tt<_e.length;tt++)nt=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==nt&&(_e[tt].selected=nt),nt&&rt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===tt){_e[nt].selected=!0,rt&&(_e[nt].defaultSelected=!0);return}et!==null||_e[nt].disabled||(et=_e[nt])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$1({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$4(92));if(eb(tt)){if(1<tt.length)throw Error(p$4(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),rt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),rt!=null&&(_e.defaultValue=""+rt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,rt,nt)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,et[tt],rt);tt==="float"&&(tt="cssFloat"),rt?_e.setProperty(tt,nt):_e[tt]=nt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$4(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$4(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$4(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(_e=_e.type,rt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!rt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$4(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,rt,nt,it,ot,at,st){var lt=Array.prototype.slice.call(arguments,3);try{et.apply(tt,lt)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,rt,nt,it,ot,at,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,rt,nt,it,ot,at,st){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=lt)}}function Vb(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$4(188));return et!==_e?null:_e}for(var tt=_e,rt=et;;){var nt=tt.return;if(nt===null)break;var it=nt.alternate;if(it===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return Xb(nt),_e;if(it===rt)return Xb(nt),et;it=it.sibling}throw Error(p$4(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var ot=!1,at=nt.child;at;){if(at===tt){ot=!0,tt=nt,rt=it;break}if(at===rt){ot=!0,rt=nt,tt=it;break}at=at.sibling}if(!ot){for(at=it.child;at;){if(at===tt){ot=!0,tt=it,rt=nt;break}if(at===rt){ot=!0,rt=it,tt=nt;break}at=at.sibling}if(!ot)throw Error(p$4(189))}}if(tt.alternate!==rt)throw Error(p$4(190))}if(tt.tag!==3)throw Error(p$4(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var rt=0,nt=_e.suspendedLanes,it=_e.pingedLanes,ot=tt&268435455;if(ot!==0){var at=ot&~nt;at!==0?rt=tc(at):(it&=ot,it!==0&&(rt=tc(it)))}else ot=tt&~nt,ot!==0?rt=tc(ot):it!==0&&(rt=tc(it));if(rt===0)return 0;if(et!==0&&et!==rt&&!(et&nt)&&(nt=rt&-rt,it=et&-et,nt>=it||nt===16&&(it&4194240)!==0))return et;if(rt&4&&(rt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=rt;0<et;)tt=31-oc(et),nt=1<<tt,rt|=_e[tt],et&=~nt;return rt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,rt=_e.pingedLanes,nt=_e.expirationTimes,it=_e.pendingLanes;0<it;){var ot=31-oc(it),at=1<<ot,st=nt[ot];st===-1?(!(at&tt)||at&rt)&&(nt[ot]=vc(at,et)):st<=et&&(_e.expiredLanes|=at),it&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var rt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var nt=31-oc(tt),it=1<<nt;et[nt]=0,rt[nt]=-1,_e[nt]=-1,tt&=~it}}function Cc(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&et|_e[rt]&et&&(_e[rt]|=et),tt&=~nt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,rt,nt,it){return _e===null||_e.nativeEvent!==it?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[nt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=rt,et=_e.targetContainers,nt!==null&&et.indexOf(nt)===-1&&et.push(nt),_e)}function Uc(_e,et,tt,rt,nt){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,_e,et,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,_e,et,tt,rt,nt)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(nt){return ad(nt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===_e&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===_e&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,rt){var nt=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(_e,et,tt,rt)}finally{C$1=nt,cd.transition=it}}function gd(_e,et,tt,rt){var nt=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(_e,et,tt,rt)}finally{C$1=nt,cd.transition=it}}function fd(_e,et,tt,rt){if(dd){var nt=Yc(_e,et,tt,rt);if(nt===null)hd(_e,et,rt,id,tt),Sc(_e,rt);else if(Uc(nt,_e,et,tt,rt))rt.stopPropagation();else if(Sc(_e,rt),et&4&&-1<Rc.indexOf(_e)){for(;nt!==null;){var it=Cb(nt);if(it!==null&&Ec(it),it=Yc(_e,et,tt,rt),it===null&&hd(_e,et,rt,id,tt),it===nt)break;nt=it}nt!==null&&rt.stopPropagation()}else hd(_e,et,rt,null,tt)}}var id=null;function Yc(_e,et,tt,rt){if(id=null,_e=xb(rt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,rt,nt="value"in kd?kd.value:kd.textContent,it=nt.length;for(_e=0;_e<tt&&et[_e]===nt[_e];_e++);var ot=tt-_e;for(rt=1;rt<=ot&&et[tt-rt]===nt[it-rt];rt++);return md=nt.slice(_e,1<rt?1-rt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,rt,nt,it,ot){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=it,this.target=ot,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(tt=_e[at],this[at]=tt?tt(it):it[at]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=String.fromCharCode(32),fe=!1;function ge(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je(_e,et){switch(_e){case"compositionend":return he(et);case"keypress":return et.which!==32?null:(fe=!0,ee$1);case"textInput":return _e=et.data,_e===ee$1&&fe?null:_e;default:return null}}function ke(_e,et){if(ie$1)return _e==="compositionend"||!ae$1&&ge(_e,et)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le$1[_e.type]:et==="textarea"}function ne$1(_e,et,tt,rt){Eb(rt),et=oe$1(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,rt),_e.push({event:tt,listeners:et}))}var pe$1=null,qe=null;function re$2(_e){se$1(_e,0)}function te$1(_e){var et=ue$1(_e);if(Wa(et))return _e}function ve(_e,et){if(_e==="change")return et}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe)){var et=[];ne$1(et,qe,_e,xb(_e)),Jb(re$2,et)}}function Ce(_e,et,tt){_e==="focusin"?(Ae$1(),pe$1=et,qe=tt,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae$1()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe)}function Ee(_e,et){if(_e==="click")return te$1(et)}function Fe(_e,et){if(_e==="input"||_e==="change")return te$1(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),rt=Object.keys(et);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(et,nt)||!He(_e[nt],et[nt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=_e+tt.textContent.length,_e<=et&&rt>=et)return{node:tt,offset:et-_e};_e=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe(_e){var et=Me(),tt=_e.focusedElem,rt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(et=rt.start,_e=rt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var nt=tt.textContent.length,it=Math.min(rt.start,nt);rt=rt.end===void 0?it:Math.min(rt.end,nt),!_e.extend&&it>rt&&(nt=rt,rt=it,it=nt),nt=Ke(tt,it);var ot=Ke(tt,rt);nt&&ot&&(_e.rangeCount!==1||_e.anchorNode!==nt.node||_e.anchorOffset!==nt.offset||_e.focusNode!==ot.node||_e.focusOffset!==ot.offset)&&(et=et.createRange(),et.setStart(nt.node,nt.offset),_e.removeAllRanges(),it>rt?(_e.addRange(et),_e.extend(ot.node,ot.offset)):(et.setEnd(ot.node,ot.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,et,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe$1(Re,"onSelect"),0<rt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:rt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var rt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(rt,et,void 0,_e),_e.currentTarget=null}function se$1(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var rt=_e[tt],nt=rt.event;rt=rt.listeners;e:{var it=void 0;if(et)for(var ot=rt.length-1;0<=ot;ot--){var at=rt[ot],st=at.instance,lt=at.currentTarget;if(at=at.listener,st!==it&&nt.isPropagationStopped())break e;nf(nt,at,lt),it=st}else for(ot=0;ot<rt.length;ot++){if(at=rt[ot],st=at.instance,lt=at.currentTarget,at=at.listener,st!==it&&nt.isPropagationStopped())break e;nf(nt,at,lt),it=st}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var rt=_e+"__bubble";tt.has(rt)||(pf(et,_e,2,!1),tt.add(rt))}function qf(_e,et,tt){var rt=0;et&&(rt|=4),pf(tt,_e,rt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,rt){switch(jd(et)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,et,tt,_e),nt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(nt=!0),rt?nt!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:nt}):_e.addEventListener(et,tt,!0):nt!==void 0?_e.addEventListener(et,tt,{passive:nt}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,rt,nt){var it=rt;if(!(et&1)&&!(et&2)&&rt!==null)e:for(;;){if(rt===null)return;var ot=rt.tag;if(ot===3||ot===4){var at=rt.stateNode.containerInfo;if(at===nt||at.nodeType===8&&at.parentNode===nt)break;if(ot===4)for(ot=rt.return;ot!==null;){var st=ot.tag;if((st===3||st===4)&&(st=ot.stateNode.containerInfo,st===nt||st.nodeType===8&&st.parentNode===nt))return;ot=ot.return}for(;at!==null;){if(ot=Wc(at),ot===null)return;if(st=ot.tag,st===5||st===6){rt=it=ot;continue e}at=at.parentNode}}rt=rt.return}Jb(function(){var lt=it,ct=xb(tt),ut=[];e:{var ft=df.get(_e);if(ft!==void 0){var dt=td,pt=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":pt="focus",dt=Fd;break;case"focusout":pt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var mt=(et&4)!==0,vt=!mt&&_e==="scroll",ht=mt?ft!==null?ft+"Capture":null:ft;mt=[];for(var yt=lt,gt;yt!==null;){gt=yt;var xt=gt.stateNode;if(gt.tag===5&&xt!==null&&(gt=xt,ht!==null&&(xt=Kb(yt,ht),xt!=null&&mt.push(tf(yt,xt,gt)))),vt)break;yt=yt.return}0<mt.length&&(ft=new dt(ft,pt,null,tt,ct),ut.push({event:ft,listeners:mt}))}}if(!(et&7)){e:{if(ft=_e==="mouseover"||_e==="pointerover",dt=_e==="mouseout"||_e==="pointerout",ft&&tt!==wb&&(pt=tt.relatedTarget||tt.fromElement)&&(Wc(pt)||pt[uf]))break e;if((dt||ft)&&(ft=ct.window===ct?ct:(ft=ct.ownerDocument)?ft.defaultView||ft.parentWindow:window,dt?(pt=tt.relatedTarget||tt.toElement,dt=lt,pt=pt?Wc(pt):null,pt!==null&&(vt=Vb(pt),pt!==vt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(dt=null,pt=lt),dt!==pt)){if(mt=Bd,xt="onMouseLeave",ht="onMouseEnter",yt="mouse",(_e==="pointerout"||_e==="pointerover")&&(mt=Td,xt="onPointerLeave",ht="onPointerEnter",yt="pointer"),vt=dt==null?ft:ue$1(dt),gt=pt==null?ft:ue$1(pt),ft=new mt(xt,yt+"leave",dt,tt,ct),ft.target=vt,ft.relatedTarget=gt,xt=null,Wc(ct)===lt&&(mt=new mt(ht,yt+"enter",pt,tt,ct),mt.target=gt,mt.relatedTarget=vt,xt=mt),vt=xt,dt&&pt)t:{for(mt=dt,ht=pt,yt=0,gt=mt;gt;gt=vf(gt))yt++;for(gt=0,xt=ht;xt;xt=vf(xt))gt++;for(;0<yt-gt;)mt=vf(mt),yt--;for(;0<gt-yt;)ht=vf(ht),gt--;for(;yt--;){if(mt===ht||ht!==null&&mt===ht.alternate)break t;mt=vf(mt),ht=vf(ht)}mt=null}else mt=null;dt!==null&&wf(ut,ft,dt,mt,!1),pt!==null&&vt!==null&&wf(ut,vt,pt,mt,!0)}}e:{if(ft=lt?ue$1(lt):window,dt=ft.nodeName&&ft.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ft.type==="file")var _t=ve;else if(me(ft))if(we)_t=Fe;else{_t=De;var wt=Ce}else(dt=ft.nodeName)&&dt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(_e,lt))){ne$1(ut,_t,tt,ct);break e}wt&&wt(_e,ft,lt),_e==="focusout"&&(wt=ft._wrapperState)&&wt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(wt=lt?ue$1(lt):window,_e){case"focusin":(me(wt)||wt.contentEditable==="true")&&(Qe=wt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,tt,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,tt,ct)}var Et;if(ae$1)e:{switch(_e){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else ie$1?ge(_e,tt)&&(St="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(St="onCompositionStart");St&&(de&&tt.locale!=="ko"&&(ie$1||St!=="onCompositionStart"?St==="onCompositionEnd"&&ie$1&&(Et=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),wt=oe$1(lt,St),0<wt.length&&(St=new Ld(St,_e,null,tt,ct),ut.push({event:St,listeners:wt}),Et?St.data=Et:(Et=he(tt),Et!==null&&(St.data=Et)))),(Et=ce?je(_e,tt):ke(_e,tt))&&(lt=oe$1(lt,"onBeforeInput"),0<lt.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),ut.push({event:ct,listeners:lt}),ct.data=Et))}se$1(ut,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe$1(_e,et){for(var tt=et+"Capture",rt=[];_e!==null;){var nt=_e,it=nt.stateNode;nt.tag===5&&it!==null&&(nt=it,it=Kb(_e,tt),it!=null&&rt.unshift(tf(_e,it,nt)),it=Kb(_e,et),it!=null&&rt.push(tf(_e,it,nt))),_e=_e.return}return rt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,rt,nt){for(var it=et._reactName,ot=[];tt!==null&&tt!==rt;){var at=tt,st=at.alternate,lt=at.stateNode;if(st!==null&&st===rt)break;at.tag===5&&lt!==null&&(at=lt,nt?(st=Kb(tt,it),st!=null&&ot.unshift(tf(tt,st,at))):nt||(st=Kb(tt,it),st!=null&&ot.push(tf(tt,st,at)))),tt=tt.return}ot.length!==0&&_e.push({event:et,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,rt=0;do{var nt=tt.nextSibling;if(_e.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){_e.removeChild(nt),bd(et);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var rt=_e.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},it;for(it in tt)nt[it]=et[it];return rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,et,tt){if(H$2.current!==Vf)throw Error(p$4(168));G$1(H$2,et),G$1(Wf,tt)}function bg(_e,et,tt){var rt=_e.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in et))throw Error(p$4(108,Ra(_e)||"Unknown",nt));return A$1({},tt,rt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,_e),G$1(Wf,Wf.current),!0}function dg(_e,et,tt){var rt=_e.stateNode;if(!rt)throw Error(p$4(169));tt?(_e=bg(_e,et,Xf),rt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$1(H$2,_e)):E$1(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$1;try{var tt=eg;for(C$1=1;_e<tt.length;_e++){var rt=tt[_e];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),nt}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var rt=rg;_e=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var it=32-oc(et)+nt;if(30<it){var ot=nt-nt%5;it=(rt&(1<<ot)-1).toString(32),rt>>=ot,nt-=ot,rg=1<<32-oc(et)+nt|tt<<nt|rt,sg=it+_e}else rg=1<<it|tt<<nt|rt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$3){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$4(418));et=Lf(tt.nextSibling);var rt=xg;et&&Cg(_e,et)?Ag(rt,tt):(_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$3=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$3)return Fg(_e),I$3=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et){if(_e&&_e.defaultProps){et=A$1({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var et=Mg.current;E$1(Mg),_e._currentValue=et}function Sg(_e,et,tt){for(;_e!==null;){var rt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),_e===tt)break;_e=_e.return}}function Tg(_e,et){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var et=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return et}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,et,tt,rt){var nt=et.interleaved;return nt===null?(tt.next=tt,Xg(et)):(tt.next=nt.next,nt.next=tt),et.interleaved=tt,Zg(_e,rt)}function Zg(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function dh(_e,et,tt){var rt=_e.updateQueue;if(rt===null)return null;if(rt=rt.shared,K$1&2){var nt=rt.pending;return nt===null?et.next=et:(et.next=nt.next,nt.next=et),rt.pending=et,Zg(_e,tt)}return nt=rt.interleaved,nt===null?(et.next=et,Xg(rt)):(et.next=nt.next,nt.next=et),rt.interleaved=et,Zg(_e,tt)}function eh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}function fh(_e,et){var tt=_e.updateQueue,rt=_e.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var ot={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?nt=it=ot:it=it.next=ot,tt=tt.next}while(tt!==null);it===null?nt=it=et:it=it.next=et}else nt=it=et;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function gh(_e,et,tt,rt){var nt=_e.updateQueue;$g=!1;var it=nt.firstBaseUpdate,ot=nt.lastBaseUpdate,at=nt.shared.pending;if(at!==null){nt.shared.pending=null;var st=at,lt=st.next;st.next=null,ot===null?it=lt:ot.next=lt,ot=st;var ct=_e.alternate;ct!==null&&(ct=ct.updateQueue,at=ct.lastBaseUpdate,at!==ot&&(at===null?ct.firstBaseUpdate=lt:at.next=lt,ct.lastBaseUpdate=st))}if(it!==null){var ut=nt.baseState;ot=0,ct=lt=st=null,at=it;do{var ft=at.lane,dt=at.eventTime;if((rt&ft)===ft){ct!==null&&(ct=ct.next={eventTime:dt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var pt=_e,mt=at;switch(ft=et,dt=tt,mt.tag){case 1:if(pt=mt.payload,typeof pt=="function"){ut=pt.call(dt,ut,ft);break e}ut=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=mt.payload,ft=typeof pt=="function"?pt.call(dt,ut,ft):pt,ft==null)break e;ut=A$1({},ut,ft);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,ft=nt.effects,ft===null?nt.effects=[at]:ft.push(at))}else dt={eventTime:dt,lane:ft,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ct===null?(lt=ct=dt,st=ut):ct=ct.next=dt,ot|=ft;if(at=at.next,at===null){if(at=nt.shared.pending,at===null)break;ft=at,at=ft.next,ft.next=null,nt.lastBaseUpdate=ft,nt.shared.pending=null}}while(1);if(ct===null&&(st=ut),nt.baseState=st,nt.firstBaseUpdate=lt,nt.lastBaseUpdate=ct,et=nt.shared.interleaved,et!==null){nt=et;do ot|=nt.lane,nt=nt.next;while(nt!==et)}else it===null&&(nt.shared.lanes=0);hh|=ot,_e.lanes=ot,_e.memoizedState=ut}}function ih(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var rt=_e[et],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$4(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(_e,et,tt,rt){et=_e.memoizedState,tt=tt(rt,et),tt=tt==null?et:A$1({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var rt=L$1(),nt=lh(_e),it=ch(rt,nt);it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,nt),et!==null&&(mh(et,_e,nt,rt),eh(et,_e,nt))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var rt=L$1(),nt=lh(_e),it=ch(rt,nt);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=dh(_e,it,nt),et!==null&&(mh(et,_e,nt,rt),eh(et,_e,nt))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=L$1(),rt=lh(_e),nt=ch(tt,rt);nt.tag=2,et!=null&&(nt.callback=et),et=dh(_e,nt,rt),et!==null&&(mh(et,_e,rt,tt),eh(et,_e,rt))}};function oh(_e,et,tt,rt,nt,it,ot){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(rt,it,ot):et.prototype&&et.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,it):!0}function ph(_e,et,tt){var rt=!1,nt=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(nt=Zf(et)?Xf:H$2.current,rt=et.contextTypes,it=(rt=rt!=null)?Yf(_e,nt):Vf),et=new et(tt,it),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=nh,_e.stateNode=et,et._reactInternals=_e,rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=it),et}function qh(_e,et,tt,rt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,rt),et.state!==_e&&nh.enqueueReplaceState(et,et.state,null)}function rh(_e,et,tt,rt){var nt=_e.stateNode;nt.props=tt,nt.state=_e.memoizedState,nt.refs=jh,ah(_e);var it=et.contextType;typeof it=="object"&&it!==null?nt.context=Vg(it):(it=Zf(et)?Xf:H$2.current,nt.context=Yf(_e,it)),nt.state=_e.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(kh(_e,et,it,tt),nt.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(et=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),et!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(_e,tt,nt,rt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$4(309));var rt=tt.stateNode}if(!rt)throw Error(p$4(147,_e));var nt=rt,it=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(ot){var at=nt.refs;at===jh&&(at=nt.refs={}),ot===null?delete at[it]:at[it]=ot},et._stringRef=it,et)}if(typeof _e!="string")throw Error(p$4(284));if(!tt._owner)throw Error(p$4(290,_e))}return _e}function th(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function uh(_e){var et=_e._init;return et(_e._payload)}function vh(_e){function et(ht,yt){if(_e){var gt=ht.deletions;gt===null?(ht.deletions=[yt],ht.flags|=16):gt.push(yt)}}function tt(ht,yt){if(!_e)return null;for(;yt!==null;)et(ht,yt),yt=yt.sibling;return null}function rt(ht,yt){for(ht=new Map;yt!==null;)yt.key!==null?ht.set(yt.key,yt):ht.set(yt.index,yt),yt=yt.sibling;return ht}function nt(ht,yt){return ht=wh(ht,yt),ht.index=0,ht.sibling=null,ht}function it(ht,yt,gt){return ht.index=gt,_e?(gt=ht.alternate,gt!==null?(gt=gt.index,gt<yt?(ht.flags|=2,yt):gt):(ht.flags|=2,yt)):(ht.flags|=1048576,yt)}function ot(ht){return _e&&ht.alternate===null&&(ht.flags|=2),ht}function at(ht,yt,gt,xt){return yt===null||yt.tag!==6?(yt=xh(gt,ht.mode,xt),yt.return=ht,yt):(yt=nt(yt,gt),yt.return=ht,yt)}function st(ht,yt,gt,xt){var _t=gt.type;return _t===ya?ct(ht,yt,gt.props.children,xt,gt.key):yt!==null&&(yt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===yt.type)?(xt=nt(yt,gt.props),xt.ref=sh(ht,yt,gt),xt.return=ht,xt):(xt=yh(gt.type,gt.key,gt.props,null,ht.mode,xt),xt.ref=sh(ht,yt,gt),xt.return=ht,xt)}function lt(ht,yt,gt,xt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==gt.containerInfo||yt.stateNode.implementation!==gt.implementation?(yt=zh(gt,ht.mode,xt),yt.return=ht,yt):(yt=nt(yt,gt.children||[]),yt.return=ht,yt)}function ct(ht,yt,gt,xt,_t){return yt===null||yt.tag!==7?(yt=Ah(gt,ht.mode,xt,_t),yt.return=ht,yt):(yt=nt(yt,gt),yt.return=ht,yt)}function ut(ht,yt,gt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,ht.mode,gt),yt.return=ht,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return gt=yh(yt.type,yt.key,yt.props,null,ht.mode,gt),gt.ref=sh(ht,null,yt),gt.return=ht,gt;case wa:return yt=zh(yt,ht.mode,gt),yt.return=ht,yt;case Ha:var xt=yt._init;return ut(ht,xt(yt._payload),gt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,ht.mode,gt,null),yt.return=ht,yt;th(ht,yt)}return null}function ft(ht,yt,gt,xt){var _t=yt!==null?yt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return _t!==null?null:at(ht,yt,""+gt,xt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===_t?st(ht,yt,gt,xt):null;case wa:return gt.key===_t?lt(ht,yt,gt,xt):null;case Ha:return _t=gt._init,ft(ht,yt,_t(gt._payload),xt)}if(eb(gt)||Ka(gt))return _t!==null?null:ct(ht,yt,gt,xt,null);th(ht,gt)}return null}function dt(ht,yt,gt,xt,_t){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ht=ht.get(gt)||null,at(yt,ht,""+xt,_t);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return ht=ht.get(xt.key===null?gt:xt.key)||null,st(yt,ht,xt,_t);case wa:return ht=ht.get(xt.key===null?gt:xt.key)||null,lt(yt,ht,xt,_t);case Ha:var wt=xt._init;return dt(ht,yt,gt,wt(xt._payload),_t)}if(eb(xt)||Ka(xt))return ht=ht.get(gt)||null,ct(yt,ht,xt,_t,null);th(yt,xt)}return null}function pt(ht,yt,gt,xt){for(var _t=null,wt=null,Et=yt,St=yt=0,Ct=null;Et!==null&&St<gt.length;St++){Et.index>St?(Ct=Et,Et=null):Ct=Et.sibling;var bt=ft(ht,Et,gt[St],xt);if(bt===null){Et===null&&(Et=Ct);break}_e&&Et&&bt.alternate===null&&et(ht,Et),yt=it(bt,yt,St),wt===null?_t=bt:wt.sibling=bt,wt=bt,Et=Ct}if(St===gt.length)return tt(ht,Et),I$3&&tg(ht,St),_t;if(Et===null){for(;St<gt.length;St++)Et=ut(ht,gt[St],xt),Et!==null&&(yt=it(Et,yt,St),wt===null?_t=Et:wt.sibling=Et,wt=Et);return I$3&&tg(ht,St),_t}for(Et=rt(ht,Et);St<gt.length;St++)Ct=dt(Et,ht,St,gt[St],xt),Ct!==null&&(_e&&Ct.alternate!==null&&Et.delete(Ct.key===null?St:Ct.key),yt=it(Ct,yt,St),wt===null?_t=Ct:wt.sibling=Ct,wt=Ct);return _e&&Et.forEach(function(At){return et(ht,At)}),I$3&&tg(ht,St),_t}function mt(ht,yt,gt,xt){var _t=Ka(gt);if(typeof _t!="function")throw Error(p$4(150));if(gt=_t.call(gt),gt==null)throw Error(p$4(151));for(var wt=_t=null,Et=yt,St=yt=0,Ct=null,bt=gt.next();Et!==null&&!bt.done;St++,bt=gt.next()){Et.index>St?(Ct=Et,Et=null):Ct=Et.sibling;var At=ft(ht,Et,bt.value,xt);if(At===null){Et===null&&(Et=Ct);break}_e&&Et&&At.alternate===null&&et(ht,Et),yt=it(At,yt,St),wt===null?_t=At:wt.sibling=At,wt=At,Et=Ct}if(bt.done)return tt(ht,Et),I$3&&tg(ht,St),_t;if(Et===null){for(;!bt.done;St++,bt=gt.next())bt=ut(ht,bt.value,xt),bt!==null&&(yt=it(bt,yt,St),wt===null?_t=bt:wt.sibling=bt,wt=bt);return I$3&&tg(ht,St),_t}for(Et=rt(ht,Et);!bt.done;St++,bt=gt.next())bt=dt(Et,ht,St,bt.value,xt),bt!==null&&(_e&&bt.alternate!==null&&Et.delete(bt.key===null?St:bt.key),yt=it(bt,yt,St),wt===null?_t=bt:wt.sibling=bt,wt=bt);return _e&&Et.forEach(function(Tt){return et(ht,Tt)}),I$3&&tg(ht,St),_t}function vt(ht,yt,gt,xt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var _t=gt.key,wt=yt;wt!==null;){if(wt.key===_t){if(_t=gt.type,_t===ya){if(wt.tag===7){tt(ht,wt.sibling),yt=nt(wt,gt.props.children),yt.return=ht,ht=yt;break e}}else if(wt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===wt.type){tt(ht,wt.sibling),yt=nt(wt,gt.props),yt.ref=sh(ht,wt,gt),yt.return=ht,ht=yt;break e}tt(ht,wt);break}else et(ht,wt);wt=wt.sibling}gt.type===ya?(yt=Ah(gt.props.children,ht.mode,xt,gt.key),yt.return=ht,ht=yt):(xt=yh(gt.type,gt.key,gt.props,null,ht.mode,xt),xt.ref=sh(ht,yt,gt),xt.return=ht,ht=xt)}return ot(ht);case wa:e:{for(wt=gt.key;yt!==null;){if(yt.key===wt)if(yt.tag===4&&yt.stateNode.containerInfo===gt.containerInfo&&yt.stateNode.implementation===gt.implementation){tt(ht,yt.sibling),yt=nt(yt,gt.children||[]),yt.return=ht,ht=yt;break e}else{tt(ht,yt);break}else et(ht,yt);yt=yt.sibling}yt=zh(gt,ht.mode,xt),yt.return=ht,ht=yt}return ot(ht);case Ha:return wt=gt._init,vt(ht,yt,wt(gt._payload),xt)}if(eb(gt))return pt(ht,yt,gt,xt);if(Ka(gt))return mt(ht,yt,gt,xt);th(ht,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,yt!==null&&yt.tag===6?(tt(ht,yt.sibling),yt=nt(yt,gt),yt.return=ht,ht=yt):(tt(ht,yt),yt=xh(gt,ht.mode,xt),yt.return=ht,ht=yt),ot(ht)):tt(ht,yt)}return vt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$4(174));return _e}function Ih(_e,et){switch(G$1(Gh,et),G$1(Fh,_e),G$1(Eh,Dh),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$1(Eh),G$1(Eh,et)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_e){Hh(Gh.current);var et=Hh(Eh.current),tt=lb(et,_e.type);et!==tt&&(G$1(Fh,_e),G$1(Eh,tt))}function Lh(_e){Fh.current===_e&&(E$1(Eh),E$1(Fh))}var M$4=Uf(0);function Mh(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$4(321))}function Wh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He(_e[tt],et[tt]))return!1;return!0}function Xh(_e,et,tt,rt,nt,it){if(Rh=it,N$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=tt(rt,nt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$4(301));it+=1,P$1=O$2=null,et.updateQueue=null,Ph.current=$h,_e=tt(rt,nt)}while(Th)}if(Ph.current=ai,et=O$2!==null&&O$2.next!==null,Rh=0,P$1=O$2=N$2=null,Sh=!1,et)throw Error(p$4(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=_e:P$1=P$1.next=_e,P$1}function di(){if(O$2===null){var _e=N$2.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$2.next;var et=P$1===null?N$2.memoizedState:P$1.next;if(et!==null)P$1=et,O$2=_e;else{if(_e===null)throw Error(p$4(310));O$2=_e,_e={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$1===null?N$2.memoizedState=P$1=_e:P$1=P$1.next=_e}return P$1}function ei(_e,et){return typeof et=="function"?et(_e):et}function fi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$4(311));tt.lastRenderedReducer=_e;var rt=O$2,nt=rt.baseQueue,it=tt.pending;if(it!==null){if(nt!==null){var ot=nt.next;nt.next=it.next,it.next=ot}rt.baseQueue=nt=it,tt.pending=null}if(nt!==null){it=nt.next,rt=rt.baseState;var at=ot=null,st=null,lt=it;do{var ct=lt.lane;if((Rh&ct)===ct)st!==null&&(st=st.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),rt=lt.hasEagerState?lt.eagerState:_e(rt,lt.action);else{var ut={lane:ct,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};st===null?(at=st=ut,ot=rt):st=st.next=ut,N$2.lanes|=ct,hh|=ct}lt=lt.next}while(lt!==null&&lt!==it);st===null?ot=rt:st.next=at,He(rt,et.memoizedState)||(Ug=!0),et.memoizedState=rt,et.baseState=ot,et.baseQueue=st,tt.lastRenderedState=rt}if(_e=tt.interleaved,_e!==null){nt=_e;do it=nt.lane,N$2.lanes|=it,hh|=it,nt=nt.next;while(nt!==_e)}else nt===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function gi(_e){var et=di(),tt=et.queue;if(tt===null)throw Error(p$4(311));tt.lastRenderedReducer=_e;var rt=tt.dispatch,nt=tt.pending,it=et.memoizedState;if(nt!==null){tt.pending=null;var ot=nt=nt.next;do it=_e(it,ot.action),ot=ot.next;while(ot!==nt);He(it,et.memoizedState)||(Ug=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,rt]}function hi(){}function ii(_e,et){var tt=N$2,rt=di(),nt=et(),it=!He(rt.memoizedState,nt);if(it&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,_e),[_e]),rt.getSnapshot!==et||it||P$1!==null&&P$1.memoizedState.tag&1){if(tt.flags|=2048,li$1(9,mi.bind(null,tt,rt,nt,et),void 0,null),R$3===null)throw Error(p$4(349));Rh&30||ni(tt,et,nt)}return nt}function ni(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function mi(_e,et,tt,rt){et.value=tt,et.getSnapshot=rt,oi(et)&&pi$1(_e)}function ki(_e,et,tt){return tt(function(){oi(et)&&pi$1(_e)})}function oi(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He(_e,tt)}catch{return!0}}function pi$1(_e){var et=Zg(_e,1);et!==null&&mh(et,_e,1,-1)}function qi(_e){var et=ci();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ri.bind(null,N$2,_e),[et.memoizedState,_e]}function li$1(_e,et,tt,rt){return _e={tag:_e,create:et,destroy:tt,deps:rt,next:null},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(rt=tt.next,tt.next=_e,_e.next=rt,et.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,et,tt,rt){var nt=ci();N$2.flags|=_e,nt.memoizedState=li$1(1|et,tt,void 0,rt===void 0?null:rt)}function ui(_e,et,tt,rt){var nt=di();rt=rt===void 0?null:rt;var it=void 0;if(O$2!==null){var ot=O$2.memoizedState;if(it=ot.destroy,rt!==null&&Wh(rt,ot.deps)){nt.memoizedState=li$1(et,tt,it,rt);return}}N$2.flags|=_e,nt.memoizedState=li$1(1|et,tt,it,rt)}function vi(_e,et){return ti(8390656,8,_e,et)}function ji(_e,et){return ui(2048,8,_e,et)}function wi(_e,et){return ui(4,2,_e,et)}function xi(_e,et){return ui(4,4,_e,et)}function yi(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function zi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ui(4,4,yi.bind(null,et,_e),tt)}function Ai(){}function Bi(_e,et){var tt=di();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Wh(et,rt[1])?rt[0]:(tt.memoizedState=[_e,et],_e)}function Ci(_e,et){var tt=di();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Wh(et,rt[1])?rt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function Di(_e,et,tt){return Rh&21?(He(tt,et)||(tt=yc(),N$2.lanes|=tt,hh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=tt)}function Ei(_e,et){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,_e(!0);var rt=Qh.transition;Qh.transition={};try{_e(!1),et()}finally{C$1=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(_e,et,tt){var rt=lh(_e);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(et,tt);else if(tt=Yg(_e,et,tt,rt),tt!==null){var nt=L$1();mh(tt,_e,rt,nt),Ji(tt,et,rt)}}function ri(_e,et,tt){var rt=lh(_e),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(et,nt);else{var it=_e.alternate;if(_e.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var ot=et.lastRenderedState,at=it(ot,tt);if(nt.hasEagerState=!0,nt.eagerState=at,He(at,ot)){var st=et.interleaved;st===null?(nt.next=nt,Xg(et)):(nt.next=st.next,st.next=nt),et.interleaved=nt;return}}catch{}finally{}tt=Yg(_e,et,nt,rt),tt!==null&&(nt=L$1(),mh(tt,_e,rt,nt),Ji(tt,et,rt))}}function Hi(_e){var et=_e.alternate;return _e===N$2||et!==null&&et===N$2}function Ii(_e,et){Th=Sh=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Ji(_e,et,tt){if(tt&4194240){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,et){return ci().memoizedState=[_e,et===void 0?null:et],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ti(4194308,4,yi.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ti(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ti(4,2,_e,et)},useMemo:function(_e,et){var tt=ci();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var rt=ci();return et=tt!==void 0?tt(et):et,rt.memoizedState=rt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},rt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$2,_e),[rt.memoizedState,_e]},useRef:function(_e){var et=ci();return _e={current:_e},et.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),et=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var rt=N$2,nt=ci();if(I$3){if(tt===void 0)throw Error(p$4(407));tt=tt()}else{if(tt=et(),R$3===null)throw Error(p$4(349));Rh&30||ni(rt,et,tt)}nt.memoizedState=tt;var it={value:tt,getSnapshot:et};return nt.queue=it,vi(ki.bind(null,rt,it,_e),[_e]),rt.flags|=2048,li$1(9,mi.bind(null,rt,it,tt,et),void 0,null),tt},useId:function(){var _e=ci(),et=R$3.identifierPrefix;if(I$3){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Uh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Vh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var et=di();return O$2===null?et.memoizedState=_e:Di(et,O$2.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],et=di().memoizedState;return[_e,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,et){try{var tt="",rt=et;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(it){nt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:_e,source:et,stack:nt,digest:null}}function Li(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Mi(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,et,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var rt=et.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(_e,et)},tt}function Ri(_e,et,tt){tt=ch(-1,tt),tt.tag=3;var rt=_e.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=et.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(_e,et)}}var it=_e.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(_e,et),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=et.stack;this.componentDidCatch(et.value,{componentStack:ot!==null?ot:""})}),tt}function Ti(_e,et,tt){var rt=_e.pingCache;if(rt===null){rt=_e.pingCache=new Ni;var nt=new Set;rt.set(et,nt)}else nt=rt.get(et),nt===void 0&&(nt=new Set,rt.set(et,nt));nt.has(tt)||(nt.add(tt),_e=Ui.bind(null,_e,et,tt),et.then(_e,_e))}function Vi(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,et,tt,rt,nt){return _e.mode&1?(_e.flags|=65536,_e.lanes=nt,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=ch(-1,1),et.tag=2,dh(tt,et,1))),tt.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,et,tt,rt){et.child=_e===null?Ch(et,null,tt,rt):Bh(et,_e.child,tt,rt)}function Zi(_e,et,tt,rt,nt){tt=tt.render;var it=et.ref;return Tg(et,nt),rt=Xh(_e,et,tt,rt,it,nt),tt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,$i(_e,et,nt)):(I$3&&tt&&vg(et),et.flags|=1,Yi(_e,et,rt,nt),et.child)}function aj(_e,et,tt,rt,nt){if(_e===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,cj(_e,et,it,rt,nt)):(_e=yh(tt.type,null,rt,et,et.mode,nt),_e.ref=et.ref,_e.return=et,et.child=_e)}if(it=_e.child,!(_e.lanes&nt)){var ot=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(ot,rt)&&_e.ref===et.ref)return $i(_e,et,nt)}return et.flags|=1,_e=wh(it,rt),_e.ref=et.ref,_e.return=et,et.child=_e}function cj(_e,et,tt,rt,nt){if(_e!==null){var it=_e.memoizedProps;if(Ie(it,rt)&&_e.ref===et.ref)if(Ug=!1,et.pendingProps=rt=it,(_e.lanes&nt)!==0)_e.flags&131072&&(Ug=!0);else return et.lanes=_e.lanes,$i(_e,et,nt)}return dj(_e,et,tt,rt,nt)}function ej(_e,et,tt){var rt=et.pendingProps,nt=rt.children,it=_e!==null?_e.memoizedState:null;if(rt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if(!(tt&1073741824))return _e=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G$1(fj,gj),gj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=rt}else it!==null?(rt=it.baseLanes|tt,et.memoizedState=null):rt=tt,G$1(fj,gj),gj|=rt;return Yi(_e,et,nt,tt),et.child}function hj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function dj(_e,et,tt,rt,nt){var it=Zf(tt)?Xf:H$2.current;return it=Yf(et,it),Tg(et,nt),tt=Xh(_e,et,tt,rt,it,nt),rt=bi(),_e!==null&&!Ug?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,$i(_e,et,nt)):(I$3&&rt&&vg(et),et.flags|=1,Yi(_e,et,tt,nt),et.child)}function ij(_e,et,tt,rt,nt){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(Tg(et,nt),et.stateNode===null)jj(_e,et),ph(et,tt,rt),rh(et,tt,rt,nt),rt=!0;else if(_e===null){var ot=et.stateNode,at=et.memoizedProps;ot.props=at;var st=ot.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(tt)?Xf:H$2.current,lt=Yf(et,lt));var ct=tt.getDerivedStateFromProps,ut=typeof ct=="function"||typeof ot.getSnapshotBeforeUpdate=="function";ut||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==rt||st!==lt)&&qh(et,ot,rt,lt),$g=!1;var ft=et.memoizedState;ot.state=ft,gh(et,rt,ot,nt),st=et.memoizedState,at!==rt||ft!==st||Wf.current||$g?(typeof ct=="function"&&(kh(et,tt,ct,rt),st=et.memoizedState),(at=$g||oh(et,tt,at,rt,ft,st,lt))?(ut||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(et.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=st),ot.props=rt,ot.state=st,ot.context=lt,rt=at):(typeof ot.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{ot=et.stateNode,bh(_e,et),at=et.memoizedProps,lt=et.type===et.elementType?at:Lg(et.type,at),ot.props=lt,ut=et.pendingProps,ft=ot.context,st=tt.contextType,typeof st=="object"&&st!==null?st=Vg(st):(st=Zf(tt)?Xf:H$2.current,st=Yf(et,st));var dt=tt.getDerivedStateFromProps;(ct=typeof dt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(at!==ut||ft!==st)&&qh(et,ot,rt,st),$g=!1,ft=et.memoizedState,ot.state=ft,gh(et,rt,ot,nt);var pt=et.memoizedState;at!==ut||ft!==pt||Wf.current||$g?(typeof dt=="function"&&(kh(et,tt,dt,rt),pt=et.memoizedState),(lt=$g||oh(et,tt,lt,rt,ft,pt,st)||!1)?(ct||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(rt,pt,st),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(rt,pt,st)),typeof ot.componentDidUpdate=="function"&&(et.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof ot.componentDidUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=pt),ot.props=rt,ot.state=pt,ot.context=st,rt=lt):(typeof ot.componentDidUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ft===_e.memoizedState||(et.flags|=1024),rt=!1)}return kj(_e,et,tt,rt,it,nt)}function kj(_e,et,tt,rt,nt,it){hj(_e,et);var ot=(et.flags&128)!==0;if(!rt&&!ot)return nt&&dg(et,tt,!1),$i(_e,et,it);rt=et.stateNode,Xi.current=et;var at=ot&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,_e!==null&&ot?(et.child=Bh(et,_e.child,null,it),et.child=Bh(et,null,at,it)):Yi(_e,et,at,it),et.memoizedState=rt.state,nt&&dg(et,tt,!0),et.child}function lj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),Ih(_e,et.containerInfo)}function mj(_e,et,tt,rt,nt){return Ig(),Jg(nt),et.flags|=256,Yi(_e,et,tt,rt),et.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,et,tt){var rt=et.pendingProps,nt=M$4.current,it=!1,ot=(et.flags&128)!==0,at;if((at=ot)||(at=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),at?(it=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(nt|=1),G$1(M$4,nt&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(ot=rt.children,_e=rt.fallback,it?(rt=et.mode,it=et.child,ot={mode:"hidden",children:ot},!(rt&1)&&it!==null?(it.childLanes=0,it.pendingProps=ot):it=qj(ot,rt,0,null),_e=Ah(_e,rt,tt,null),it.return=et,_e.return=et,it.sibling=_e,et.child=it,et.child.memoizedState=oj(tt),et.memoizedState=nj,_e):rj(et,ot));if(nt=_e.memoizedState,nt!==null&&(at=nt.dehydrated,at!==null))return sj(_e,et,ot,rt,at,nt,tt);if(it){it=rt.fallback,ot=et.mode,nt=_e.child,at=nt.sibling;var st={mode:"hidden",children:rt.children};return!(ot&1)&&et.child!==nt?(rt=et.child,rt.childLanes=0,rt.pendingProps=st,et.deletions=null):(rt=wh(nt,st),rt.subtreeFlags=nt.subtreeFlags&14680064),at!==null?it=wh(at,it):(it=Ah(it,ot,tt,null),it.flags|=2),it.return=et,rt.return=et,rt.sibling=it,et.child=rt,rt=it,it=et.child,ot=_e.child.memoizedState,ot=ot===null?oj(tt):{baseLanes:ot.baseLanes|tt,cachePool:null,transitions:ot.transitions},it.memoizedState=ot,it.childLanes=_e.childLanes&~tt,et.memoizedState=nj,rt}return it=_e.child,_e=it.sibling,rt=wh(it,{mode:"visible",children:rt.children}),!(et.mode&1)&&(rt.lanes=tt),rt.return=et,rt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=rt,et.memoizedState=null,rt}function rj(_e,et){return et=qj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function tj(_e,et,tt,rt){return rt!==null&&Jg(rt),Bh(et,_e.child,null,tt),_e=rj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function sj(_e,et,tt,rt,nt,it,ot){if(tt)return et.flags&256?(et.flags&=-257,rt=Li(Error(p$4(422))),tj(_e,et,ot,rt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(it=rt.fallback,nt=et.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),it=Ah(it,nt,ot,null),it.flags|=2,rt.return=et,it.return=et,rt.sibling=it,et.child=rt,et.mode&1&&Bh(et,_e.child,null,ot),et.child.memoizedState=oj(ot),et.memoizedState=nj,it);if(!(et.mode&1))return tj(_e,et,ot,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var at=rt.dgst;return rt=at,it=Error(p$4(419)),rt=Li(it,rt,void 0),tj(_e,et,ot,rt)}if(at=(ot&_e.childLanes)!==0,Ug||at){if(rt=R$3,rt!==null){switch(ot&-ot){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(rt.suspendedLanes|ot)?0:nt,nt!==0&&nt!==it.retryLane&&(it.retryLane=nt,Zg(_e,nt),mh(rt,_e,nt,-1))}return uj(),rt=Li(Error(p$4(421))),tj(_e,et,ot,rt)}return nt.data==="$?"?(et.flags|=128,et.child=_e.child,et=vj.bind(null,_e),nt._reactRetry=et,null):(_e=it.treeContext,yg=Lf(nt.nextSibling),xg=et,I$3=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=rj(et,rt.children),et.flags|=4096,et)}function wj(_e,et,tt){_e.lanes|=et;var rt=_e.alternate;rt!==null&&(rt.lanes|=et),Sg(_e.return,et,tt)}function xj(_e,et,tt,rt,nt){var it=_e.memoizedState;it===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=tt,it.tailMode=nt)}function yj(_e,et,tt){var rt=et.pendingProps,nt=rt.revealOrder,it=rt.tail;if(Yi(_e,et,rt.children,tt),rt=M$4.current,rt&2)rt=rt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,tt,et);else if(_e.tag===19)wj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}rt&=1}if(G$1(M$4,rt),!(et.mode&1))et.memoizedState=null;else switch(nt){case"forwards":for(tt=et.child,nt=null;tt!==null;)_e=tt.alternate,_e!==null&&Mh(_e)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=et.child,et.child=null):(nt=tt.sibling,tt.sibling=null),xj(et,!1,nt,tt,it);break;case"backwards":for(tt=null,nt=et.child,et.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&Mh(_e)===null){et.child=nt;break}_e=nt.sibling,nt.sibling=tt,tt=nt,nt=_e}xj(et,!0,tt,null,it);break;case"together":xj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function jj(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function $i(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),hh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$4(153));if(et.child!==null){for(_e=et.child,tt=wh(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=wh(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function zj(_e,et,tt){switch(et.tag){case 3:lj(et),Ig();break;case 5:Kh(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:Ih(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,nt=et.memoizedProps.value;G$1(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(M$4,M$4.current&1),et.flags|=128,null):tt&et.child.childLanes?pj(_e,et,tt):(G$1(M$4,M$4.current&1),_e=$i(_e,et,tt),_e!==null?_e.sibling:null);G$1(M$4,M$4.current&1);break;case 19:if(rt=(tt&et.childLanes)!==0,_e.flags&128){if(rt)return yj(_e,et,tt);et.flags|=128}if(nt=et.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$4,M$4.current),rt)break;return null;case 22:case 23:return et.lanes=0,ej(_e,et,tt)}return $i(_e,et,tt)}var Aj,Bj,Cj,Dj;Aj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(_e,et,tt,rt){var nt=_e.memoizedProps;if(nt!==rt){_e=et.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":nt=Ya(_e,nt),rt=Ya(_e,rt),it=[];break;case"select":nt=A$1({},nt,{value:void 0}),rt=A$1({},rt,{value:void 0}),it=[];break;case"textarea":nt=gb(_e,nt),rt=gb(_e,rt),it=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,rt);var ot;tt=null;for(lt in nt)if(!rt.hasOwnProperty(lt)&&nt.hasOwnProperty(lt)&&nt[lt]!=null)if(lt==="style"){var at=nt[lt];for(ot in at)at.hasOwnProperty(ot)&&(tt||(tt={}),tt[ot]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?it||(it=[]):(it=it||[]).push(lt,null));for(lt in rt){var st=rt[lt];if(at=nt!=null?nt[lt]:void 0,rt.hasOwnProperty(lt)&&st!==at&&(st!=null||at!=null))if(lt==="style")if(at){for(ot in at)!at.hasOwnProperty(ot)||st&&st.hasOwnProperty(ot)||(tt||(tt={}),tt[ot]="");for(ot in st)st.hasOwnProperty(ot)&&at[ot]!==st[ot]&&(tt||(tt={}),tt[ot]=st[ot])}else tt||(it||(it=[]),it.push(lt,tt)),tt=st;else lt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,at=at?at.__html:void 0,st!=null&&at!==st&&(it=it||[]).push(lt,st)):lt==="children"?typeof st!="string"&&typeof st!="number"||(it=it||[]).push(lt,""+st):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(st!=null&&lt==="onScroll"&&D$1("scroll",_e),it||at===st||(it=[])):(it=it||[]).push(lt,st))}tt&&(it=it||[]).push("style",tt);var lt=it;(et.updateQueue=lt)&&(et.flags|=4)}};Dj=function(_e,et,tt,rt){tt!==rt&&(et.flags|=4)};function Ej(_e,et){if(!I$3)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:rt.sibling=null}}function S$2(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,rt=0;if(et)for(var nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=_e,nt=nt.sibling;else for(nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=_e,nt=nt.sibling;return _e.subtreeFlags|=rt,_e.childLanes=tt,et}function Fj(_e,et,tt){var rt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(et),null;case 1:return Zf(et.type)&&$f(),S$2(et),null;case 3:return rt=et.stateNode,Jh(),E$1(Wf),E$1(H$2),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,et),S$2(et),null;case 5:Lh(et);var nt=Hh(Gh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Cj(_e,et,tt,rt,nt),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$4(166));return S$2(et),null}if(_e=Hh(Eh.current),Gg(et)){rt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(rt[Of]=et,rt[Pf]=it,_e=(et.mode&1)!==0,tt){case"dialog":D$1("cancel",rt),D$1("close",rt);break;case"iframe":case"object":case"embed":D$1("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],rt);break;case"source":D$1("error",rt);break;case"img":case"image":case"link":D$1("error",rt),D$1("load",rt);break;case"details":D$1("toggle",rt);break;case"input":Za(rt,it),D$1("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$1("invalid",rt);break;case"textarea":hb(rt,it),D$1("invalid",rt)}ub(tt,it),nt=null;for(var ot in it)if(it.hasOwnProperty(ot)){var at=it[ot];ot==="children"?typeof at=="string"?rt.textContent!==at&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,at,_e),nt=["children",at]):typeof at=="number"&&rt.textContent!==""+at&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,at,_e),nt=["children",""+at]):ea.hasOwnProperty(ot)&&at!=null&&ot==="onScroll"&&D$1("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=nt,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{ot=nt.nodeType===9?nt:nt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=ot.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof rt.is=="string"?_e=ot.createElement(tt,{is:rt.is}):(_e=ot.createElement(tt),tt==="select"&&(ot=_e,rt.multiple?ot.multiple=!0:rt.size&&(ot.size=rt.size))):_e=ot.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=rt,Aj(_e,et,!1,!1),et.stateNode=_e;e:{switch(ot=vb(tt,rt),tt){case"dialog":D$1("cancel",_e),D$1("close",_e),nt=rt;break;case"iframe":case"object":case"embed":D$1("load",_e),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],_e);nt=rt;break;case"source":D$1("error",_e),nt=rt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),nt=rt;break;case"details":D$1("toggle",_e),nt=rt;break;case"input":Za(_e,rt),nt=Ya(_e,rt),D$1("invalid",_e);break;case"option":nt=rt;break;case"select":_e._wrapperState={wasMultiple:!!rt.multiple},nt=A$1({},rt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,rt),nt=gb(_e,rt),D$1("invalid",_e);break;default:nt=rt}ub(tt,nt),at=nt;for(it in at)if(at.hasOwnProperty(it)){var st=at[it];it==="style"?sb(_e,st):it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(_e,st)):it==="children"?typeof st=="string"?(tt!=="textarea"||st!=="")&&ob(_e,st):typeof st=="number"&&ob(_e,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?st!=null&&it==="onScroll"&&D$1("scroll",_e):st!=null&&ta(_e,it,st,ot))}switch(tt){case"input":Va(_e),db(_e,rt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":rt.value!=null&&_e.setAttribute("value",""+Sa(rt.value));break;case"select":_e.multiple=!!rt.multiple,it=rt.value,it!=null?fb(_e,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(_e,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$2(et),null;case 6:if(_e&&et.stateNode!=null)Dj(_e,et,_e.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$4(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(et)){if(rt=et.stateNode,tt=et.memoizedProps,rt[Of]=et,(it=rt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(rt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(_e.mode&1)!==0)}it&&(et.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=et,et.stateNode=rt}return S$2(et),null;case 13:if(E$1(M$4),rt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),rt!==null&&rt.dehydrated!==null){if(_e===null){if(!it)throw Error(p$4(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$4(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$2(et),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(rt=rt!==null,rt!==(_e!==null&&_e.memoizedState!==null)&&rt&&(et.child.flags|=8192,et.mode&1&&(_e===null||M$4.current&1?T$2===0&&(T$2=3):uj())),et.updateQueue!==null&&(et.flags|=4),S$2(et),null);case 4:return Jh(),Bj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$2(et),null;case 10:return Rg(et.type._context),S$2(et),null;case 17:return Zf(et.type)&&$f(),S$2(et),null;case 19:if(E$1(M$4),it=et.memoizedState,it===null)return S$2(et),null;if(rt=(et.flags&128)!==0,ot=it.rendering,ot===null)if(rt)Ej(it,!1);else{if(T$2!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(ot=Mh(_e),ot!==null){for(et.flags|=128,Ej(it,!1),rt=ot.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=tt,tt=et.child;tt!==null;)it=tt,_e=rt,it.flags&=14680066,ot=it.alternate,ot===null?(it.childLanes=0,it.lanes=_e,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=ot.childLanes,it.lanes=ot.lanes,it.child=ot.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=ot.memoizedProps,it.memoizedState=ot.memoizedState,it.updateQueue=ot.updateQueue,it.type=ot.type,_e=ot.dependencies,it.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G$1(M$4,M$4.current&1|2),et.child}_e=_e.sibling}it.tail!==null&&B$1()>Hj&&(et.flags|=128,rt=!0,Ej(it,!1),et.lanes=4194304)}else{if(!rt)if(_e=Mh(ot),_e!==null){if(et.flags|=128,rt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!ot.alternate&&!I$3)return S$2(et),null}else 2*B$1()-it.renderingStartTime>Hj&&tt!==1073741824&&(et.flags|=128,rt=!0,Ej(it,!1),et.lanes=4194304);it.isBackwards?(ot.sibling=et.child,et.child=ot):(tt=it.last,tt!==null?tt.sibling=ot:et.child=ot,it.last=ot)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$1(),et.sibling=null,tt=M$4.current,G$1(M$4,rt?tt&1|2:tt&1),et):(S$2(et),null);case 22:case 23:return Ij(),rt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==rt&&(et.flags|=8192),rt&&et.mode&1?gj&1073741824&&(S$2(et),et.subtreeFlags&6&&(et.flags|=8192)):S$2(et),null;case 24:return null;case 25:return null}throw Error(p$4(156,et.tag))}function Jj(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return Jh(),E$1(Wf),E$1(H$2),Oh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Lh(et),null;case 13:if(E$1(M$4),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$4(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$1(M$4),null;case 4:return Jh(),null;case 10:return Rg(et.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$1(_e,et,rt)}else tt.current=null}function Nj(_e,et,tt){try{tt()}catch(rt){W$1(_e,et,rt)}}var Oj=!1;function Pj(_e,et){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var ot=0,at=-1,st=-1,lt=0,ct=0,ut=_e,ft=null;t:for(;;){for(var dt;ut!==tt||nt!==0&&ut.nodeType!==3||(at=ot+nt),ut!==it||rt!==0&&ut.nodeType!==3||(st=ot+rt),ut.nodeType===3&&(ot+=ut.nodeValue.length),(dt=ut.firstChild)!==null;)ft=ut,ut=dt;for(;;){if(ut===_e)break t;if(ft===tt&&++lt===nt&&(at=ot),ft===it&&++ct===rt&&(st=ot),(dt=ut.nextSibling)!==null)break;ut=ft,ft=ut.parentNode}ut=dt}tt=at===-1||st===-1?null:{start:at,end:st}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V$1=et;V$1!==null;)if(et=V$1,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V$1=_e;else for(;V$1!==null;){et=V$1;try{var pt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var mt=pt.memoizedProps,vt=pt.memoizedState,ht=et.stateNode,yt=ht.getSnapshotBeforeUpdate(et.elementType===et.type?mt:Lg(et.type,mt),vt);ht.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var gt=et.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(xt){W$1(et,et.return,xt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V$1=_e;break}V$1=et.return}return pt=Oj,Oj=!1,pt}function Qj(_e,et,tt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&_e)===_e){var it=nt.destroy;nt.destroy=void 0,it!==void 0&&Nj(et,tt,it)}nt=nt.next}while(nt!==rt)}}function Rj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==et)}}function Sj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Tj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Tj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(rt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}function Xj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(rt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,et,tt),_e=_e.sibling;_e!==null;)Xj(_e,et,tt),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,et,tt){for(tt=tt.child;tt!==null;)ak(_e,et,tt),tt=tt.sibling}function ak(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$2||Mj(tt,et);case 6:var rt=X$1,nt=Yj;X$1=null,Zj(_e,et,tt),X$1=rt,Yj=nt,X$1!==null&&(Yj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X$1,tt.stateNode));break;case 4:rt=X$1,nt=Yj,X$1=tt.stateNode.containerInfo,Yj=!0,Zj(_e,et,tt),X$1=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$2&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var it=nt,ot=it.destroy;it=it.tag,ot!==void 0&&(it&2||it&4)&&Nj(tt,et,ot),nt=nt.next}while(nt!==rt)}Zj(_e,et,tt);break;case 1:if(!U$2&&(Mj(tt,et),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(at){W$1(tt,et,at)}Zj(_e,et,tt);break;case 21:Zj(_e,et,tt);break;case 22:tt.mode&1?(U$2=(rt=U$2)||tt.memoizedState!==null,Zj(_e,et,tt),U$2=rt):Zj(_e,et,tt);break;default:Zj(_e,et,tt)}}function bk(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Lj),et.forEach(function(rt){var nt=ck.bind(null,_e,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(_e,et){var tt=et.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var it=_e,ot=et,at=ot;e:for(;at!==null;){switch(at.tag){case 5:X$1=at.stateNode,Yj=!1;break e;case 3:X$1=at.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X$1===null)throw Error(p$4(160));ak(it,ot,nt),X$1=null,Yj=!1;var st=nt.alternate;st!==null&&(st.return=null),nt.return=null}catch(lt){W$1(nt,et,lt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)ek(et,_e),et=et.sibling}function ek(_e,et){var tt=_e.alternate,rt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(et,_e),fk(_e),rt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(mt){W$1(_e,_e.return,mt)}try{Qj(5,_e,_e.return)}catch(mt){W$1(_e,_e.return,mt)}}break;case 1:dk(et,_e),fk(_e),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(et,_e),fk(_e),rt&512&&tt!==null&&Mj(tt,tt.return),_e.flags&32){var nt=_e.stateNode;try{ob(nt,"")}catch(mt){W$1(_e,_e.return,mt)}}if(rt&4&&(nt=_e.stateNode,nt!=null)){var it=_e.memoizedProps,ot=tt!==null?tt.memoizedProps:it,at=_e.type,st=_e.updateQueue;if(_e.updateQueue=null,st!==null)try{at==="input"&&it.type==="radio"&&it.name!=null&&ab(nt,it),vb(at,ot);var lt=vb(at,it);for(ot=0;ot<st.length;ot+=2){var ct=st[ot],ut=st[ot+1];ct==="style"?sb(nt,ut):ct==="dangerouslySetInnerHTML"?nb(nt,ut):ct==="children"?ob(nt,ut):ta(nt,ct,ut,lt)}switch(at){case"input":bb(nt,it);break;case"textarea":ib(nt,it);break;case"select":var ft=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!it.multiple;var dt=it.value;dt!=null?fb(nt,!!it.multiple,dt,!1):ft!==!!it.multiple&&(it.defaultValue!=null?fb(nt,!!it.multiple,it.defaultValue,!0):fb(nt,!!it.multiple,it.multiple?[]:"",!1))}nt[Pf]=it}catch(mt){W$1(_e,_e.return,mt)}}break;case 6:if(dk(et,_e),fk(_e),rt&4){if(_e.stateNode===null)throw Error(p$4(162));nt=_e.stateNode,it=_e.memoizedProps;try{nt.nodeValue=it}catch(mt){W$1(_e,_e.return,mt)}}break;case 3:if(dk(et,_e),fk(_e),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(mt){W$1(_e,_e.return,mt)}break;case 4:dk(et,_e),fk(_e);break;case 13:dk(et,_e),fk(_e),nt=_e.child,nt.flags&8192&&(it=nt.memoizedState!==null,nt.stateNode.isHidden=it,!it||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),rt&4&&bk(_e);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U$2=(lt=U$2)||ct,dk(et,_e),U$2=lt):dk(et,_e),fk(_e),rt&8192){if(lt=_e.memoizedState!==null,(_e.stateNode.isHidden=lt)&&!ct&&_e.mode&1)for(V$1=_e,ct=_e.child;ct!==null;){for(ut=V$1=ct;V$1!==null;){switch(ft=V$1,dt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var pt=ft.stateNode;if(typeof pt.componentWillUnmount=="function"){rt=ft,tt=ft.return;try{et=rt,pt.props=et.memoizedProps,pt.state=et.memoizedState,pt.componentWillUnmount()}catch(mt){W$1(rt,tt,mt)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(ut);continue}}dt!==null?(dt.return=ft,V$1=dt):hk(ut)}ct=ct.sibling}e:for(ct=null,ut=_e;;){if(ut.tag===5){if(ct===null){ct=ut;try{nt=ut.stateNode,lt?(it=nt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(at=ut.stateNode,st=ut.memoizedProps.style,ot=st!=null&&st.hasOwnProperty("display")?st.display:null,at.style.display=rb("display",ot))}catch(mt){W$1(_e,_e.return,mt)}}}else if(ut.tag===6){if(ct===null)try{ut.stateNode.nodeValue=lt?"":ut.memoizedProps}catch(mt){W$1(_e,_e.return,mt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===_e)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===_e)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===_e)break e;ct===ut&&(ct=null),ut=ut.return}ct===ut&&(ct=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:dk(et,_e),fk(_e),rt&4&&bk(_e);break;case 21:break;default:dk(et,_e),fk(_e)}}function fk(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$4(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var it=Vj(_e);Xj(_e,it,nt);break;case 3:case 4:var ot=rt.stateNode.containerInfo,at=Vj(_e);Wj(_e,at,ot);break;default:throw Error(p$4(161))}}catch(st){W$1(_e,_e.return,st)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function ik(_e,et,tt){V$1=_e,jk(_e)}function jk(_e,et,tt){for(var rt=(_e.mode&1)!==0;V$1!==null;){var nt=V$1,it=nt.child;if(nt.tag===22&&rt){var ot=nt.memoizedState!==null||Kj;if(!ot){var at=nt.alternate,st=at!==null&&at.memoizedState!==null||U$2;at=Kj;var lt=U$2;if(Kj=ot,(U$2=st)&&!lt)for(V$1=nt;V$1!==null;)ot=V$1,st=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(nt):st!==null?(st.return=ot,V$1=st):kk(nt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=nt,Kj=at,U$2=lt}lk(_e)}else nt.subtreeFlags&8772&&it!==null?(it.return=nt,V$1=it):lk(_e)}}function lk(_e){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$2||Rj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!U$2)if(tt===null)rt.componentDidMount();else{var nt=et.elementType===et.type?tt.memoizedProps:Lg(et.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&ih(et,it,rt);break;case 3:var ot=et.updateQueue;if(ot!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}ih(et,ot,tt)}break;case 5:var at=et.stateNode;if(tt===null&&et.flags&4){tt=at;var st=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&tt.focus();break;case"img":st.src&&(tt.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var lt=et.alternate;if(lt!==null){var ct=lt.memoizedState;if(ct!==null){var ut=ct.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||et.flags&512&&Sj(et)}catch(ft){W$1(et,et.return,ft)}}if(et===_e){V$1=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function hk(_e){for(;V$1!==null;){var et=V$1;if(et===_e){V$1=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function kk(_e){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Rj(4,et)}catch(st){W$1(et,tt,st)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var nt=et.return;try{rt.componentDidMount()}catch(st){W$1(et,nt,st)}}var it=et.return;try{Sj(et)}catch(st){W$1(et,it,st)}break;case 5:var ot=et.return;try{Sj(et)}catch(st){W$1(et,ot,st)}}}catch(st){W$1(et,et.return,st)}if(et===_e){V$1=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V$1=at;break}V$1=et.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$3=null,Y$1=null,Z$2=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K$1&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,et,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac(_e,tt,rt),(!(K$1&2)||_e!==R$3)&&(_e===R$3&&(!(K$1&2)&&(rk|=tt),T$2===4&&Dk(_e,Z$2)),Ek(_e,rt),tt===1&&K$1===0&&!(et.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,et){var tt=_e.callbackNode;wc(_e,et);var rt=uc(_e,_e===R$3?Z$2:0);if(rt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=rt&-rt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K$1&6)&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Hk(_e,et){if(Bk=-1,Ck=0,K$1&6)throw Error(p$4(327));var tt=_e.callbackNode;if(Ik()&&_e.callbackNode!==tt)return null;var rt=uc(_e,_e===R$3?Z$2:0);if(rt===0)return null;if(rt&30||rt&_e.expiredLanes||et)et=Jk(_e,rt);else{et=rt;var nt=K$1;K$1|=2;var it=Kk();(R$3!==_e||Z$2!==et)&&(vk=null,Hj=B$1()+500,Lk(_e,et));do try{Mk();break}catch(at){Nk(_e,at)}while(1);Qg(),nk.current=it,K$1=nt,Y$1!==null?et=0:(R$3=null,Z$2=0,et=T$2)}if(et!==0){if(et===2&&(nt=xc(_e),nt!==0&&(rt=nt,et=Ok(_e,nt))),et===1)throw tt=qk,Lk(_e,0),Dk(_e,rt),Ek(_e,B$1()),tt;if(et===6)Dk(_e,rt);else{if(nt=_e.current.alternate,!(rt&30)&&!Pk(nt)&&(et=Jk(_e,rt),et===2&&(it=xc(_e),it!==0&&(rt=it,et=Ok(_e,it))),et===1))throw tt=qk,Lk(_e,0),Dk(_e,rt),Ek(_e,B$1()),tt;switch(_e.finishedWork=nt,_e.finishedLanes=rt,et){case 0:case 1:throw Error(p$4(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,rt),(rt&130023424)===rt&&(et=gk+500-B$1(),10<et)){if(uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&rt)!==rt){L$1(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),et);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,rt),(rt&4194240)===rt)break;for(et=_e.eventTimes,nt=-1;0<rt;){var ot=31-oc(rt);it=1<<ot,ot=et[ot],ot>nt&&(nt=ot),rt&=~it}if(rt=nt,rt=B$1()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),rt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(_e,B$1()),_e.callbackNode===tt?Hk.bind(null,_e):null}function Ok(_e,et){var tt=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,et).flags|=256),_e=Jk(_e,et),_e!==2&&(et=uk,uk=tt,et!==null&&Gj(et)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.getSnapshot;nt=nt.value;try{if(!He(it(),nt))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Dk(_e,et){for(et&=~sk,et&=~rk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),rt=1<<tt;_e[tt]=-1,et&=~rt}}function Fk(_e){if(K$1&6)throw Error(p$4(327));Ik();var et=uc(_e,0);if(!(et&1))return Ek(_e,B$1()),null;var tt=Jk(_e,et);if(_e.tag!==0&&tt===2){var rt=xc(_e);rt!==0&&(et=rt,tt=Ok(_e,rt))}if(tt===1)throw tt=qk,Lk(_e,0),Dk(_e,et),Ek(_e,B$1()),tt;if(tt===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,et){var tt=K$1;K$1|=1;try{return _e(et)}finally{K$1=tt,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var et=K$1;K$1|=1;var tt=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=rt,pk.transition=tt,K$1=et,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$2),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$1(M$4);break;case 19:E$1(M$4);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$3=_e,Y$1=_e=wh(_e.current,null),Z$2=gj=et,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(et=0;et<Wg.length;et++)if(tt=Wg[et],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,it=tt.pending;if(it!==null){var ot=it.next;it.next=nt,rt.next=ot}tt.pending=rt}Wg=null}return _e}function Nk(_e,et){do{var tt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$2.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$1=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$2=1,qk=et,Y$1=null;break}e:{var it=_e,ot=tt.return,at=tt,st=et;if(et=Z$2,at.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var lt=st,ct=at,ut=ct.tag;if(!(ct.mode&1)&&(ut===0||ut===11||ut===15)){var ft=ct.alternate;ft?(ct.updateQueue=ft.updateQueue,ct.memoizedState=ft.memoizedState,ct.lanes=ft.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var dt=Vi(ot);if(dt!==null){dt.flags&=-257,Wi(dt,ot,at,it,et),dt.mode&1&&Ti(it,lt,et),et=dt,st=lt;var pt=et.updateQueue;if(pt===null){var mt=new Set;mt.add(st),et.updateQueue=mt}else pt.add(st);break e}else{if(!(et&1)){Ti(it,lt,et),uj();break e}st=Error(p$4(426))}}else if(I$3&&at.mode&1){var vt=Vi(ot);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Wi(vt,ot,at,it,et),Jg(Ki(st,at));break e}}it=st=Ki(st,at),T$2!==4&&(T$2=2),tk===null?tk=[it]:tk.push(it),it=ot;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var ht=Oi(it,st,et);fh(it,ht);break e;case 1:at=st;var yt=it.type,gt=it.stateNode;if(!(it.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){it.flags|=65536,et&=-et,it.lanes|=et;var xt=Ri(it,at,et);fh(it,xt);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(_t){et=_t,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$3===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$3,Z$2)}function Jk(_e,et){var tt=K$1;K$1|=2;var rt=Kk();(R$3!==_e||Z$2!==et)&&(vk=null,Lk(_e,et));do try{Uk();break}catch(nt){Nk(_e,nt)}while(1);if(Qg(),K$1=tt,nk.current=rt,Y$1!==null)throw Error(p$4(261));return R$3=null,Z$2=0,T$2}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(_e){var et=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,et===null?Tk(_e):Y$1=et,ok.current=null}function Tk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Jj(tt,et),tt!==null){tt.flags&=32767,Y$1=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$2=6,Y$1=null;return}}else if(tt=Fj(tt,et,gj),tt!==null){Y$1=tt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=_e}while(et!==null);T$2===0&&(T$2=5)}function Qk(_e,et,tt){var rt=C$1,nt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,et,tt,rt)}finally{pk.transition=nt,C$1=rt}return null}function Xk(_e,et,tt,rt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$4(327));tt=_e.finishedWork;var nt=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(_e,it),_e===R$3&&(Y$1=R$3=null,Z$2=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=pk.transition,pk.transition=null;var ot=C$1;C$1=1;var at=K$1;K$1|=4,ok.current=null,Pj(_e,tt),ek(tt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,ik(tt),dc(),K$1=at,C$1=ot,pk.transition=it}else _e.current=tt;if(wk&&(wk=!1,xk=_e,yk=nt),it=_e.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(_e,B$1()),et!==null)for(rt=_e.onRecoverableError,tt=0;tt<et.length;tt++)nt=et[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),it=_e.pendingLanes,it&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),et=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var rt=!1;else{if(_e=xk,xk=null,yk=0,K$1&6)throw Error(p$4(331));var nt=K$1;for(K$1|=4,V$1=_e.current;V$1!==null;){var it=V$1,ot=it.child;if(V$1.flags&16){var at=it.deletions;if(at!==null){for(var st=0;st<at.length;st++){var lt=at[st];for(V$1=lt;V$1!==null;){var ct=V$1;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,it)}var ut=ct.child;if(ut!==null)ut.return=ct,V$1=ut;else for(;V$1!==null;){ct=V$1;var ft=ct.sibling,dt=ct.return;if(Tj(ct),ct===lt){V$1=null;break}if(ft!==null){ft.return=dt,V$1=ft;break}V$1=dt}}}var pt=it.alternate;if(pt!==null){var mt=pt.child;if(mt!==null){pt.child=null;do{var vt=mt.sibling;mt.sibling=null,mt=vt}while(mt!==null)}}V$1=it}}if(it.subtreeFlags&2064&&ot!==null)ot.return=it,V$1=ot;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var ht=it.sibling;if(ht!==null){ht.return=it.return,V$1=ht;break e}V$1=it.return}}var yt=_e.current;for(V$1=yt;V$1!==null;){ot=V$1;var gt=ot.child;if(ot.subtreeFlags&2064&&gt!==null)gt.return=ot,V$1=gt;else e:for(ot=yt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(_t){W$1(at,at.return,_t)}if(at===ot){V$1=null;break e}var xt=at.sibling;if(xt!==null){xt.return=at.return,V$1=xt;break e}V$1=at.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}rt=!0}return rt}finally{C$1=tt,pk.transition=et}}return!1}function Yk(_e,et,tt){et=Ki(tt,et),et=Oi(_e,et,1),_e=dh(_e,et,1),et=L$1(),_e!==null&&(Ac(_e,1,et),Ek(_e,et))}function W$1(_e,et,tt){if(_e.tag===3)Yk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Yk(et,_e,tt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){_e=Ki(tt,_e),_e=Ri(et,_e,1),et=dh(et,_e,1),_e=L$1(),et!==null&&(Ac(et,1,_e),Ek(et,_e));break}}et=et.return}}function Ui(_e,et,tt){var rt=_e.pingCache;rt!==null&&rt.delete(et),et=L$1(),_e.pingedLanes|=_e.suspendedLanes&tt,R$3===_e&&(Z$2&tt)===tt&&(T$2===4||T$2===3&&(Z$2&130023424)===Z$2&&500>B$1()-gk?Lk(_e,0):sk|=tt),Ek(_e,et)}function Zk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=L$1();_e=Zg(_e,et),_e!==null&&(Ac(_e,et,tt),Ek(_e,tt))}function vj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Zk(_e,tt)}function ck(_e,et){var tt=0;switch(_e.tag){case 13:var rt=_e.stateNode,nt=_e.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=_e.stateNode;break;default:throw Error(p$4(314))}rt!==null&&rt.delete(et),Zk(_e,tt)}var Wk;Wk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return Ug=!1,zj(_e,et,tt);Ug=!!(_e.flags&131072)}else Ug=!1,I$3&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;jj(_e,et),_e=et.pendingProps;var nt=Yf(et,H$2.current);Tg(et,tt),nt=Xh(null,et,rt,_e,nt,tt);var it=bi();return et.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(rt)?(it=!0,cg(et)):it=!1,et.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(et),nt.updater=nh,et.stateNode=nt,nt._reactInternals=et,rh(et,rt,_e,tt),et=kj(null,et,rt,!0,it,tt)):(et.tag=0,I$3&&it&&vg(et),Yi(null,et,nt,tt),et=et.child),et;case 16:rt=et.elementType;e:{switch(jj(_e,et),_e=et.pendingProps,nt=rt._init,rt=nt(rt._payload),et.type=rt,nt=et.tag=$k(rt),_e=Lg(rt,_e),nt){case 0:et=dj(null,et,rt,_e,tt);break e;case 1:et=ij(null,et,rt,_e,tt);break e;case 11:et=Zi(null,et,rt,_e,tt);break e;case 14:et=aj(null,et,rt,Lg(rt.type,_e),tt);break e}throw Error(p$4(306,rt,""))}return et;case 0:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Lg(rt,nt),dj(_e,et,rt,nt,tt);case 1:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Lg(rt,nt),ij(_e,et,rt,nt,tt);case 3:e:{if(lj(et),_e===null)throw Error(p$4(387));rt=et.pendingProps,it=et.memoizedState,nt=it.element,bh(_e,et),gh(et,rt,null,tt);var ot=et.memoizedState;if(rt=ot.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){nt=Ki(Error(p$4(423)),et),et=mj(_e,et,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$4(424)),et),et=mj(_e,et,rt,tt,nt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$3=!0,zg=null,tt=Ch(et,null,rt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){et=$i(_e,et,tt);break e}Yi(_e,et,rt,tt)}et=et.child}return et;case 5:return Kh(et),_e===null&&Eg(et),rt=et.type,nt=et.pendingProps,it=_e!==null?_e.memoizedProps:null,ot=nt.children,Ef(rt,nt)?ot=null:it!==null&&Ef(rt,it)&&(et.flags|=32),hj(_e,et),Yi(_e,et,ot,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return pj(_e,et,tt);case 4:return Ih(et,et.stateNode.containerInfo),rt=et.pendingProps,_e===null?et.child=Bh(et,null,rt,tt):Yi(_e,et,rt,tt),et.child;case 11:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Lg(rt,nt),Zi(_e,et,rt,nt,tt);case 7:return Yi(_e,et,et.pendingProps,tt),et.child;case 8:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Yi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(rt=et.type._context,nt=et.pendingProps,it=et.memoizedProps,ot=nt.value,G$1(Mg,rt._currentValue),rt._currentValue=ot,it!==null)if(He(it.value,ot)){if(it.children===nt.children&&!Wf.current){et=$i(_e,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var at=it.dependencies;if(at!==null){ot=it.child;for(var st=at.firstContext;st!==null;){if(st.context===rt){if(it.tag===1){st=ch(-1,tt&-tt),st.tag=2;var lt=it.updateQueue;if(lt!==null){lt=lt.shared;var ct=lt.pending;ct===null?st.next=st:(st.next=ct.next,ct.next=st),lt.pending=st}}it.lanes|=tt,st=it.alternate,st!==null&&(st.lanes|=tt),Sg(it.return,tt,et),at.lanes|=tt;break}st=st.next}}else if(it.tag===10)ot=it.type===et.type?null:it.child;else if(it.tag===18){if(ot=it.return,ot===null)throw Error(p$4(341));ot.lanes|=tt,at=ot.alternate,at!==null&&(at.lanes|=tt),Sg(ot,tt,et),ot=it.sibling}else ot=it.child;if(ot!==null)ot.return=it;else for(ot=it;ot!==null;){if(ot===et){ot=null;break}if(it=ot.sibling,it!==null){it.return=ot.return,ot=it;break}ot=ot.return}it=ot}Yi(_e,et,nt.children,tt),et=et.child}return et;case 9:return nt=et.type,rt=et.pendingProps.children,Tg(et,tt),nt=Vg(nt),rt=rt(nt),et.flags|=1,Yi(_e,et,rt,tt),et.child;case 14:return rt=et.type,nt=Lg(rt,et.pendingProps),nt=Lg(rt.type,nt),aj(_e,et,rt,nt,tt);case 15:return cj(_e,et,et.type,et.pendingProps,tt);case 17:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Lg(rt,nt),jj(_e,et),et.tag=1,Zf(rt)?(_e=!0,cg(et)):_e=!1,Tg(et,tt),ph(et,rt,nt),rh(et,rt,nt,tt),kj(null,et,rt,!0,_e,tt);case 19:return yj(_e,et,tt);case 22:return ej(_e,et,tt)}throw Error(p$4(156,et.tag))};function Gk(_e,et){return ac(_e,et)}function al(_e,et,tt,rt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,rt){return new al(_e,et,tt,rt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function yh(_e,et,tt,rt,nt,it){var ot=2;if(rt=_e,typeof _e=="function")bj(_e)&&(ot=1);else if(typeof _e=="string")ot=5;else e:switch(_e){case ya:return Ah(tt.children,nt,it,et);case za:ot=8,nt|=8;break;case Aa:return _e=Bg(12,tt,et,nt|2),_e.elementType=Aa,_e.lanes=it,_e;case Ea:return _e=Bg(13,tt,et,nt),_e.elementType=Ea,_e.lanes=it,_e;case Fa:return _e=Bg(19,tt,et,nt),_e.elementType=Fa,_e.lanes=it,_e;case Ia:return qj(tt,nt,it,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:ot=10;break e;case Ca:ot=9;break e;case Da:ot=11;break e;case Ga:ot=14;break e;case Ha:ot=16,rt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return et=Bg(ot,tt,et,nt),et.elementType=_e,et.type=rt,et.lanes=it,et}function Ah(_e,et,tt,rt){return _e=Bg(7,_e,rt,et),_e.lanes=tt,_e}function qj(_e,et,tt,rt){return _e=Bg(22,_e,rt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function xh(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function zh(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function bl(_e,et,tt,rt,nt){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(_e,et,tt,rt,nt,it,ot,at,st){return _e=new bl(_e,et,tt,at,st),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),_e.current=it,it.stateNode=_e,it.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),_e}function dl(_e,et,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:_e,containerInfo:et,implementation:tt}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$4(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function fl(_e,et,tt,rt,nt,it,ot,at,st){return _e=cl(tt,rt,!0,_e,nt,it,ot,at,st),_e.context=el(null),tt=_e.current,rt=L$1(),nt=lh(tt),it=ch(rt,nt),it.callback=et??null,dh(tt,it,nt),_e.current.lanes=nt,Ac(_e,nt,rt),Ek(_e,rt),_e}function gl(_e,et,tt,rt){var nt=et.current,it=L$1(),ot=lh(nt);return tt=el(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=ch(it,ot),et.payload={element:_e},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),_e=dh(nt,et,ot),_e!==null&&(mh(_e,nt,ot,it),eh(_e,nt,ot)),ot}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function jl(_e,et){il(_e,et),(_e=_e.alternate)&&il(_e,et)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$4(409));gl(_e,et,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),et[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,et,tt,rt,nt){if(nt){if(typeof rt=="function"){var it=rt;rt=function(){var lt=hl(ot);it.call(lt)}}var ot=fl(et,rt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=ot,_e[uf]=ot.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),ot}for(;nt=_e.lastChild;)_e.removeChild(nt);if(typeof rt=="function"){var at=rt;rt=function(){var lt=hl(st);at.call(lt)}}var st=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(et,st,tt,rt)}),st}function sl(_e,et,tt,rt,nt){var it=tt._reactRootContainer;if(it){var ot=it;if(typeof nt=="function"){var at=nt;nt=function(){var st=hl(ot);at.call(st)}}gl(et,ot,_e,nt)}else ot=rl(tt,et,_e,nt,rt);return hl(ot)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Ek(et,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(_e,1);if(rt!==null){var nt=L$1();mh(rt,_e,1,nt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=Zg(_e,134217728);if(et!==null){var tt=L$1();mh(et,_e,134217728,tt)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=lh(_e),tt=Zg(_e,et);if(tt!==null){var rt=L$1();mh(tt,_e,et,rt)}jl(_e,et)}};Hc=function(){return C$1};Ic=function(_e,et){var tt=C$1;try{return C$1=_e,et()}finally{C$1=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var rt=tt[et];if(rt!==_e&&rt.form===_e.form){var nt=Db(rt);if(!nt)throw Error(p$4(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(et))throw Error(p$4(200));return dl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!ol(_e))throw Error(p$4(299));var tt=!1,rt="",nt=ll;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(nt=et.onRecoverableError)),et=cl(_e,1,!1,null,null,tt,!1,rt,nt),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!pl(et))throw Error(p$4(200));return sl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!ol(_e))throw Error(p$4(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,it="",ot=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(ot=tt.onRecoverableError)),et=fl(et,null,_e,1,tt??null,nt,!1,it,ot),_e[uf]=et.current,sf(_e),rt)for(_e=0;_e<rt.length;_e++)tt=rt[_e],nt=tt._getVersion,nt=nt(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,nt]:et.mutableSourceEagerHydrationData.push(tt,nt);return new nl(et)};reactDom_production_min.render=function(_e,et,tt){if(!pl(et))throw Error(p$4(200));return sl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$4(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,rt){if(!pl(tt))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return sl(_e,et,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$3=reactDomExports;createRoot=m$3.createRoot,m$3.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(_e){_e===void 0&&(_e={});function et(nt,it){let{pathname:ot="/",search:at="",hash:st=""}=parsePath(nt.location.hash.substr(1));return!ot.startsWith("/")&&!ot.startsWith(".")&&(ot="/"+ot),createLocation("",{pathname:ot,search:at,hash:st},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function tt(nt,it){let ot=nt.document.querySelector("base"),at="";if(ot&&ot.getAttribute("href")){let st=nt.location.href,lt=st.indexOf("#");at=lt===-1?st:st.slice(0,lt)}return at+"#"+(typeof it=="string"?it:createPath(it))}function rt(nt,it){warning$2(nt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(it)+")")}return getUrlBasedHistory(et,tt,rt,_e)}function invariant(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning$2(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,tt,rt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:tt,key:et&&et.key||rt||createKey()})}function createPath(_e){let{pathname:et="/",search:tt="",hash:rt=""}=_e;return tt&&tt!=="?"&&(et+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(et+=rt.charAt(0)==="#"?rt:"#"+rt),et}function parsePath(_e){let et={};if(_e){let tt=_e.indexOf("#");tt>=0&&(et.hash=_e.substr(tt),_e=_e.substr(0,tt));let rt=_e.indexOf("?");rt>=0&&(et.search=_e.substr(rt),_e=_e.substr(0,rt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,tt,rt){rt===void 0&&(rt={});let{window:nt=document.defaultView,v5Compat:it=!1}=rt,ot=nt.history,at=Action.Pop,st=null,lt=ct();lt==null&&(lt=0,ot.replaceState(_extends$2({},ot.state,{idx:lt}),""));function ct(){return(ot.state||{idx:null}).idx}function ut(){at=Action.Pop;let vt=ct(),ht=vt==null?null:vt-lt;lt=vt,st&&st({action:at,location:mt.location,delta:ht})}function ft(vt,ht){at=Action.Push;let yt=createLocation(mt.location,vt,ht);tt&&tt(yt,vt),lt=ct()+1;let gt=getHistoryState(yt,lt),xt=mt.createHref(yt);try{ot.pushState(gt,"",xt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;nt.location.assign(xt)}it&&st&&st({action:at,location:mt.location,delta:1})}function dt(vt,ht){at=Action.Replace;let yt=createLocation(mt.location,vt,ht);tt&&tt(yt,vt),lt=ct();let gt=getHistoryState(yt,lt),xt=mt.createHref(yt);ot.replaceState(gt,"",xt),it&&st&&st({action:at,location:mt.location,delta:0})}function pt(vt){let ht=nt.location.origin!=="null"?nt.location.origin:nt.location.href,yt=typeof vt=="string"?vt:createPath(vt);return invariant(ht,"No window.location.(origin|href) available to create URL for href: "+yt),new URL(yt,ht)}let mt={get action(){return at},get location(){return _e(nt,ot)},listen(vt){if(st)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ut),st=vt,()=>{nt.removeEventListener(PopStateEventType,ut),st=null}},createHref(vt){return et(nt,vt)},createURL:pt,encodeLocation(vt){let ht=pt(vt);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:ft,replace:dt,go(vt){return ot.go(vt)}};return mt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,et,tt){tt===void 0&&(tt="/");let rt=typeof et=="string"?parsePath(et):et,nt=stripBasename(rt.pathname||"/",tt);if(nt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let ot=null;for(let at=0;ot==null&&at<it.length;++at)ot=matchRouteBranch(it[at],safelyDecodeURI(nt));return ot}function flattenRoutes(_e,et,tt,rt){et===void 0&&(et=[]),tt===void 0&&(tt=[]),rt===void 0&&(rt="");let nt=(it,ot,at)=>{let st={relativePath:at===void 0?it.path||"":at,caseSensitive:it.caseSensitive===!0,childrenIndex:ot,route:it};st.relativePath.startsWith("/")&&(invariant(st.relativePath.startsWith(rt),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(rt.length));let lt=joinPaths([rt,st.relativePath]),ct=tt.concat(st);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(it.children,et,ct,lt)),!(it.path==null&&!it.index)&&et.push({path:lt,score:computeScore(lt,it.index),routesMeta:ct})};return _e.forEach((it,ot)=>{var at;if(it.path===""||!((at=it.path)!=null&&at.includes("?")))nt(it,ot);else for(let st of explodeOptionalSegments(it.path))nt(it,ot,st)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[tt,...rt]=et,nt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(rt.length===0)return nt?[it,""]:[it];let ot=explodeOptionalSegments(rt.join("/")),at=[];return at.push(...ot.map(st=>st===""?it:[it,st].join("/"))),nt&&at.push(...ot),at.map(st=>_e.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(_e){_e.sort((et,tt)=>et.score!==tt.score?tt.score-et.score:compareIndexes(et.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let tt=_e.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),et&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,it)=>nt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((rt,nt)=>rt===et[nt])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et){let{routesMeta:tt}=_e,rt={},nt="/",it=[];for(let ot=0;ot<tt.length;++ot){let at=tt[ot],st=ot===tt.length-1,lt=nt==="/"?et:et.slice(nt.length)||"/",ct=matchPath({path:at.relativePath,caseSensitive:at.caseSensitive,end:st},lt);if(!ct)return null;Object.assign(rt,ct.params);let ut=at.route;it.push({params:rt,pathname:joinPaths([nt,ct.pathname]),pathnameBase:normalizePathname(joinPaths([nt,ct.pathnameBase])),route:ut}),ct.pathnameBase!=="/"&&(nt=joinPaths([nt,ct.pathnameBase]))}return it}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(_e.path,_e.caseSensitive,_e.end),nt=et.match(tt);if(!nt)return null;let it=nt[0],ot=it.replace(/(.)\/+$/,"$1"),at=nt.slice(1);return{params:rt.reduce((lt,ct,ut)=>{let{paramName:ft,isOptional:dt}=ct;if(ft==="*"){let mt=at[ut]||"";ot=it.slice(0,it.length-mt.length).replace(/(.)\/+$/,"$1")}const pt=at[ut];return dt&&!pt?lt[ft]=void 0:lt[ft]=safelyDecodeURIComponent(pt||"",ft),lt},{}),pathname:it,pathnameBase:ot,pattern:_e}}function compilePath(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!0),warning$2(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let rt=[],nt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ot,at,st)=>(rt.push({paramName:at,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(rt.push({paramName:"*"}),nt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":_e!==""&&_e!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,et?void 0:"i"),rt]}function safelyDecodeURI(_e){try{return decodeURI(_e)}catch(et){return warning$2(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),_e}}function safelyDecodeURIComponent(_e,et){try{return decodeURIComponent(_e)}catch(tt){return warning$2(!1,'The value for the URL param "'+et+'" will not be decoded because'+(' the string "'+_e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let tt=et.endsWith("/")?et.length-1:et.length,rt=_e.charAt(tt);return rt&&rt!=="/"?null:_e.slice(tt)||"/"}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutes(_e,et){return useRoutesImpl(_e,et)}function useRoutesImpl(_e,et,tt,rt){useInRouterContext()||invariant(!1);let{navigator:nt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),ot=it[it.length-1],at=ot?ot.params:{};ot&&ot.pathname;let st=ot?ot.pathnameBase:"/";ot&&ot.route;let lt=useLocation(),ct;if(et){var ut;let vt=typeof et=="string"?parsePath(et):et;st==="/"||(ut=vt.pathname)!=null&&ut.startsWith(st)||invariant(!1),ct=vt}else ct=lt;let ft=ct.pathname||"/",dt=st==="/"?ft:ft.slice(st.length)||"/",pt=matchRoutes(_e,{pathname:dt}),mt=_renderMatches(pt&&pt.map(vt=>Object.assign({},vt,{params:Object.assign({},at,vt.params),pathname:joinPaths([st,nt.encodeLocation?nt.encodeLocation(vt.pathname).pathname:vt.pathname]),pathnameBase:vt.pathnameBase==="/"?st:joinPaths([st,nt.encodeLocation?nt.encodeLocation(vt.pathnameBase).pathname:vt.pathnameBase])})),it,tt,rt);return et&&mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action.Pop}},mt):mt}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),tt=_e instanceof Error?_e.stack:null,nt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),tt?reactExports.createElement("pre",{style:nt},tt):null,it)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,tt){return tt.location!==et.location||tt.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:tt.error,location:tt.location,revalidation:et.revalidation||tt.revalidation}}componentDidCatch(et,tt){console.error("React Router caught the following error during render",et,tt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:et,match:tt,children:rt}=_e,nt=reactExports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=tt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},rt)}function _renderMatches(_e,et,tt,rt){var nt;if(et===void 0&&(et=[]),tt===void 0&&(tt=null),rt===void 0&&(rt=null),_e==null){var it;if((it=tt)!=null&&it.errors)_e=tt.matches;else return null}let ot=_e,at=(nt=tt)==null?void 0:nt.errors;if(at!=null){let ct=ot.findIndex(ut=>ut.route.id&&(at==null?void 0:at[ut.route.id]));ct>=0||invariant(!1),ot=ot.slice(0,Math.min(ot.length,ct+1))}let st=!1,lt=-1;if(tt&&rt&&rt.v7_partialHydration)for(let ct=0;ct<ot.length;ct++){let ut=ot[ct];if((ut.route.HydrateFallback||ut.route.hydrateFallbackElement)&&(lt=ct),ut.route.id){let{loaderData:ft,errors:dt}=tt,pt=ut.route.loader&&ft[ut.route.id]===void 0&&(!dt||dt[ut.route.id]===void 0);if(ut.route.lazy||pt){st=!0,lt>=0?ot=ot.slice(0,lt+1):ot=[ot[0]];break}}}return ot.reduceRight((ct,ut,ft)=>{let dt,pt=!1,mt=null,vt=null;tt&&(dt=at&&ut.route.id?at[ut.route.id]:void 0,mt=ut.route.errorElement||defaultErrorElement,st&&(lt<0&&ft===0?(warningOnce("route-fallback",!1),pt=!0,vt=null):lt===ft&&(pt=!0,vt=ut.route.hydrateFallbackElement||null)));let ht=et.concat(ot.slice(0,ft+1)),yt=()=>{let gt;return dt?gt=mt:pt?gt=vt:ut.route.Component?gt=reactExports.createElement(ut.route.Component,null):ut.route.element?gt=ut.route.element:gt=ct,reactExports.createElement(RenderedRoute,{match:ut,routeContext:{outlet:ct,matches:ht,isDataRoute:tt!=null},children:gt})};return tt&&(ut.route.ErrorBoundary||ut.route.errorElement||ft===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:mt,error:dt,children:yt(),routeContext:{outlet:null,matches:ht,isDataRoute:!0}}):yt()},null)}var DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return et||invariant(!1),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return et||invariant(!1),et}function useCurrentRouteId(_e){let et=useRouteContext(),tt=et.matches[et.matches.length-1];return tt.route.id||invariant(!1),tt.route.id}function useRouteError(){var _e;let et=reactExports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et!==void 0?et:(_e=tt.errors)==null?void 0:_e[rt]}const alreadyWarned={};function warningOnce(_e,et,tt){!et&&!alreadyWarned[_e]&&(alreadyWarned[_e]=!0)}function Route(_e){invariant(!1)}function Router(_e){let{basename:et="/",children:tt=null,location:rt,navigationType:nt=Action.Pop,navigator:it,static:ot=!1,future:at}=_e;useInRouterContext()&&invariant(!1);let st=et.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:st,navigator:it,static:ot,future:_extends$1({v7_relativeSplatPath:!1},at)}),[st,at,it,ot]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ct="/",search:ut="",hash:ft="",state:dt=null,key:pt="default"}=rt,mt=reactExports.useMemo(()=>{let vt=stripBasename(ct,st);return vt==null?null:{location:{pathname:vt,search:ut,hash:ft,state:dt,key:pt},navigationType:nt}},[st,ct,ut,ft,dt,pt,nt]);return mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:tt,value:mt}))}function Routes(_e){let{children:et,location:tt}=_e;return useRoutes(createRoutesFromChildren(et),tt)}new Promise(()=>{});function createRoutesFromChildren(_e,et){et===void 0&&(et=[]);let tt=[];return reactExports.Children.forEach(_e,(rt,nt)=>{if(!reactExports.isValidElement(rt))return;let it=[...et,nt];if(rt.type===reactExports.Fragment){tt.push.apply(tt,createRoutesFromChildren(rt.props.children,it));return}rt.type!==Route&&invariant(!1),!rt.props.index||!rt.props.children||invariant(!1);let ot={id:rt.props.id||it.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(ot.children=createRoutesFromChildren(rt.props.children,it)),tt.push(ot)}),tt}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(_e){let{basename:et,children:tt,future:rt,window:nt}=_e,it=reactExports.useRef();it.current==null&&(it.current=createHashHistory({window:nt,v5Compat:!0}));let ot=it.current,[at,st]=reactExports.useState({action:ot.action,location:ot.location}),{v7_startTransition:lt}=rt||{},ct=reactExports.useCallback(ut=>{lt&&startTransitionImpl?startTransitionImpl(()=>st(ut)):st(ut)},[st,lt]);return reactExports.useLayoutEffect(()=>ot.listen(ct),[ot,ct]),reactExports.createElement(Router,{basename:et,children:tt,location:at.location,navigationType:at.action,navigator:ot,future:rt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const preflight="",blueprint="",blueprintIcons="";var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91});function css(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return serializeStyles(et)}var testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(et){return et!=="theme"},getDefaultShouldForwardProp=function(et){return typeof et=="string"&&et.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(et,tt,rt){var nt;if(tt){var it=tt.shouldForwardProp;nt=et.__emotion_forwardProp&&it?function(ot){return et.__emotion_forwardProp(ot)&&it(ot)}:it}return typeof nt!="function"&&rt&&(nt=et.__emotion_forwardProp),nt},Insertion=function(et){var tt=et.cache,rt=et.serialized,nt=et.isStringTag;return registerStyles(tt,rt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,rt,nt)}),null},createStyled=function _e(et,tt){var rt=et.__emotion_real===et,nt=rt&&et.__emotion_base||et,it,ot;tt!==void 0&&(it=tt.label,ot=tt.target);var at=composeShouldForwardProps(et,tt,rt),st=at||getDefaultShouldForwardProp(nt),lt=!st("as");return function(){var ct=arguments,ut=rt&&et.__emotion_styles!==void 0?et.__emotion_styles.slice(0):[];if(it!==void 0&&ut.push("label:"+it+";"),ct[0]==null||ct[0].raw===void 0)ut.push.apply(ut,ct);else{ut.push(ct[0][0]);for(var ft=ct.length,dt=1;dt<ft;dt++)ut.push(ct[dt],ct[0][dt])}var pt=withEmotionCache(function(mt,vt,ht){var yt=lt&&mt.as||nt,gt="",xt=[],_t=mt;if(mt.theme==null){_t={};for(var wt in mt)_t[wt]=mt[wt];_t.theme=reactExports.useContext(ThemeContext$1)}typeof mt.className=="string"?gt=getRegisteredStyles(vt.registered,xt,mt.className):mt.className!=null&&(gt=mt.className+" ");var Et=serializeStyles(ut.concat(xt),vt.registered,_t);gt+=vt.key+"-"+Et.name,ot!==void 0&&(gt+=" "+ot);var St=lt&&at===void 0?getDefaultShouldForwardProp(yt):st,Ct={};for(var bt in mt)lt&&bt==="as"||St(bt)&&(Ct[bt]=mt[bt]);return Ct.className=gt,Ct.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:vt,serialized:Et,isStringTag:typeof yt=="string"}),reactExports.createElement(yt,Ct))});return pt.displayName=it!==void 0?it:"Styled("+(typeof nt=="string"?nt:nt.displayName||nt.name||"Component")+")",pt.defaultProps=et.defaultProps,pt.__emotion_real=pt,pt.__emotion_base=nt,pt.__emotion_styles=ut,pt.__emotion_forwardProp=at,Object.defineProperty(pt,"toString",{value:function(){return"."+ot}}),pt.withComponent=function(mt,vt){return _e(mt,_extends$3({},tt,vt,{shouldForwardProp:composeShouldForwardProps(pt,vt,!0)})).apply(void 0,ut)},pt}},tags$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags$1.forEach(function(_e){newStyled[_e]=newStyled(_e)});const defaultModifiers$1={ctrl:!1,shift:void 0,alt:!1};function cleanShortcuts(_e){const et=[];for(const tt of _e)for(const rt of tt){const[nt,...it]=shortcutToObjects(rt.shortcut);et.push({shortcut:nt,aliases:it,handler:rt.handler,meta:rt.meta,maxFrequency:rt.maxFrequency??0})}return et}function shortcutToObjects(_e){return typeof _e=="string"?[{...defaultModifiers$1,key:_e.toLowerCase()}]:Array.isArray(_e)?_e.map(et=>typeof et=="string"?{...defaultModifiers$1,key:et.toLowerCase()}:"key"in et?{...defaultModifiers$1,...et,key:et.key.toLowerCase()}:{...defaultModifiers$1,...et,code:et.code.toLowerCase()}):"key"in _e?[{...defaultModifiers$1,..._e,key:_e.key.toLowerCase()}]:[{...defaultModifiers$1,..._e,code:_e.code.toLowerCase()}]}const isMac$1=typeof navigator<"u"&&navigator.platform==="MacIntel";function isMultiplatformCtrlKey(_e){return isMac$1?_e.metaKey:_e.ctrlKey}function shortcutToKeys(_e){return[...shortcutObjectToKey(_e.shortcut),..._e.aliases.map(shortcutObjectToKey).flat()]}function shortcutObjectToKey(_e){const et=`ctrl[${boolToString(_e.ctrl)}]_alt[${boolToString(_e.alt)}]`;let tt;return"key"in _e?tt=`key[${_e.key}]_${et}`:tt=`code[${_e.code}]_${et}`,typeof _e.shift=="boolean"?[`${tt}_shift[${boolToString(_e.shift)}]`]:[`${tt}_shift[true]`,`${tt}_shift[false]`]}function eventToKeyOrCode(_e){const et=`ctrl[${boolToString(isMultiplatformCtrlKey(_e))}]_alt[${boolToString(_e.altKey)}]_shift[${boolToString(_e.shiftKey)}]`;return{key:`key[${_e.key.toLowerCase()}]_${et}`,code:`code[${_e.code.toLowerCase()}]_${et}`}}function boolToString(_e){return _e?"true":"false"}function combineShortcuts(_e){const et={};for(const tt of _e){const rt=shortcutToKeys(tt);for(const nt of rt)et[nt]!==void 0&&console.warn(`A global shortcut was already defined for key the combination ${nt}. It will be overridden.`),et[nt]=tt}return et}const inputElements=new Set(["INPUT","TEXTAREA","SELECT"]);function shouldIgnoreElement(_e){return inputElements.has(_e.tagName)||_e.isContentEditable||_e.hasAttribute("data-kbs-ignore")}function useLastTriggerRef(){return reactExports.useRef({keyOrCode:"",timestamp:0})}function getKeyDownHandler(_e,et){return function(rt){if(shouldIgnoreElement(rt.target))return;const{key:nt,code:it}=eventToKeyOrCode(rt);let ot,at;if(et[nt]?(at=et[nt],ot=nt):(at=et[it],ot=it),at){if(rt.stopPropagation(),rt.preventDefault(),at.maxFrequency>0){const st=performance.now();if(rt.repeat&&_e.current.keyOrCode===ot&&st-_e.current.timestamp<1e3/at.maxFrequency)return;_e.current={keyOrCode:ot,timestamp:st}}at.handler(rt)}}}const initialKbsState={inputShortcuts:[],cleanedShortcuts:[],combinedShortcuts:{},disableCount:0},kbsContext=reactExports.createContext(initialKbsState),kbsDispatchContext=reactExports.createContext(null);function kbsReducer(_e,et){switch(et.type){case"INIT":{const tt=[..._e.inputShortcuts,et.shortcuts],rt=cleanShortcuts(tt);return{..._e,inputShortcuts:tt,cleanedShortcuts:rt,combinedShortcuts:combineShortcuts(rt)}}case"CLEANUP":{const tt=_e.inputShortcuts.filter(nt=>nt!==et.shortcuts),rt=cleanShortcuts(tt);return{..._e,inputShortcuts:tt,cleanedShortcuts:rt,combinedShortcuts:combineShortcuts(rt)}}case"DISABLE_GLOBAL":return{..._e,disableCount:_e.disableCount+1};case"ENABLE_GLOBAL":return{..._e,disableCount:_e.disableCount-1};default:throw new Error("unreachable")}}function KbsProvider(_e){const[et,tt]=reactExports.useReducer(kbsReducer,initialKbsState),rt=useLastTriggerRef();return reactExports.useEffect(()=>{if(et.disableCount!==0)return;const nt=getKeyDownHandler(rt,et.combinedShortcuts);return document.body.addEventListener("keydown",nt),()=>document.body.removeEventListener("keydown",nt)},[et.disableCount,et.combinedShortcuts,rt]),jsxRuntimeExports.jsx(kbsContext.Provider,{value:et,children:jsxRuntimeExports.jsx(kbsDispatchContext.Provider,{value:tt,children:_e.children})})}function useKbs(_e){const et=useLastTriggerRef(),tt=reactExports.useMemo(()=>combineShortcuts(cleanShortcuts([_e])),[_e]);return{tabIndex:0,onKeyDown:reactExports.useMemo(()=>getKeyDownHandler(et,tt),[et,tt])}}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(_e){return!!_e&&!!_e[DRAFT_STATE]}function isDraftable(_e){var et;return _e?isPlainObject$1(_e)||Array.isArray(_e)||!!_e[DRAFTABLE]||!!((et=_e.constructor)!=null&&et[DRAFTABLE])||isMap$2(_e)||isSet$2(_e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$1(_e){if(!_e||typeof _e!="object")return!1;const et=getPrototypeOf(_e);if(et===null)return!0;const tt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;return tt===Object?!0:typeof tt=="function"&&Function.toString.call(tt)===objectCtorString}function each$2(_e,et){getArchtype(_e)===0?Reflect.ownKeys(_e).forEach(tt=>{et(tt,_e[tt],_e)}):_e.forEach((tt,rt)=>et(rt,tt,_e))}function getArchtype(_e){const et=_e[DRAFT_STATE];return et?et.type_:Array.isArray(_e)?1:isMap$2(_e)?2:isSet$2(_e)?3:0}function has(_e,et){return getArchtype(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function set(_e,et,tt){const rt=getArchtype(_e);rt===2?_e.set(et,tt):rt===3?_e.add(tt):_e[et]=tt}function is(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function isMap$2(_e){return _e instanceof Map}function isSet$2(_e){return _e instanceof Set}function latest(_e){return _e.copy_||_e.base_}function shallowCopy(_e,et){if(isMap$2(_e))return new Map(_e);if(isSet$2(_e))return new Set(_e);if(Array.isArray(_e))return Array.prototype.slice.call(_e);if(!et&&isPlainObject$1(_e))return getPrototypeOf(_e)?{..._e}:Object.assign(Object.create(null),_e);const tt=Object.getOwnPropertyDescriptors(_e);delete tt[DRAFT_STATE];let rt=Reflect.ownKeys(tt);for(let nt=0;nt<rt.length;nt++){const it=rt[nt],ot=tt[it];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(tt[it]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:_e[it]})}return Object.create(getPrototypeOf(_e),tt)}function freeze$1(_e,et=!1){return isFrozen(_e)||isDraft(_e)||!isDraftable(_e)||(getArchtype(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=dontMutateFrozenCollections),Object.freeze(_e),et&&Object.entries(_e).forEach(([tt,rt])=>freeze$1(rt,!0))),_e}function dontMutateFrozenCollections(){die(2)}function isFrozen(_e){return Object.isFrozen(_e)}var plugins={};function getPlugin(_e){const et=plugins[_e];return et||die(0,_e),et}var currentScope;function getCurrentScope(){return currentScope}function createScope(_e,et){return{drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_e,et){et&&(getPlugin("Patches"),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope(_e){leaveScope(_e),_e.drafts_.forEach(revokeDraft),_e.drafts_=null}function leaveScope(_e){_e===currentScope&&(currentScope=_e.parent_)}function enterScope(_e){return currentScope=createScope(currentScope,_e)}function revokeDraft(_e){const et=_e[DRAFT_STATE];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const tt=et.drafts_[0];return _e!==void 0&&_e!==tt?(tt[DRAFT_STATE].modified_&&(revokeScope(et),die(4)),isDraftable(_e)&&(_e=finalize(et,_e),et.parent_||maybeFreeze(et,_e)),et.patches_&&getPlugin("Patches").generateReplacementPatches_(tt[DRAFT_STATE].base_,_e,et.patches_,et.inversePatches_)):_e=finalize(et,tt,[]),revokeScope(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING?_e:void 0}function finalize(_e,et,tt){if(isFrozen(et))return et;const rt=et[DRAFT_STATE];if(!rt)return each$2(et,(nt,it)=>finalizeProperty(_e,rt,et,nt,it,tt)),et;if(rt.scope_!==_e)return et;if(!rt.modified_)return maybeFreeze(_e,rt.base_,!0),rt.base_;if(!rt.finalized_){rt.finalized_=!0,rt.scope_.unfinalizedDrafts_--;const nt=rt.copy_;let it=nt,ot=!1;rt.type_===3&&(it=new Set(nt),nt.clear(),ot=!0),each$2(it,(at,st)=>finalizeProperty(_e,rt,nt,at,st,tt,ot)),maybeFreeze(_e,nt,!1),tt&&_e.patches_&&getPlugin("Patches").generatePatches_(rt,tt,_e.patches_,_e.inversePatches_)}return rt.copy_}function finalizeProperty(_e,et,tt,rt,nt,it,ot){if(isDraft(nt)){const at=it&&et&&et.type_!==3&&!has(et.assigned_,rt)?it.concat(rt):void 0,st=finalize(_e,nt,at);if(set(tt,rt,st),isDraft(st))_e.canAutoFreeze_=!1;else return}else ot&&tt.add(nt);if(isDraftable(nt)&&!isFrozen(nt)){if(!_e.immer_.autoFreeze_&&_e.unfinalizedDrafts_<1)return;finalize(_e,nt),(!et||!et.scope_.parent_)&&typeof rt!="symbol"&&Object.prototype.propertyIsEnumerable.call(tt,rt)&&maybeFreeze(_e,nt)}}function maybeFreeze(_e,et,tt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze$1(et,tt)}function createProxyProxy(_e,et){const tt=Array.isArray(_e),rt={type_:tt?1:0,scope_:et?et.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let nt=rt,it=objectTraps;tt&&(nt=[rt],it=arrayTraps);const{revoke:ot,proxy:at}=Proxy.revocable(nt,it);return rt.draft_=at,rt.revoke_=ot,at}var objectTraps={get(_e,et){if(et===DRAFT_STATE)return _e;const tt=latest(_e);if(!has(tt,et))return readPropFromProto(_e,tt,et);const rt=tt[et];return _e.finalized_||!isDraftable(rt)?rt:rt===peek(_e.base_,et)?(prepareCopy(_e),_e.copy_[et]=createProxy(rt,_e)):rt},has(_e,et){return et in latest(_e)},ownKeys(_e){return Reflect.ownKeys(latest(_e))},set(_e,et,tt){const rt=getDescriptorFromProto(latest(_e),et);if(rt!=null&&rt.set)return rt.set.call(_e.draft_,tt),!0;if(!_e.modified_){const nt=peek(latest(_e),et),it=nt==null?void 0:nt[DRAFT_STATE];if(it&&it.base_===tt)return _e.copy_[et]=tt,_e.assigned_[et]=!1,!0;if(is(tt,nt)&&(tt!==void 0||has(_e.base_,et)))return!0;prepareCopy(_e),markChanged(_e)}return _e.copy_[et]===tt&&(tt!==void 0||et in _e.copy_)||Number.isNaN(tt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=tt,_e.assigned_[et]=!0),!0},deleteProperty(_e,et){return peek(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_[et]=!1,prepareCopy(_e),markChanged(_e)):delete _e.assigned_[et],_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const tt=latest(_e),rt=Reflect.getOwnPropertyDescriptor(tt,et);return rt&&{writable:!0,configurable:_e.type_!==1||et!=="length",enumerable:rt.enumerable,value:tt[et]}},defineProperty(){die(11)},getPrototypeOf(_e){return getPrototypeOf(_e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each$2(objectTraps,(_e,et)=>{arrayTraps[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}});arrayTraps.deleteProperty=function(_e,et){return arrayTraps.set.call(this,_e,et,void 0)};arrayTraps.set=function(_e,et,tt){return objectTraps.set.call(this,_e[0],et,tt,_e[0])};function peek(_e,et){const tt=_e[DRAFT_STATE];return(tt?latest(tt):_e)[et]}function readPropFromProto(_e,et,tt){var nt;const rt=getDescriptorFromProto(et,tt);return rt?"value"in rt?rt.value:(nt=rt.get)==null?void 0:nt.call(_e.draft_):void 0}function getDescriptorFromProto(_e,et){if(!(et in _e))return;let tt=getPrototypeOf(_e);for(;tt;){const rt=Object.getOwnPropertyDescriptor(tt,et);if(rt)return rt;tt=getPrototypeOf(tt)}}function markChanged(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged(_e.parent_))}function prepareCopy(_e){_e.copy_||(_e.copy_=shallowCopy(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(et,tt,rt)=>{if(typeof et=="function"&&typeof tt!="function"){const it=tt;tt=et;const ot=this;return function(st=it,...lt){return ot.produce(st,ct=>tt.call(this,ct,...lt))}}typeof tt!="function"&&die(6),rt!==void 0&&typeof rt!="function"&&die(7);let nt;if(isDraftable(et)){const it=enterScope(this),ot=createProxy(et,void 0);let at=!0;try{nt=tt(ot),at=!1}finally{at?revokeScope(it):leaveScope(it)}return usePatchesInScope(it,rt),processResult(nt,it)}else if(!et||typeof et!="object"){if(nt=tt(et),nt===void 0&&(nt=et),nt===NOTHING&&(nt=void 0),this.autoFreeze_&&freeze$1(nt,!0),rt){const it=[],ot=[];getPlugin("Patches").generateReplacementPatches_(et,nt,it,ot),rt(it,ot)}return nt}else die(1,et)},this.produceWithPatches=(et,tt)=>{if(typeof et=="function")return(ot,...at)=>this.produceWithPatches(ot,st=>et(st,...at));let rt,nt;return[this.produce(et,tt,(ot,at)=>{rt=ot,nt=at}),rt,nt]},typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze),typeof(_e==null?void 0:_e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_e.useStrictShallowCopy)}createDraft(_e){isDraftable(_e)||die(8),isDraft(_e)&&(_e=current(_e));const et=enterScope(this),tt=createProxy(_e,void 0);return tt[DRAFT_STATE].isManual_=!0,leaveScope(et),tt}finishDraft(_e,et){const tt=_e&&_e[DRAFT_STATE];(!tt||!tt.isManual_)&&die(9);const{scope_:rt}=tt;return usePatchesInScope(rt,et),processResult(void 0,rt)}setAutoFreeze(_e){this.autoFreeze_=_e}setUseStrictShallowCopy(_e){this.useStrictShallowCopy_=_e}applyPatches(_e,et){let tt;for(tt=et.length-1;tt>=0;tt--){const nt=et[tt];if(nt.path.length===0&&nt.op==="replace"){_e=nt.value;break}}tt>-1&&(et=et.slice(tt+1));const rt=getPlugin("Patches").applyPatches_;return isDraft(_e)?rt(_e,et):this.produce(_e,nt=>rt(nt,et))}};function createProxy(_e,et){const tt=isMap$2(_e)?getPlugin("MapSet").proxyMap_(_e,et):isSet$2(_e)?getPlugin("MapSet").proxySet_(_e,et):createProxyProxy(_e,et);return(et?et.scope_:getCurrentScope()).drafts_.push(tt),tt}function current(_e){return isDraft(_e)||die(10,_e),currentImpl(_e)}function currentImpl(_e){if(!isDraftable(_e)||isFrozen(_e))return _e;const et=_e[DRAFT_STATE];let tt;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,tt=shallowCopy(_e,et.scope_.immer_.useStrictShallowCopy_)}else tt=shallowCopy(_e,!0);return each$2(tt,(rt,nt)=>{set(tt,rt,currentImpl(nt))}),et&&(et.finalized_=!1),tt}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);const accordionContext=reactExports.createContext(null),reducer$1=produce((_e,et)=>{switch(et.type){case"TOGGLE":{const tt=getItem(et.payload,_e.items);return tt?(tt.isOpen=!tt.isOpen,_e):(_e.items.push({isOpen:!0,title:et.payload}),_e)}case"CLEAR":{const tt=getItem(et.payload,_e.items);if(!tt)return _e.items.push({isOpen:!0,title:et.payload}),_e;for(const rt of _e.items)rt.isOpen=rt.title===tt.title;return _e}case"REMOVE_ITEM":return _e.items=_e.items.filter(tt=>tt.title!==et.payload),_e;case"CREATE_ITEM":return _e.items.push(et.payload),_e;case"CHANGE_ITEM":{const tt=getItem(et.payload.title,_e.items);return tt&&(tt.isOpen=et.payload.isOpen),_e}default:return _e}});function useToggleAccordion(){const _e=reactExports.useContext(accordionContext);if(!_e)throw new Error("AccordionContext was not found");const[,et]=_e;return reactExports.useMemo(()=>({open:tt=>et.change(tt,!0),close:tt=>et.change(tt,!1)}),[et])}function useAccordionContext(_e,et){const tt=reactExports.useContext(accordionContext);if(!tt)throw new Error("AccordionContext was not found");const[rt,nt]=tt;reactExports.useEffect(()=>(nt.create(_e,et),()=>nt.remove(_e)),[et,_e,nt]);const it=getItem(_e,rt.items);return reactExports.useMemo(()=>({item:it,utils:{clear:()=>nt.clear(_e),toggle:()=>nt.toggle(_e),remove:()=>nt.remove(_e),create:ot=>nt.create(_e,ot)}}),[it,_e,nt])}function AccordionProvider(_e){const[et,tt]=reactExports.useReducer(reducer$1,{items:[]}),rt=reactExports.useMemo(()=>({change:(it,ot)=>tt({type:"CHANGE_ITEM",payload:{isOpen:ot,title:it}}),clear:it=>tt({type:"CLEAR",payload:it}),toggle:it=>tt({type:"TOGGLE",payload:it}),remove:it=>tt({type:"REMOVE_ITEM",payload:it}),create:(it,ot)=>{const at={title:it,isOpen:ot||!1};return tt({type:"CREATE_ITEM",payload:at}),at}}),[tt]),nt=reactExports.useMemo(()=>[{items:et.items},rt],[et.items,rt]);return jsxRuntimeExports.jsx(accordionContext.Provider,{value:nt,children:_e.children})}function getItem(_e,et){return et.find(rt=>rt.title===_e)}const styles$g={container:css({display:"flex",flexDirection:"column",height:"100%",width:"100%"}),item:_e=>css([{display:"flex",flexDirection:"column"},_e&&{flex:"1 1 0%"}]),header:css({cursor:"pointer",padding:"5px 12px",display:"flex",alignItems:"center",borderColor:"rgb(213, 213, 213) currentcolor currentcolor",borderStyle:"solid none none",color:"rgb(45, 45, 45)",fontWeight:"bold",textDecoration:"none",textShadow:"rgb(255, 255, 255) 0px 1px 0px",background:"rgb(255, 255, 255) linear-gradient(rgb(240, 240, 240) 5%, rgb(225, 225, 225) 100%) repeat scroll 0% 0%"})};function Accordion(_e){return jsx("div",{css:styles$g.container,children:_e.children})}Accordion.Item=function(et){const{title:tt,children:rt,defaultOpened:nt,toolbar:it}=et,{item:ot,utils:at}=useAccordionContext(tt,nt),st=reactExports.useCallback(lt=>{lt.shiftKey?at.clear():at.toggle()},[at]);return jsxs("div",{style:{flex:ot!=null&&ot.isOpen?"1 1 1px":"none",display:"flex",flexDirection:"column"},children:[jsxs("button",{onClick:st,type:"button",style:{display:"flex",alignItems:"center",width:"100%",userSelect:"none",justifyContent:"space-between",padding:"0px 12px"},css:styles$g.header,children:[jsx("div",{style:{padding:"5px 0px"},children:tt}),it]}),jsx("div",{style:{display:ot!=null&&ot.isOpen?"flex":"none",flex:ot!=null&&ot.isOpen?"1 1 1px":"none",backgroundColor:"white",maxHeight:"100%",overflow:"hidden"},children:jsx("div",{style:{height:"100%",width:"100%",overflow:"auto",display:"flex",flexDirection:"column"},children:rt})})]})};var Alignment={CENTER:"center",LEFT:"left",RIGHT:"right"},Intent={NONE:"none",PRIMARY:"primary",SUCCESS:"success",WARNING:"warning",DANGER:"danger"},Position={BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT:"left",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT:"right",RIGHT_BOTTOM:"right-bottom",RIGHT_TOP:"right-top",TOP:"top",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},NS$2="bp5";typeof BLUEPRINT_NAMESPACE<"u"?NS$2=BLUEPRINT_NAMESPACE:typeof REACT_APP_BLUEPRINT_NAMESPACE<"u"&&(NS$2=REACT_APP_BLUEPRINT_NAMESPACE);var ACTIVE="".concat(NS$2,"-active"),ALIGN_LEFT="".concat(NS$2,"-align-left"),ALIGN_RIGHT="".concat(NS$2,"-align-right"),COMPACT="".concat(NS$2,"-compact"),DARK="".concat(NS$2,"-dark"),DISABLED="".concat(NS$2,"-disabled"),FILL="".concat(NS$2,"-fill"),INLINE="".concat(NS$2,"-inline"),INTERACTIVE="".concat(NS$2,"-interactive"),LARGE="".concat(NS$2,"-large"),LOADING="".concat(NS$2,"-loading"),MINIMAL="".concat(NS$2,"-minimal"),OUTLINED="".concat(NS$2,"-outlined"),READ_ONLY="".concat(NS$2,"-read-only"),ROUND="".concat(NS$2,"-round"),SELECTED="".concat(NS$2,"-selected"),SMALL="".concat(NS$2,"-small"),VERTICAL="".concat(NS$2,"-vertical");positionClass(Position.TOP);positionClass(Position.BOTTOM);positionClass(Position.LEFT);positionClass(Position.RIGHT);intentClass(Intent.PRIMARY);intentClass(Intent.SUCCESS);intentClass(Intent.WARNING);intentClass(Intent.DANGER);var FOCUS_DISABLED="".concat(NS$2,"-focus-disabled"),TEXT_MUTED="".concat(NS$2,"-text-muted"),TEXT_OVERFLOW_ELLIPSIS="".concat(NS$2,"-text-overflow-ellipsis"),BLOCKQUOTE="".concat(NS$2,"-blockquote"),CODE="".concat(NS$2,"-code"),CODE_BLOCK="".concat(NS$2,"-code-block"),HEADING="".concat(NS$2,"-heading"),LIST="".concat(NS$2,"-list"),BUTTON="".concat(NS$2,"-button"),BUTTON_GROUP="".concat(BUTTON,"-group"),BUTTON_SPINNER="".concat(BUTTON,"-spinner"),BUTTON_TEXT="".concat(BUTTON,"-text"),DIALOG="".concat(NS$2,"-dialog"),DIALOG_CONTAINER="".concat(DIALOG,"-container"),DIALOG_HEADER="".concat(DIALOG,"-header"),DIALOG_BODY="".concat(DIALOG,"-body"),DIALOG_BODY_SCROLL_CONTAINER="".concat(DIALOG,"-body-scroll-container"),DIALOG_CLOSE_BUTTON="".concat(DIALOG,"-close-button"),DIALOG_FOOTER="".concat(DIALOG,"-footer"),DIALOG_FOOTER_FIXED="".concat(DIALOG,"-footer-fixed"),DIALOG_FOOTER_MAIN_SECTION="".concat(DIALOG,"-footer-main-section"),DIALOG_FOOTER_ACTIONS="".concat(DIALOG,"-footer-actions"),HTML_TABLE="".concat(NS$2,"-html-table"),HTML_TABLE_BORDERED="".concat(HTML_TABLE,"-bordered"),HTML_TABLE_STRIPED="".concat(HTML_TABLE,"-striped"),INPUT="".concat(NS$2,"-input"),INPUT_GROUP="".concat(INPUT,"-group"),INPUT_LEFT_CONTAINER="".concat(INPUT,"-left-container"),INPUT_ACTION="".concat(INPUT,"-action"),CONTROL="".concat(NS$2,"-control"),CONTROL_INDICATOR="".concat(CONTROL,"-indicator"),CONTROL_INDICATOR_CHILD="".concat(CONTROL_INDICATOR,"-child"),CHECKBOX="".concat(NS$2,"-checkbox"),RADIO="".concat(NS$2,"-radio"),SWITCH="".concat(NS$2,"-switch"),SWITCH_INNER_TEXT="".concat(SWITCH,"-inner-text"),KEY="".concat(NS$2,"-key"),KEY_COMBO="".concat(KEY,"-combo"),MODIFIER_KEY="".concat(NS$2,"-modifier-key"),HOTKEY="".concat(NS$2,"-hotkey"),HOTKEY_LABEL="".concat(HOTKEY,"-label"),HOTKEY_COLUMN="".concat(HOTKEY,"-column"),HOTKEY_DIALOG="".concat(HOTKEY,"-dialog"),LABEL="".concat(NS$2,"-label"),FORM_GROUP="".concat(NS$2,"-form-group"),FORM_CONTENT="".concat(NS$2,"-form-content"),FORM_HELPER_TEXT="".concat(NS$2,"-form-helper-text"),FORM_GROUP_SUB_LABEL="".concat(NS$2,"-form-group-sub-label"),MENU="".concat(NS$2,"-menu"),MENU_ITEM="".concat(MENU,"-item"),MENU_ITEM_IS_SELECTABLE="".concat(MENU_ITEM,"-is-selectable"),MENU_ITEM_SELECTED_ICON="".concat(MENU_ITEM,"-selected-icon"),MENU_ITEM_ICON="".concat(MENU_ITEM,"-icon"),MENU_ITEM_LABEL="".concat(MENU_ITEM,"-label"),MENU_SUBMENU="".concat(NS$2,"-submenu"),MENU_SUBMENU_ICON="".concat(MENU_SUBMENU,"-icon"),NON_IDEAL_STATE="".concat(NS$2,"-non-ideal-state"),NON_IDEAL_STATE_VISUAL="".concat(NON_IDEAL_STATE,"-visual"),NON_IDEAL_STATE_TEXT="".concat(NON_IDEAL_STATE,"-text"),OVERLAY="".concat(NS$2,"-overlay"),OVERLAY_BACKDROP="".concat(OVERLAY,"-backdrop"),OVERLAY_CONTENT="".concat(OVERLAY,"-content"),OVERLAY_INLINE="".concat(OVERLAY,"-inline"),OVERLAY_OPEN="".concat(OVERLAY,"-open"),OVERLAY_SCROLL_CONTAINER="".concat(OVERLAY,"-scroll-container"),OVERLAY_START_FOCUS_TRAP="".concat(OVERLAY,"-start-focus-trap"),OVERLAY_END_FOCUS_TRAP="".concat(OVERLAY,"-end-focus-trap"),POPOVER="".concat(NS$2,"-popover"),POPOVER_ARROW="".concat(POPOVER,"-arrow"),POPOVER_BACKDROP="".concat(POPOVER,"-backdrop"),POPOVER_CAPTURING_DISMISS="".concat(POPOVER,"-capturing-dismiss"),POPOVER_CONTENT="".concat(POPOVER,"-content"),POPOVER_CONTENT_PLACEMENT="".concat(POPOVER,"-placement"),POPOVER_DISMISS="".concat(POPOVER,"-dismiss"),POPOVER_DISMISS_OVERRIDE="".concat(POPOVER_DISMISS,"-override"),POPOVER_MATCH_TARGET_WIDTH="".concat(POPOVER,"-match-target-width"),POPOVER_OPEN="".concat(POPOVER,"-open"),POPOVER_POPPER_ESCAPED="".concat(POPOVER,"-popper-escaped"),POPOVER_REFERENCE_HIDDEN="".concat(POPOVER,"-reference-hidden"),POPOVER_TARGET="".concat(POPOVER,"-target"),POPOVER_TRANSITION_CONTAINER="".concat(POPOVER,"-transition-container"),PORTAL="".concat(NS$2,"-portal"),SPINNER="".concat(NS$2,"-spinner"),SPINNER_ANIMATION="".concat(SPINNER,"-animation"),SPINNER_HEAD="".concat(SPINNER,"-head"),SPINNER_NO_SPIN="".concat(NS$2,"-no-spin"),SPINNER_TRACK$1="".concat(SPINNER,"-track"),TAG="".concat(NS$2,"-tag"),TAG_REMOVE="".concat(TAG,"-remove"),TOOLTIP="".concat(NS$2,"-tooltip"),ICON$1="".concat(NS$2,"-icon"),ICON_STANDARD="".concat(ICON$1,"-standard"),ICON_LARGE="".concat(ICON$1,"-large"),ICON_MUTED="".concat(ICON$1,"-muted");function getClassNamespace(){return NS$2}function alignmentClass(_e){switch(_e){case Alignment.LEFT:return ALIGN_LEFT;case Alignment.RIGHT:return ALIGN_RIGHT;default:return}}function iconClass(_e){if(_e!=null)return _e.indexOf("".concat(NS$2,"-icon-"))===0?_e:"".concat(NS$2,"-icon-").concat(_e)}function intentClass(_e){if(!(_e==null||_e===Intent.NONE))return"".concat(NS$2,"-intent-").concat(_e.toLowerCase())}function positionClass(_e){if(_e!==void 0)return"".concat(NS$2,"-position-").concat(_e)}var InteractionModeEngine=function(){function _e(et,tt){var rt=this;this.container=et,this.className=tt,this.isRunning=!1,this.handleKeyDown=function(nt){nt.key==="Tab"&&(rt.reset(),rt.container.addEventListener("mousedown",rt.handleMouseDown))},this.handleMouseDown=function(){rt.reset(),rt.container.classList.add(rt.className),rt.container.addEventListener("keydown",rt.handleKeyDown)}}return _e.prototype.isActive=function(){return this.isRunning},_e.prototype.start=function(){this.container.addEventListener("mousedown",this.handleMouseDown),this.isRunning=!0},_e.prototype.stop=function(){this.reset(),this.isRunning=!1},_e.prototype.reset=function(){this.container.classList.remove(this.className),this.container.removeEventListener("keydown",this.handleKeyDown),this.container.removeEventListener("mousedown",this.handleMouseDown)},_e}(),fakeFocusEngine={isActive:function(){return!0},start:function(){return!0},stop:function(){return!0}},focusEngine=typeof document<"u"?new InteractionModeEngine(document.documentElement,FOCUS_DISABLED):fakeFocusEngine,FocusStyleManager={alwaysShowFocus:function(){return focusEngine.stop()},isActive:function(){return focusEngine.isActive()},onlyShowFocusOnTabs:function(){return focusEngine.start()}},extendStatics=function(_e,et){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])},extendStatics(_e,et)};function __extends(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");extendStatics(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}var __assign$1=function(){return __assign$1=Object.assign||function(et){for(var tt,rt=1,nt=arguments.length;rt<nt;rt++){tt=arguments[rt];for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&(et[it]=tt[it])}return et},__assign$1.apply(this,arguments)};function __rest$1(_e,et){var tt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(tt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(_e);nt<rt.length;nt++)et.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[nt])&&(tt[rt[nt]]=_e[rt[nt]]);return tt}function __awaiter(_e,et,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(ot){ot(it)})}return new(tt||(tt=Promise))(function(it,ot){function at(ct){try{lt(rt.next(ct))}catch(ut){ot(ut)}}function st(ct){try{lt(rt.throw(ct))}catch(ut){ot(ut)}}function lt(ct){ct.done?it(ct.value):nt(ct.value).then(at,st)}lt((rt=rt.apply(_e,et||[])).next())})}function __generator(_e,et){var tt={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},rt,nt,it,ot;return ot={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function at(lt){return function(ct){return st([lt,ct])}}function st(lt){if(rt)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,lt[0]&&(tt=0)),tt;)try{if(rt=1,nt&&(it=lt[0]&2?nt.return:lt[0]?nt.throw||((it=nt.return)&&it.call(nt),0):nt.next)&&!(it=it.call(nt,lt[1])).done)return it;switch(nt=0,it&&(lt=[lt[0]&2,it.value]),lt[0]){case 0:case 1:it=lt;break;case 4:return tt.label++,{value:lt[1],done:!1};case 5:tt.label++,nt=lt[1],lt=[0];continue;case 7:lt=tt.ops.pop(),tt.trys.pop();continue;default:if(it=tt.trys,!(it=it.length>0&&it[it.length-1])&&(lt[0]===6||lt[0]===2)){tt=0;continue}if(lt[0]===3&&(!it||lt[1]>it[0]&&lt[1]<it[3])){tt.label=lt[1];break}if(lt[0]===6&&tt.label<it[1]){tt.label=it[1],it=lt;break}if(it&&tt.label<it[2]){tt.label=it[2],tt.ops.push(lt);break}it[2]&&tt.ops.pop(),tt.trys.pop();continue}lt=et.call(_e,tt)}catch(ct){lt=[6,ct],nt=0}finally{rt=it=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}}function __read(_e,et){var tt=typeof Symbol=="function"&&_e[Symbol.iterator];if(!tt)return _e;var rt=tt.call(_e),nt,it=[],ot;try{for(;(et===void 0||et-- >0)&&!(nt=rt.next()).done;)it.push(nt.value)}catch(at){ot={error:at}}finally{try{nt&&!nt.done&&(tt=rt.return)&&tt.call(rt)}finally{if(ot)throw ot.error}}return it}function __spreadArray(_e,et,tt){if(tt||arguments.length===2)for(var rt=0,nt=et.length,it;rt<nt;rt++)(it||!(rt in et))&&(it||(it=Array.prototype.slice.call(et,0,rt)),it[rt]=et[rt]);return _e.concat(it||Array.prototype.slice.call(et))}typeof SuppressedError=="function"&&SuppressedError;var grayScale={BLACK:"#111418",DARK_GRAY1:"#1C2127",DARK_GRAY2:"#252A31",DARK_GRAY3:"#2F343C",DARK_GRAY4:"#383E47",DARK_GRAY5:"#404854",GRAY1:"#5F6B7C",GRAY2:"#738091",GRAY3:"#8F99A8",GRAY4:"#ABB3BF",GRAY5:"#C5CBD3",LIGHT_GRAY1:"#D3D8DE",LIGHT_GRAY2:"#DCE0E5",LIGHT_GRAY3:"#E5E8EB",LIGHT_GRAY4:"#EDEFF2",LIGHT_GRAY5:"#F6F7F9",WHITE:"#FFFFFF"},coreColors={BLUE1:"#184A90",BLUE2:"#215DB0",BLUE3:"#2D72D2",BLUE4:"#4C90F0",BLUE5:"#8ABBFF",GREEN1:"#165A36",GREEN2:"#1C6E42",GREEN3:"#238551",GREEN4:"#32A467",GREEN5:"#72CA9B",ORANGE1:"#77450D",ORANGE2:"#935610",ORANGE3:"#C87619",ORANGE4:"#EC9A3C",ORANGE5:"#FBB360",RED1:"#8E292C",RED2:"#AC2F33",RED3:"#CD4246",RED4:"#E76A6E",RED5:"#FA999C"},extendedColors={CERULEAN1:"#0C5174",CERULEAN2:"#0F6894",CERULEAN3:"#147EB3",CERULEAN4:"#3FA6DA",CERULEAN5:"#68C1EE",FOREST1:"#1D7324",FOREST2:"#238C2C",FOREST3:"#29A634",FOREST4:"#43BF4D",FOREST5:"#62D96B",GOLD1:"#5C4405",GOLD2:"#866103",GOLD3:"#D1980B",GOLD4:"#F0B726",GOLD5:"#FBD065",INDIGO1:"#5642A6",INDIGO2:"#634DBF",INDIGO3:"#7961DB",INDIGO4:"#9881F3",INDIGO5:"#BDADFF",LIME1:"#43501B",LIME2:"#5A701A",LIME3:"#8EB125",LIME4:"#B6D94C",LIME5:"#D4F17E",ROSE1:"#A82255",ROSE2:"#C22762",ROSE3:"#DB2C6F",ROSE4:"#F5498B",ROSE5:"#FF66A1",SEPIA1:"#5E4123",SEPIA2:"#7A542E",SEPIA3:"#946638",SEPIA4:"#AF855A",SEPIA5:"#D0B090",TURQUOISE1:"#004D46",TURQUOISE2:"#007067",TURQUOISE3:"#00A396",TURQUOISE4:"#13C9BA",TURQUOISE5:"#7AE1D8",VERMILION1:"#96290D",VERMILION2:"#B83211",VERMILION3:"#D33D17",VERMILION4:"#EB6847",VERMILION5:"#FF9980",VIOLET1:"#5C255C",VIOLET2:"#7C327C",VIOLET3:"#9D3F9D",VIOLET4:"#BD6BBD",VIOLET5:"#D69FD6"},Colors=__assign$1(__assign$1(__assign$1({},grayScale),coreColors),extendedColors);function shallowCompareKeys(_e,et,tt){if(_e==null&&et==null)return!0;if(_e==null||et==null)return!1;if(Array.isArray(_e)||Array.isArray(et))return!1;if(tt!=null)return shallowCompareKeysImpl(_e,et,tt);var rt=Object.keys(_e),nt=Object.keys(et);return shallowCompareKeysImpl(_e,et,{include:rt})&&shallowCompareKeysImpl(_e,et,{include:nt})}function shallowCompareKeysImpl(_e,et,tt){return filterKeys(_e,et,tt).every(function(rt){return _e.hasOwnProperty(rt)===et.hasOwnProperty(rt)&&_e[rt]===et[rt]})}function filterKeys(_e,et,tt){if(isAllowlist(tt))return tt.include;if(isDenylist(tt)){var rt=Object.keys(_e),nt=Object.keys(et),it=arrayToObject(rt.concat(nt));return tt.exclude.forEach(function(ot){return delete it[ot]}),Object.keys(it)}return[]}function isAllowlist(_e){return _e!=null&&_e.include!=null}function isDenylist(_e){return _e!=null&&_e.exclude!=null}function arrayToObject(_e){return _e.reduce(function(et,tt){return et[tt]=!0,et},{})}function hasDOMEnvironment(){return typeof window<"u"&&window.document!=null}function elementIsOrContains(_e,et){return _e===et||_e.contains(et)}function elementIsTextInput(_e){if(_e==null||_e.closest==null)return!1;var et=_e.closest("input, textarea, [contenteditable=true]");if(et==null)return!1;if(et.tagName.toLowerCase()==="input"){var tt=et.type;if(tt==="checkbox"||tt==="radio")return!1}return!et.readOnly}function getActiveElement(_e,et){var tt;if(_e==null)return document.activeElement;var rt=(tt=_e.getRootNode(et))!==null&&tt!==void 0?tt:document;return rt.activeElement}function clickElementOnKeyPress(_e){return function(et){_e.some(function(tt){return et.key===tt})&&(elementIsTextInput(et.target)||et.preventDefault(),et.target.dispatchEvent(new MouseEvent("click",__assign$1(__assign$1({},et),{view:void 0}))))}}function isFunction$3(_e){return typeof _e=="function"}var ns="[Blueprint]",CLAMP_MIN_MAX=ns+" clamp: max cannot be less than min",HOTKEYS_HOTKEY_CHILDREN=ns+" <Hotkeys> only accepts <Hotkey> children.",INPUT_WARN_LEFT_ELEMENT_LEFT_ICON_MUTEX=ns+" <InputGroup> leftElement and leftIcon prop are mutually exclusive, with leftElement taking priority.",POPOVER_REQUIRES_TARGET="".concat(ns," <Popover> requires renderTarget prop or a child element."),POPOVER_HAS_BACKDROP_INTERACTION="".concat(ns,' <Popover hasBackdrop={true}> requires interactionKind="click".'),POPOVER_WARN_TOO_MANY_CHILDREN="".concat(ns," <Popover> supports only one child which is rendered as its target; additional children are ignored."),POPOVER_WARN_DOUBLE_TARGET=ns+" <Popover> with children ignores renderTarget prop; use either prop or children.",POPOVER_WARN_EMPTY_CONTENT=ns+" Disabling <Popover> with empty/whitespace content...",POPOVER_WARN_HAS_BACKDROP_INLINE=ns+" <Popover usePortal={false}> ignores hasBackdrop",POPOVER_WARN_PLACEMENT_AND_POSITION_MUTEX=ns+" <Popover> supports either placement or position prop, not both.",POPOVER_WARN_UNCONTROLLED_ONINTERACTION=ns+" <Popover> onInteraction is ignored when uncontrolled.",POPOVER_WARN_TARGET_PROPS_WITH_RENDER_TARGET=ns+" <Popover> targetProps value is ignored when renderTarget API is used.",PORTAL_CONTEXT_CLASS_NAME_STRING=ns+" <Portal> context blueprintPortalClassName must be string",PORTAL_LEGACY_CONTEXT_API=ns+" setting blueprintPortalClassName via legacy React context API is deprecated, use <PortalProvider> instead.",SPINNER_WARN_CLASSES_SIZE=ns+" <Spinner> Classes.SMALL/LARGE are ignored if size prop is set.",DIALOG_WARN_NO_HEADER_ICON=ns+" <Dialog> iconName is ignored if title is omitted.",DIALOG_WARN_NO_HEADER_CLOSE_BUTTON=ns+" <Dialog> isCloseButtonShown prop is ignored if title is omitted.",OVERLAY2_REQUIRES_OVERLAY_PROVDER=ns+" <Overlay2> was used outside of a <OverlaysProvider> context. This will no longer be supported in Blueprint v6. See https://github.com/palantir/blueprint/wiki/Overlay2-migration",OVERLAY_CHILD_REF_AND_REFS_MUTEX=ns+" <Overlay2> cannot use childRef and childRefs props simultaneously",OVERLAY_WITH_MULTIPLE_CHILDREN_REQUIRES_CHILD_REFS=ns+" <Overlay2> requires childRefs prop when rendering multiple child elements",OVERLAY_CHILD_REQUIRES_KEY=ns+" <Overlay2> requires each child element to have a unique key prop when childRefs is used";function isNodeEnv$1(_e){return typeof NODE_ENV<"u"&&NODE_ENV===_e}function clamp(_e,et,tt){if(_e==null)return _e;if(tt<et)throw new Error(CLAMP_MIN_MAX);return Math.min(Math.max(_e,et),tt)}var uniqueCountForNamespace$1=new Map;function uniqueId$1(_e){var et,tt=(et=uniqueCountForNamespace$1.get(_e))!==null&&et!==void 0?et:0;return uniqueCountForNamespace$1.set(_e,tt+1),"".concat(_e,"-").concat(tt)}function isEmptyString(_e){return typeof _e=="string"&&_e.trim().length===0}function isReactNodeEmpty(_e,et){return et===void 0&&(et=!1),_e==null||_e===""||_e===!1||!et&&Array.isArray(_e)&&(_e.length===0||_e.every(function(tt){return isReactNodeEmpty(tt,!0)}))}function isReactChildrenElementOrElements(_e){return!isReactNodeEmpty(_e,!0)&&_e!==!0}function ensureElement(_e,et,tt){if(et===void 0&&(et="span"),tt===void 0&&(tt={}),!(_e==null||typeof _e=="boolean"||isEmptyString(_e)))return typeof _e=="string"||typeof _e=="number"||isReactFragment(_e)||isReactNodeArray(_e)?reactExports.createElement(et,tt,_e):isReactElement(_e)?Object.keys(tt).length>0?reactExports.cloneElement(_e,tt):_e:void 0}function isReactElement(_e){return typeof _e=="object"&&typeof _e.type<"u"&&typeof _e.props<"u"}function isReactFragment(_e){return typeof _e.type=="symbol"}function isReactNodeArray(_e){return Array.isArray(_e)}function isElementOfType(_e,et){return _e!=null&&_e.type!=null&&_e.type.displayName!=null&&_e.type.displayName===et.displayName}function isReact18(){return reactExports.version.startsWith("18")}function isKeyboardClick(_e){return _e.key==="Enter"||_e.key===" "}function isRefObject(_e){return _e!=null&&typeof _e!="function"}function isRefCallback(_e){return typeof _e=="function"}function setRef$1(_e,et){isRefObject(_e)?_e.current=et:isRefCallback(_e)&&_e(et)}function mergeRefs(){for(var _e=[],et=0;et<arguments.length;et++)_e[et]=arguments[et];return function(tt){_e.forEach(function(rt){setRef$1(rt,tt)})}}function getRef(_e){return _e===null?null:typeof _e.current>"u"?_e:_e.current}function refHandler(_e,et,tt){return function(rt){_e[et]=rt,setRef$1(tt,rt)}}var AbstractComponent=function(_e){__extends(et,_e);function et(tt){var rt=_e.call(this,tt)||this;return rt.timeoutIds=[],rt.requestIds=[],rt.clearTimeouts=function(){if(rt.timeoutIds.length>0){for(var nt=0,it=rt.timeoutIds;nt<it.length;nt++){var ot=it[nt];window.clearTimeout(ot)}rt.timeoutIds=[]}},rt.cancelAnimationFrames=function(){if(rt.requestIds.length>0){for(var nt=0,it=rt.requestIds;nt<it.length;nt++){var ot=it[nt];window.cancelAnimationFrame(ot)}rt.requestIds=[]}},isNodeEnv$1("production")||rt.validateProps(rt.props),rt}return et.prototype.componentDidUpdate=function(tt,rt,nt){isNodeEnv$1("production")||this.validateProps(this.props)},et.prototype.componentWillUnmount=function(){this.clearTimeouts(),this.cancelAnimationFrames()},et.prototype.requestAnimationFrame=function(tt){var rt=window.requestAnimationFrame(tt);return this.requestIds.push(rt),function(){return window.cancelAnimationFrame(rt)}},et.prototype.setTimeout=function(tt,rt){var nt=window.setTimeout(tt,rt);return this.timeoutIds.push(nt),function(){return window.clearTimeout(nt)}},et.prototype.validateProps=function(tt){},et}(reactExports.Component),AbstractPureComponent=function(_e){__extends(et,_e);function et(tt){var rt=_e.call(this,tt)||this;return rt.timeoutIds=[],rt.requestIds=[],rt.clearTimeouts=function(){if(rt.timeoutIds.length>0){for(var nt=0,it=rt.timeoutIds;nt<it.length;nt++){var ot=it[nt];window.clearTimeout(ot)}rt.timeoutIds=[]}},rt.cancelAnimationFrames=function(){if(rt.requestIds.length>0){for(var nt=0,it=rt.requestIds;nt<it.length;nt++){var ot=it[nt];window.cancelAnimationFrame(ot)}rt.requestIds=[]}},isNodeEnv$1("production")||rt.validateProps(rt.props),rt}return et.prototype.componentDidUpdate=function(tt,rt,nt){isNodeEnv$1("production")||this.validateProps(this.props)},et.prototype.componentWillUnmount=function(){this.clearTimeouts(),this.cancelAnimationFrames()},et.prototype.requestAnimationFrame=function(tt){var rt=window.requestAnimationFrame(tt);return this.requestIds.push(rt),function(){return window.cancelAnimationFrame(rt)}},et.prototype.setTimeout=function(tt,rt){var nt=window.setTimeout(tt,rt);return this.timeoutIds.push(nt),function(){return window.clearTimeout(nt)}},et.prototype.validateProps=function(tt){},et}(reactExports.PureComponent),DISPLAYNAME_PREFIX="Blueprint5",INVALID_PROPS=["active","alignText","asyncControl","containerRef","current","elementRef","ellipsizeText","fill","icon","iconSize","inputClassName","inputRef","intent","inline","large","loading","leftElement","leftIcon","minimal","onRemove","outlined","panel","panelClassName","popoverProps","rightElement","rightIcon","round","size","small","tagName","text","textClassName"];function removeNonHTMLProps(_e,et,tt){return et===void 0&&(et=INVALID_PROPS),tt===void 0&&(tt=!1),tt&&(et=et.concat(INVALID_PROPS)),et.reduce(function(rt,nt){return nt.indexOf("-")!==-1||rt.hasOwnProperty(nt)&&delete rt[nt],rt},__assign$1({},_e))}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(_e){(function(){var et={}.hasOwnProperty;function tt(){for(var it="",ot=0;ot<arguments.length;ot++){var at=arguments[ot];at&&(it=nt(it,rt(at)))}return it}function rt(it){if(typeof it=="string"||typeof it=="number")return it;if(typeof it!="object")return"";if(Array.isArray(it))return tt.apply(null,it);if(it.toString!==Object.prototype.toString&&!it.toString.toString().includes("[native code]"))return it.toString();var ot="";for(var at in it)et.call(it,at)&&it[at]&&(ot=nt(ot,at));return ot}function nt(it,ot){return ot?it?it+" "+ot:it+ot:it}_e.exports?(tt.default=tt,_e.exports=tt):window.classNames=tt})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function lowerCase(_e){return _e.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(_e,et){et===void 0&&(et={});for(var tt=et.splitRegexp,rt=tt===void 0?DEFAULT_SPLIT_REGEXP:tt,nt=et.stripRegexp,it=nt===void 0?DEFAULT_STRIP_REGEXP:nt,ot=et.transform,at=ot===void 0?lowerCase:ot,st=et.delimiter,lt=st===void 0?" ":st,ct=replace(replace(_e,rt,"$1\0$2"),it,"\0"),ut=0,ft=ct.length;ct.charAt(ut)==="\0";)ut++;for(;ct.charAt(ft-1)==="\0";)ft--;return ct.slice(ut,ft).split("\0").map(at).join(lt)}function replace(_e,et,tt){return et instanceof RegExp?_e.replace(et,tt):et.reduce(function(rt,nt){return rt.replace(nt,tt)},_e)}function pascalCaseTransform(_e,et){var tt=_e.charAt(0),rt=_e.substr(1).toLowerCase();return et>0&&tt>="0"&&tt<="9"?"_"+tt+rt:""+tt.toUpperCase()+rt}function pascalCase(_e,et){return et===void 0&&(et={}),noCase(_e,__assign$1({delimiter:"",transform:pascalCaseTransform},et))}function dotCase(_e,et){return et===void 0&&(et={}),noCase(_e,__assign$1({delimiter:"."},et))}function snakeCase(_e,et){return et===void 0&&(et={}),dotCase(_e,__assign$1({delimiter:"_"},et))}var IconSize;(function(_e){_e[_e.STANDARD=16]="STANDARD",_e[_e.LARGE=20]="LARGE"})(IconSize||(IconSize={}));const scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function(et,tt,rt){if(!tt||tt.length===0)return et();const nt=document.getElementsByTagName("link");return Promise.all(tt.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const ot=it.endsWith(".css"),at=ot?'[rel="stylesheet"]':"";if(!!rt)for(let ct=nt.length-1;ct>=0;ct--){const ut=nt[ct];if(ut.href===it&&(!ot||ut.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${at}`))return;const lt=document.createElement("link");if(lt.rel=ot?"stylesheet":scriptRel,ot||(lt.as="script",lt.crossOrigin=""),lt.href=it,document.head.appendChild(lt),ot)return new Promise((ct,ut)=>{lt.addEventListener("load",ct),lt.addEventListener("error",()=>ut(new Error(`Unable to preload CSS for ${it}`)))})})).then(()=>et()).catch(it=>{const ot=new Event("vite:preloadError",{cancelable:!0});if(ot.payload=it,window.dispatchEvent(ot),!ot.defaultPrevented)throw it})};var _a$1,BlueprintIcons_16;(function(_e){_e.AddClip="add-clip",_e.AddColumnLeft="add-column-left",_e.AddColumnRight="add-column-right",_e.AddLocation="add-location",_e.AddRowBottom="add-row-bottom",_e.AddRowTop="add-row-top",_e.AddToArtifact="add-to-artifact",_e.AddToFolder="add-to-folder",_e.Add="add",_e.AimpointsTarget="aimpoints-target",_e.Airplane="airplane",_e.AlignCenter="align-center",_e.AlignJustify="align-justify",_e.AlignLeft="align-left",_e.AlignRight="align-right",_e.AlignmentBottom="alignment-bottom",_e.AlignmentHorizontalCenter="alignment-horizontal-center",_e.AlignmentLeft="alignment-left",_e.AlignmentRight="alignment-right",_e.AlignmentTop="alignment-top",_e.AlignmentVerticalCenter="alignment-vertical-center",_e.Ammunition="ammunition",_e.Anchor="anchor",_e.Annotation="annotation",_e.Antenna="antenna",_e.AppHeader="app-header",_e.Application="application",_e.Applications="applications",_e.Archive="archive",_e.AreaOfInterest="area-of-interest",_e.ArrayBoolean="array-boolean",_e.ArrayDate="array-date",_e.ArrayFloatingPoint="array-floating-point",_e.ArrayNumeric="array-numeric",_e.ArrayString="array-string",_e.ArrayTimestamp="array-timestamp",_e.Array="array",_e.ArrowBottomLeft="arrow-bottom-left",_e.ArrowBottomRight="arrow-bottom-right",_e.ArrowDown="arrow-down",_e.ArrowLeft="arrow-left",_e.ArrowRight="arrow-right",_e.ArrowTopLeft="arrow-top-left",_e.ArrowTopRight="arrow-top-right",_e.ArrowUp="arrow-up",_e.ArrowsHorizontal="arrows-horizontal",_e.ArrowsVertical="arrows-vertical",_e.Asterisk="asterisk",_e.At="at",_e.AutomaticUpdates="automatic-updates",_e.Axle="axle",_e.Backlink="backlink",_e.BackwardTen="backward-ten",_e.Badge="badge",_e.BanCircle="ban-circle",_e.BankAccount="bank-account",_e.Barcode="barcode",_e.BinaryNumber="binary-number",_e.Blank="blank",_e.BlockedPerson="blocked-person",_e.Bold="bold",_e.Book="book",_e.Bookmark="bookmark",_e.Box="box",_e.Briefcase="briefcase",_e.BringData="bring-data",_e.BringForward="bring-forward",_e.Bug="bug",_e.Buggy="buggy",_e.Build="build",_e.Bullseye="bullseye",_e.Calculator="calculator",_e.Calendar="calendar",_e.Camera="camera",_e.CaretDown="caret-down",_e.CaretLeft="caret-left",_e.CaretRight="caret-right",_e.CaretUp="caret-up",_e.CargoShip="cargo-ship",_e.CellTower="cell-tower",_e.Changes="changes",_e.Chart="chart",_e.Chat="chat",_e.ChevronBackward="chevron-backward",_e.ChevronDown="chevron-down",_e.ChevronForward="chevron-forward",_e.ChevronLeft="chevron-left",_e.ChevronRight="chevron-right",_e.ChevronUp="chevron-up",_e.CircleArrowDown="circle-arrow-down",_e.CircleArrowLeft="circle-arrow-left",_e.CircleArrowRight="circle-arrow-right",_e.CircleArrowUp="circle-arrow-up",_e.Circle="circle",_e.Citation="citation",_e.Clean="clean",_e.Clip="clip",_e.ClipboardFile="clipboard-file",_e.Clipboard="clipboard",_e.CloudDownload="cloud-download",_e.CloudServer="cloud-server",_e.CloudTick="cloud-tick",_e.CloudUpload="cloud-upload",_e.Cloud="cloud",_e.CodeBlock="code-block",_e.Code="code",_e.Cog="cog",_e.CollapseAll="collapse-all",_e.ColorFill="color-fill",_e.ColumnLayout="column-layout",_e.Comment="comment",_e.Comparison="comparison",_e.Compass="compass",_e.Compressed="compressed",_e.Confirm="confirm",_e.Console="console",_e.Contrast="contrast",_e.Control="control",_e.CreditCard="credit-card",_e.Crop="crop",_e.CrossCircle="cross-circle",_e.Cross="cross",_e.Crown="crown",_e.CubeAdd="cube-add",_e.CubeRemove="cube-remove",_e.Cube="cube",_e.CurlyBraces="curly-braces",_e.CurvedRangeChart="curved-range-chart",_e.Cut="cut",_e.Cycle="cycle",_e.Dashboard="dashboard",_e.DataConnection="data-connection",_e.DataLineage="data-lineage",_e.Database="database",_e.Delete="delete",_e.Delta="delta",_e.DeriveColumn="derive-column",_e.Desktop="desktop",_e.Detection="detection",_e.Diagnosis="diagnosis",_e.DiagramTree="diagram-tree",_e.DirectionLeft="direction-left",_e.DirectionRight="direction-right",_e.Disable="disable",_e.Divide="divide",_e.DocumentOpen="document-open",_e.DocumentShare="document-share",_e.Document="document",_e.Dollar="dollar",_e.Dot="dot",_e.DoubleCaretHorizontal="double-caret-horizontal",_e.DoubleCaretVertical="double-caret-vertical",_e.DoubleChevronDown="double-chevron-down",_e.DoubleChevronLeft="double-chevron-left",_e.DoubleChevronRight="double-chevron-right",_e.DoubleChevronUp="double-chevron-up",_e.DoughnutChart="doughnut-chart",_e.Download="download",_e.DragHandleHorizontal="drag-handle-horizontal",_e.DragHandleVertical="drag-handle-vertical",_e.Draw="draw",_e.DrawerLeftFilled="drawer-left-filled",_e.DrawerLeft="drawer-left",_e.DrawerRightFilled="drawer-right-filled",_e.DrawerRight="drawer-right",_e.DriveTime="drive-time",_e.Duplicate="duplicate",_e.Edit="edit",_e.Eject="eject",_e.Emoji="emoji",_e.Endnote="endnote",_e.Endorsed="endorsed",_e.Envelope="envelope",_e.Equals="equals",_e.Eraser="eraser",_e.Error="error",_e.Euro="euro",_e.Exchange="exchange",_e.ExcludeRow="exclude-row",_e.ExpandAll="expand-all",_e.Explain="explain",_e.Export="export",_e.EyeOff="eye-off",_e.EyeOn="eye-on",_e.EyeOpen="eye-open",_e.FastBackward="fast-backward",_e.FastForward="fast-forward",_e.FeedSubscribed="feed-subscribed",_e.Feed="feed",_e.Film="film",_e.FilterKeep="filter-keep",_e.FilterList="filter-list",_e.FilterOpen="filter-open",_e.FilterRemove="filter-remove",_e.Filter="filter",_e.Flag="flag",_e.Flame="flame",_e.Flash="flash",_e.FloatingPoint="floating-point",_e.FloppyDisk="floppy-disk",_e.FlowBranch="flow-branch",_e.FlowEnd="flow-end",_e.FlowLinear="flow-linear",_e.FlowReviewBranch="flow-review-branch",_e.FlowReview="flow-review",_e.Flows="flows",_e.FolderClose="folder-close",_e.FolderNew="folder-new",_e.FolderOpen="folder-open",_e.FolderSharedOpen="folder-shared-open",_e.FolderShared="folder-shared",_e.Follower="follower",_e.Following="following",_e.Font="font",_e.Fork="fork",_e.Form="form",_e.ForwardTen="forward-ten",_e.Fuel="fuel",_e.FullCircle="full-circle",_e.FullStackedChart="full-stacked-chart",_e.Fullscreen="fullscreen",_e.Function="function",_e.GanttChart="gantt-chart",_e.Generate="generate",_e.Geofence="geofence",_e.Geolocation="geolocation",_e.Geosearch="geosearch",_e.Geotime="geotime",_e.GitBranch="git-branch",_e.GitCommit="git-commit",_e.GitMerge="git-merge",_e.GitNewBranch="git-new-branch",_e.GitPull="git-pull",_e.GitPush="git-push",_e.GitRepo="git-repo",_e.Glass="glass",_e.GlobeNetwork="globe-network",_e.Globe="globe",_e.GraphRemove="graph-remove",_e.Graph="graph",_e.GreaterThanOrEqualTo="greater-than-or-equal-to",_e.GreaterThan="greater-than",_e.GridView="grid-view",_e.Grid="grid",_e.GroupItem="group-item",_e.GroupObjects="group-objects",_e.GroupedBarChart="grouped-bar-chart",_e.HandDown="hand-down",_e.HandLeft="hand-left",_e.HandRight="hand-right",_e.HandUp="hand-up",_e.Hand="hand",_e.Hat="hat",_e.HeaderOne="header-one",_e.HeaderThree="header-three",_e.HeaderTwo="header-two",_e.Header="header",_e.Headset="headset",_e.HeartBroken="heart-broken",_e.Heart="heart",_e.HeatGrid="heat-grid",_e.Heatmap="heatmap",_e.Helicopter="helicopter",_e.Help="help",_e.HelperManagement="helper-management",_e.HighPriority="high-priority",_e.HighVoltagePole="high-voltage-pole",_e.Highlight="highlight",_e.History="history",_e.Home="home",_e.HorizontalBarChartAsc="horizontal-bar-chart-asc",_e.HorizontalBarChartDesc="horizontal-bar-chart-desc",_e.HorizontalBarChart="horizontal-bar-chart",_e.HorizontalDistribution="horizontal-distribution",_e.HorizontalInbetween="horizontal-inbetween",_e.Hurricane="hurricane",_e.IdNumber="id-number",_e.ImageRotateLeft="image-rotate-left",_e.ImageRotateRight="image-rotate-right",_e.Import="import",_e.InboxFiltered="inbox-filtered",_e.InboxGeo="inbox-geo",_e.InboxSearch="inbox-search",_e.InboxUpdate="inbox-update",_e.Inbox="inbox",_e.InfoSign="info-sign",_e.Inheritance="inheritance",_e.InheritedGroup="inherited-group",_e.InnerJoin="inner-join",_e.Input="input",_e.Insert="insert",_e.Intelligence="intelligence",_e.Intersection="intersection",_e.IpAddress="ip-address",_e.IssueClosed="issue-closed",_e.IssueNew="issue-new",_e.Issue="issue",_e.Italic="italic",_e.JoinTable="join-table",_e.KeyBackspace="key-backspace",_e.KeyCommand="key-command",_e.KeyControl="key-control",_e.KeyDelete="key-delete",_e.KeyEnter="key-enter",_e.KeyEscape="key-escape",_e.KeyOption="key-option",_e.KeyShift="key-shift",_e.KeyTab="key-tab",_e.Key="key",_e.KnownVehicle="known-vehicle",_e.LabTest="lab-test",_e.Label="label",_e.LayerOutline="layer-outline",_e.Layer="layer",_e.Layers="layers",_e.LayoutAuto="layout-auto",_e.LayoutBalloon="layout-balloon",_e.LayoutCircle="layout-circle",_e.LayoutGrid="layout-grid",_e.LayoutGroupBy="layout-group-by",_e.LayoutHierarchy="layout-hierarchy",_e.LayoutLinear="layout-linear",_e.LayoutSkewGrid="layout-skew-grid",_e.LayoutSortedClusters="layout-sorted-clusters",_e.Layout="layout",_e.Learning="learning",_e.LeftJoin="left-join",_e.LengthenText="lengthen-text",_e.LessThanOrEqualTo="less-than-or-equal-to",_e.LessThan="less-than",_e.Lifesaver="lifesaver",_e.Lightbulb="lightbulb",_e.Lightning="lightning",_e.Link="link",_e.ListColumns="list-columns",_e.ListDetailView="list-detail-view",_e.List="list",_e.Locate="locate",_e.Lock="lock",_e.Locomotive="locomotive",_e.LogIn="log-in",_e.LogOut="log-out",_e.LowVoltagePole="low-voltage-pole",_e.Manual="manual",_e.ManuallyEnteredData="manually-entered-data",_e.ManyToMany="many-to-many",_e.ManyToOne="many-to-one",_e.MapCreate="map-create",_e.MapMarker="map-marker",_e.Map="map",_e.Maximize="maximize",_e.Media="media",_e.MenuClosed="menu-closed",_e.MenuOpen="menu-open",_e.Menu="menu",_e.MergeColumns="merge-columns",_e.MergeLinks="merge-links",_e.Microphone="microphone",_e.Minimize="minimize",_e.Minus="minus",_e.MobilePhone="mobile-phone",_e.MobileVideo="mobile-video",_e.ModalFilled="modal-filled",_e.Modal="modal",_e.Model="model",_e.Moon="moon",_e.More="more",_e.Mountain="mountain",_e.Move="move",_e.Mugshot="mugshot",_e.MultiSelect="multi-select",_e.Music="music",_e.Nest="nest",_e.NewDrawing="new-drawing",_e.NewGridItem="new-grid-item",_e.NewLayer="new-layer",_e.NewLayers="new-layers",_e.NewLink="new-link",_e.NewObject="new-object",_e.NewPerson="new-person",_e.NewPrescription="new-prescription",_e.NewShield="new-shield",_e.NewTextBox="new-text-box",_e.Ninja="ninja",_e.NotEqualTo="not-equal-to",_e.NotificationsSnooze="notifications-snooze",_e.NotificationsUpdated="notifications-updated",_e.Notifications="notifications",_e.NumberedList="numbered-list",_e.Numerical="numerical",_e.Office="office",_e.Offline="offline",_e.OilField="oil-field",_e.OneColumn="one-column",_e.OneToMany="one-to-many",_e.OneToOne="one-to-one",_e.OpenApplication="open-application",_e.Outdated="outdated",_e.PageLayout="page-layout",_e.PanelStats="panel-stats",_e.PanelTable="panel-table",_e.Paperclip="paperclip",_e.Paragraph="paragraph",_e.PasteVariable="paste-variable",_e.PathSearch="path-search",_e.Path="path",_e.Pause="pause",_e.People="people",_e.Percentage="percentage",_e.Person="person",_e.PhoneCall="phone-call",_e.PhoneForward="phone-forward",_e.Phone="phone",_e.PieChart="pie-chart",_e.Pin="pin",_e.PivotTable="pivot-table",_e.Pivot="pivot",_e.Play="play",_e.Playbook="playbook",_e.Plus="plus",_e.PolygonFilter="polygon-filter",_e.Power="power",_e.PredictiveAnalysis="predictive-analysis",_e.Prescription="prescription",_e.Presentation="presentation",_e.Print="print",_e.Projects="projects",_e.Properties="properties",_e.Property="property",_e.PublishFunction="publish-function",_e.Pulse="pulse",_e.Rain="rain",_e.Random="random",_e.Record="record",_e.RectHeight="rect-height",_e.RectWidth="rect-width",_e.Rectangle="rectangle",_e.Redo="redo",_e.Refresh="refresh",_e.Regex="regex",_e.RegressionChart="regression-chart",_e.RemoveColumnLeft="remove-column-left",_e.RemoveColumnRight="remove-column-right",_e.RemoveColumn="remove-column",_e.RemoveRowBottom="remove-row-bottom",_e.RemoveRowTop="remove-row-top",_e.Remove="remove",_e.Repeat="repeat",_e.Reset="reset",_e.Resolve="resolve",_e.Rig="rig",_e.RightJoin="right-join",_e.Ring="ring",_e.RocketSlant="rocket-slant",_e.Rocket="rocket",_e.RotateDocument="rotate-document",_e.RotatePage="rotate-page",_e.Route="route",_e.Satellite="satellite",_e.Saved="saved",_e.ScatterPlot="scatter-plot",_e.SearchAround="search-around",_e.SearchTemplate="search-template",_e.SearchText="search-text",_e.Search="search",_e.SegmentedControl="segmented-control",_e.Select="select",_e.Selection="selection",_e.SendBackward="send-backward",_e.SendMessage="send-message",_e.SendToGraph="send-to-graph",_e.SendToMap="send-to-map",_e.SendTo="send-to",_e.Sensor="sensor",_e.SeriesAdd="series-add",_e.SeriesConfiguration="series-configuration",_e.SeriesDerived="series-derived",_e.SeriesFiltered="series-filtered",_e.SeriesSearch="series-search",_e.Settings="settings",_e.Shapes="shapes",_e.Share="share",_e.SharedFilter="shared-filter",_e.Shield="shield",_e.Ship="ship",_e.Shop="shop",_e.ShoppingCart="shopping-cart",_e.ShortenText="shorten-text",_e.SignalSearch="signal-search",_e.SimCard="sim-card",_e.Slash="slash",_e.SmallCross="small-cross",_e.SmallInfoSign="small-info-sign",_e.SmallMinus="small-minus",_e.SmallPlus="small-plus",_e.SmallSquare="small-square",_e.SmallTick="small-tick",_e.Snowflake="snowflake",_e.SoccerBall="soccer-ball",_e.SocialMedia="social-media",_e.SortAlphabeticalDesc="sort-alphabetical-desc",_e.SortAlphabetical="sort-alphabetical",_e.SortAsc="sort-asc",_e.SortDesc="sort-desc",_e.SortNumericalDesc="sort-numerical-desc",_e.SortNumerical="sort-numerical",_e.Sort="sort",_e.SpellCheck="spell-check",_e.SplitColumns="split-columns",_e.SportsStadium="sports-stadium",_e.Square="square",_e.StackedChart="stacked-chart",_e.StadiumGeometry="stadium-geometry",_e.StarEmpty="star-empty",_e.Star="star",_e.StepBackward="step-backward",_e.StepChart="step-chart",_e.StepForward="step-forward",_e.Stop="stop",_e.Stopwatch="stopwatch",_e.Strikethrough="strikethrough",_e.Style="style",_e.Subscript="subscript",_e.Superscript="superscript",_e.SwapHorizontal="swap-horizontal",_e.SwapVertical="swap-vertical",_e.Switch="switch",_e.SymbolCircle="symbol-circle",_e.SymbolCross="symbol-cross",_e.SymbolDiamond="symbol-diamond",_e.SymbolRectangle="symbol-rectangle",_e.SymbolSquare="symbol-square",_e.SymbolTriangleDown="symbol-triangle-down",_e.SymbolTriangleUp="symbol-triangle-up",_e.Syringe="syringe",_e.Tag="tag",_e.TakeAction="take-action",_e.Tank="tank",_e.Target="target",_e.Taxi="taxi",_e.Team="team",_e.Temperature="temperature",_e.TextHighlight="text-highlight",_e.ThDerived="th-derived",_e.ThDisconnect="th-disconnect",_e.ThFiltered="th-filtered",_e.ThList="th-list",_e.Th="th",_e.ThirdParty="third-party",_e.ThumbsDown="thumbs-down",_e.ThumbsUp="thumbs-up",_e.TickCircle="tick-circle",_e.Tick="tick",_e.Time="time",_e.TimelineAreaChart="timeline-area-chart",_e.TimelineBarChart="timeline-bar-chart",_e.TimelineEvents="timeline-events",_e.TimelineLineChart="timeline-line-chart",_e.Tint="tint",_e.Torch="torch",_e.Tractor="tractor",_e.Train="train",_e.Translate="translate",_e.Trash="trash",_e.Tree="tree",_e.TrendingDown="trending-down",_e.TrendingUp="trending-up",_e.Trophy="trophy",_e.Truck="truck",_e.TwoColumns="two-columns",_e.Unarchive="unarchive",_e.Underline="underline",_e.Undo="undo",_e.UngroupObjects="ungroup-objects",_e.UnknownVehicle="unknown-vehicle",_e.Unlink="unlink",_e.Unlock="unlock",_e.Unpin="unpin",_e.Unresolve="unresolve",_e.Updated="updated",_e.Upload="upload",_e.User="user",_e.Variable="variable",_e.VerticalBarChartAsc="vertical-bar-chart-asc",_e.VerticalBarChartDesc="vertical-bar-chart-desc",_e.VerticalDistribution="vertical-distribution",_e.VerticalInbetween="vertical-inbetween",_e.Video="video",_e.Virus="virus",_e.VolumeDown="volume-down",_e.VolumeOff="volume-off",_e.VolumeUp="volume-up",_e.Walk="walk",_e.WarningSign="warning-sign",_e.WaterfallChart="waterfall-chart",_e.Waves="waves",_e.WidgetButton="widget-button",_e.WidgetFooter="widget-footer",_e.WidgetHeader="widget-header",_e.Widget="widget",_e.Wind="wind",_e.Wrench="wrench",_e.ZoomIn="zoom-in",_e.ZoomOut="zoom-out",_e.ZoomToFit="zoom-to-fit"})(BlueprintIcons_16||(BlueprintIcons_16={}));_a$1={},_a$1[BlueprintIcons_16.AddClip]="61697",_a$1[BlueprintIcons_16.AddColumnLeft]="61698",_a$1[BlueprintIcons_16.AddColumnRight]="61699",_a$1[BlueprintIcons_16.AddLocation]="61700",_a$1[BlueprintIcons_16.AddRowBottom]="61701",_a$1[BlueprintIcons_16.AddRowTop]="61702",_a$1[BlueprintIcons_16.AddToArtifact]="61703",_a$1[BlueprintIcons_16.AddToFolder]="61704",_a$1[BlueprintIcons_16.Add]="61705",_a$1[BlueprintIcons_16.AimpointsTarget]="62261",_a$1[BlueprintIcons_16.Airplane]="61706",_a$1[BlueprintIcons_16.AlignCenter]="61707",_a$1[BlueprintIcons_16.AlignJustify]="61708",_a$1[BlueprintIcons_16.AlignLeft]="61709",_a$1[BlueprintIcons_16.AlignRight]="61710",_a$1[BlueprintIcons_16.AlignmentBottom]="61711",_a$1[BlueprintIcons_16.AlignmentHorizontalCenter]="61712",_a$1[BlueprintIcons_16.AlignmentLeft]="61713",_a$1[BlueprintIcons_16.AlignmentRight]="61714",_a$1[BlueprintIcons_16.AlignmentTop]="61715",_a$1[BlueprintIcons_16.AlignmentVerticalCenter]="61716",_a$1[BlueprintIcons_16.Ammunition]="62274",_a$1[BlueprintIcons_16.Anchor]="62256",_a$1[BlueprintIcons_16.Annotation]="61717",_a$1[BlueprintIcons_16.Antenna]="61718",_a$1[BlueprintIcons_16.AppHeader]="61719",_a$1[BlueprintIcons_16.Application]="61720",_a$1[BlueprintIcons_16.Applications]="61721",_a$1[BlueprintIcons_16.Archive]="61722",_a$1[BlueprintIcons_16.AreaOfInterest]="61723",_a$1[BlueprintIcons_16.ArrayBoolean]="61724",_a$1[BlueprintIcons_16.ArrayDate]="61725",_a$1[BlueprintIcons_16.ArrayFloatingPoint]="62253",_a$1[BlueprintIcons_16.ArrayNumeric]="61726",_a$1[BlueprintIcons_16.ArrayString]="61727",_a$1[BlueprintIcons_16.ArrayTimestamp]="61728",_a$1[BlueprintIcons_16.Array]="61729",_a$1[BlueprintIcons_16.ArrowBottomLeft]="61730",_a$1[BlueprintIcons_16.ArrowBottomRight]="61731",_a$1[BlueprintIcons_16.ArrowDown]="61732",_a$1[BlueprintIcons_16.ArrowLeft]="61733",_a$1[BlueprintIcons_16.ArrowRight]="61734",_a$1[BlueprintIcons_16.ArrowTopLeft]="61735",_a$1[BlueprintIcons_16.ArrowTopRight]="61736",_a$1[BlueprintIcons_16.ArrowUp]="61737",_a$1[BlueprintIcons_16.ArrowsHorizontal]="61738",_a$1[BlueprintIcons_16.ArrowsVertical]="61739",_a$1[BlueprintIcons_16.Asterisk]="61740",_a$1[BlueprintIcons_16.At]="62257",_a$1[BlueprintIcons_16.AutomaticUpdates]="61741",_a$1[BlueprintIcons_16.Axle]="62264",_a$1[BlueprintIcons_16.Backlink]="61742",_a$1[BlueprintIcons_16.BackwardTen]="62300",_a$1[BlueprintIcons_16.Badge]="61743",_a$1[BlueprintIcons_16.BanCircle]="61744",_a$1[BlueprintIcons_16.BankAccount]="61745",_a$1[BlueprintIcons_16.Barcode]="61746",_a$1[BlueprintIcons_16.BinaryNumber]="62295",_a$1[BlueprintIcons_16.Blank]="61747",_a$1[BlueprintIcons_16.BlockedPerson]="61748",_a$1[BlueprintIcons_16.Bold]="61749",_a$1[BlueprintIcons_16.Book]="61750",_a$1[BlueprintIcons_16.Bookmark]="61751",_a$1[BlueprintIcons_16.Box]="61752",_a$1[BlueprintIcons_16.Briefcase]="61753",_a$1[BlueprintIcons_16.BringData]="61754",_a$1[BlueprintIcons_16.BringForward]="62292",_a$1[BlueprintIcons_16.Bug]="62254",_a$1[BlueprintIcons_16.Buggy]="61755",_a$1[BlueprintIcons_16.Build]="61756",_a$1[BlueprintIcons_16.Bullseye]="62297",_a$1[BlueprintIcons_16.Calculator]="61757",_a$1[BlueprintIcons_16.Calendar]="61758",_a$1[BlueprintIcons_16.Camera]="61759",_a$1[BlueprintIcons_16.CaretDown]="61760",_a$1[BlueprintIcons_16.CaretLeft]="61761",_a$1[BlueprintIcons_16.CaretRight]="61762",_a$1[BlueprintIcons_16.CaretUp]="61763",_a$1[BlueprintIcons_16.CargoShip]="61764",_a$1[BlueprintIcons_16.CellTower]="61765",_a$1[BlueprintIcons_16.Changes]="61766",_a$1[BlueprintIcons_16.Chart]="61767",_a$1[BlueprintIcons_16.Chat]="61768",_a$1[BlueprintIcons_16.ChevronBackward]="61769",_a$1[BlueprintIcons_16.ChevronDown]="61770",_a$1[BlueprintIcons_16.ChevronForward]="61771",_a$1[BlueprintIcons_16.ChevronLeft]="61772",_a$1[BlueprintIcons_16.ChevronRight]="61773",_a$1[BlueprintIcons_16.ChevronUp]="61774",_a$1[BlueprintIcons_16.CircleArrowDown]="61775",_a$1[BlueprintIcons_16.CircleArrowLeft]="61776",_a$1[BlueprintIcons_16.CircleArrowRight]="61777",_a$1[BlueprintIcons_16.CircleArrowUp]="61778",_a$1[BlueprintIcons_16.Circle]="61779",_a$1[BlueprintIcons_16.Citation]="61780",_a$1[BlueprintIcons_16.Clean]="61781",_a$1[BlueprintIcons_16.Clip]="61782",_a$1[BlueprintIcons_16.ClipboardFile]="62299",_a$1[BlueprintIcons_16.Clipboard]="61783",_a$1[BlueprintIcons_16.CloudDownload]="61784",_a$1[BlueprintIcons_16.CloudServer]="62298",_a$1[BlueprintIcons_16.CloudTick]="62286",_a$1[BlueprintIcons_16.CloudUpload]="61785",_a$1[BlueprintIcons_16.Cloud]="61786",_a$1[BlueprintIcons_16.CodeBlock]="61787",_a$1[BlueprintIcons_16.Code]="61788",_a$1[BlueprintIcons_16.Cog]="61789",_a$1[BlueprintIcons_16.CollapseAll]="61790",_a$1[BlueprintIcons_16.ColorFill]="62248",_a$1[BlueprintIcons_16.ColumnLayout]="61791",_a$1[BlueprintIcons_16.Comment]="61792",_a$1[BlueprintIcons_16.Comparison]="61793",_a$1[BlueprintIcons_16.Compass]="61794",_a$1[BlueprintIcons_16.Compressed]="61795",_a$1[BlueprintIcons_16.Confirm]="61796",_a$1[BlueprintIcons_16.Console]="61797",_a$1[BlueprintIcons_16.Contrast]="61798",_a$1[BlueprintIcons_16.Control]="61799",_a$1[BlueprintIcons_16.CreditCard]="61800",_a$1[BlueprintIcons_16.Crop]="62291",_a$1[BlueprintIcons_16.CrossCircle]="62262",_a$1[BlueprintIcons_16.Cross]="61801",_a$1[BlueprintIcons_16.Crown]="61802",_a$1[BlueprintIcons_16.CubeAdd]="61803",_a$1[BlueprintIcons_16.CubeRemove]="61804",_a$1[BlueprintIcons_16.Cube]="61805",_a$1[BlueprintIcons_16.CurlyBraces]="62296",_a$1[BlueprintIcons_16.CurvedRangeChart]="61806",_a$1[BlueprintIcons_16.Cut]="61807",_a$1[BlueprintIcons_16.Cycle]="61808",_a$1[BlueprintIcons_16.Dashboard]="61809",_a$1[BlueprintIcons_16.DataConnection]="61810",_a$1[BlueprintIcons_16.DataLineage]="61811",_a$1[BlueprintIcons_16.Database]="61812",_a$1[BlueprintIcons_16.Delete]="61813",_a$1[BlueprintIcons_16.Delta]="61814",_a$1[BlueprintIcons_16.DeriveColumn]="61815",_a$1[BlueprintIcons_16.Desktop]="61816",_a$1[BlueprintIcons_16.Detection]="62273",_a$1[BlueprintIcons_16.Diagnosis]="61817",_a$1[BlueprintIcons_16.DiagramTree]="61818",_a$1[BlueprintIcons_16.DirectionLeft]="61819",_a$1[BlueprintIcons_16.DirectionRight]="61820",_a$1[BlueprintIcons_16.Disable]="61821",_a$1[BlueprintIcons_16.Divide]="62247",_a$1[BlueprintIcons_16.DocumentOpen]="61822",_a$1[BlueprintIcons_16.DocumentShare]="61823",_a$1[BlueprintIcons_16.Document]="61824",_a$1[BlueprintIcons_16.Dollar]="61825",_a$1[BlueprintIcons_16.Dot]="61826",_a$1[BlueprintIcons_16.DoubleCaretHorizontal]="61827",_a$1[BlueprintIcons_16.DoubleCaretVertical]="61828",_a$1[BlueprintIcons_16.DoubleChevronDown]="61829",_a$1[BlueprintIcons_16.DoubleChevronLeft]="61830",_a$1[BlueprintIcons_16.DoubleChevronRight]="61831",_a$1[BlueprintIcons_16.DoubleChevronUp]="61832",_a$1[BlueprintIcons_16.DoughnutChart]="61833",_a$1[BlueprintIcons_16.Download]="61834",_a$1[BlueprintIcons_16.DragHandleHorizontal]="61835",_a$1[BlueprintIcons_16.DragHandleVertical]="61836",_a$1[BlueprintIcons_16.Draw]="61837",_a$1[BlueprintIcons_16.DrawerLeftFilled]="61838",_a$1[BlueprintIcons_16.DrawerLeft]="61839",_a$1[BlueprintIcons_16.DrawerRightFilled]="61840",_a$1[BlueprintIcons_16.DrawerRight]="61841",_a$1[BlueprintIcons_16.DriveTime]="61842",_a$1[BlueprintIcons_16.Duplicate]="61843",_a$1[BlueprintIcons_16.Edit]="61844",_a$1[BlueprintIcons_16.Eject]="61845",_a$1[BlueprintIcons_16.Emoji]="61846",_a$1[BlueprintIcons_16.Endnote]="62294",_a$1[BlueprintIcons_16.Endorsed]="61847",_a$1[BlueprintIcons_16.Envelope]="61848",_a$1[BlueprintIcons_16.Equals]="61849",_a$1[BlueprintIcons_16.Eraser]="61850",_a$1[BlueprintIcons_16.Error]="61851",_a$1[BlueprintIcons_16.Euro]="61852",_a$1[BlueprintIcons_16.Exchange]="61853",_a$1[BlueprintIcons_16.ExcludeRow]="61854",_a$1[BlueprintIcons_16.ExpandAll]="61855",_a$1[BlueprintIcons_16.Explain]="62285",_a$1[BlueprintIcons_16.Export]="61856",_a$1[BlueprintIcons_16.EyeOff]="61857",_a$1[BlueprintIcons_16.EyeOn]="61858",_a$1[BlueprintIcons_16.EyeOpen]="61859",_a$1[BlueprintIcons_16.FastBackward]="61860",_a$1[BlueprintIcons_16.FastForward]="61861",_a$1[BlueprintIcons_16.FeedSubscribed]="61862",_a$1[BlueprintIcons_16.Feed]="61863",_a$1[BlueprintIcons_16.Film]="61864",_a$1[BlueprintIcons_16.FilterKeep]="61865",_a$1[BlueprintIcons_16.FilterList]="61866",_a$1[BlueprintIcons_16.FilterOpen]="61867",_a$1[BlueprintIcons_16.FilterRemove]="61868",_a$1[BlueprintIcons_16.Filter]="61869",_a$1[BlueprintIcons_16.Flag]="61870",_a$1[BlueprintIcons_16.Flame]="61871",_a$1[BlueprintIcons_16.Flash]="61872",_a$1[BlueprintIcons_16.FloatingPoint]="62252",_a$1[BlueprintIcons_16.FloppyDisk]="61873",_a$1[BlueprintIcons_16.FlowBranch]="61874",_a$1[BlueprintIcons_16.FlowEnd]="61875",_a$1[BlueprintIcons_16.FlowLinear]="61876",_a$1[BlueprintIcons_16.FlowReviewBranch]="61877",_a$1[BlueprintIcons_16.FlowReview]="61878",_a$1[BlueprintIcons_16.Flows]="61879",_a$1[BlueprintIcons_16.FolderClose]="61880",_a$1[BlueprintIcons_16.FolderNew]="61881",_a$1[BlueprintIcons_16.FolderOpen]="61882",_a$1[BlueprintIcons_16.FolderSharedOpen]="61883",_a$1[BlueprintIcons_16.FolderShared]="61884",_a$1[BlueprintIcons_16.Follower]="61885",_a$1[BlueprintIcons_16.Following]="61886",_a$1[BlueprintIcons_16.Font]="61887",_a$1[BlueprintIcons_16.Fork]="61888",_a$1[BlueprintIcons_16.Form]="61889",_a$1[BlueprintIcons_16.ForwardTen]="62301",_a$1[BlueprintIcons_16.Fuel]="62243",_a$1[BlueprintIcons_16.FullCircle]="61890",_a$1[BlueprintIcons_16.FullStackedChart]="61891",_a$1[BlueprintIcons_16.Fullscreen]="61892",_a$1[BlueprintIcons_16.Function]="61893",_a$1[BlueprintIcons_16.GanttChart]="61894",_a$1[BlueprintIcons_16.Generate]="62284",_a$1[BlueprintIcons_16.Geofence]="61895",_a$1[BlueprintIcons_16.Geolocation]="61896",_a$1[BlueprintIcons_16.Geosearch]="61897",_a$1[BlueprintIcons_16.Geotime]="62276",_a$1[BlueprintIcons_16.GitBranch]="61898",_a$1[BlueprintIcons_16.GitCommit]="61899",_a$1[BlueprintIcons_16.GitMerge]="61900",_a$1[BlueprintIcons_16.GitNewBranch]="61901",_a$1[BlueprintIcons_16.GitPull]="61902",_a$1[BlueprintIcons_16.GitPush]="61903",_a$1[BlueprintIcons_16.GitRepo]="61904",_a$1[BlueprintIcons_16.Glass]="61905",_a$1[BlueprintIcons_16.GlobeNetwork]="61906",_a$1[BlueprintIcons_16.Globe]="61907",_a$1[BlueprintIcons_16.GraphRemove]="61908",_a$1[BlueprintIcons_16.Graph]="61909",_a$1[BlueprintIcons_16.GreaterThanOrEqualTo]="61910",_a$1[BlueprintIcons_16.GreaterThan]="61911",_a$1[BlueprintIcons_16.GridView]="61912",_a$1[BlueprintIcons_16.Grid]="61913",_a$1[BlueprintIcons_16.GroupItem]="62282",_a$1[BlueprintIcons_16.GroupObjects]="61914",_a$1[BlueprintIcons_16.GroupedBarChart]="61915",_a$1[BlueprintIcons_16.HandDown]="61916",_a$1[BlueprintIcons_16.HandLeft]="61917",_a$1[BlueprintIcons_16.HandRight]="61918",_a$1[BlueprintIcons_16.HandUp]="61919",_a$1[BlueprintIcons_16.Hand]="61920",_a$1[BlueprintIcons_16.Hat]="61921",_a$1[BlueprintIcons_16.HeaderOne]="61922",_a$1[BlueprintIcons_16.HeaderThree]="61923",_a$1[BlueprintIcons_16.HeaderTwo]="61924",_a$1[BlueprintIcons_16.Header]="61925",_a$1[BlueprintIcons_16.Headset]="61926",_a$1[BlueprintIcons_16.HeartBroken]="61927",_a$1[BlueprintIcons_16.Heart]="61928",_a$1[BlueprintIcons_16.HeatGrid]="61929",_a$1[BlueprintIcons_16.Heatmap]="61930",_a$1[BlueprintIcons_16.Helicopter]="61931",_a$1[BlueprintIcons_16.Help]="61932",_a$1[BlueprintIcons_16.HelperManagement]="61933",_a$1[BlueprintIcons_16.HighPriority]="61934",_a$1[BlueprintIcons_16.HighVoltagePole]="62259",_a$1[BlueprintIcons_16.Highlight]="61935",_a$1[BlueprintIcons_16.History]="61936",_a$1[BlueprintIcons_16.Home]="61937",_a$1[BlueprintIcons_16.HorizontalBarChartAsc]="61938",_a$1[BlueprintIcons_16.HorizontalBarChartDesc]="61939",_a$1[BlueprintIcons_16.HorizontalBarChart]="61940",_a$1[BlueprintIcons_16.HorizontalDistribution]="61941",_a$1[BlueprintIcons_16.HorizontalInbetween]="62249",_a$1[BlueprintIcons_16.Hurricane]="61942",_a$1[BlueprintIcons_16.IdNumber]="61943",_a$1[BlueprintIcons_16.ImageRotateLeft]="61944",_a$1[BlueprintIcons_16.ImageRotateRight]="61945",_a$1[BlueprintIcons_16.Import]="61946",_a$1[BlueprintIcons_16.InboxFiltered]="61947",_a$1[BlueprintIcons_16.InboxGeo]="61948",_a$1[BlueprintIcons_16.InboxSearch]="61949",_a$1[BlueprintIcons_16.InboxUpdate]="61950",_a$1[BlueprintIcons_16.Inbox]="61951",_a$1[BlueprintIcons_16.InfoSign]="61952",_a$1[BlueprintIcons_16.Inheritance]="61953",_a$1[BlueprintIcons_16.InheritedGroup]="61954",_a$1[BlueprintIcons_16.InnerJoin]="61955",_a$1[BlueprintIcons_16.Input]="62283",_a$1[BlueprintIcons_16.Insert]="61956",_a$1[BlueprintIcons_16.Intelligence]="62263",_a$1[BlueprintIcons_16.Intersection]="61957",_a$1[BlueprintIcons_16.IpAddress]="61958",_a$1[BlueprintIcons_16.IssueClosed]="61959",_a$1[BlueprintIcons_16.IssueNew]="61960",_a$1[BlueprintIcons_16.Issue]="61961",_a$1[BlueprintIcons_16.Italic]="61962",_a$1[BlueprintIcons_16.JoinTable]="61963",_a$1[BlueprintIcons_16.KeyBackspace]="61964",_a$1[BlueprintIcons_16.KeyCommand]="61965",_a$1[BlueprintIcons_16.KeyControl]="61966",_a$1[BlueprintIcons_16.KeyDelete]="61967",_a$1[BlueprintIcons_16.KeyEnter]="61968",_a$1[BlueprintIcons_16.KeyEscape]="61969",_a$1[BlueprintIcons_16.KeyOption]="61970",_a$1[BlueprintIcons_16.KeyShift]="61971",_a$1[BlueprintIcons_16.KeyTab]="61972",_a$1[BlueprintIcons_16.Key]="61973",_a$1[BlueprintIcons_16.KnownVehicle]="61974",_a$1[BlueprintIcons_16.LabTest]="61975",_a$1[BlueprintIcons_16.Label]="61976",_a$1[BlueprintIcons_16.LayerOutline]="61977",_a$1[BlueprintIcons_16.Layer]="61978",_a$1[BlueprintIcons_16.Layers]="61979",_a$1[BlueprintIcons_16.LayoutAuto]="61980",_a$1[BlueprintIcons_16.LayoutBalloon]="61981",_a$1[BlueprintIcons_16.LayoutCircle]="61982",_a$1[BlueprintIcons_16.LayoutGrid]="61983",_a$1[BlueprintIcons_16.LayoutGroupBy]="61984",_a$1[BlueprintIcons_16.LayoutHierarchy]="61985",_a$1[BlueprintIcons_16.LayoutLinear]="61986",_a$1[BlueprintIcons_16.LayoutSkewGrid]="61987",_a$1[BlueprintIcons_16.LayoutSortedClusters]="61988",_a$1[BlueprintIcons_16.Layout]="61989",_a$1[BlueprintIcons_16.Learning]="61990",_a$1[BlueprintIcons_16.LeftJoin]="61991",_a$1[BlueprintIcons_16.LengthenText]="62270",_a$1[BlueprintIcons_16.LessThanOrEqualTo]="61992",_a$1[BlueprintIcons_16.LessThan]="61993",_a$1[BlueprintIcons_16.Lifesaver]="61994",_a$1[BlueprintIcons_16.Lightbulb]="61995",_a$1[BlueprintIcons_16.Lightning]="61996",_a$1[BlueprintIcons_16.Link]="61997",_a$1[BlueprintIcons_16.ListColumns]="61998",_a$1[BlueprintIcons_16.ListDetailView]="61999",_a$1[BlueprintIcons_16.List]="62000",_a$1[BlueprintIcons_16.Locate]="62001",_a$1[BlueprintIcons_16.Lock]="62002",_a$1[BlueprintIcons_16.Locomotive]="62267",_a$1[BlueprintIcons_16.LogIn]="62003",_a$1[BlueprintIcons_16.LogOut]="62004",_a$1[BlueprintIcons_16.LowVoltagePole]="62258",_a$1[BlueprintIcons_16.Manual]="62005",_a$1[BlueprintIcons_16.ManuallyEnteredData]="62006",_a$1[BlueprintIcons_16.ManyToMany]="62007",_a$1[BlueprintIcons_16.ManyToOne]="62008",_a$1[BlueprintIcons_16.MapCreate]="62009",_a$1[BlueprintIcons_16.MapMarker]="62010",_a$1[BlueprintIcons_16.Map]="62011",_a$1[BlueprintIcons_16.Maximize]="62012",_a$1[BlueprintIcons_16.Media]="62013",_a$1[BlueprintIcons_16.MenuClosed]="62014",_a$1[BlueprintIcons_16.MenuOpen]="62015",_a$1[BlueprintIcons_16.Menu]="62016",_a$1[BlueprintIcons_16.MergeColumns]="62017",_a$1[BlueprintIcons_16.MergeLinks]="62018",_a$1[BlueprintIcons_16.Microphone]="62275",_a$1[BlueprintIcons_16.Minimize]="62019",_a$1[BlueprintIcons_16.Minus]="62020",_a$1[BlueprintIcons_16.MobilePhone]="62021",_a$1[BlueprintIcons_16.MobileVideo]="62022",_a$1[BlueprintIcons_16.ModalFilled]="62023",_a$1[BlueprintIcons_16.Modal]="62024",_a$1[BlueprintIcons_16.Model]="62269",_a$1[BlueprintIcons_16.Moon]="62025",_a$1[BlueprintIcons_16.More]="62026",_a$1[BlueprintIcons_16.Mountain]="62027",_a$1[BlueprintIcons_16.Move]="62028",_a$1[BlueprintIcons_16.Mugshot]="62029",_a$1[BlueprintIcons_16.MultiSelect]="62030",_a$1[BlueprintIcons_16.Music]="62031",_a$1[BlueprintIcons_16.Nest]="62032",_a$1[BlueprintIcons_16.NewDrawing]="62033",_a$1[BlueprintIcons_16.NewGridItem]="62034",_a$1[BlueprintIcons_16.NewLayer]="62035",_a$1[BlueprintIcons_16.NewLayers]="62036",_a$1[BlueprintIcons_16.NewLink]="62037",_a$1[BlueprintIcons_16.NewObject]="62038",_a$1[BlueprintIcons_16.NewPerson]="62039",_a$1[BlueprintIcons_16.NewPrescription]="62040",_a$1[BlueprintIcons_16.NewShield]="62281",_a$1[BlueprintIcons_16.NewTextBox]="62041",_a$1[BlueprintIcons_16.Ninja]="62042",_a$1[BlueprintIcons_16.NotEqualTo]="62043",_a$1[BlueprintIcons_16.NotificationsSnooze]="62044",_a$1[BlueprintIcons_16.NotificationsUpdated]="62045",_a$1[BlueprintIcons_16.Notifications]="62046",_a$1[BlueprintIcons_16.NumberedList]="62047",_a$1[BlueprintIcons_16.Numerical]="62048",_a$1[BlueprintIcons_16.Office]="62049",_a$1[BlueprintIcons_16.Offline]="62050",_a$1[BlueprintIcons_16.OilField]="62051",_a$1[BlueprintIcons_16.OneColumn]="62052",_a$1[BlueprintIcons_16.OneToMany]="62053",_a$1[BlueprintIcons_16.OneToOne]="62054",_a$1[BlueprintIcons_16.OpenApplication]="62251",_a$1[BlueprintIcons_16.Outdated]="62055",_a$1[BlueprintIcons_16.PageLayout]="62056",_a$1[BlueprintIcons_16.PanelStats]="62057",_a$1[BlueprintIcons_16.PanelTable]="62058",_a$1[BlueprintIcons_16.Paperclip]="62059",_a$1[BlueprintIcons_16.Paragraph]="62060",_a$1[BlueprintIcons_16.PasteVariable]="62278",_a$1[BlueprintIcons_16.PathSearch]="62061",_a$1[BlueprintIcons_16.Path]="62062",_a$1[BlueprintIcons_16.Pause]="62063",_a$1[BlueprintIcons_16.People]="62064",_a$1[BlueprintIcons_16.Percentage]="62065",_a$1[BlueprintIcons_16.Person]="62066",_a$1[BlueprintIcons_16.PhoneCall]="62279",_a$1[BlueprintIcons_16.PhoneForward]="62280",_a$1[BlueprintIcons_16.Phone]="62067",_a$1[BlueprintIcons_16.PieChart]="62068",_a$1[BlueprintIcons_16.Pin]="62069",_a$1[BlueprintIcons_16.PivotTable]="62070",_a$1[BlueprintIcons_16.Pivot]="62071",_a$1[BlueprintIcons_16.Play]="62072",_a$1[BlueprintIcons_16.Playbook]="62244",_a$1[BlueprintIcons_16.Plus]="62073",_a$1[BlueprintIcons_16.PolygonFilter]="62074",_a$1[BlueprintIcons_16.Power]="62075",_a$1[BlueprintIcons_16.PredictiveAnalysis]="62076",_a$1[BlueprintIcons_16.Prescription]="62077",_a$1[BlueprintIcons_16.Presentation]="62078",_a$1[BlueprintIcons_16.Print]="62079",_a$1[BlueprintIcons_16.Projects]="62080",_a$1[BlueprintIcons_16.Properties]="62081",_a$1[BlueprintIcons_16.Property]="62082",_a$1[BlueprintIcons_16.PublishFunction]="62083",_a$1[BlueprintIcons_16.Pulse]="62084",_a$1[BlueprintIcons_16.Rain]="62085",_a$1[BlueprintIcons_16.Random]="62086",_a$1[BlueprintIcons_16.Record]="62087",_a$1[BlueprintIcons_16.RectHeight]="62245",_a$1[BlueprintIcons_16.RectWidth]="62246",_a$1[BlueprintIcons_16.Rectangle]="62241",_a$1[BlueprintIcons_16.Redo]="62088",_a$1[BlueprintIcons_16.Refresh]="62089",_a$1[BlueprintIcons_16.Regex]="62255",_a$1[BlueprintIcons_16.RegressionChart]="62090",_a$1[BlueprintIcons_16.RemoveColumnLeft]="62091",_a$1[BlueprintIcons_16.RemoveColumnRight]="62092",_a$1[BlueprintIcons_16.RemoveColumn]="62093",_a$1[BlueprintIcons_16.RemoveRowBottom]="62094",_a$1[BlueprintIcons_16.RemoveRowTop]="62095",_a$1[BlueprintIcons_16.Remove]="62096",_a$1[BlueprintIcons_16.Repeat]="62097",_a$1[BlueprintIcons_16.Reset]="62098",_a$1[BlueprintIcons_16.Resolve]="62099",_a$1[BlueprintIcons_16.Rig]="62100",_a$1[BlueprintIcons_16.RightJoin]="62101",_a$1[BlueprintIcons_16.Ring]="62102",_a$1[BlueprintIcons_16.RocketSlant]="62103",_a$1[BlueprintIcons_16.Rocket]="62104",_a$1[BlueprintIcons_16.RotateDocument]="62105",_a$1[BlueprintIcons_16.RotatePage]="62106",_a$1[BlueprintIcons_16.Route]="62107",_a$1[BlueprintIcons_16.Satellite]="62108",_a$1[BlueprintIcons_16.Saved]="62109",_a$1[BlueprintIcons_16.ScatterPlot]="62110",_a$1[BlueprintIcons_16.SearchAround]="62111",_a$1[BlueprintIcons_16.SearchTemplate]="62112",_a$1[BlueprintIcons_16.SearchText]="62113",_a$1[BlueprintIcons_16.Search]="62114",_a$1[BlueprintIcons_16.SegmentedControl]="62115",_a$1[BlueprintIcons_16.Select]="62116",_a$1[BlueprintIcons_16.Selection]="62117",_a$1[BlueprintIcons_16.SendBackward]="62293",_a$1[BlueprintIcons_16.SendMessage]="62118",_a$1[BlueprintIcons_16.SendToGraph]="62119",_a$1[BlueprintIcons_16.SendToMap]="62120",_a$1[BlueprintIcons_16.SendTo]="62121",_a$1[BlueprintIcons_16.Sensor]="62268",_a$1[BlueprintIcons_16.SeriesAdd]="62122",_a$1[BlueprintIcons_16.SeriesConfiguration]="62123",_a$1[BlueprintIcons_16.SeriesDerived]="62124",_a$1[BlueprintIcons_16.SeriesFiltered]="62125",_a$1[BlueprintIcons_16.SeriesSearch]="62126",_a$1[BlueprintIcons_16.Settings]="62127",_a$1[BlueprintIcons_16.Shapes]="62128",_a$1[BlueprintIcons_16.Share]="62129",_a$1[BlueprintIcons_16.SharedFilter]="62130",_a$1[BlueprintIcons_16.Shield]="62131",_a$1[BlueprintIcons_16.Ship]="62132",_a$1[BlueprintIcons_16.Shop]="62133",_a$1[BlueprintIcons_16.ShoppingCart]="62134",_a$1[BlueprintIcons_16.ShortenText]="62271",_a$1[BlueprintIcons_16.SignalSearch]="62135",_a$1[BlueprintIcons_16.SimCard]="62136",_a$1[BlueprintIcons_16.Slash]="62137",_a$1[BlueprintIcons_16.SmallCross]="62138",_a$1[BlueprintIcons_16.SmallInfoSign]="62260",_a$1[BlueprintIcons_16.SmallMinus]="62139",_a$1[BlueprintIcons_16.SmallPlus]="62140",_a$1[BlueprintIcons_16.SmallSquare]="62141",_a$1[BlueprintIcons_16.SmallTick]="62142",_a$1[BlueprintIcons_16.Snowflake]="62143",_a$1[BlueprintIcons_16.SoccerBall]="62288",_a$1[BlueprintIcons_16.SocialMedia]="62144",_a$1[BlueprintIcons_16.SortAlphabeticalDesc]="62145",_a$1[BlueprintIcons_16.SortAlphabetical]="62146",_a$1[BlueprintIcons_16.SortAsc]="62147",_a$1[BlueprintIcons_16.SortDesc]="62148",_a$1[BlueprintIcons_16.SortNumericalDesc]="62149",_a$1[BlueprintIcons_16.SortNumerical]="62150",_a$1[BlueprintIcons_16.Sort]="62151",_a$1[BlueprintIcons_16.SpellCheck]="62272",_a$1[BlueprintIcons_16.SplitColumns]="62152",_a$1[BlueprintIcons_16.SportsStadium]="62289",_a$1[BlueprintIcons_16.Square]="62153",_a$1[BlueprintIcons_16.StackedChart]="62154",_a$1[BlueprintIcons_16.StadiumGeometry]="62155",_a$1[BlueprintIcons_16.StarEmpty]="62156",_a$1[BlueprintIcons_16.Star]="62157",_a$1[BlueprintIcons_16.StepBackward]="62158",_a$1[BlueprintIcons_16.StepChart]="62159",_a$1[BlueprintIcons_16.StepForward]="62160",_a$1[BlueprintIcons_16.Stop]="62161",_a$1[BlueprintIcons_16.Stopwatch]="62162",_a$1[BlueprintIcons_16.Strikethrough]="62163",_a$1[BlueprintIcons_16.Style]="62164",_a$1[BlueprintIcons_16.Subscript]="62265",_a$1[BlueprintIcons_16.Superscript]="62266",_a$1[BlueprintIcons_16.SwapHorizontal]="62165",_a$1[BlueprintIcons_16.SwapVertical]="62166",_a$1[BlueprintIcons_16.Switch]="62167",_a$1[BlueprintIcons_16.SymbolCircle]="62168",_a$1[BlueprintIcons_16.SymbolCross]="62169",_a$1[BlueprintIcons_16.SymbolDiamond]="62170",_a$1[BlueprintIcons_16.SymbolRectangle]="62242",_a$1[BlueprintIcons_16.SymbolSquare]="62171",_a$1[BlueprintIcons_16.SymbolTriangleDown]="62172",_a$1[BlueprintIcons_16.SymbolTriangleUp]="62173",_a$1[BlueprintIcons_16.Syringe]="62174",_a$1[BlueprintIcons_16.Tag]="62175",_a$1[BlueprintIcons_16.TakeAction]="62176",_a$1[BlueprintIcons_16.Tank]="62177",_a$1[BlueprintIcons_16.Target]="62178",_a$1[BlueprintIcons_16.Taxi]="62179",_a$1[BlueprintIcons_16.Team]="62290",_a$1[BlueprintIcons_16.Temperature]="62180",_a$1[BlueprintIcons_16.TextHighlight]="62181",_a$1[BlueprintIcons_16.ThDerived]="62182",_a$1[BlueprintIcons_16.ThDisconnect]="62183",_a$1[BlueprintIcons_16.ThFiltered]="62184",_a$1[BlueprintIcons_16.ThList]="62185",_a$1[BlueprintIcons_16.Th]="62186",_a$1[BlueprintIcons_16.ThirdParty]="62187",_a$1[BlueprintIcons_16.ThumbsDown]="62188",_a$1[BlueprintIcons_16.ThumbsUp]="62189",_a$1[BlueprintIcons_16.TickCircle]="62190",_a$1[BlueprintIcons_16.Tick]="62191",_a$1[BlueprintIcons_16.Time]="62192",_a$1[BlueprintIcons_16.TimelineAreaChart]="62193",_a$1[BlueprintIcons_16.TimelineBarChart]="62194",_a$1[BlueprintIcons_16.TimelineEvents]="62195",_a$1[BlueprintIcons_16.TimelineLineChart]="62196",_a$1[BlueprintIcons_16.Tint]="62197",_a$1[BlueprintIcons_16.Torch]="62198",_a$1[BlueprintIcons_16.Tractor]="62199",_a$1[BlueprintIcons_16.Train]="62200",_a$1[BlueprintIcons_16.Translate]="62201",_a$1[BlueprintIcons_16.Trash]="62202",_a$1[BlueprintIcons_16.Tree]="62203",_a$1[BlueprintIcons_16.TrendingDown]="62204",_a$1[BlueprintIcons_16.TrendingUp]="62205",_a$1[BlueprintIcons_16.Trophy]="62287",_a$1[BlueprintIcons_16.Truck]="62206",_a$1[BlueprintIcons_16.TwoColumns]="62207",_a$1[BlueprintIcons_16.Unarchive]="62208",_a$1[BlueprintIcons_16.Underline]="62209",_a$1[BlueprintIcons_16.Undo]="62210",_a$1[BlueprintIcons_16.UngroupObjects]="62211",_a$1[BlueprintIcons_16.UnknownVehicle]="62212",_a$1[BlueprintIcons_16.Unlink]="62277",_a$1[BlueprintIcons_16.Unlock]="62213",_a$1[BlueprintIcons_16.Unpin]="62214",_a$1[BlueprintIcons_16.Unresolve]="62215",_a$1[BlueprintIcons_16.Updated]="62216",_a$1[BlueprintIcons_16.Upload]="62217",_a$1[BlueprintIcons_16.User]="62218",_a$1[BlueprintIcons_16.Variable]="62219",_a$1[BlueprintIcons_16.VerticalBarChartAsc]="62220",_a$1[BlueprintIcons_16.VerticalBarChartDesc]="62221",_a$1[BlueprintIcons_16.VerticalDistribution]="62222",_a$1[BlueprintIcons_16.VerticalInbetween]="62250",_a$1[BlueprintIcons_16.Video]="62223",_a$1[BlueprintIcons_16.Virus]="62224",_a$1[BlueprintIcons_16.VolumeDown]="62225",_a$1[BlueprintIcons_16.VolumeOff]="62226",_a$1[BlueprintIcons_16.VolumeUp]="62227",_a$1[BlueprintIcons_16.Walk]="62228",_a$1[BlueprintIcons_16.WarningSign]="62229",_a$1[BlueprintIcons_16.WaterfallChart]="62230",_a$1[BlueprintIcons_16.Waves]="62231",_a$1[BlueprintIcons_16.WidgetButton]="62232",_a$1[BlueprintIcons_16.WidgetFooter]="62233",_a$1[BlueprintIcons_16.WidgetHeader]="62234",_a$1[BlueprintIcons_16.Widget]="62235",_a$1[BlueprintIcons_16.Wind]="62236",_a$1[BlueprintIcons_16.Wrench]="62237",_a$1[BlueprintIcons_16.ZoomIn]="62238",_a$1[BlueprintIcons_16.ZoomOut]="62239",_a$1[BlueprintIcons_16.ZoomToFit]="62240";var IconNamesNew={},IconNamesLegacy={};for(var _i=0,_a=Object.values(BlueprintIcons_16);_i<_a.length;_i++){var name_1=_a[_i];IconNamesNew[pascalCase(name_1)]=name_1,IconNamesLegacy[snakeCase(name_1).toUpperCase()]=name_1}var IconNames=__assign$1(__assign$1({},IconNamesNew),IconNamesLegacy),IconNamesSet=new Set(Object.values(IconNames));function isNodeEnv(_e){return typeof NODE_ENV<"u"&&NODE_ENV===_e}function wrapWithTimer(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,rt,nt;return __generator(this,function(it){switch(it.label){case 0:return tt=isNodeEnv("development")&&typeof performance<"u",tt&&(rt=performance.now(),console.info("Started '".concat(_e,"'..."))),[4,et()];case 1:return it.sent(),tt&&(nt=Math.round(performance.now()-rt),console.info("Finished '".concat(_e,"' in ").concat(nt,"ms"))),[2]}})})}function getLoaderFn(_e){return __awaiter(this,void 0,void 0,function(){var et,tt;return __generator(this,function(rt){switch(rt.label){case 0:return et=_e.loader,tt=et===void 0?singleton.defaultLoader:et,typeof tt!="function"?[3,1]:[2,tt];case 1:return tt!=="all"?[3,3]:[4,__vitePreload(()=>import("./allPathsLoader-666e961b.js"),[])];case 2:return[2,rt.sent().allPathsLoader];case 3:return[4,__vitePreload(()=>import("./splitPathsBySizeLoader-c72955e2.js"),[])];case 4:return[2,rt.sent().splitPathsBySizeLoader]}})})}var Icons=function(){function _e(){this.defaultLoader="split-by-size",this.loadedIconPaths16=new Map,this.loadedIconPaths20=new Map}return _e.setLoaderOptions=function(et){et.loader!==void 0&&(singleton.defaultLoader=et.loader)},_e.load=function(et,tt,rt){return __awaiter(this,void 0,void 0,function(){var nt=this;return __generator(this,function(it){switch(it.label){case 0:return Array.isArray(et)||(et=[et]),[4,Promise.all(et.map(function(ot){return nt.loadImpl(ot,tt,rt)}))];case 1:return it.sent(),[2]}})})},_e.loadAll=function(et){return __awaiter(this,void 0,void 0,function(){var tt,rt=this;return __generator(this,function(nt){return tt=Object.values(IconNames),wrapWithTimer("[Blueprint] loading all icons",function(){return __awaiter(rt,void 0,void 0,function(){return __generator(this,function(it){switch(it.label){case 0:return[4,Promise.all([this.load(tt,IconSize.STANDARD,et),this.load(tt,IconSize.LARGE,et)])];case 1:return it.sent(),[2]}})})}),[2]})})},_e.getPaths=function(et,tt){if(this.isValidIconName(et)){var rt=tt<IconSize.LARGE?singleton.loadedIconPaths16:singleton.loadedIconPaths20;return rt.get(et)}},_e.loadImpl=function(et,tt,rt){return rt===void 0&&(rt={}),__awaiter(this,void 0,void 0,function(){var nt,it,ot,at,st;return __generator(this,function(lt){switch(lt.label){case 0:return this.isValidIconName(et)?(nt=tt<IconSize.LARGE?singleton.loadedIconPaths16:singleton.loadedIconPaths20,nt.has(et)?[2]:[4,getLoaderFn(rt)]):(console.error("[Blueprint] Unknown icon '".concat(et,"'")),[2]);case 1:it=lt.sent(),lt.label=2;case 2:return lt.trys.push([2,4,,5]),ot=tt<IconSize.LARGE?IconSize.STANDARD:IconSize.LARGE,[4,it(et,ot)];case 3:return at=lt.sent(),nt.set(et,at),[3,5];case 4:return st=lt.sent(),console.error("[Blueprint] Unable to load ".concat(tt,"px icon '").concat(et,"'"),st),[3,5];case 5:return[2]}})})},_e.isValidIconName=function(et){return IconNamesSet.has(et)},_e}(),singleton=new Icons,NS$1="bp5",ICON="".concat(NS$1,"-icon"),uniqueCountForNamespace=new Map;function uniqueId(_e){var et,tt=(et=uniqueCountForNamespace.get(_e))!==null&&et!==void 0?et:0;return uniqueCountForNamespace.set(_e,tt+1),"".concat(_e,"-").concat(tt)}var SVGIconContainer=reactExports.forwardRef(function(_e,et){var tt=_e.children,rt=_e.className,nt=_e.color,it=_e.htmlTitle,ot=_e.iconName,at=_e.size,st=at===void 0?IconSize.STANDARD:at,lt=_e.svgProps,ct=_e.tagName,ut=ct===void 0?"span":ct,ft=_e.title,dt=__rest$1(_e,["children","className","color","htmlTitle","iconName","size","svgProps","tagName","title"]),pt=st>=IconSize.LARGE,mt=pt?IconSize.LARGE:IconSize.STANDARD,vt="0 0 ".concat(mt," ").concat(mt),ht=uniqueId("iconTitle"),yt=__assign$1({fill:nt,height:st,role:"img",viewBox:vt,width:st},lt);return ut===null?reactExports.createElement("svg",__assign$1({"aria-labelledby":ft?ht:void 0,"data-icon":ot,ref:et},yt,dt,{className:classNames(rt,lt==null?void 0:lt.className)}),ft&&reactExports.createElement("title",{id:ht},ft),tt):reactExports.createElement(ut,__assign$1(__assign$1({"aria-hidden":ft?void 0:!0},dt),{className:classNames(ICON,"".concat(ICON,"-").concat(ot),rt),ref:et,title:it}),reactExports.createElement("svg",__assign$1({"data-icon":ot},yt,{className:lt==null?void 0:lt.className}),ft&&reactExports.createElement("title",null,ft),tt))});SVGIconContainer.displayName="Blueprint5.SVGIconContainer";var ArrowDown=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"arrow-down",ref:et},_e),reactExports.createElement("path",{d:tt?"M320 180C314 180 310 178 306 174L220 88V360C220 370 212 380 200 380S180 370 180 360V88L94 174C90 178 86 180 80 180C70 180 60 172 60 160C60 154 62 150 66 146L186 26C190 22 194 20 200 20S210 22 214 26L334 146C338 150 340 154 340 160C340 172 330 180 320 180L320 180z":"M260 160C254 160 250 158 246 154L180 88V280C180 290 172 300 160 300S140 290 140 280V88L74 154C70 158 66 160 60 160C50 160 40 150 40 140C40 134 42 130 46 126L146 26C150 22 154 20 160 20S170 22 174 26L274 126C278 130 280 134 280 140C280 152 272 160 260 160L260 160z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});ArrowDown.defaultProps={size:IconSize.STANDARD};ArrowDown.displayName="Blueprint5.Icon.ArrowDown";var ArrowLeft=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"arrow-left",ref:et},_e),reactExports.createElement("path",{d:tt?"M360 220H88.2L174 305.8C177.8 309.4 180 314.4 180 320C180 331 171 340 160 340C154.4 340 149.4 337.8 145.8 334.2L25.8 214.2C22.2 210.6 20 205.6 20 200C20 194.4 22.2 189.4 25.8 185.8L145.8 65.8C149.4 62.2 154.4 60 160 60C171 60 180 69 180 80C180 85.6 177.8 90.6 174.2 94.2000000000001L88.2 180H360C371 180 380 189 380 200C380 211 371 220 360 220z":"M279.8 180.2H88.2L154 246C157.6 249.6 159.8 254.6 159.8 260.2C159.8 271.2 150.8 280.2 139.8 280.2C134.2 280.2 129.2 278 125.6 274.4L25.6 174.4C22 170.6 19.8 165.6 19.8 160.2S22 149.6 25.6 146L125.6 46C129.2 42.4 134.2 40.2 139.8 40.2C150.8 40.2 159.8 49.2 159.8 60.2000000000001C159.8 65.8 157.6 70.8 154 74.4L88.2 140.2H280C291 140.2 300 149.2 300 160.2S290.8 180.2 279.8 180.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});ArrowLeft.defaultProps={size:IconSize.STANDARD};ArrowLeft.displayName="Blueprint5.Icon.ArrowLeft";var ArrowRight=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"arrow-right",ref:et},_e),reactExports.createElement("path",{d:tt?"M374.2000000000001 214.2L254.2 334.2000000000001C250.6 337.8 245.6 340 240 340C229 340 220 331 220 320C220 314.4 222.2 309.4 225.8 305.8L311.8 220H40C29 220 20 211 20 200C20 189 29 180 40 180H311.8L226 94.2000000000001C222.2 90.6 220 85.6 220 80C220 69 229 60 240 60C245.6 60 250.6 62.2 254.2 65.8L374.2000000000001 185.8C377.8 189.4 380 194.4 380 200C380 205.6 377.8 210.6 374.2000000000001 214.2z":"M294 174.2L194 274.2C190.4 278 185.4 280.2 179.8 280.2C168.8 280.2 159.8 271.2 159.8 260.2C159.8 254.6 162 249.6 165.6 246L231.4 180.2H39.8C28.8 180.2 19.8 171.2 19.8 160.2S28.8 140.2 39.8 140.2H231.6L165.8 74.4C162.2 70.8 160 65.8 160 60.1999999999999C160 49.1999999999999 169 40.1999999999999 180 40.1999999999999C185.6 40.1999999999999 190.6 42.4 194.2 45.9999999999999L294.2000000000001 146C297.8 149.5999999999999 300 154.5999999999999 300 160.1999999999999S297.6 170.6 294 174.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});ArrowRight.defaultProps={size:IconSize.STANDARD};ArrowRight.displayName="Blueprint5.Icon.ArrowRight";var ArrowUp=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"arrow-up",ref:et},_e),reactExports.createElement("path",{d:tt?"M334 254L214 374C210 378 206 380 200 380S190 378 186 374L66 254C62 250 60 246 60 240C60 228 70 220 80 220C86 220 90 222 94 226L180 312V40C180 30 188 20 200 20S220 30 220 40V312L306 226C310 222 314 220 320 220C330 220 340 228 340 240C340 246 338 250 334 254L334 254z":"M274 194L174 294C170 298 166 300 160 300S150 298 146 294L46 194C42 190 40 186 40 180C40 168 50 160 60 160C66 160 70 162 74 166L140 232V40C140 28 148 20 160 20S180 28 180 40V232L246 166C250 162 254 160 260 160C272 160 280 168 280 180C280 186 278 190 274 194L274 194z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});ArrowUp.defaultProps={size:IconSize.STANDARD};ArrowUp.displayName="Blueprint5.Icon.ArrowUp";var CaretRight=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"caret-right",ref:et},_e),reactExports.createElement("path",{d:tt?"M280 200C280 206.2 277 211.4 272.6 215.2L272.8 215.4L152.8 315.4L152.6 315.2C149.2 318 144.8 320 140 320C129 320 120 311 120 300V100C120 89 129 80 140 80C144.8 80 149.2 82 152.6 84.8L152.8 84.6L272.8 184.6L272.6 184.8C277 188.6 280 193.8 280 200z":"M220 160C220 163 218.6 165.6 216.6 167.4L216.6 167.4L136.6 237.4L136.6 237.4C134.8 239 132.6 240 130 240C124.4 240 120 235.6 120 230V90C120 84.4 124.4 80 130 80C132.6 80 134.8 81 136.6 82.6C136.6 82.6 136.6 82.6 136.6 82.6L216.6 152.6L216.6 152.6C218.6 154.4 220 157 220 160z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});CaretRight.defaultProps={size:IconSize.STANDARD};CaretRight.displayName="Blueprint5.Icon.CaretRight";var Cross$1=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"cross",ref:et},_e),reactExports.createElement("path",{d:tt?"M228.2 200L314 285.8C317.8 289.4 320 294.4 320 300C320 311 311 320 300 320C294.4000000000001 320 289.4000000000001 317.8 285.8 314.2L200 228.2L114.2 314.2C110.6 317.8 105.6 320 100 320C89 320 80 311 80 300C80 294.4 82.2 289.4 85.8 285.8L171.8 200L86 114.2000000000001C82.2 110.6 80 105.6 80 100C80 89 89 80 100 80C105.6 80 110.6 82.2 114.2 85.8L200 171.8L285.8 86C289.4000000000001 82.2 294.4000000000001 80 300 80C311 80 320 89 320 100C320 105.6 317.8 110.6 314.2000000000001 114.2000000000001L228.2 200z":"M188.2 160L254 225.8C257.8 229.4 260 234.4 260 240C260 251 251 260 240 260C234.4 260 229.4 257.8 225.8 254.2L160 188.2L94.2 254.2C90.6 257.8 85.6 260 80 260C69 260 60 251 60 240C60 234.4 62.2 229.4 65.8 225.8L131.8 160L66 94.2C62.2 90.6 60 85.6 60 80C60 69 69 60 80 60C85.6 60 90.6 62.2 94.2 65.8L160 131.8L225.8 66C229.4 62.2 234.4 60 240 60C251 60 260 69 260 80C260 85.6 257.8 90.6 254.2 94.2L188.2 160z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});Cross$1.defaultProps={size:IconSize.STANDARD};Cross$1.displayName="Blueprint5.Icon.Cross";var KeyCommand=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-command",ref:et},_e),reactExports.createElement("path",{d:tt?"M310 160H280V240H310C348.6 240 380 271.4 380 310S348.6 380 310 380S240 348.6 240 310V280H160V310C160 348.6 128.6 380 90 380S20 348.6 20 310S51.4 240 90 240H120V160H90C51.4 160 20 128.6 20 90S51.4 20 90 20S160 51.4 160 90V120H240V90C240 51.4 271.4 20 310 20S380 51.4 380 90S348.6 160 310 160zM310 340C326.6 340 340 326.6 340 310S326.6 280 310 280S280 293.4 280 310S293.4 340 310 340zM90 60C73.4 60 60 73.4 60 90S73.4 120 90 120S120 106.6 120 90S106.6 60 90 60zM90 280C73.4 280 60 293.4 60 310S73.4 340 90 340S120 326.6 120 310S106.6 280 90 280zM240 160H160V240H240V160zM310 60C293.4 60 280 73.4 280 90S293.4 120 310 120S340 106.6 340 90S326.6 60 310 60z":"M240 140H220V180H240C273.2 180 300 206.8 300 240S273.2 300 240 300S180 273.2 180 240V220H140V240C140 273.2 113.2 300 80 300S20 273.2 20 240S46.8 180 80 180H100V140H80C46.8 140 20 113.2 20 80S46.8 20 80 20S140 46.8 140 80V100H180V80C180 46.8 206.8 20 240 20S300 46.8 300 80S273.2 140 240 140zM240 260C251 260 260 251 260 240C260 229 251 220 240 220S220 229 220 240C220 251 229 260 240 260zM80 60C69 60 60 69 60 80C60 91 69 100 80 100S100 91 100 80C100 69 91 60 80 60zM80 220C69 220 60 229 60 240C60 251 69 260 80 260S100 251 100 240C100 229 91 220 80 220zM180 140H140V180H180V140zM240 60C229 60 220 69 220 80C220 91 229 100 240 100S260 91 260 80C260 69 251 60 240 60z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyCommand.defaultProps={size:IconSize.STANDARD};KeyCommand.displayName="Blueprint5.Icon.KeyCommand";var KeyControl=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-control",ref:et},_e),reactExports.createElement("path",{d:tt?"M334.2000000000001 254.2L214.2 374.2C210.6 377.8 205.6 380 200 380S189.4 377.8 185.8 374.2L65.8 254.2C62.2 250.6 60 245.6 60 240C60 229 69 220 80 220C85.6 220 90.6 222.2 94.2 225.8L200 331.8L305.8 226C309.4000000000001 222.2 314.4000000000001 220 320 220C331 220 340 229 340 240C340 245.6 337.8 250.6 334.2000000000001 254.2z":"M254.2 214.2L174.2 294.2C170.6 297.8 165.6 300 160 300S149.4 297.8 145.8 294.2L65.8 214.2C62.2 210.6 60 205.6 60 200C60 189 69 180 80 180C85.6 180 90.6 182.2 94.2 185.8L160 251.8L225.8 186C229.4 182.2 234.4 180 240 180C251 180 260 189 260 200C260 205.6 257.8 210.6 254.2 214.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyControl.defaultProps={size:IconSize.STANDARD};KeyControl.displayName="Blueprint5.Icon.KeyControl";var KeyDelete=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-delete",ref:et},_e),reactExports.createElement("path",{d:tt?"M394.2000000000001 214.2L274.2000000000001 334.2000000000001C270.6 337.8 265.6 340 260 340H20C9 340 0 331 0 320V80C0 69 9 60 20 60H260C265.6 60 270.6 62.2 274.2000000000001 65.8L394.2000000000001 185.8C397.8 189.4 400 194.4 400 200C400 205.6 397.8 210.6 394.2000000000001 214.2zM214.2 154.2C217.8 150.6 220 145.6 220 140C220 129 211 120 200 120C194.4 120 189.4 122.2 185.8 125.8L140 171.8L94.2 126C90.6 122.2 85.6 120 80 120C69 120 60 129 60 140C60 145.6 62.2 150.6 65.8 154.2L111.8 200L65.8 245.8C62.2 249.4 60 254.4 60 260C60 271 69 280 80 280C85.6 280 90.6 277.8 94.2 274.2L140 228.2L185.8 274C189.4 277.8 194.4 280 200 280C211 280 220 271 220 260C220 254.4 217.8 249.4 214.2 245.8L168.2 200L214.2 154.2z":"M314.2000000000001 174.2L214.2 274.2C210.6 277.8 205.6 280 200 280H20C9 280 0 271 0 260V60C0 49 9 40 20 40H200C205.6 40 210.6 42.2 214.2 45.8L314.2000000000001 145.8C317.8 149.4 320 154.4 320 160C320 165.6 317.8 170.6 314.2000000000001 174.2zM174.2 134.2C177.8 130.6 180 125.6 180 120C180 109 171 100 160 100C154.4 100 149.4 102.2 145.8 105.8L120 131.8L94.2 106C90.6 102.2 85.6 100 80 100C69 100 60 109 60 120C60 125.6 62.2 130.6 65.8 134.2L91.8 160L65.8 185.8C62.2 189.4 60 194.4 60 200C60 211 69 220 80 220C85.6 220 90.6 217.8 94.2 214.2L120 188.2L145.8 214C149.4 217.8 154.4 220 160 220C171 220 180 211 180 200C180 194.4 177.8 189.4 174.2 185.8L148.2 160L174.2 134.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyDelete.defaultProps={size:IconSize.STANDARD};KeyDelete.displayName="Blueprint5.Icon.KeyDelete";var KeyEnter=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-enter",ref:et},_e),reactExports.createElement("path",{d:tt?"M360 360C349 360 340 351 340 340V240C340 195.8 304.2000000000001 160 260 160H88.2L134 205.8C137.8 209.4 140 214.4 140 220C140 231 131 240 120 240C114.4 240 109.4 237.8 105.8 234.2L25.8 154.2C22.2 150.6 20 145.6 20 140C20 134.4 22.2 129.4 25.8 125.8L105.8 45.8C109.4 42.2 114.4 40 120 40C131 40 140 49 140 60C140 65.6 137.8 70.6 134.2 74.2000000000001L88.2 120H260C326.2 120 380 173.8 380 240V340C380 351 371 360 360 360z":"M280 280C269 280 260 271 260 260V200C260 166.8 233.2 140 200 140H88.2L114 165.8C117.8 169.4 120 174.4 120 180C120 191 111 200 100 200C94.4 200 89.4 197.8 85.8 194.2L25.8 134.2C22.2 130.6 20 125.6 20 120C20 114.4 22.2 109.4 25.8 105.8L85.8 45.8C89.4 42.2 94.4 40 100 40C111 40 120 49 120 60C120 65.6 117.8 70.6 114.2 74.2L88.2 100H200C255.2 100 300 144.8 300 200V260C300 271 291 280 280 280z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyEnter.defaultProps={size:IconSize.STANDARD};KeyEnter.displayName="Blueprint5.Icon.KeyEnter";var KeyOption=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-option",ref:et},_e),reactExports.createElement("path",{d:tt?"M260 320H380C391 320 400 329 400 340C400 351 391 360 380 360H260C249 360 240 351 240 340C240 329 249 320 260 320zM380 80H291.6L137.4 350L137 349.8C133.6 355.8 127.4 360 120 360H20C9 360 0 351 0 340C0 329 9 320 20 320H108.4L262.6 50L262.8 50.2C266.4 44.2 272.6 40 280 40H380C391 40 400 49 400 60C400 71 391 80 380 80z":"M220 240H300C311 240 320 249 320 260C320 271 311 280 300 280H220C209 280 200 271 200 260C200 249 209 240 220 240zM300 80H231.4L117.2 270.2L116.8 270.2C113.4 276 107.2 280 100 280H20C9 280 0 271 0 260C0 249 9 240 20 240H88.6L202.8 49.8L203 50C206.6 44 212.8 40 220 40H300C311 40 320 49 320 60C320 71 311 80 300 80z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyOption.defaultProps={size:IconSize.STANDARD};KeyOption.displayName="Blueprint5.Icon.KeyOption";var KeyShift=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"key-shift",ref:et},_e),reactExports.createElement("path",{d:tt?"M354.8 193L354.8 193L215 353.2L214.8 353C211.2 357.2 206 360 200 360S188.8 357.2 185.2 353L185 353.2L45 193.2L45.2 193C42 189.6 40 185 40 180C40 169 49 160 60 160H120V60C120 49 129 40 140 40H260C271 40 280 49 280 60V160H340C351 160 360 169 360 180C360 185 358 189.6 354.8 193z":"M274.2000000000001 174.2L174.2 274.2C170.6 277.8 165.6 280 160 280S149.4 277.8 145.8 274.2L45.8 174.2C42.2 170.6 40 165.6 40 160C40 149 49 140 60 140H100V60C100 49 109 40 120 40H200C211 40 220 49 220 60V140H260C271 140 280 149 280 160C280 165.6 277.8 170.6 274.2000000000001 174.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});KeyShift.defaultProps={size:IconSize.STANDARD};KeyShift.displayName="Blueprint5.Icon.KeyShift";var Search=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"search",ref:et},_e),reactExports.createElement("path",{d:tt?"M391.2 51.2L292.4 150C309.8 175.8 320 206.6 320 240C320 328.4 248.4 400 160 400S0 328.4 0 240S71.6 80 160 80C193.4 80 224.2 90.2 250 107.6L348.8 8.8C354.2000000000001 3.4 361.8 0 370 0C386.6 0 400 13.4 400 30C400 38.2 396.6 45.8 391.2 51.2zM160 120C93.8 120 40 173.8 40 240S93.8 360 160 360S280 306.2000000000001 280 240S226.2 120 160 120z":"M311 51.4L257.6 105C271.6 126.8 279.8 152.6 279.8 180.2C279.8 257.6 217.2 320.2 139.8 320.2S-0.2 257.6 -0.2 180.2S62.4 40.2 139.8 40.2C167.6 40.2 193.4 48.6 215 62.4L268.6 9C274 3.6 281.6 0.2 289.8 0.2C306.4 0.2 319.8 13.6 319.8 30.2C319.8 38.4 316.4 46 311 51.4zM139.8 80.2C84.6 80.2 39.8 125 39.8 180.2S84.6 280.2 139.8 280.2S239.8 235.4 239.8 180.2S195 80.2 139.8 80.2z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});Search.defaultProps={size:IconSize.STANDARD};Search.displayName="Blueprint5.Icon.Search";var SmallCross=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"small-cross",ref:et},_e),reactExports.createElement("path",{d:tt?"M228.2 200L294 265.8C297.8 269.4 300 274.4 300 280C300 291 291 300 280 300C274.4000000000001 300 269.4000000000001 297.8 265.8 294.2L200 228.2L134.2 294.2C130.6 297.8 125.6 300 120 300C109 300 100 291 100 280C100 274.4 102.2 269.4 105.8 265.8L171.8 200L106 134.2000000000001C102.2 130.6 100 125.6 100 120C100 109 109 100 120 100C125.6 100 130.6 102.2 134.2 105.8L200 171.8L265.8 106C269.4000000000001 102.2 274.4000000000001 100 280 100C291 100 300 109 300 120C300 125.6 297.8 130.6 294.2000000000001 134.2000000000001L228.2 200z":"M188.2 160L234 205.8C237.8 209.4 240 214.4 240 220C240 231 231 240 220 240C214.4 240 209.4 237.8 205.8 234.2L160 188.2L114.2 234.2C110.6 237.8 105.6 240 100 240C89 240 80 231 80 220C80 214.4 82.2 209.4 85.8 205.8L131.8 160L86 114.2C82.2 110.6 80 105.6 80 100C80 89 89 80 100 80C105.6 80 110.6 82.2 114.2 85.8L160 131.8L205.8 86C209.4 82.2 214.4 80 220 80C231 80 240 89 240 100C240 105.6 237.8 110.6 234.2 114.2L188.2 160z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});SmallCross.defaultProps={size:IconSize.STANDARD};SmallCross.displayName="Blueprint5.Icon.SmallCross";var SmallTick=reactExports.forwardRef(function(_e,et){var tt=_e.size>=IconSize.LARGE,rt=tt?IconSize.LARGE:IconSize.STANDARD,nt="".concat(-1*rt/.05/2),it={transformOrigin:"center"};return reactExports.createElement(SVGIconContainer,__assign$1({iconName:"small-tick",ref:et},_e),reactExports.createElement("path",{d:tt?"M300 300C294.4000000000001 300 289.4000000000001 297.8 285.8 294.2L160 168.2L114.2 214.2C110.6 217.8 105.6 220 100 220C89 220 80 211 80 200C80 194.4 82.2 189.4 85.8 185.8L145.8 125.8C149.4 122.2 154.4 120 160 120S170.6 122.2 174.2 125.8L314.2000000000001 265.8C317.8 269.4 320 274.4 320 280C320 291 311 300 300 300z":"M240 220C234.4 220 229.4 217.8 225.8 214.2L140 128.2L94.2 174.2C90.6 177.8 85.6 180 80 180C69 180 60 171 60 160C60 154.4 62.2 149.4 65.8 145.8L125.8 85.8C129.4 82.2 134.4 80 140 80S150.6 82.2 154.2 85.8L254.2 185.8C257.8 189.4 260 194.4 260 200C260 211 251 220 240 220z",fillRule:"evenodd",transform:"scale(0.05, -0.05) translate(".concat(nt,", ").concat(nt,")"),style:it}))});SmallTick.defaultProps={size:IconSize.STANDARD};SmallTick.displayName="Blueprint5.Icon.SmallTick";var Icon=reactExports.forwardRef(function(_e,et){var tt,rt,nt=_e.autoLoad,it=_e.className,ot=_e.color,at=_e.icon,st=_e.intent,lt=_e.tagName,ct=_e.svgProps,ut=_e.title,ft=_e.htmlTitle,dt=__rest$1(_e,["autoLoad","className","color","icon","intent","tagName","svgProps","title","htmlTitle"]),pt=(rt=(tt=_e.iconSize)!==null&&tt!==void 0?tt:_e.size)!==null&&rt!==void 0?rt:IconSize.STANDARD,mt=reactExports.useState(function(){return typeof at=="string"?Icons.getPaths(at,pt):void 0}),vt=mt[0],ht=mt[1];if(reactExports.useEffect(function(){var xt=!1;if(typeof at=="string"){var _t=Icons.getPaths(at,pt);_t!==void 0?ht(_t):nt?Icons.load(at,pt).then(function(){xt||ht(Icons.getPaths(at,pt))}).catch(function(wt){console.error("[Blueprint] Icon '".concat(at,"' (").concat(pt,"px) could not be loaded."),wt)}):console.error("[Blueprint] Icon '".concat(at,"' (").concat(pt,"px) is not loaded yet and autoLoad={false}, did you call Icons.load('").concat(at,"', ").concat(pt,")?"))}return function(){xt=!0}},[nt,at,pt]),at==null||typeof at=="boolean")return null;if(typeof at!="string")return at;if(vt==null){var yt=pt===IconSize.STANDARD?ICON_STANDARD:pt===IconSize.LARGE?ICON_LARGE:void 0;return reactExports.createElement(lt,__assign$1(__assign$1({"aria-hidden":ut?void 0:!0},removeNonHTMLProps(dt)),{className:classNames(ICON$1,yt,iconClass(at),intentClass(st),it),"data-icon":at,ref:et,title:ft}))}else{var gt=vt.map(function(xt,_t){return reactExports.createElement("path",{d:xt,key:_t,fillRule:"evenodd"})});return reactExports.createElement(SVGIconContainer,__assign$1({children:gt,className:classNames(intentClass(st),it),color:ot,htmlTitle:ft,iconName:at,ref:et,size:pt,svgProps:ct,tagName:lt,title:ut},removeNonHTMLProps(dt)))}});Icon.defaultProps={autoLoad:!0,tagName:"span"};Icon.displayName="".concat(DISPLAYNAME_PREFIX,".Icon");var SpinnerSize;(function(_e){_e[_e.SMALL=20]="SMALL",_e[_e.STANDARD=50]="STANDARD",_e[_e.LARGE=100]="LARGE"})(SpinnerSize||(SpinnerSize={}));var R$2=45,SPINNER_TRACK="M 50,50 m 0,-".concat(R$2," a ").concat(R$2,",").concat(R$2," 0 1 1 0,").concat(R$2*2," a ").concat(R$2,",").concat(R$2," 0 1 1 0,-").concat(R$2*2),PATH_LENGTH=280,MIN_SIZE=10,STROKE_WIDTH=4,MIN_STROKE_WIDTH=16,Spinner=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.componentDidUpdate=function(tt){tt.value!==this.props.value&&this.forceUpdate()},et.prototype.render=function(){var tt,rt=this.props,nt=rt.className,it=rt.intent,ot=rt.value,at=rt.tagName,st=at===void 0?"div":at,lt=__rest$1(rt,["className","intent","value","tagName"]),ct=this.getSize(),ut=classNames(SPINNER,intentClass(it),(tt={},tt[SPINNER_NO_SPIN]=ot!=null,tt),nt),ft=Math.min(MIN_STROKE_WIDTH,STROKE_WIDTH*SpinnerSize.LARGE/ct),dt=PATH_LENGTH-PATH_LENGTH*(ot==null?.25:clamp(ot,0,1));return reactExports.createElement(st,__assign$1({"aria-label":"loading","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":ot===void 0?void 0:ot*100,className:ut,role:"progressbar"},lt),reactExports.createElement(st,{className:SPINNER_ANIMATION},reactExports.createElement("svg",{width:ct,height:ct,strokeWidth:ft.toFixed(2),viewBox:this.getViewBox(ft)},reactExports.createElement("path",{className:SPINNER_TRACK$1,d:SPINNER_TRACK}),reactExports.createElement("path",{className:SPINNER_HEAD,d:SPINNER_TRACK,pathLength:PATH_LENGTH,strokeDasharray:"".concat(PATH_LENGTH," ").concat(PATH_LENGTH),strokeDashoffset:dt}))))},et.prototype.validateProps=function(tt){var rt=tt.className,nt=rt===void 0?"":rt,it=tt.size;it!=null&&(nt.indexOf(SMALL)>=0||nt.indexOf(LARGE)>=0)&&console.warn(SPINNER_WARN_CLASSES_SIZE)},et.prototype.getSize=function(){var tt=this.props,rt=tt.className,nt=rt===void 0?"":rt,it=tt.size;return it==null?nt.indexOf(SMALL)>=0?SpinnerSize.SMALL:nt.indexOf(LARGE)>=0?SpinnerSize.LARGE:SpinnerSize.STANDARD:Math.max(MIN_SIZE,it)},et.prototype.getViewBox=function(tt){var rt=R$2+tt/2,nt=(50-rt).toFixed(2),it=(rt*2).toFixed(2);return"".concat(nt," ").concat(nt," ").concat(it," ").concat(it)},et.displayName="".concat(DISPLAYNAME_PREFIX,".Spinner"),et}(AbstractPureComponent),useIsomorphicLayoutEffect$3=hasDOMEnvironment()?reactExports.useLayoutEffect:reactExports.useEffect,Text$1=reactExports.forwardRef(function(_e,et){var tt,rt=_e.children,nt=_e.tagName,it=nt===void 0?"div":nt,ot=_e.title,at=_e.className,st=_e.ellipsize,lt=__rest$1(_e,["children","tagName","title","className","ellipsize"]),ct=reactExports.useRef(),ut=reactExports.useMemo(function(){return mergeRefs(ct,et)},[et]),ft=reactExports.useState(""),dt=ft[0],pt=ft[1],mt=reactExports.useState(),vt=mt[0],ht=mt[1];return useIsomorphicLayoutEffect$3(function(){var yt;((yt=ct.current)===null||yt===void 0?void 0:yt.textContent)!=null&&(ht(st&&ct.current.scrollWidth>ct.current.clientWidth),pt(ct.current.textContent))},[ct,rt,st]),reactExports.createElement(it,__assign$1(__assign$1({},lt),{className:classNames((tt={},tt[TEXT_OVERFLOW_ELLIPSIS]=st,tt),at),ref:ut,title:ot??(vt?dt:void 0)}),rt)});Text$1.defaultProps={ellipsize:!1};Text$1.displayName="".concat(DISPLAYNAME_PREFIX,".Text");var Button$1=reactExports.forwardRef(function(_e,et){var tt=useSharedButtonAttributes(_e,et);return reactExports.createElement("button",__assign$1({type:"button"},removeNonHTMLProps(_e),tt),renderButtonContents(_e))});Button$1.displayName="".concat(DISPLAYNAME_PREFIX,".Button");var AnchorButton=reactExports.forwardRef(function(_e,et){var tt=_e.href,rt=_e.tabIndex,nt=rt===void 0?0:rt,it=useSharedButtonAttributes(_e,et);return reactExports.createElement("a",__assign$1({role:"button"},removeNonHTMLProps(_e),it,{"aria-disabled":it.disabled,href:it.disabled?void 0:tt,tabIndex:it.disabled?-1:nt}),renderButtonContents(_e))});AnchorButton.displayName="".concat(DISPLAYNAME_PREFIX,".AnchorButton");function useSharedButtonAttributes(_e,et){var tt,rt=_e.active,nt=rt===void 0?!1:rt,it=_e.alignText,ot=_e.fill,at=_e.large,st=_e.loading,lt=st===void 0?!1:st,ct=_e.minimal,ut=_e.onBlur,ft=_e.onKeyDown,dt=_e.onKeyUp,pt=_e.outlined,mt=_e.small,vt=_e.tabIndex,ht=_e.disabled||lt,yt=reactExports.useState(),gt=yt[0],xt=yt[1],_t=reactExports.useState(!1),wt=_t[0],Et=_t[1],St=reactExports.useRef(null),Ct=reactExports.useCallback(function(Ot){wt&&Et(!1),ut==null||ut(Ot)},[wt,ut]),bt=reactExports.useCallback(function(Ot){isKeyboardClick(Ot)&&(Ot.preventDefault(),Ot.key!==gt&&Et(!0)),xt(Ot.key),ft==null||ft(Ot)},[gt,ft]),At=reactExports.useCallback(function(Ot){var $t;isKeyboardClick(Ot)&&(Et(!1),($t=St.current)===null||$t===void 0||$t.click()),xt(void 0),dt==null||dt(Ot)},[dt]),Tt=classNames(BUTTON,(tt={},tt[ACTIVE]=!ht&&(nt||wt),tt[DISABLED]=ht,tt[FILL]=ot,tt[LARGE]=at,tt[LOADING]=lt,tt[MINIMAL]=ct,tt[OUTLINED]=pt,tt[SMALL]=mt,tt),alignmentClass(it),intentClass(_e.intent),_e.className);return{className:Tt,disabled:ht,onBlur:Ct,onClick:ht?void 0:_e.onClick,onFocus:ht?void 0:_e.onFocus,onKeyDown:bt,onKeyUp:At,ref:mergeRefs(St,et),tabIndex:ht?-1:vt}}function renderButtonContents(_e){var et=_e.children,tt=_e.ellipsizeText,rt=_e.icon,nt=_e.loading,it=_e.rightIcon,ot=_e.text,at=_e.textClassName,st=!isReactNodeEmpty(ot)||!isReactNodeEmpty(et);return reactExports.createElement(reactExports.Fragment,null,nt&&reactExports.createElement(Spinner,{key:"loading",className:BUTTON_SPINNER,size:SpinnerSize.SMALL}),reactExports.createElement(Icon,{key:"leftIcon",icon:rt}),st&&reactExports.createElement(Text$1,{key:"text",className:classNames(BUTTON_TEXT,at),ellipsize:tt,tagName:"span"},ot,et),reactExports.createElement(Icon,{key:"rightIcon",icon:it}))}function htmlElement(_e,et){return reactExports.forwardRef(function(tt,rt){var nt=tt.className,it=tt.children,ot=__rest$1(tt,["className","children"]);return reactExports.createElement(_e,__assign$1(__assign$1({},ot),{className:classNames(et,nt),ref:rt}),it)})}htmlElement("h1",HEADING);htmlElement("h2",HEADING);htmlElement("h3",HEADING);var H4=htmlElement("h4",HEADING);htmlElement("h5",HEADING);var H6=htmlElement("h6",HEADING);htmlElement("blockquote",BLOCKQUOTE);htmlElement("code",CODE);htmlElement("pre",CODE_BLOCK);htmlElement("label",LABEL);htmlElement("ol",LIST);htmlElement("ul",LIST);function _objectWithoutPropertiesLoose$2(_e,et){if(_e==null)return{};var tt={},rt=Object.keys(_e),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(et.indexOf(nt)>=0)&&(tt[nt]=_e[nt]);return tt}function _setPrototypeOf(_e,et){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,nt){return rt.__proto__=nt,rt},_setPrototypeOf(_e,et)}function _inheritsLoose(_e,et){_e.prototype=Object.create(et.prototype),_e.prototype.constructor=_e,_setPrototypeOf(_e,et)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(rt,nt,it,ot,at,st){if(st!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}_e.isRequired=_e;function et(){return _e}var tt={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:et,element:_e,elementType:_e,instanceOf:et,node:_e,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function hasClass(_e,et){return _e.classList?!!et&&_e.classList.contains(et):(" "+(_e.className.baseVal||_e.className)+" ").indexOf(" "+et+" ")!==-1}function addClass(_e,et){_e.classList?_e.classList.add(et):hasClass(_e,et)||(typeof _e.className=="string"?_e.className=_e.className+" "+et:_e.setAttribute("class",(_e.className&&_e.className.baseVal||"")+" "+et))}function replaceClassName(_e,et){return _e.replace(new RegExp("(^|\\s)"+et+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(_e,et){_e.classList?_e.classList.remove(et):typeof _e.className=="string"?_e.className=replaceClassName(_e.className,et):_e.setAttribute("class",replaceClassName(_e.className&&_e.className.baseVal||"",et))}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(et){return et.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose(et,_e);function et(rt,nt){var it;it=_e.call(this,rt,nt)||this;var ot=nt,at=ot&&!ot.isMounting?rt.enter:rt.appear,st;return it.appearStatus=null,rt.in?at?(st=EXITED,it.appearStatus=ENTERING):st=ENTERED:rt.unmountOnExit||rt.mountOnEnter?st=UNMOUNTED:st=EXITED,it.state={status:st},it.nextCallback=null,it}et.getDerivedStateFromProps=function(nt,it){var ot=nt.in;return ot&&it.status===UNMOUNTED?{status:EXITED}:null};var tt=et.prototype;return tt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},tt.componentDidUpdate=function(nt){var it=null;if(nt!==this.props){var ot=this.state.status;this.props.in?ot!==ENTERING&&ot!==ENTERED&&(it=ENTERING):(ot===ENTERING||ot===ENTERED)&&(it=EXITING)}this.updateStatus(!1,it)},tt.componentWillUnmount=function(){this.cancelNextCallback()},tt.getTimeouts=function(){var nt=this.props.timeout,it,ot,at;return it=ot=at=nt,nt!=null&&typeof nt!="number"&&(it=nt.exit,ot=nt.enter,at=nt.appear!==void 0?nt.appear:ot),{exit:it,enter:ot,appear:at}},tt.updateStatus=function(nt,it){if(nt===void 0&&(nt=!1),it!==null)if(this.cancelNextCallback(),it===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ot&&forceReflow(ot)}this.performEnter(nt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},tt.performEnter=function(nt){var it=this,ot=this.props.enter,at=this.context?this.context.isMounting:nt,st=this.props.nodeRef?[at]:[ReactDOM.findDOMNode(this),at],lt=st[0],ct=st[1],ut=this.getTimeouts(),ft=at?ut.appear:ut.enter;if(!nt&&!ot||config.disabled){this.safeSetState({status:ENTERED},function(){it.props.onEntered(lt)});return}this.props.onEnter(lt,ct),this.safeSetState({status:ENTERING},function(){it.props.onEntering(lt,ct),it.onTransitionEnd(ft,function(){it.safeSetState({status:ENTERED},function(){it.props.onEntered(lt,ct)})})})},tt.performExit=function(){var nt=this,it=this.props.exit,ot=this.getTimeouts(),at=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!it||config.disabled){this.safeSetState({status:EXITED},function(){nt.props.onExited(at)});return}this.props.onExit(at),this.safeSetState({status:EXITING},function(){nt.props.onExiting(at),nt.onTransitionEnd(ot.exit,function(){nt.safeSetState({status:EXITED},function(){nt.props.onExited(at)})})})},tt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},tt.safeSetState=function(nt,it){it=this.setNextCallback(it),this.setState(nt,it)},tt.setNextCallback=function(nt){var it=this,ot=!0;return this.nextCallback=function(at){ot&&(ot=!1,it.nextCallback=null,nt(at))},this.nextCallback.cancel=function(){ot=!1},this.nextCallback},tt.onTransitionEnd=function(nt,it){this.setNextCallback(it);var ot=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),at=nt==null&&!this.props.addEndListener;if(!ot||at){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var st=this.props.nodeRef?[this.nextCallback]:[ot,this.nextCallback],lt=st[0],ct=st[1];this.props.addEndListener(lt,ct)}nt!=null&&setTimeout(this.nextCallback,nt)},tt.render=function(){var nt=this.state.status;if(nt===UNMOUNTED)return null;var it=this.props,ot=it.children;it.in,it.mountOnEnter,it.unmountOnExit,it.appear,it.enter,it.exit,it.timeout,it.addEndListener,it.onEnter,it.onEntering,it.onEntered,it.onExit,it.onExiting,it.onExited,it.nodeRef;var at=_objectWithoutPropertiesLoose$2(it,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ot=="function"?ot(nt,at):React.cloneElement(React.Children.only(ot),at))},et}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$4(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$4,onEntering:noop$4,onEntered:noop$4,onExit:noop$4,onExiting:noop$4,onExited:noop$4};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;var _addClass=function(et,tt){return et&&tt&&tt.split(" ").forEach(function(rt){return addClass(et,rt)})},removeClass=function(et,tt){return et&&tt&&tt.split(" ").forEach(function(rt){return removeClass$1(et,rt)})},CSSTransition=function(_e){_inheritsLoose(et,_e);function et(){for(var rt,nt=arguments.length,it=new Array(nt),ot=0;ot<nt;ot++)it[ot]=arguments[ot];return rt=_e.call.apply(_e,[this].concat(it))||this,rt.appliedClasses={appear:{},enter:{},exit:{}},rt.onEnter=function(at,st){var lt=rt.resolveArguments(at,st),ct=lt[0],ut=lt[1];rt.removeClasses(ct,"exit"),rt.addClass(ct,ut?"appear":"enter","base"),rt.props.onEnter&&rt.props.onEnter(at,st)},rt.onEntering=function(at,st){var lt=rt.resolveArguments(at,st),ct=lt[0],ut=lt[1],ft=ut?"appear":"enter";rt.addClass(ct,ft,"active"),rt.props.onEntering&&rt.props.onEntering(at,st)},rt.onEntered=function(at,st){var lt=rt.resolveArguments(at,st),ct=lt[0],ut=lt[1],ft=ut?"appear":"enter";rt.removeClasses(ct,ft),rt.addClass(ct,ft,"done"),rt.props.onEntered&&rt.props.onEntered(at,st)},rt.onExit=function(at){var st=rt.resolveArguments(at),lt=st[0];rt.removeClasses(lt,"appear"),rt.removeClasses(lt,"enter"),rt.addClass(lt,"exit","base"),rt.props.onExit&&rt.props.onExit(at)},rt.onExiting=function(at){var st=rt.resolveArguments(at),lt=st[0];rt.addClass(lt,"exit","active"),rt.props.onExiting&&rt.props.onExiting(at)},rt.onExited=function(at){var st=rt.resolveArguments(at),lt=st[0];rt.removeClasses(lt,"exit"),rt.addClass(lt,"exit","done"),rt.props.onExited&&rt.props.onExited(at)},rt.resolveArguments=function(at,st){return rt.props.nodeRef?[rt.props.nodeRef.current,at]:[at,st]},rt.getClassNames=function(at){var st=rt.props.classNames,lt=typeof st=="string",ct=lt&&st?st+"-":"",ut=lt?""+ct+at:st[at],ft=lt?ut+"-active":st[at+"Active"],dt=lt?ut+"-done":st[at+"Done"];return{baseClassName:ut,activeClassName:ft,doneClassName:dt}},rt}var tt=et.prototype;return tt.addClass=function(nt,it,ot){var at=this.getClassNames(it)[ot+"ClassName"],st=this.getClassNames("enter"),lt=st.doneClassName;it==="appear"&&ot==="done"&&lt&&(at+=" "+lt),ot==="active"&&nt&&forceReflow(nt),at&&(this.appliedClasses[it][ot]=at,_addClass(nt,at))},tt.removeClasses=function(nt,it){var ot=this.appliedClasses[it],at=ot.base,st=ot.active,lt=ot.done;this.appliedClasses[it]={},at&&removeClass(nt,at),st&&removeClass(nt,st),lt&&removeClass(nt,lt)},tt.render=function(){var nt=this.props;nt.classNames;var it=_objectWithoutPropertiesLoose$2(nt,["classNames"]);return React.createElement(Transition$1,_extends$3({},it,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},et}(React.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const CSSTransition$1=CSSTransition;function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function getChildMapping(_e,et){var tt=function(it){return et&&reactExports.isValidElement(it)?et(it):it},rt=Object.create(null);return _e&&reactExports.Children.map(_e,function(nt){return nt}).forEach(function(nt){rt[nt.key]=tt(nt)}),rt}function mergeChildMappings(_e,et){_e=_e||{},et=et||{};function tt(ct){return ct in et?et[ct]:_e[ct]}var rt=Object.create(null),nt=[];for(var it in _e)it in et?nt.length&&(rt[it]=nt,nt=[]):nt.push(it);var ot,at={};for(var st in et){if(rt[st])for(ot=0;ot<rt[st].length;ot++){var lt=rt[st][ot];at[rt[st][ot]]=tt(lt)}at[st]=tt(st)}for(ot=0;ot<nt.length;ot++)at[nt[ot]]=tt(nt[ot]);return at}function getProp(_e,et,tt){return tt[et]!=null?tt[et]:_e.props[et]}function getInitialChildMapping(_e,et){return getChildMapping(_e.children,function(tt){return reactExports.cloneElement(tt,{onExited:et.bind(null,tt),in:!0,appear:getProp(tt,"appear",_e),enter:getProp(tt,"enter",_e),exit:getProp(tt,"exit",_e)})})}function getNextChildMapping(_e,et,tt){var rt=getChildMapping(_e.children),nt=mergeChildMappings(et,rt);return Object.keys(nt).forEach(function(it){var ot=nt[it];if(reactExports.isValidElement(ot)){var at=it in et,st=it in rt,lt=et[it],ct=reactExports.isValidElement(lt)&&!lt.props.in;st&&(!at||ct)?nt[it]=reactExports.cloneElement(ot,{onExited:tt.bind(null,ot),in:!0,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}):!st&&at&&!ct?nt[it]=reactExports.cloneElement(ot,{in:!1}):st&&at&&reactExports.isValidElement(lt)&&(nt[it]=reactExports.cloneElement(ot,{onExited:tt.bind(null,ot),in:lt.props.in,exit:getProp(ot,"exit",_e),enter:getProp(ot,"enter",_e)}))}}),nt}var values=Object.values||function(_e){return Object.keys(_e).map(function(et){return _e[et]})},defaultProps$1={component:"div",childFactory:function(et){return et}},TransitionGroup=function(_e){_inheritsLoose(et,_e);function et(rt,nt){var it;it=_e.call(this,rt,nt)||this;var ot=it.handleExited.bind(_assertThisInitialized(it));return it.state={contextValue:{isMounting:!0},handleExited:ot,firstRender:!0},it}var tt=et.prototype;return tt.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},tt.componentWillUnmount=function(){this.mounted=!1},et.getDerivedStateFromProps=function(nt,it){var ot=it.children,at=it.handleExited,st=it.firstRender;return{children:st?getInitialChildMapping(nt,at):getNextChildMapping(nt,ot,at),firstRender:!1}},tt.handleExited=function(nt,it){var ot=getChildMapping(this.props.children);nt.key in ot||(nt.props.onExited&&nt.props.onExited(it),this.mounted&&this.setState(function(at){var st=_extends$3({},at.children);return delete st[nt.key],{children:st}}))},tt.render=function(){var nt=this.props,it=nt.component,ot=nt.childFactory,at=_objectWithoutPropertiesLoose$2(nt,["component","childFactory"]),st=this.state.contextValue,lt=values(this.state.children).map(ot);return delete at.appear,delete at.enter,delete at.exit,it===null?React.createElement(TransitionGroupContext.Provider,{value:st},lt):React.createElement(TransitionGroupContext.Provider,{value:st},React.createElement(it,at,lt))},et}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$1;const TransitionGroup$1=TransitionGroup;var generateUID$1=function(){var _e=1,et=new WeakMap,tt=function(rt,nt){return typeof rt=="number"||typeof rt=="string"?nt?"idx-".concat(nt):"val-".concat(rt):et.has(rt)?"uid"+et.get(rt):(et.set(rt,_e++),tt(rt))};return tt},createSource=function(_e){return _e===void 0&&(_e=""),{value:1,prefix:_e,uid:generateUID$1()}},counter=createSource(),source=reactExports.createContext(createSource()),getId=function(_e){return _e.value++},getPrefix=function(_e){return _e?_e.prefix:""},generateUID=function(_e){var et=_e||counter,tt=getPrefix(et),rt=getId(et),nt=tt+rt,it=function(ot){return nt+et.uid(ot)};return{uid:nt,gen:it}},useUIDState=function(){var _e=reactExports.useContext(source),et=reactExports.useState(function(){return generateUID(_e)})[0];return et},useUID=function(){var _e=useUIDState().uid;return _e},OverlaysContext=reactExports.createContext({hasProvider:!1,stack:{current:[]}}),OverlaysProvider=function(_e){var et=_e.children,tt=reactExports.useRef([]),rt=reactExports.useMemo(function(){return{hasProvider:!0,stack:tt}},[tt]);return reactExports.createElement(OverlaysContext.Provider,{value:rt},et)},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$3(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var k$3=typeof Object.is=="function"?Object.is:h$3,l$5=e$2.useState,m$2=e$2.useEffect,n$4=e$2.useLayoutEffect,p$3=e$2.useDebugValue;function q$1(_e,et){var tt=et(),rt=l$5({inst:{value:tt,getSnapshot:et}}),nt=rt[0].inst,it=rt[1];return n$4(function(){nt.value=tt,nt.getSnapshot=et,r$5(nt)&&it({inst:nt})},[_e,tt,et]),m$2(function(){return r$5(nt)&&it({inst:nt}),_e(function(){r$5(nt)&&it({inst:nt})})},[_e]),p$3(tt),tt}function r$5(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!k$3(_e,tt)}catch{return!0}}function t$5(_e,et){return et()}var u$6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$5:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$6;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports,globalStack=[],globalStackListeners=[],modifyGlobalStack=function(_e){_e(globalStack),globalStackListeners.forEach(function(et){return et()})},legacyGlobalOverlayStackStore={getSnapshot:function(){return globalStack},subscribe:function(_e){return globalStackListeners.push(_e),function(){var et=globalStackListeners.indexOf(_e);globalStackListeners.splice(et,1)}}};function useLegacyOverlayStack(){var _e=shimExports.useSyncExternalStore(legacyGlobalOverlayStackStore.subscribe,legacyGlobalOverlayStackStore.getSnapshot,legacyGlobalOverlayStackStore.getSnapshot),et=React.useCallback(function(){return _e.at(-1)},[_e]),tt=React.useCallback(function(ot){var at=_e.findIndex(function(st){return st.id===ot});return _e.slice(at)},[_e]),rt=React.useCallback(function(){modifyGlobalStack(function(ot){return ot.splice(0,ot.length)})},[]),nt=React.useCallback(function(ot){globalStack.push(ot),ot.props.usePortal&&ot.props.hasBackdrop&&document.body.classList.add(OVERLAY_OPEN)},[]),it=React.useCallback(function(ot){var at=_e.filter(function(lt){return lt.props.usePortal&&lt.props.hasBackdrop&&lt.id!==ot}),st=globalStack.findIndex(function(lt){return lt.id===ot});st>-1&&globalStack.splice(st,1),at.length===0&&document.body.classList.remove(OVERLAY_OPEN)},[_e]);return{closeOverlay:it,getLastOpened:et,getThisOverlayAndDescendants:tt,openOverlay:nt,resetStack:rt}}function useOverlayStack(){var _e=React.useContext(OverlaysContext),et=_e.stack,tt=_e.hasProvider,rt=useLegacyOverlayStack(),nt=React.useCallback(function(){return et.current.at(-1)},[et]),it=React.useCallback(function(lt){var ct=et.current.findIndex(function(ut){return ut.id===lt});return ct===-1?[]:et.current.slice(ct)},[et]),ot=React.useCallback(function(){et.current=[]},[et]),at=React.useCallback(function(lt){et.current.push(lt),lt.props.usePortal&&lt.props.hasBackdrop&&document.body.classList.add(OVERLAY_OPEN)},[et]),st=React.useCallback(function(lt){var ct=et.current.filter(function(ft){return ft.props.usePortal&&ft.props.hasBackdrop&&ft.id!==lt}),ut=et.current.findIndex(function(ft){return ft.id===lt});ut>-1&&et.current.splice(ut,1),ct.length===0&&document.body.classList.remove(OVERLAY_OPEN)},[et]);return tt?{closeOverlay:st,getLastOpened:nt,getThisOverlayAndDescendants:it,openOverlay:at,resetStack:ot}:(isNodeEnv$1("development")&&console.error(OVERLAY2_REQUIRES_OVERLAY_PROVDER),rt)}function usePrevious(_e){var et=reactExports.useRef();return reactExports.useEffect(function(){et.current=_e},[_e]),et.current}function getKeyboardFocusableElements(_e){var et=getRef(_e),tt=et!=null?Array.from(et.querySelectorAll(['a[href]:not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','details:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])'].join(","))):[];return tt.filter(function(rt){return!rt.classList.contains(OVERLAY_START_FOCUS_TRAP)&&!rt.classList.contains(OVERLAY_END_FOCUS_TRAP)})}var PortalContext=reactExports.createContext({}),PortalProvider=function(_e){var et=_e.children,tt=_e.portalClassName,rt=_e.portalContainer,nt=reactExports.useMemo(function(){return{portalClassName:tt,portalContainer:rt}},[tt,rt]);return reactExports.createElement(PortalContext.Provider,{value:nt},et)},PORTAL_LEGACY_CONTEXT_TYPES={blueprintPortalClassName:function(_e,et){if(_e[et]!=null&&typeof _e[et]!="string")return new Error(PORTAL_CONTEXT_CLASS_NAME_STRING)}};function Portal(_e,et){var tt,rt=_e.className,nt=_e.stopPropagationEvents,it=_e.container,ot=_e.onChildrenMount,at=_e.children;et===void 0&&(et={});var st=reactExports.useContext(PortalContext),lt=(tt=it??st.portalContainer)!==null&&tt!==void 0?tt:typeof document<"u"?document.body:void 0,ct=reactExports.useState(),ut=ct[0],ft=ct[1],dt=reactExports.useCallback(function(){var pt=document.createElement("div");pt.classList.add(PORTAL),maybeAddClass(pt.classList,rt),maybeAddClass(pt.classList,st.portalClassName),addStopPropagationListeners(pt,nt);var mt=et.blueprintPortalClassName;return mt!=null&&mt!==""&&(console.error(PORTAL_LEGACY_CONTEXT_API),maybeAddClass(pt.classList,mt)),pt},[rt,st.portalClassName,et.blueprintPortalClassName,nt]);return reactExports.useEffect(function(){if(lt!=null){var pt=dt();return lt.appendChild(pt),ft(pt),function(){removeStopPropagationListeners(pt,nt),pt.remove(),ft(void 0)}}},[lt,dt,nt]),reactExports.useEffect(function(){ut!=null&&(ot==null||ot())},[ut,ot]),reactExports.useEffect(function(){if(ut!=null)return maybeAddClass(ut.classList,rt),function(){return maybeRemoveClass(ut.classList,rt)}},[rt,ut]),reactExports.useEffect(function(){if(ut!=null)return addStopPropagationListeners(ut,nt),function(){return removeStopPropagationListeners(ut,nt)}},[ut,nt]),typeof document>"u"||ut==null?null:reactDomExports.createPortal(at,ut)}Portal.displayName="".concat(DISPLAYNAME_PREFIX,".Portal");isReact18()||(Portal.contextTypes=PORTAL_LEGACY_CONTEXT_TYPES);function maybeRemoveClass(_e,et){et!=null&&et!==""&&_e.remove.apply(_e,et.split(" "))}function maybeAddClass(_e,et){et!=null&&et!==""&&_e.add.apply(_e,et.split(" "))}function addStopPropagationListeners(_e,et){et==null||et.forEach(function(tt){return _e.addEventListener(tt,handleStopProgation)})}function removeStopPropagationListeners(_e,et){et==null||et.forEach(function(tt){return _e.removeEventListener(tt,handleStopProgation)})}function handleStopProgation(_e){_e.stopPropagation()}var Overlay2=reactExports.forwardRef(function(_e,et){var tt,rt,nt,it=_e.autoFocus,ot=_e.backdropClassName,at=_e.backdropProps,st=_e.canEscapeKeyClose,lt=_e.canOutsideClickClose,ct=_e.childRef,ut=_e.childRefs,ft=_e.children,dt=_e.className,pt=_e.enforceFocus,mt=_e.hasBackdrop,vt=_e.isOpen,ht=_e.lazy,yt=_e.onClose,gt=_e.onClosed,xt=_e.onClosing,_t=_e.onOpened,wt=_e.onOpening,Et=_e.portalClassName,St=_e.portalContainer,Ct=_e.shouldReturnFocusOnClose,bt=_e.transitionDuration,At=_e.transitionName,Tt=_e.usePortal;useOverlay2Validation(_e);var Ot=useOverlayStack(),$t=Ot.closeOverlay,It=Ot.getLastOpened,Nt=Ot.getThisOverlayAndDescendants,jt=Ot.openOverlay,Bt=reactExports.useState(!1),Dt=Bt[0],zt=Bt[1],Lt=reactExports.useState(!1),Ft=Lt[0],Xt=Lt[1],Wt=reactExports.useRef(null),Ht=reactExports.useRef(null),nr=reactExports.useRef(null),fr=reactExports.useRef(null),dr=reactExports.useRef(null),Qt=reactExports.useRef(null),sr=reactExports.useCallback(function(){return requestAnimationFrame(function(){var ir,cr=getRef(Ht),mr=getActiveElement(cr);if(!(cr==null||mr==null)){var xr=!cr.contains(mr);xr&&((ir=getRef(fr))===null||ir===void 0||ir.focus({preventScroll:!0}),zt(!1))}})},[]),ar=useOverlay2ID(),Jt=reactExports.useRef(null),pr=reactExports.useCallback(function(ir){var cr=ir.composed?ir.composedPath()[0]:ir.target,mr=getRef(Ht);mr!=null&&cr instanceof Node&&!mr.contains(cr)&&(ir.preventDefault(),ir.stopImmediatePropagation(),sr())},[sr]),Rt=reactExports.useCallback(function(ir){var cr=ir.composed?ir.composedPath()[0]:ir.target,mr=Nt(ar),xr=mr.some(function(_r){var br=_r.containerElement,Er=getRef(br);return(Er==null?void 0:Er.contains(cr))&&!Er.isSameNode(cr)});xr||yt==null||yt(ir)},[Nt,ar,yt]);reactExports.useEffect(function(){document.removeEventListener("mousedown",Rt)},[Rt]),reactExports.useEffect(function(){document.removeEventListener("focus",pr,!0)},[pr]);var Ut=reactExports.useMemo(function(){return mergeRefs(et,Jt)},[et]);reactExports.useImperativeHandle(Ut,function(){return{bringFocusInsideOverlay:sr,containerElement:Ht,handleDocumentFocus:pr,handleDocumentMousedown:Rt,id:ar,props:{autoFocus:it,enforceFocus:pt,hasBackdrop:mt,usePortal:Tt}}},[it,sr,pt,pr,Rt,mt,ar,Tt]);var Gt=reactExports.useCallback(function(ir){ir.key==="Escape"&&st&&(yt==null||yt(ir),ir.stopPropagation(),ir.preventDefault())},[st,yt]),Mt=reactExports.useCallback(function(){if(Jt.current!=null){var ir=It();(ir==null?void 0:ir.handleDocumentFocus)!==void 0&&document.removeEventListener("focus",ir.handleDocumentFocus,!0),jt(Jt.current),it&&(zt(!0),sr()),pt&&document.addEventListener("focus",pr,!0),lt&&!mt&&document.addEventListener("mousedown",Rt),setRef$1(Wt,getActiveElement(getRef(Ht)))}},[it,sr,lt,pt,It,Rt,pr,mt,jt]),kt=reactExports.useCallback(function(){var ir;document.removeEventListener("focus",pr,!0),document.removeEventListener("mousedown",Rt),$t(ar);var cr=It();cr!==void 0&&cr.props.autoFocus&&cr.props.enforceFocus&&((ir=cr.bringFocusInsideOverlay)===null||ir===void 0||ir.call(cr),cr.handleDocumentFocus!==void 0&&document.addEventListener("focus",cr.handleDocumentFocus,!0))},[$t,It,pr,Rt,ar]),Pt=(rt=usePrevious(vt))!==null&&rt!==void 0?rt:!1;reactExports.useEffect(function(){vt&&Xt(!0),!Pt&&vt&&Mt(),Pt&&!vt&&kt()},[vt,Mt,kt,Pt]),reactExports.useEffect(function(){return function(){vt&&kt()}},[]);var Kt=reactExports.useCallback(function(ir){var cr=getRef(Wt);Ct&&cr instanceof HTMLElement&&cr.focus(),gt==null||gt(ir)},[gt,Ct]),qt=reactExports.useCallback(function(){},[]),Vt=reactExports.useCallback(function(ir){if(ct!=null)return ct;if(ut!=null){var cr=ir.key;if(cr==null){isNodeEnv$1("production")||console.error(OVERLAY_CHILD_REQUIRES_KEY);return}return ut[cr]}},[ct,ut]),tr=reactExports.useCallback(function(ir){if(ir==null||isEmptyString(ir))return null;var cr=Vt(ir),mr=isReactElement(ir)?ir.props:{},xr=ensureElement(ir,"span",{className:classNames(mr.className,OVERLAY_CONTENT),ref:cr===void 0?Qt:void 0,tabIndex:pt||it?0:void 0}),_r=cr??Qt;return reactExports.createElement(CSSTransition$1,{addEndListener:qt,classNames:At,nodeRef:_r,onEntered:getLifecycleCallbackWithChildRef(_t,_r),onEntering:getLifecycleCallbackWithChildRef(wt,_r),onExited:getLifecycleCallbackWithChildRef(Kt,_r),onExiting:getLifecycleCallbackWithChildRef(xt,_r),timeout:bt},xr)},[it,pt,Vt,qt,Kt,xt,_t,wt,bt,At]),Yt=reactExports.useCallback(function(ir){var cr;lt&&(yt==null||yt(ir)),pt&&sr(),(cr=at==null?void 0:at.onMouseDown)===null||cr===void 0||cr.call(at,ir)},[at,sr,lt,pt,yt]),Zt=reactExports.useCallback(function(ir,cr){return reactExports.createElement(CSSTransition$1,{addEndListener:qt,classNames:At,key:ir,nodeRef:cr.ref,timeout:bt,unmountOnExit:!0},reactExports.createElement("div",__assign$1({tabIndex:0},cr)))},[qt,bt,At]),er=reactExports.useCallback(function(ir){if(!(!pt||Dt)){var cr=getRef(Ht),mr=getRef(dr);ir.relatedTarget!=null&&(cr!=null&&cr.contains(ir.relatedTarget))&&ir.relatedTarget!==mr&&(mr==null||mr.focus({preventScroll:!0}))}},[pt,Dt]),lr=reactExports.useCallback(function(ir){var cr;if(pt&&ir.shiftKey&&ir.key==="Tab"){var mr=getKeyboardFocusableElements(Ht).pop();mr!=null?mr.focus():(cr=getRef(dr))===null||cr===void 0||cr.focus({preventScroll:!0})}},[pt]),ur=reactExports.useCallback(function(ir){var cr,mr=getRef(fr);if(ir.relatedTarget!=null&&(!((cr=getRef(Ht))===null||cr===void 0)&&cr.contains(ir.relatedTarget))&&ir.relatedTarget!==mr){var xr=getKeyboardFocusableElements(Ht).shift();!Dt&&xr!=null&&xr!==ir.relatedTarget?xr.focus():mr==null||mr.focus({preventScroll:!0})}else{var _r=getKeyboardFocusableElements(Ht).pop();_r!=null?_r.focus():mr==null||mr.focus({preventScroll:!0})}},[Dt]),hr=reactExports.useMemo(function(){return mt&&vt?reactExports.createElement(CSSTransition$1,{classNames:At,key:"__backdrop",nodeRef:nr,timeout:bt,addEndListener:qt},reactExports.createElement("div",__assign$1({},at,{className:classNames(OVERLAY_BACKDROP,ot,at==null?void 0:at.className),onMouseDown:Yt,ref:nr}))):null},[ot,at,Yt,qt,mt,vt,bt,At]);if(ht&&!Ft)return null;var gr=vt?(nt=reactExports.Children.map(ft,tr))!==null&&nt!==void 0?nt:[]:[];hr!==null&&gr.unshift(hr),vt&&(it||pt)&&gr.length>0&&(gr.unshift(Zt("__start",{className:OVERLAY_START_FOCUS_TRAP,onFocus:er,onKeyDown:lr,ref:fr})),pt&&gr.push(Zt("__end",{className:OVERLAY_END_FOCUS_TRAP,onFocus:ur,ref:dr})));var vr=reactExports.createElement("div",{"aria-live":"polite",className:classNames(OVERLAY,(tt={},tt[OVERLAY_OPEN]=vt,tt[OVERLAY_INLINE]=!Tt,tt),dt),onKeyDown:Gt,ref:Ht},reactExports.createElement(TransitionGroup$1,{appear:!0,component:null},gr));return Tt?reactExports.createElement(Portal,{className:Et,container:St},vr):vr});Overlay2.defaultProps={autoFocus:!0,backdropProps:{},canEscapeKeyClose:!0,canOutsideClickClose:!0,enforceFocus:!0,hasBackdrop:!0,isOpen:!1,lazy:hasDOMEnvironment(),shouldReturnFocusOnClose:!0,transitionDuration:300,transitionName:OVERLAY,usePortal:!0};Overlay2.displayName="".concat(DISPLAYNAME_PREFIX,".Overlay2");function useOverlay2Validation(_e){var et=_e.childRef,tt=_e.childRefs,rt=_e.children,nt=reactExports.Children.count(rt);reactExports.useEffect(function(){isNodeEnv$1("production")||(et!=null&&tt!=null&&console.error(OVERLAY_CHILD_REF_AND_REFS_MUTEX),nt>1&&tt==null&&console.error(OVERLAY_WITH_MULTIPLE_CHILDREN_REQUIRES_CHILD_REFS))},[et,tt,nt])}function useOverlay2ID(){var _e=useUID();return"".concat(Overlay2.displayName,"-").concat(_e)}function getLifecycleCallbackWithChildRef(_e,et){return function(){(et==null?void 0:et.current)!=null&&(_e==null||_e(et.current))}}var Dialog=function(_e){__extends(et,_e);function et(tt){var rt=_e.call(this,tt)||this;rt.childRef=reactExports.createRef();var nt=uniqueId$1("bp-dialog");return rt.titleId="title-".concat(nt),rt}return et.prototype.render=function(){var tt=this.props,rt=tt.className,nt=tt.children,it=tt.containerRef,ot=tt.style,at=tt.title,st=__rest$1(tt,["className","children","containerRef","style","title"]);return reactExports.createElement(Overlay2,__assign$1({},st,{className:OVERLAY_SCROLL_CONTAINER,childRef:this.childRef,hasBackdrop:!0}),reactExports.createElement("div",{className:DIALOG_CONTAINER,ref:it===void 0?this.childRef:mergeRefs(it,this.childRef)},reactExports.createElement("div",{className:classNames(DIALOG,rt),role:"dialog","aria-labelledby":this.props["aria-labelledby"]||(at?this.titleId:void 0),"aria-describedby":this.props["aria-describedby"],style:ot},this.maybeRenderHeader(),nt)))},et.prototype.validateProps=function(tt){tt.title==null&&(tt.icon!=null&&console.warn(DIALOG_WARN_NO_HEADER_ICON),tt.isCloseButtonShown!=null&&console.warn(DIALOG_WARN_NO_HEADER_CLOSE_BUTTON))},et.prototype.maybeRenderCloseButton=function(){if(this.props.isCloseButtonShown!==!1)return reactExports.createElement(Button$1,{"aria-label":"Close",className:DIALOG_CLOSE_BUTTON,icon:reactExports.createElement(SmallCross,{size:IconSize.STANDARD}),minimal:!0,onClick:this.props.onClose})},et.prototype.maybeRenderHeader=function(){var tt=this.props,rt=tt.icon,nt=tt.title;if(nt!=null)return reactExports.createElement("div",{className:DIALOG_HEADER},reactExports.createElement(Icon,{icon:rt,size:IconSize.STANDARD,"aria-hidden":!0,tabIndex:-1}),reactExports.createElement(H6,{id:this.titleId},nt),this.maybeRenderCloseButton())},et.defaultProps={canOutsideClickClose:!0,isOpen:!1},et.displayName="".concat(DISPLAYNAME_PREFIX,".Dialog"),et}(AbstractPureComponent),Menu=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt,rt=this.props,nt=rt.className,it=rt.children,ot=rt.large,at=rt.small,st=rt.ulRef,lt=__rest$1(rt,["className","children","large","small","ulRef"]),ct=classNames(nt,MENU,(tt={},tt[LARGE]=ot,tt[SMALL]=at,tt));return reactExports.createElement("ul",__assign$1({role:"menu"},lt,{className:ct,ref:st}),it)},et.displayName="".concat(DISPLAYNAME_PREFIX,".Menu"),et}(AbstractPureComponent),ManagerReferenceNodeContext=reactExports.createContext(),ManagerReferenceNodeSetterContext=reactExports.createContext();function Manager(_e){var et=_e.children,tt=reactExports.useState(null),rt=tt[0],nt=tt[1],it=reactExports.useRef(!1);reactExports.useEffect(function(){return function(){it.current=!0}},[]);var ot=reactExports.useCallback(function(at){it.current||nt(at)},[]);return reactExports.createElement(ManagerReferenceNodeContext.Provider,{value:rt},reactExports.createElement(ManagerReferenceNodeSetterContext.Provider,{value:ot},et))}var unwrapArray=function(et){return Array.isArray(et)?et[0]:et},safeInvoke=function(et){if(typeof et=="function"){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];return et.apply(void 0,rt)}},setRef=function(et,tt){if(typeof et=="function")return safeInvoke(et,tt);et!=null&&(et.current=tt)},fromEntries=function(et){return et.reduce(function(tt,rt){var nt=rt[0],it=rt[1];return tt[nt]=it,tt},{})},useIsomorphicLayoutEffect$2=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(_e,et){return _e.concat([et+"-"+start,et+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(_e,et){return _e.concat([et,et+"-"+start,et+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(_e){return _e?(_e.nodeName||"").toLowerCase():null}function getWindow(_e){if(_e==null)return window;if(_e.toString()!=="[object Window]"){var et=_e.ownerDocument;return et&&et.defaultView||window}return _e}function isElement$1(_e){var et=getWindow(_e).Element;return _e instanceof et||_e instanceof Element}function isHTMLElement(_e){var et=getWindow(_e).HTMLElement;return _e instanceof et||_e instanceof HTMLElement}function isShadowRoot(_e){if(typeof ShadowRoot>"u")return!1;var et=getWindow(_e).ShadowRoot;return _e instanceof et||_e instanceof ShadowRoot}function applyStyles(_e){var et=_e.state;Object.keys(et.elements).forEach(function(tt){var rt=et.styles[tt]||{},nt=et.attributes[tt]||{},it=et.elements[tt];!isHTMLElement(it)||!getNodeName(it)||(Object.assign(it.style,rt),Object.keys(nt).forEach(function(ot){var at=nt[ot];at===!1?it.removeAttribute(ot):it.setAttribute(ot,at===!0?"":at)}))})}function effect$2(_e){var et=_e.state,tt={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,tt.popper),et.styles=tt,et.elements.arrow&&Object.assign(et.elements.arrow.style,tt.arrow),function(){Object.keys(et.elements).forEach(function(rt){var nt=et.elements[rt],it=et.attributes[rt]||{},ot=Object.keys(et.styles.hasOwnProperty(rt)?et.styles[rt]:tt[rt]),at=ot.reduce(function(st,lt){return st[lt]="",st},{});!isHTMLElement(nt)||!getNodeName(nt)||(Object.assign(nt.style,at),Object.keys(it).forEach(function(st){nt.removeAttribute(st)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(_e){return _e.split("-")[0]}var max$3=Math.max,min$3=Math.min,round$1=Math.round;function getUAString(){var _e=navigator.userAgentData;return _e!=null&&_e.brands&&Array.isArray(_e.brands)?_e.brands.map(function(et){return et.brand+"/"+et.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(_e,et,tt){et===void 0&&(et=!1),tt===void 0&&(tt=!1);var rt=_e.getBoundingClientRect(),nt=1,it=1;et&&isHTMLElement(_e)&&(nt=_e.offsetWidth>0&&round$1(rt.width)/_e.offsetWidth||1,it=_e.offsetHeight>0&&round$1(rt.height)/_e.offsetHeight||1);var ot=isElement$1(_e)?getWindow(_e):window,at=ot.visualViewport,st=!isLayoutViewport()&&tt,lt=(rt.left+(st&&at?at.offsetLeft:0))/nt,ct=(rt.top+(st&&at?at.offsetTop:0))/it,ut=rt.width/nt,ft=rt.height/it;return{width:ut,height:ft,top:ct,right:lt+ut,bottom:ct+ft,left:lt,x:lt,y:ct}}function getLayoutRect(_e){var et=getBoundingClientRect(_e),tt=_e.offsetWidth,rt=_e.offsetHeight;return Math.abs(et.width-tt)<=1&&(tt=et.width),Math.abs(et.height-rt)<=1&&(rt=et.height),{x:_e.offsetLeft,y:_e.offsetTop,width:tt,height:rt}}function contains(_e,et){var tt=et.getRootNode&&et.getRootNode();if(_e.contains(et))return!0;if(tt&&isShadowRoot(tt)){var rt=et;do{if(rt&&_e.isSameNode(rt))return!0;rt=rt.parentNode||rt.host}while(rt)}return!1}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function isTableElement(_e){return["table","td","th"].indexOf(getNodeName(_e))>=0}function getDocumentElement(_e){return((isElement$1(_e)?_e.ownerDocument:_e.document)||window.document).documentElement}function getParentNode(_e){return getNodeName(_e)==="html"?_e:_e.assignedSlot||_e.parentNode||(isShadowRoot(_e)?_e.host:null)||getDocumentElement(_e)}function getTrueOffsetParent(_e){return!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed"?null:_e.offsetParent}function getContainingBlock(_e){var et=/firefox/i.test(getUAString()),tt=/Trident/i.test(getUAString());if(tt&&isHTMLElement(_e)){var rt=getComputedStyle$1(_e);if(rt.position==="fixed")return null}var nt=getParentNode(_e);for(isShadowRoot(nt)&&(nt=nt.host);isHTMLElement(nt)&&["html","body"].indexOf(getNodeName(nt))<0;){var it=getComputedStyle$1(nt);if(it.transform!=="none"||it.perspective!=="none"||it.contain==="paint"||["transform","perspective"].indexOf(it.willChange)!==-1||et&&it.willChange==="filter"||et&&it.filter&&it.filter!=="none")return nt;nt=nt.parentNode}return null}function getOffsetParent(_e){for(var et=getWindow(_e),tt=getTrueOffsetParent(_e);tt&&isTableElement(tt)&&getComputedStyle$1(tt).position==="static";)tt=getTrueOffsetParent(tt);return tt&&(getNodeName(tt)==="html"||getNodeName(tt)==="body"&&getComputedStyle$1(tt).position==="static")?et:tt||getContainingBlock(_e)||et}function getMainAxisFromPlacement(_e){return["top","bottom"].indexOf(_e)>=0?"x":"y"}function within(_e,et,tt){return max$3(_e,min$3(et,tt))}function withinMaxClamp(_e,et,tt){var rt=within(_e,et,tt);return rt>tt?tt:rt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(_e){return Object.assign({},getFreshSideObject(),_e)}function expandToHashMap(_e,et){return et.reduce(function(tt,rt){return tt[rt]=_e,tt},{})}var toPaddingObject=function(et,tt){return et=typeof et=="function"?et(Object.assign({},tt.rects,{placement:tt.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow(_e){var et,tt=_e.state,rt=_e.name,nt=_e.options,it=tt.elements.arrow,ot=tt.modifiersData.popperOffsets,at=getBasePlacement$1(tt.placement),st=getMainAxisFromPlacement(at),lt=[left,right].indexOf(at)>=0,ct=lt?"height":"width";if(!(!it||!ot)){var ut=toPaddingObject(nt.padding,tt),ft=getLayoutRect(it),dt=st==="y"?top:left,pt=st==="y"?bottom:right,mt=tt.rects.reference[ct]+tt.rects.reference[st]-ot[st]-tt.rects.popper[ct],vt=ot[st]-tt.rects.reference[st],ht=getOffsetParent(it),yt=ht?st==="y"?ht.clientHeight||0:ht.clientWidth||0:0,gt=mt/2-vt/2,xt=ut[dt],_t=yt-ft[ct]-ut[pt],wt=yt/2-ft[ct]/2+gt,Et=within(xt,wt,_t),St=st;tt.modifiersData[rt]=(et={},et[St]=Et,et.centerOffset=Et-wt,et)}}function effect$1(_e){var et=_e.state,tt=_e.options,rt=tt.element,nt=rt===void 0?"[data-popper-arrow]":rt;nt!=null&&(typeof nt=="string"&&(nt=et.elements.popper.querySelector(nt),!nt)||contains(et.elements.popper,nt)&&(et.elements.arrow=nt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(_e){return _e.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_e,et){var tt=_e.x,rt=_e.y,nt=et.devicePixelRatio||1;return{x:round$1(tt*nt)/nt||0,y:round$1(rt*nt)/nt||0}}function mapToStyles(_e){var et,tt=_e.popper,rt=_e.popperRect,nt=_e.placement,it=_e.variation,ot=_e.offsets,at=_e.position,st=_e.gpuAcceleration,lt=_e.adaptive,ct=_e.roundOffsets,ut=_e.isFixed,ft=ot.x,dt=ft===void 0?0:ft,pt=ot.y,mt=pt===void 0?0:pt,vt=typeof ct=="function"?ct({x:dt,y:mt}):{x:dt,y:mt};dt=vt.x,mt=vt.y;var ht=ot.hasOwnProperty("x"),yt=ot.hasOwnProperty("y"),gt=left,xt=top,_t=window;if(lt){var wt=getOffsetParent(tt),Et="clientHeight",St="clientWidth";if(wt===getWindow(tt)&&(wt=getDocumentElement(tt),getComputedStyle$1(wt).position!=="static"&&at==="absolute"&&(Et="scrollHeight",St="scrollWidth")),wt=wt,nt===top||(nt===left||nt===right)&&it===end){xt=bottom;var Ct=ut&&wt===_t&&_t.visualViewport?_t.visualViewport.height:wt[Et];mt-=Ct-rt.height,mt*=st?1:-1}if(nt===left||(nt===top||nt===bottom)&&it===end){gt=right;var bt=ut&&wt===_t&&_t.visualViewport?_t.visualViewport.width:wt[St];dt-=bt-rt.width,dt*=st?1:-1}}var At=Object.assign({position:at},lt&&unsetSides),Tt=ct===!0?roundOffsetsByDPR({x:dt,y:mt},getWindow(tt)):{x:dt,y:mt};if(dt=Tt.x,mt=Tt.y,st){var Ot;return Object.assign({},At,(Ot={},Ot[xt]=yt?"0":"",Ot[gt]=ht?"0":"",Ot.transform=(_t.devicePixelRatio||1)<=1?"translate("+dt+"px, "+mt+"px)":"translate3d("+dt+"px, "+mt+"px, 0)",Ot))}return Object.assign({},At,(et={},et[xt]=yt?mt+"px":"",et[gt]=ht?dt+"px":"",et.transform="",et))}function computeStyles(_e){var et=_e.state,tt=_e.options,rt=tt.gpuAcceleration,nt=rt===void 0?!0:rt,it=tt.adaptive,ot=it===void 0?!0:it,at=tt.roundOffsets,st=at===void 0?!0:at,lt={placement:getBasePlacement$1(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:nt,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},lt,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:ot,roundOffsets:st})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},lt,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(_e){var et=_e.state,tt=_e.instance,rt=_e.options,nt=rt.scroll,it=nt===void 0?!0:nt,ot=rt.resize,at=ot===void 0?!0:ot,st=getWindow(et.elements.popper),lt=[].concat(et.scrollParents.reference,et.scrollParents.popper);return it&&lt.forEach(function(ct){ct.addEventListener("scroll",tt.update,passive)}),at&&st.addEventListener("resize",tt.update,passive),function(){it&&lt.forEach(function(ct){ct.removeEventListener("scroll",tt.update,passive)}),at&&st.removeEventListener("resize",tt.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(_e){return _e.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(_e){return _e.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(_e){var et=getWindow(_e),tt=et.pageXOffset,rt=et.pageYOffset;return{scrollLeft:tt,scrollTop:rt}}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getWindowScroll(_e).scrollLeft}function getViewportRect(_e,et){var tt=getWindow(_e),rt=getDocumentElement(_e),nt=tt.visualViewport,it=rt.clientWidth,ot=rt.clientHeight,at=0,st=0;if(nt){it=nt.width,ot=nt.height;var lt=isLayoutViewport();(lt||!lt&&et==="fixed")&&(at=nt.offsetLeft,st=nt.offsetTop)}return{width:it,height:ot,x:at+getWindowScrollBarX(_e),y:st}}function getDocumentRect(_e){var et,tt=getDocumentElement(_e),rt=getWindowScroll(_e),nt=(et=_e.ownerDocument)==null?void 0:et.body,it=max$3(tt.scrollWidth,tt.clientWidth,nt?nt.scrollWidth:0,nt?nt.clientWidth:0),ot=max$3(tt.scrollHeight,tt.clientHeight,nt?nt.scrollHeight:0,nt?nt.clientHeight:0),at=-rt.scrollLeft+getWindowScrollBarX(_e),st=-rt.scrollTop;return getComputedStyle$1(nt||tt).direction==="rtl"&&(at+=max$3(tt.clientWidth,nt?nt.clientWidth:0)-it),{width:it,height:ot,x:at,y:st}}function isScrollParent(_e){var et=getComputedStyle$1(_e),tt=et.overflow,rt=et.overflowX,nt=et.overflowY;return/auto|scroll|overlay|hidden/.test(tt+nt+rt)}function getScrollParent(_e){return["html","body","#document"].indexOf(getNodeName(_e))>=0?_e.ownerDocument.body:isHTMLElement(_e)&&isScrollParent(_e)?_e:getScrollParent(getParentNode(_e))}function listScrollParents(_e,et){var tt;et===void 0&&(et=[]);var rt=getScrollParent(_e),nt=rt===((tt=_e.ownerDocument)==null?void 0:tt.body),it=getWindow(rt),ot=nt?[it].concat(it.visualViewport||[],isScrollParent(rt)?rt:[]):rt,at=et.concat(ot);return nt?at:at.concat(listScrollParents(getParentNode(ot)))}function rectToClientRect(_e){return Object.assign({},_e,{left:_e.x,top:_e.y,right:_e.x+_e.width,bottom:_e.y+_e.height})}function getInnerBoundingClientRect(_e,et){var tt=getBoundingClientRect(_e,!1,et==="fixed");return tt.top=tt.top+_e.clientTop,tt.left=tt.left+_e.clientLeft,tt.bottom=tt.top+_e.clientHeight,tt.right=tt.left+_e.clientWidth,tt.width=_e.clientWidth,tt.height=_e.clientHeight,tt.x=tt.left,tt.y=tt.top,tt}function getClientRectFromMixedType(_e,et,tt){return et===viewport?rectToClientRect(getViewportRect(_e,tt)):isElement$1(et)?getInnerBoundingClientRect(et,tt):rectToClientRect(getDocumentRect(getDocumentElement(_e)))}function getClippingParents(_e){var et=listScrollParents(getParentNode(_e)),tt=["absolute","fixed"].indexOf(getComputedStyle$1(_e).position)>=0,rt=tt&&isHTMLElement(_e)?getOffsetParent(_e):_e;return isElement$1(rt)?et.filter(function(nt){return isElement$1(nt)&&contains(nt,rt)&&getNodeName(nt)!=="body"}):[]}function getClippingRect(_e,et,tt,rt){var nt=et==="clippingParents"?getClippingParents(_e):[].concat(et),it=[].concat(nt,[tt]),ot=it[0],at=it.reduce(function(st,lt){var ct=getClientRectFromMixedType(_e,lt,rt);return st.top=max$3(ct.top,st.top),st.right=min$3(ct.right,st.right),st.bottom=min$3(ct.bottom,st.bottom),st.left=max$3(ct.left,st.left),st},getClientRectFromMixedType(_e,ot,rt));return at.width=at.right-at.left,at.height=at.bottom-at.top,at.x=at.left,at.y=at.top,at}function computeOffsets(_e){var et=_e.reference,tt=_e.element,rt=_e.placement,nt=rt?getBasePlacement$1(rt):null,it=rt?getVariation(rt):null,ot=et.x+et.width/2-tt.width/2,at=et.y+et.height/2-tt.height/2,st;switch(nt){case top:st={x:ot,y:et.y-tt.height};break;case bottom:st={x:ot,y:et.y+et.height};break;case right:st={x:et.x+et.width,y:at};break;case left:st={x:et.x-tt.width,y:at};break;default:st={x:et.x,y:et.y}}var lt=nt?getMainAxisFromPlacement(nt):null;if(lt!=null){var ct=lt==="y"?"height":"width";switch(it){case start:st[lt]=st[lt]-(et[ct]/2-tt[ct]/2);break;case end:st[lt]=st[lt]+(et[ct]/2-tt[ct]/2);break}}return st}function detectOverflow(_e,et){et===void 0&&(et={});var tt=et,rt=tt.placement,nt=rt===void 0?_e.placement:rt,it=tt.strategy,ot=it===void 0?_e.strategy:it,at=tt.boundary,st=at===void 0?clippingParents:at,lt=tt.rootBoundary,ct=lt===void 0?viewport:lt,ut=tt.elementContext,ft=ut===void 0?popper:ut,dt=tt.altBoundary,pt=dt===void 0?!1:dt,mt=tt.padding,vt=mt===void 0?0:mt,ht=mergePaddingObject(typeof vt!="number"?vt:expandToHashMap(vt,basePlacements)),yt=ft===popper?reference:popper,gt=_e.rects.popper,xt=_e.elements[pt?yt:ft],_t=getClippingRect(isElement$1(xt)?xt:xt.contextElement||getDocumentElement(_e.elements.popper),st,ct,ot),wt=getBoundingClientRect(_e.elements.reference),Et=computeOffsets({reference:wt,element:gt,strategy:"absolute",placement:nt}),St=rectToClientRect(Object.assign({},gt,Et)),Ct=ft===popper?St:wt,bt={top:_t.top-Ct.top+ht.top,bottom:Ct.bottom-_t.bottom+ht.bottom,left:_t.left-Ct.left+ht.left,right:Ct.right-_t.right+ht.right},At=_e.modifiersData.offset;if(ft===popper&&At){var Tt=At[nt];Object.keys(bt).forEach(function(Ot){var $t=[right,bottom].indexOf(Ot)>=0?1:-1,It=[top,bottom].indexOf(Ot)>=0?"y":"x";bt[Ot]+=Tt[It]*$t})}return bt}function computeAutoPlacement(_e,et){et===void 0&&(et={});var tt=et,rt=tt.placement,nt=tt.boundary,it=tt.rootBoundary,ot=tt.padding,at=tt.flipVariations,st=tt.allowedAutoPlacements,lt=st===void 0?placements:st,ct=getVariation(rt),ut=ct?at?variationPlacements:variationPlacements.filter(function(pt){return getVariation(pt)===ct}):basePlacements,ft=ut.filter(function(pt){return lt.indexOf(pt)>=0});ft.length===0&&(ft=ut);var dt=ft.reduce(function(pt,mt){return pt[mt]=detectOverflow(_e,{placement:mt,boundary:nt,rootBoundary:it,padding:ot})[getBasePlacement$1(mt)],pt},{});return Object.keys(dt).sort(function(pt,mt){return dt[pt]-dt[mt]})}function getExpandedFallbackPlacements(_e){if(getBasePlacement$1(_e)===auto)return[];var et=getOppositePlacement$1(_e);return[getOppositeVariationPlacement(_e),et,getOppositeVariationPlacement(et)]}function flip$2(_e){var et=_e.state,tt=_e.options,rt=_e.name;if(!et.modifiersData[rt]._skip){for(var nt=tt.mainAxis,it=nt===void 0?!0:nt,ot=tt.altAxis,at=ot===void 0?!0:ot,st=tt.fallbackPlacements,lt=tt.padding,ct=tt.boundary,ut=tt.rootBoundary,ft=tt.altBoundary,dt=tt.flipVariations,pt=dt===void 0?!0:dt,mt=tt.allowedAutoPlacements,vt=et.options.placement,ht=getBasePlacement$1(vt),yt=ht===vt,gt=st||(yt||!pt?[getOppositePlacement$1(vt)]:getExpandedFallbackPlacements(vt)),xt=[vt].concat(gt).reduce(function(Wt,Ht){return Wt.concat(getBasePlacement$1(Ht)===auto?computeAutoPlacement(et,{placement:Ht,boundary:ct,rootBoundary:ut,padding:lt,flipVariations:pt,allowedAutoPlacements:mt}):Ht)},[]),_t=et.rects.reference,wt=et.rects.popper,Et=new Map,St=!0,Ct=xt[0],bt=0;bt<xt.length;bt++){var At=xt[bt],Tt=getBasePlacement$1(At),Ot=getVariation(At)===start,$t=[top,bottom].indexOf(Tt)>=0,It=$t?"width":"height",Nt=detectOverflow(et,{placement:At,boundary:ct,rootBoundary:ut,altBoundary:ft,padding:lt}),jt=$t?Ot?right:left:Ot?bottom:top;_t[It]>wt[It]&&(jt=getOppositePlacement$1(jt));var Bt=getOppositePlacement$1(jt),Dt=[];if(it&&Dt.push(Nt[Tt]<=0),at&&Dt.push(Nt[jt]<=0,Nt[Bt]<=0),Dt.every(function(Wt){return Wt})){Ct=At,St=!1;break}Et.set(At,Dt)}if(St)for(var zt=pt?3:1,Lt=function(Ht){var nr=xt.find(function(fr){var dr=Et.get(fr);if(dr)return dr.slice(0,Ht).every(function(Qt){return Qt})});if(nr)return Ct=nr,"break"},Ft=zt;Ft>0;Ft--){var Xt=Lt(Ft);if(Xt==="break")break}et.placement!==Ct&&(et.modifiersData[rt]._skip=!0,et.placement=Ct,et.reset=!0)}}const flip$3={name:"flip",enabled:!0,phase:"main",fn:flip$2,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(_e,et,tt){return tt===void 0&&(tt={x:0,y:0}),{top:_e.top-et.height-tt.y,right:_e.right-et.width+tt.x,bottom:_e.bottom-et.height+tt.y,left:_e.left-et.width-tt.x}}function isAnySideFullyClipped(_e){return[top,right,bottom,left].some(function(et){return _e[et]>=0})}function hide(_e){var et=_e.state,tt=_e.name,rt=et.rects.reference,nt=et.rects.popper,it=et.modifiersData.preventOverflow,ot=detectOverflow(et,{elementContext:"reference"}),at=detectOverflow(et,{altBoundary:!0}),st=getSideOffsets(ot,rt),lt=getSideOffsets(at,nt,it),ct=isAnySideFullyClipped(st),ut=isAnySideFullyClipped(lt);et.modifiersData[tt]={referenceClippingOffsets:st,popperEscapeOffsets:lt,isReferenceHidden:ct,hasPopperEscaped:ut},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":ct,"data-popper-escaped":ut})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(_e,et,tt){var rt=getBasePlacement$1(_e),nt=[left,top].indexOf(rt)>=0?-1:1,it=typeof tt=="function"?tt(Object.assign({},et,{placement:_e})):tt,ot=it[0],at=it[1];return ot=ot||0,at=(at||0)*nt,[left,right].indexOf(rt)>=0?{x:at,y:ot}:{x:ot,y:at}}function offset(_e){var et=_e.state,tt=_e.options,rt=_e.name,nt=tt.offset,it=nt===void 0?[0,0]:nt,ot=placements.reduce(function(ct,ut){return ct[ut]=distanceAndSkiddingToXY(ut,et.rects,it),ct},{}),at=ot[et.placement],st=at.x,lt=at.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=st,et.modifiersData.popperOffsets.y+=lt),et.modifiersData[rt]=ot}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(_e){var et=_e.state,tt=_e.name;et.modifiersData[tt]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(_e){return _e==="x"?"y":"x"}function preventOverflow(_e){var et=_e.state,tt=_e.options,rt=_e.name,nt=tt.mainAxis,it=nt===void 0?!0:nt,ot=tt.altAxis,at=ot===void 0?!1:ot,st=tt.boundary,lt=tt.rootBoundary,ct=tt.altBoundary,ut=tt.padding,ft=tt.tether,dt=ft===void 0?!0:ft,pt=tt.tetherOffset,mt=pt===void 0?0:pt,vt=detectOverflow(et,{boundary:st,rootBoundary:lt,padding:ut,altBoundary:ct}),ht=getBasePlacement$1(et.placement),yt=getVariation(et.placement),gt=!yt,xt=getMainAxisFromPlacement(ht),_t=getAltAxis(xt),wt=et.modifiersData.popperOffsets,Et=et.rects.reference,St=et.rects.popper,Ct=typeof mt=="function"?mt(Object.assign({},et.rects,{placement:et.placement})):mt,bt=typeof Ct=="number"?{mainAxis:Ct,altAxis:Ct}:Object.assign({mainAxis:0,altAxis:0},Ct),At=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Tt={x:0,y:0};if(wt){if(it){var Ot,$t=xt==="y"?top:left,It=xt==="y"?bottom:right,Nt=xt==="y"?"height":"width",jt=wt[xt],Bt=jt+vt[$t],Dt=jt-vt[It],zt=dt?-St[Nt]/2:0,Lt=yt===start?Et[Nt]:St[Nt],Ft=yt===start?-St[Nt]:-Et[Nt],Xt=et.elements.arrow,Wt=dt&&Xt?getLayoutRect(Xt):{width:0,height:0},Ht=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),nr=Ht[$t],fr=Ht[It],dr=within(0,Et[Nt],Wt[Nt]),Qt=gt?Et[Nt]/2-zt-dr-nr-bt.mainAxis:Lt-dr-nr-bt.mainAxis,sr=gt?-Et[Nt]/2+zt+dr+fr+bt.mainAxis:Ft+dr+fr+bt.mainAxis,ar=et.elements.arrow&&getOffsetParent(et.elements.arrow),Jt=ar?xt==="y"?ar.clientTop||0:ar.clientLeft||0:0,pr=(Ot=At==null?void 0:At[xt])!=null?Ot:0,Rt=jt+Qt-pr-Jt,Ut=jt+sr-pr,Gt=within(dt?min$3(Bt,Rt):Bt,jt,dt?max$3(Dt,Ut):Dt);wt[xt]=Gt,Tt[xt]=Gt-jt}if(at){var Mt,kt=xt==="x"?top:left,Pt=xt==="x"?bottom:right,Kt=wt[_t],qt=_t==="y"?"height":"width",Vt=Kt+vt[kt],tr=Kt-vt[Pt],Yt=[top,left].indexOf(ht)!==-1,Zt=(Mt=At==null?void 0:At[_t])!=null?Mt:0,er=Yt?Vt:Kt-Et[qt]-St[qt]-Zt+bt.altAxis,lr=Yt?Kt+Et[qt]+St[qt]-Zt-bt.altAxis:tr,ur=dt&&Yt?withinMaxClamp(er,Kt,lr):within(dt?er:Vt,Kt,dt?lr:tr);wt[_t]=ur,Tt[_t]=ur-Kt}et.modifiersData[rt]=Tt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(_e){return{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}}function getNodeScroll(_e){return _e===getWindow(_e)||!isHTMLElement(_e)?getWindowScroll(_e):getHTMLElementScroll(_e)}function isElementScaled(_e){var et=_e.getBoundingClientRect(),tt=round$1(et.width)/_e.offsetWidth||1,rt=round$1(et.height)/_e.offsetHeight||1;return tt!==1||rt!==1}function getCompositeRect(_e,et,tt){tt===void 0&&(tt=!1);var rt=isHTMLElement(et),nt=isHTMLElement(et)&&isElementScaled(et),it=getDocumentElement(et),ot=getBoundingClientRect(_e,nt,tt),at={scrollLeft:0,scrollTop:0},st={x:0,y:0};return(rt||!rt&&!tt)&&((getNodeName(et)!=="body"||isScrollParent(it))&&(at=getNodeScroll(et)),isHTMLElement(et)?(st=getBoundingClientRect(et,!0),st.x+=et.clientLeft,st.y+=et.clientTop):it&&(st.x=getWindowScrollBarX(it))),{x:ot.left+at.scrollLeft-st.x,y:ot.top+at.scrollTop-st.y,width:ot.width,height:ot.height}}function order(_e){var et=new Map,tt=new Set,rt=[];_e.forEach(function(it){et.set(it.name,it)});function nt(it){tt.add(it.name);var ot=[].concat(it.requires||[],it.requiresIfExists||[]);ot.forEach(function(at){if(!tt.has(at)){var st=et.get(at);st&&nt(st)}}),rt.push(it)}return _e.forEach(function(it){tt.has(it.name)||nt(it)}),rt}function orderModifiers(_e){var et=order(_e);return modifierPhases.reduce(function(tt,rt){return tt.concat(et.filter(function(nt){return nt.phase===rt}))},[])}function debounce$2(_e){var et;return function(){return et||(et=new Promise(function(tt){Promise.resolve().then(function(){et=void 0,tt(_e())})})),et}}function mergeByName(_e){var et=_e.reduce(function(tt,rt){var nt=tt[rt.name];return tt[rt.name]=nt?Object.assign({},nt,rt,{options:Object.assign({},nt.options,rt.options),data:Object.assign({},nt.data,rt.data)}):rt,tt},{});return Object.keys(et).map(function(tt){return et[tt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return!et.some(function(rt){return!(rt&&typeof rt.getBoundingClientRect=="function")})}function popperGenerator(_e){_e===void 0&&(_e={});var et=_e,tt=et.defaultModifiers,rt=tt===void 0?[]:tt,nt=et.defaultOptions,it=nt===void 0?DEFAULT_OPTIONS:nt;return function(at,st,lt){lt===void 0&&(lt=it);var ct={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,it),modifiersData:{},elements:{reference:at,popper:st},attributes:{},styles:{}},ut=[],ft=!1,dt={state:ct,setOptions:function(ht){var yt=typeof ht=="function"?ht(ct.options):ht;mt(),ct.options=Object.assign({},it,ct.options,yt),ct.scrollParents={reference:isElement$1(at)?listScrollParents(at):at.contextElement?listScrollParents(at.contextElement):[],popper:listScrollParents(st)};var gt=orderModifiers(mergeByName([].concat(rt,ct.options.modifiers)));return ct.orderedModifiers=gt.filter(function(xt){return xt.enabled}),pt(),dt.update()},forceUpdate:function(){if(!ft){var ht=ct.elements,yt=ht.reference,gt=ht.popper;if(areValidElements(yt,gt)){ct.rects={reference:getCompositeRect(yt,getOffsetParent(gt),ct.options.strategy==="fixed"),popper:getLayoutRect(gt)},ct.reset=!1,ct.placement=ct.options.placement,ct.orderedModifiers.forEach(function(bt){return ct.modifiersData[bt.name]=Object.assign({},bt.data)});for(var xt=0;xt<ct.orderedModifiers.length;xt++){if(ct.reset===!0){ct.reset=!1,xt=-1;continue}var _t=ct.orderedModifiers[xt],wt=_t.fn,Et=_t.options,St=Et===void 0?{}:Et,Ct=_t.name;typeof wt=="function"&&(ct=wt({state:ct,options:St,name:Ct,instance:dt})||ct)}}}},update:debounce$2(function(){return new Promise(function(vt){dt.forceUpdate(),vt(ct)})}),destroy:function(){mt(),ft=!0}};if(!areValidElements(at,st))return dt;dt.setOptions(lt).then(function(vt){!ft&&lt.onFirstUpdate&&lt.onFirstUpdate(vt)});function pt(){ct.orderedModifiers.forEach(function(vt){var ht=vt.name,yt=vt.options,gt=yt===void 0?{}:yt,xt=vt.effect;if(typeof xt=="function"){var _t=xt({state:ct,name:ht,instance:dt,options:gt}),wt=function(){};ut.push(_t||wt)}})}function mt(){ut.forEach(function(vt){return vt()}),ut=[]}return dt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$3,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(_e,et){if(_e===et)return!0;if(_e&&et&&typeof _e=="object"&&typeof et=="object"){if(_e.constructor!==et.constructor)return!1;var tt,rt,nt;if(Array.isArray(_e)){if(tt=_e.length,tt!=et.length)return!1;for(rt=tt;rt--!==0;)if(!equal(_e[rt],et[rt]))return!1;return!0}var it;if(hasMap&&_e instanceof Map&&et instanceof Map){if(_e.size!==et.size)return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!et.has(rt.value[0]))return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!equal(rt.value[1],et.get(rt.value[0])))return!1;return!0}if(hasSet&&_e instanceof Set&&et instanceof Set){if(_e.size!==et.size)return!1;for(it=_e.entries();!(rt=it.next()).done;)if(!et.has(rt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(_e)&&ArrayBuffer.isView(et)){if(tt=_e.length,tt!=et.length)return!1;for(rt=tt;rt--!==0;)if(_e[rt]!==et[rt])return!1;return!0}if(_e.constructor===RegExp)return _e.source===et.source&&_e.flags===et.flags;if(_e.valueOf!==Object.prototype.valueOf&&typeof _e.valueOf=="function"&&typeof et.valueOf=="function")return _e.valueOf()===et.valueOf();if(_e.toString!==Object.prototype.toString&&typeof _e.toString=="function"&&typeof et.toString=="function")return _e.toString()===et.toString();if(nt=Object.keys(_e),tt=nt.length,tt!==Object.keys(et).length)return!1;for(rt=tt;rt--!==0;)if(!Object.prototype.hasOwnProperty.call(et,nt[rt]))return!1;if(hasElementType&&_e instanceof Element)return!1;for(rt=tt;rt--!==0;)if(!((nt[rt]==="_owner"||nt[rt]==="__v"||nt[rt]==="__o")&&_e.$$typeof)&&!equal(_e[nt[rt]],et[nt[rt]]))return!1;return!0}return _e!==_e&&et!==et}var reactFastCompare=function(et,tt){try{return equal(et,tt)}catch(rt){if((rt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw rt}};const isEqual=getDefaultExportFromCjs(reactFastCompare);var EMPTY_MODIFIERS$1=[],usePopper=function(et,tt,rt){rt===void 0&&(rt={});var nt=reactExports.useRef(null),it={onFirstUpdate:rt.onFirstUpdate,placement:rt.placement||"bottom",strategy:rt.strategy||"absolute",modifiers:rt.modifiers||EMPTY_MODIFIERS$1},ot=reactExports.useState({styles:{popper:{position:it.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),at=ot[0],st=ot[1],lt=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(dt){var pt=dt.state,mt=Object.keys(pt.elements);reactDomExports.flushSync(function(){st({styles:fromEntries(mt.map(function(vt){return[vt,pt.styles[vt]||{}]})),attributes:fromEntries(mt.map(function(vt){return[vt,pt.attributes[vt]]}))})})},requires:["computeStyles"]}},[]),ct=reactExports.useMemo(function(){var ft={onFirstUpdate:it.onFirstUpdate,placement:it.placement,strategy:it.strategy,modifiers:[].concat(it.modifiers,[lt,{name:"applyStyles",enabled:!1}])};return isEqual(nt.current,ft)?nt.current||ft:(nt.current=ft,ft)},[it.onFirstUpdate,it.placement,it.strategy,it.modifiers,lt]),ut=reactExports.useRef();return useIsomorphicLayoutEffect$2(function(){ut.current&&ut.current.setOptions(ct)},[ct]),useIsomorphicLayoutEffect$2(function(){if(!(et==null||tt==null)){var ft=rt.createPopper||createPopper,dt=ft(et,tt,ct);return ut.current=dt,function(){dt.destroy(),ut.current=null}}},[et,tt,rt.createPopper]),{state:ut.current?ut.current.state:null,styles:at.styles,attributes:at.attributes,update:ut.current?ut.current.update:null,forceUpdate:ut.current?ut.current.forceUpdate:null}},NOOP=function(){},NOOP_PROMISE=function(){return Promise.resolve(null)},EMPTY_MODIFIERS=[];function Popper(_e){var et=_e.placement,tt=et===void 0?"bottom":et,rt=_e.strategy,nt=rt===void 0?"absolute":rt,it=_e.modifiers,ot=it===void 0?EMPTY_MODIFIERS:it,at=_e.referenceElement,st=_e.onFirstUpdate,lt=_e.innerRef,ct=_e.children,ut=reactExports.useContext(ManagerReferenceNodeContext),ft=reactExports.useState(null),dt=ft[0],pt=ft[1],mt=reactExports.useState(null),vt=mt[0],ht=mt[1];reactExports.useEffect(function(){setRef(lt,dt)},[lt,dt]);var yt=reactExports.useMemo(function(){return{placement:tt,strategy:nt,onFirstUpdate:st,modifiers:[].concat(ot,[{name:"arrow",enabled:vt!=null,options:{element:vt}}])}},[tt,nt,st,ot,vt]),gt=usePopper(at||ut,dt,yt),xt=gt.state,_t=gt.styles,wt=gt.forceUpdate,Et=gt.update,St=reactExports.useMemo(function(){return{ref:pt,style:_t.popper,placement:xt?xt.placement:tt,hasPopperEscaped:xt&&xt.modifiersData.hide?xt.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:xt&&xt.modifiersData.hide?xt.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:_t.arrow,ref:ht},forceUpdate:wt||NOOP,update:Et||NOOP_PROMISE}},[pt,ht,tt,xt,_t,Et,wt]);return unwrapArray(ct)(St)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);function Reference(_e){var et=_e.children,tt=_e.innerRef,rt=reactExports.useContext(ManagerReferenceNodeSetterContext),nt=reactExports.useCallback(function(it){setRef(tt,it),safeInvoke(rt,it)},[tt,rt]);return reactExports.useEffect(function(){return function(){return setRef(tt,null)}},[]),reactExports.useEffect(function(){warning$1(!!rt,"`Reference` should not be used outside of a `Manager` component.")},[rt]),unwrapArray(et)({ref:nt})}var ResizeSensor=function(_e){__extends(et,_e);function et(){var tt,rt=_e.apply(this,arguments)||this;return rt.targetRef=(tt=rt.props.targetRef)!==null&&tt!==void 0?tt:reactExports.createRef(),rt.prevElement=void 0,rt}return et.prototype.render=function(){var tt=reactExports.Children.only(this.props.children);return this.props.targetRef!==void 0?tt:reactExports.cloneElement(tt,{ref:this.targetRef})},et.prototype.componentDidMount=function(){var tt=this;this.observer=globalThis.ResizeObserver!=null?new ResizeObserver(function(rt){var nt,it;return(it=(nt=tt.props).onResize)===null||it===void 0?void 0:it.call(nt,rt)}):void 0,this.observeElement()},et.prototype.componentDidUpdate=function(tt){this.observeElement(this.props.observeParents!==tt.observeParents)},et.prototype.componentWillUnmount=function(){var tt;(tt=this.observer)===null||tt===void 0||tt.disconnect(),this.prevElement=void 0},et.prototype.observeElement=function(tt){if(tt===void 0&&(tt=!1),this.observer!==void 0){if(!(this.targetRef.current instanceof Element)){this.observer.disconnect();return}if(!(this.targetRef.current===this.prevElement&&!tt)&&(this.observer.disconnect(),this.prevElement=this.targetRef.current,this.observer.observe(this.targetRef.current),this.props.observeParents))for(var rt=this.targetRef.current.parentElement;rt!=null;)this.observer.observe(rt),rt=rt.parentElement}},et.displayName="".concat(DISPLAYNAME_PREFIX,".ResizeSensor"),et}(AbstractPureComponent);function getBasePlacement(_e){return _e.split("-")[0]}function isVerticalPlacement(_e){return["left","right"].indexOf(_e)!==-1}function getOppositePlacement(_e){switch(_e){case"top":return"bottom";case"left":return"right";case"bottom":return"top";default:return"left"}}function getAlignment(_e){var et=_e.split("-")[1];switch(et){case"start":return"left";case"end":return"right";default:return"center"}}function getTransformOrigin(_e,et){var tt=getBasePlacement(_e);if(et===void 0)return isVerticalPlacement(tt)?"".concat(getOppositePlacement(tt)," ").concat(getAlignment(tt)):"".concat(getAlignment(tt)," ").concat(getOppositePlacement(tt));var rt=15;return isVerticalPlacement(tt)?"".concat(getOppositePlacement(tt)," ").concat(parseInt(et.top,10)+rt,"px"):"".concat(parseInt(et.left,10)+rt,"px ").concat(getOppositePlacement(tt))}var SVG_SHADOW_PATH="M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z",SVG_ARROW_PATH="M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z",ARROW_SPACING=4,POPOVER_ARROW_SVG_SIZE=30,TOOLTIP_ARROW_SVG_SIZE=22;function getArrowAngle(_e){if(_e==null)return 0;switch(getBasePlacement(_e)){case"top":return-90;case"left":return 180;case"bottom":return 90;default:return 0}}function getArrowReferenceOffsetStyle(_e){var et=POPOVER_ARROW_SVG_SIZE/2-ARROW_SPACING;switch(getBasePlacement(_e)){case"top":return{bottom:-et};case"left":return{right:-et};case"bottom":return{top:-et};default:return{left:-et}}}var PopoverArrow=function(_e){var et=_e.arrowProps,tt=et.ref,rt=et.style,nt=_e.placement;return reactExports.createElement("div",{"aria-hidden":!0,className:POPOVER_ARROW,"data-popper-arrow":!0,ref:tt,style:__assign$1(__assign$1({},rt),getArrowReferenceOffsetStyle(nt))},reactExports.createElement("svg",{viewBox:"0 0 ".concat(POPOVER_ARROW_SVG_SIZE," ").concat(POPOVER_ARROW_SVG_SIZE),style:{transform:"rotate(".concat(getArrowAngle(nt),"deg)")}},reactExports.createElement("path",{className:POPOVER_ARROW+"-border",d:SVG_SHADOW_PATH}),reactExports.createElement("path",{className:POPOVER_ARROW+"-fill",d:SVG_ARROW_PATH})))};PopoverArrow.displayName="".concat(DISPLAYNAME_PREFIX,".PopoverArrow");var noOpDispatch$1=function(){return null},TooltipContext=reactExports.createContext([{},noOpDispatch$1]),tooltipContextReducer=function(_e,et){switch(et.type){case"FORCE_DISABLED_STATE":return{forceDisabled:!0};case"RESET_DISABLED_STATE":return{};default:return _e}},TooltipProvider=function(_e){var et=_e.children,tt=_e.forceDisable,rt=reactExports.useReducer(tooltipContextReducer,{}),nt=rt[0],it=rt[1],ot=reactExports.useMemo(function(){return[nt,it]},[nt,it]);return reactExports.useEffect(function(){it(tt?{type:"FORCE_DISABLED_STATE"}:{type:"RESET_DISABLED_STATE"})},[tt]),reactExports.createElement(TooltipContext.Provider,{value:ot},typeof et=="function"?et(nt):et)},Tooltip=function(_e){__extends(et,_e);function et(){var tt=_e!==null&&_e.apply(this,arguments)||this;return tt.popoverRef=reactExports.createRef(),tt.renderPopover=function(rt){var nt,it,ot=tt.props,at=ot.children,st=ot.compact,lt=ot.disabled,ct=ot.intent,ut=ot.popoverClassName,ft=__rest$1(ot,["children","compact","disabled","intent","popoverClassName"]),dt=classNames(TOOLTIP,intentClass(ct),ut,(nt={},nt[COMPACT]=st,nt));return reactExports.createElement(Popover,__assign$1({modifiers:{arrow:{enabled:!tt.props.minimal},offset:{options:{offset:[0,TOOLTIP_ARROW_SVG_SIZE/2]}}}},ft,{autoFocus:!1,canEscapeKeyClose:!1,disabled:(it=rt.forceDisabled)!==null&&it!==void 0?it:lt,enforceFocus:!1,lazy:!0,popoverClassName:dt,portalContainer:tt.props.portalContainer,ref:tt.popoverRef}),at)},tt}return et.prototype.render=function(){var tt=this;return reactExports.createElement(TooltipContext.Consumer,null,function(rt){var nt=rt[0];return reactExports.createElement(TooltipProvider,__assign$1({},nt),tt.renderPopover)})},et.prototype.reposition=function(){var tt;(tt=this.popoverRef.current)===null||tt===void 0||tt.reposition()},et.displayName="".concat(DISPLAYNAME_PREFIX,".Tooltip"),et.defaultProps={compact:!1,hoverCloseDelay:0,hoverOpenDelay:100,interactionKind:"hover-target",minimal:!1,transitionDuration:100},et}(AbstractPureComponent),matchReferenceWidthModifier={enabled:!0,name:"matchReferenceWidth",phase:"beforeWrite",requires:["computeStyles"],fn:function(_e){var et=_e.state;et.styles.popper.width="".concat(et.rects.reference.width,"px")},effect:function(_e){var et=_e.state,tt=et.elements.reference.getBoundingClientRect().width;et.elements.popper.style.width="".concat(tt,"px")}},PopoverPosition=__assign$1(__assign$1({},Position),{AUTO:"auto",AUTO_END:"auto-end",AUTO_START:"auto-start"});function positionToPlacement(_e){switch(_e){case PopoverPosition.TOP_LEFT:return"top-start";case PopoverPosition.TOP:return"top";case PopoverPosition.TOP_RIGHT:return"top-end";case PopoverPosition.RIGHT_TOP:return"right-start";case PopoverPosition.RIGHT:return"right";case PopoverPosition.RIGHT_BOTTOM:return"right-end";case PopoverPosition.BOTTOM_RIGHT:return"bottom-end";case PopoverPosition.BOTTOM:return"bottom";case PopoverPosition.BOTTOM_LEFT:return"bottom-start";case PopoverPosition.LEFT_BOTTOM:return"left-end";case PopoverPosition.LEFT:return"left";case PopoverPosition.LEFT_TOP:return"left-start";case"auto":case"auto-start":case"auto-end":return _e;default:return assertNever(_e)}}function assertNever(_e){throw new Error("Unexpected position: "+_e)}var PopoverInteractionKind={CLICK:"click",CLICK_TARGET_ONLY:"click-target",HOVER:"hover",HOVER_TARGET_ONLY:"hover-target"},Popover=function(_e){__extends(et,_e);function et(){var tt=_e!==null&&_e.apply(this,arguments)||this;return tt.state={hasDarkParent:!1,isClosingViaEscapeKeypress:!1,isOpen:tt.getIsOpen(tt.props)},tt.popoverElement=null,tt.popoverRef=refHandler(tt,"popoverElement",tt.props.popoverRef),tt.targetRef=reactExports.createRef(),tt.transitionContainerElement=reactExports.createRef(),tt.isMouseInTargetOrPopover=!1,tt.lostFocusOnSamePage=!0,tt.isControlled=function(){return tt.props.isOpen!==void 0},tt.isArrowEnabled=function(){var rt,nt;return!tt.props.minimal&&((nt=(rt=tt.props.modifiers)===null||rt===void 0?void 0:rt.arrow)===null||nt===void 0?void 0:nt.enabled)!==!1},tt.isHoverInteractionKind=function(){return tt.props.interactionKind===PopoverInteractionKind.HOVER||tt.props.interactionKind===PopoverInteractionKind.HOVER_TARGET_ONLY},tt.reposition=function(){var rt;return(rt=tt.popperScheduleUpdate)===null||rt===void 0?void 0:rt.call(tt)},tt.renderTarget=function(rt){var nt,it,ot,at,st=rt.ref,lt=tt.props,ct=lt.children,ut=lt.className,ft=lt.fill,dt=lt.openOnTargetFocus,pt=lt.renderTarget,mt=tt.state.isOpen,vt=tt.isControlled(),ht=tt.isHoverInteractionKind(),yt=tt.props.targetTagName;ft&&(yt="div");var gt=mergeRefs(st,tt.targetRef),xt=ht?{onBlur:tt.handleTargetBlur,onContextMenu:tt.handleTargetContextMenu,onFocus:tt.handleTargetFocus,onMouseEnter:tt.handleMouseEnter,onMouseLeave:tt.handleMouseLeave}:{onClick:tt.handleTargetClick,onKeyDown:tt.handleKeyDown},_t=dt&&ht?0:void 0,wt=__assign$1({className:classNames(ut,POPOVER_TARGET,(nt={},nt[POPOVER_OPEN]=mt,nt[ACTIVE]=mt&&!vt&&!ht,nt)),ref:gt},xt),Et={"aria-expanded":mt,"aria-haspopup":tt.props.interactionKind===PopoverInteractionKind.HOVER_TARGET_ONLY?void 0:(ot=tt.props.popupKind)!==null&&ot!==void 0?ot:"menu"},St=(it={},it[ACTIVE]=mt&&!vt&&!ht,it[FILL]=ft,it),Ct;if(pt!==void 0)Ct=pt(__assign$1(__assign$1(__assign$1({},wt),Et),{className:classNames(wt.className,St),isOpen:mt,tabIndex:_t}));else{var bt=ensureElement(reactExports.Children.toArray(ct)[0]);if(bt===void 0)return null;var At=reactExports.cloneElement(bt,__assign$1(__assign$1({},Et),{className:classNames(bt.props.className,St),disabled:mt&&isElementOfType(bt,Tooltip)?!0:bt.props.disabled,tabIndex:(at=bt.props.tabIndex)!==null&&at!==void 0?at:_t})),Tt=reactExports.createElement(yt,__assign$1(__assign$1({},wt),tt.props.targetProps),At);Ct=Tt}return reactExports.createElement(ResizeSensor,{targetRef:tt.targetRef,onResize:tt.reposition},Ct)},tt.renderPopover=function(rt){var nt,it=tt.props,ot=it.autoFocus,at=it.enforceFocus,st=it.backdropProps,lt=it.canEscapeKeyClose,ct=it.hasBackdrop,ut=it.interactionKind,ft=it.usePortal,dt=tt.state,pt=dt.isClosingViaEscapeKeypress,mt=dt.isOpen,vt=getTransformOrigin(rt.placement,tt.isArrowEnabled()?rt.arrowProps.style:void 0);tt.popperScheduleUpdate=rt.update;var ht={onClick:tt.handlePopoverClick,onKeyDown:function(wt){return isKeyboardClick(wt)&&tt.handlePopoverClick(wt)}};(ut===PopoverInteractionKind.HOVER||!ft&&ut===PopoverInteractionKind.HOVER_TARGET_ONLY)&&(ht.onMouseEnter=tt.handleMouseEnter,ht.onMouseLeave=tt.handleMouseLeave);var yt=getBasePlacement(rt.placement),gt=classNames(POPOVER,(nt={},nt[DARK]=tt.props.inheritDarkTheme&&tt.state.hasDarkParent,nt[MINIMAL]=tt.props.minimal,nt[POPOVER_CAPTURING_DISMISS]=tt.props.captureDismiss,nt[POPOVER_MATCH_TARGET_WIDTH]=tt.props.matchTargetWidth,nt[POPOVER_REFERENCE_HIDDEN]=rt.isReferenceHidden===!0,nt[POPOVER_POPPER_ESCAPED]=rt.hasPopperEscaped===!0,nt),"".concat(POPOVER_CONTENT_PLACEMENT,"-").concat(yt),tt.props.popoverClassName),xt=tt.isHoverInteractionKind()?!1:void 0,_t=tt.isHoverInteractionKind()?!1:pt?!0:tt.props.shouldReturnFocusOnClose;return reactExports.createElement(Overlay2,{autoFocus:ot??xt,backdropClassName:POPOVER_BACKDROP,backdropProps:st,canEscapeKeyClose:lt,canOutsideClickClose:ut===PopoverInteractionKind.CLICK,childRef:tt.transitionContainerElement,enforceFocus:at,hasBackdrop:ct,isOpen:mt,lazy:tt.props.lazy,onClose:tt.handleOverlayClose,onClosed:tt.props.onClosed,onClosing:tt.props.onClosing,onOpened:tt.props.onOpened,onOpening:tt.props.onOpening,transitionDuration:tt.props.transitionDuration,transitionName:POPOVER,usePortal:ft,portalClassName:tt.props.portalClassName,portalContainer:tt.props.portalContainer,portalStopPropagationEvents:tt.props.portalStopPropagationEvents,shouldReturnFocusOnClose:_t},reactExports.createElement("div",{className:POPOVER_TRANSITION_CONTAINER,ref:mergeRefs(rt.ref,tt.transitionContainerElement),style:rt.style},reactExports.createElement(ResizeSensor,{onResize:tt.reposition},reactExports.createElement("div",__assign$1({className:gt,style:{transformOrigin:vt},ref:tt.popoverRef},ht),tt.isArrowEnabled()&&reactExports.createElement(PopoverArrow,{arrowProps:rt.arrowProps,placement:rt.placement}),reactExports.createElement("div",{className:POPOVER_CONTENT},tt.props.content)))))},tt.handleTargetFocus=function(rt){if(tt.props.openOnTargetFocus&&tt.isHoverInteractionKind()){if(rt.relatedTarget==null&&!tt.lostFocusOnSamePage)return;tt.handleMouseEnter(rt)}},tt.handleTargetBlur=function(rt){tt.props.openOnTargetFocus&&tt.isHoverInteractionKind()&&(rt.relatedTarget!=null?rt.relatedTarget!==tt.popoverElement&&!tt.isElementInPopover(rt.relatedTarget)&&tt.handleMouseLeave(rt):tt.handleMouseLeave(rt)),tt.lostFocusOnSamePage=rt.relatedTarget!=null},tt.handleTargetContextMenu=function(rt){rt.defaultPrevented&&tt.setOpenState(!1,rt)},tt.handleMouseEnter=function(rt){tt.isMouseInTargetOrPopover=!0,!tt.props.usePortal&&tt.isElementInPopover(rt.target)&&tt.props.interactionKind===PopoverInteractionKind.HOVER_TARGET_ONLY&&!tt.props.openOnTargetFocus?tt.handleMouseLeave(rt):tt.props.disabled||tt.setOpenState(!0,rt,tt.props.hoverOpenDelay)},tt.handleMouseLeave=function(rt){tt.isMouseInTargetOrPopover=!1,rt.persist(),tt.setTimeout(function(){tt.isMouseInTargetOrPopover||tt.setOpenState(!1,rt,tt.props.hoverCloseDelay)})},tt.handlePopoverClick=function(rt){var nt,it,ot,at=rt.target,st=at.closest(".".concat(POPOVER)),lt=at.closest(".".concat(POPOVER)),ct=(st??lt)===tt.getPopoverElement(),ut=(it=(nt=st==null?void 0:st.classList.contains(POPOVER_CAPTURING_DISMISS))!==null&&nt!==void 0?nt:lt==null?void 0:lt.classList.contains(POPOVER_CAPTURING_DISMISS))!==null&&it!==void 0?it:!1,ft=at.closest(".".concat(POPOVER_DISMISS,", .").concat(POPOVER_DISMISS_OVERRIDE)),dt=(ot=ft==null?void 0:ft.classList.contains(POPOVER_DISMISS))!==null&&ot!==void 0?ot:!1,pt=at.closest(":disabled, .".concat(DISABLED))!=null;dt&&!pt&&(!ut||ct)&&tt.setOpenState(!1,rt)},tt.handleOverlayClose=function(rt){var nt;if(!(tt.targetRef.current==null||rt===void 0)){var it=(nt=rt.nativeEvent)!==null&&nt!==void 0?nt:rt,ot=it.composed?it.composedPath()[0]:it.target;(!elementIsOrContains(tt.targetRef.current,ot)||rt.nativeEvent instanceof KeyboardEvent)&&tt.setOpenState(!1,rt)}},tt.handleKeyDown=function(rt){var nt=isKeyboardClick(rt);nt&&tt.handleTargetClick(rt)},tt.handleTargetClick=function(rt){var nt=tt.state.isOpen&&tt.isSimulatedButtonClick(rt);nt||!tt.props.disabled&&!tt.isElementInPopover(rt.target)&&(tt.props.isOpen==null?tt.setState(function(it){return{isOpen:!it.isOpen}}):tt.setOpenState(!tt.props.isOpen,rt))},tt.isSimulatedButtonClick=function(rt){return!rt.isTrusted&&rt.target.matches(".".concat(BUTTON))},tt}return et.prototype.getPopoverElement=function(){var tt;return(tt=this.popoverElement)===null||tt===void 0?void 0:tt.querySelector(".".concat(POPOVER))},et.prototype.getIsOpen=function(tt){var rt;return tt.disabled?!1:(rt=tt.isOpen)!==null&&rt!==void 0?rt:tt.defaultIsOpen},et.prototype.render=function(){var tt=this.props,rt=tt.disabled,nt=tt.content,it=tt.placement,ot=tt.position,at=ot===void 0?"auto":ot,st=tt.positioningStrategy,lt=this.state.isOpen,ct=nt==null||typeof nt=="string"&&nt.trim()==="";return ct?(!rt&&lt!==!1&&!isNodeEnv$1("production")&&console.warn(POPOVER_WARN_EMPTY_CONTENT),this.renderTarget({ref:noop$3})):reactExports.createElement(Manager,null,reactExports.createElement(Reference,null,this.renderTarget),reactExports.createElement(Popper,{innerRef:this.popoverRef,placement:it??positionToPlacement(at),strategy:st,modifiers:this.getPopperModifiers()},this.renderPopover))},et.prototype.componentDidMount=function(){this.updateDarkParent()},et.prototype.componentDidUpdate=function(tt,rt){_e.prototype.componentDidUpdate.call(this,tt,rt),this.updateDarkParent();var nt=this.getIsOpen(this.props);this.props.isOpen!=null&&nt!==this.state.isOpen?(this.setOpenState(nt),this.setState({isOpen:nt})):this.props.disabled&&this.state.isOpen&&this.props.isOpen==null&&this.setOpenState(!1)},et.prototype.validateProps=function(tt){tt.isOpen==null&&tt.onInteraction!=null&&console.warn(POPOVER_WARN_UNCONTROLLED_ONINTERACTION),tt.hasBackdrop&&!tt.usePortal&&console.warn(POPOVER_WARN_HAS_BACKDROP_INLINE),tt.hasBackdrop&&tt.interactionKind!==PopoverInteractionKind.CLICK&&console.warn(POPOVER_HAS_BACKDROP_INTERACTION),tt.placement!==void 0&&tt.position!==void 0&&console.warn(POPOVER_WARN_PLACEMENT_AND_POSITION_MUTEX);var rt=reactExports.Children.count(tt.children),nt=tt.renderTarget!==void 0,it=tt.targetProps!==void 0;rt===0&&!nt&&console.warn(POPOVER_REQUIRES_TARGET),rt>1&&console.warn(POPOVER_WARN_TOO_MANY_CHILDREN),rt>0&&nt&&console.warn(POPOVER_WARN_DOUBLE_TARGET),nt&&it&&console.warn(POPOVER_WARN_TARGET_PROPS_WITH_RENDER_TARGET)},et.prototype.getPopperModifiers=function(){var tt,rt,nt,it,ot=this.props,at=ot.matchTargetWidth,st=ot.modifiers,lt=ot.modifiersCustom,ct=[__assign$1({enabled:this.isArrowEnabled(),name:"arrow"},st==null?void 0:st.arrow),__assign$1(__assign$1({name:"computeStyles"},st==null?void 0:st.computeStyles),{options:__assign$1({adaptive:!0,gpuAcceleration:!1},(tt=st==null?void 0:st.computeStyles)===null||tt===void 0?void 0:tt.options)}),__assign$1(__assign$1({enabled:this.isArrowEnabled(),name:"offset"},st==null?void 0:st.offset),{options:__assign$1({offset:[0,POPOVER_ARROW_SVG_SIZE/2]},(rt=st==null?void 0:st.offset)===null||rt===void 0?void 0:rt.options)}),__assign$1(__assign$1({name:"flip"},st==null?void 0:st.flip),{options:__assign$1({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(nt=st==null?void 0:st.flip)===null||nt===void 0?void 0:nt.options)}),__assign$1(__assign$1({name:"preventOverflow"},st==null?void 0:st.preventOverflow),{options:__assign$1({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(it=st==null?void 0:st.preventOverflow)===null||it===void 0?void 0:it.options)})];return at&&ct.push(matchReferenceWidthModifier),lt!==void 0&&ct.push.apply(ct,lt),ct},et.prototype.setOpenState=function(tt,rt,nt){var it=this,ot,at,st,lt,ct;(ot=this.cancelOpenTimeout)===null||ot===void 0||ot.call(this),nt!==void 0&&nt>0?(rt==null||rt.persist(),this.cancelOpenTimeout=this.setTimeout(function(){it.setOpenState(tt,rt)},nt)):(this.props.isOpen==null?this.setState({isOpen:tt}):(st=(at=this.props).onInteraction)===null||st===void 0||st.call(at,tt,rt),tt||((ct=(lt=this.props).onClose)===null||ct===void 0||ct.call(lt,rt),this.setState({isClosingViaEscapeKeypress:isEscapeKeypressEvent(rt==null?void 0:rt.nativeEvent)})))},et.prototype.updateDarkParent=function(){var tt;if(this.props.usePortal&&this.state.isOpen){var rt=((tt=this.targetRef.current)===null||tt===void 0?void 0:tt.closest(".".concat(DARK)))!=null;this.setState({hasDarkParent:rt})}},et.prototype.isElementInPopover=function(tt){var rt,nt;return(nt=(rt=this.getPopoverElement())===null||rt===void 0?void 0:rt.contains(tt))!==null&&nt!==void 0?nt:!1},et.displayName="".concat(DISPLAYNAME_PREFIX,".Popover"),et.defaultProps={boundary:"clippingParents",captureDismiss:!1,defaultIsOpen:!1,disabled:!1,fill:!1,hasBackdrop:!1,hoverCloseDelay:300,hoverOpenDelay:150,inheritDarkTheme:!0,interactionKind:PopoverInteractionKind.CLICK,matchTargetWidth:!1,minimal:!1,openOnTargetFocus:!0,positioningStrategy:"absolute",renderTarget:void 0,shouldReturnFocusOnClose:!1,targetTagName:"span",transitionDuration:300,usePortal:!0},et}(AbstractPureComponent);function isEscapeKeypressEvent(_e){return _e instanceof KeyboardEvent&&_e.key==="Escape"}function noop$3(){}var MenuItem=reactExports.forwardRef(function(_e,et){var tt,rt,nt=_e.active,it=_e.className,ot=_e.children,at=_e.disabled,st=_e.icon,lt=_e.intent,ct=_e.labelClassName,ut=_e.labelElement,ft=_e.multiline,dt=_e.popoverProps,pt=_e.roleStructure,mt=pt===void 0?"menuitem":pt,vt=_e.selected,ht=_e.shouldDismissPopover,yt=_e.submenuProps,gt=_e.text,xt=_e.textClassName,_t=_e.tagName,wt=_t===void 0?"a":_t,Et=_e.htmlTitle,St=__rest$1(_e,["active","className","children","disabled","icon","intent","labelClassName","labelElement","multiline","popoverProps","roleStructure","selected","shouldDismissPopover","submenuProps","text","textClassName","tagName","htmlTitle"]),Ct=mt==="listoption"?["option",void 0,!!vt]:mt==="menuitem"?["none","menuitem",void 0]:mt==="none"?["none",void 0,void 0]:[void 0,void 0,void 0],bt=Ct[0],At=Ct[1],Tt=Ct[2],Ot=mt==="listoption",$t=Ot&&vt,It=st!=null,Nt=ot!=null,jt=intentClass(lt),Bt=classNames(MENU_ITEM,jt,(tt={},tt[ACTIVE]=nt,tt[DISABLED]=at,tt[POPOVER_DISMISS]=ht&&!at&&!Nt,tt[MENU_ITEM_IS_SELECTABLE]=Ot,tt[SELECTED]=$t,tt),it),Dt=_e.label==null&&ut==null?null:reactExports.createElement("span",{className:classNames(MENU_ITEM_LABEL,ct)},_e.label,ut),zt=reactExports.createElement(wt,__assign$1(__assign$1(__assign$1({onKeyDown:clickElementOnKeyPress(["Enter"," "]),role:Nt?"none":At,tabIndex:Nt?-1:0},removeNonHTMLProps(St)),at?DISABLED_PROPS:{}),{className:Bt}),$t?reactExports.createElement(SmallTick,{className:MENU_ITEM_SELECTED_ICON}):void 0,It?reactExports.createElement("span",{className:MENU_ITEM_ICON},reactExports.createElement(Icon,{icon:st,"aria-hidden":!0,tabIndex:-1})):void 0,reactExports.createElement(Text$1,{className:classNames(FILL,xt),ellipsize:!ft,title:Et},gt),Dt,Nt?reactExports.createElement(CaretRight,{className:MENU_SUBMENU_ICON,title:"Open sub menu"}):void 0),Lt=classNames((rt={},rt[MENU_SUBMENU]=Nt,rt));return reactExports.createElement("li",{className:Lt,ref:et,role:bt,"aria-selected":Tt},ot==null?zt:reactExports.createElement(Popover,__assign$1({autoFocus:!1,captureDismiss:!1,disabled:at,enforceFocus:!1,hoverCloseDelay:0,interactionKind:"hover",modifiers:SUBMENU_POPOVER_MODIFIERS,targetProps:{role:At,tabIndex:0},placement:"right-start",usePortal:!1},dt,{content:reactExports.createElement(Menu,__assign$1({},yt),ot),minimal:!0,popoverClassName:classNames(MENU_SUBMENU,dt==null?void 0:dt.popoverClassName)}),zt))});MenuItem.defaultProps={active:!1,disabled:!1,multiline:!1,popoverProps:{},selected:void 0,shouldDismissPopover:!0,text:""};MenuItem.displayName="".concat(DISPLAYNAME_PREFIX,".MenuItem");var SUBMENU_POPOVER_MODIFIERS={flip:{options:{rootBoundary:"viewport",padding:20},enabled:!0},offset:{options:{offset:[-5,0]},enabled:!0},preventOverflow:{options:{rootBoundary:"viewport",padding:20},enabled:!0}},DISABLED_PROPS={"aria-disabled":!0,href:void 0,onClick:void 0,onMouseDown:void 0,onMouseEnter:void 0,onMouseLeave:void 0,tabIndex:-1},ButtonGroup$1=reactExports.forwardRef(function(_e,et){var tt,rt=_e.alignText,nt=_e.className,it=_e.fill,ot=_e.minimal,at=_e.large,st=_e.vertical,lt=__rest$1(_e,["alignText","className","fill","minimal","large","vertical"]),ct=classNames(BUTTON_GROUP,(tt={},tt[FILL]=it,tt[LARGE]=at,tt[MINIMAL]=ot,tt[VERTICAL]=st,tt),alignmentClass(rt),nt);return reactExports.createElement("div",__assign$1({},lt,{ref:et,className:ct}),_e.children)});ButtonGroup$1.displayName="".concat(DISPLAYNAME_PREFIX,".ButtonGroup");var DialogBody=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt;return reactExports.createElement("div",{className:classNames(DIALOG_BODY,this.props.className,(tt={},tt[DIALOG_BODY_SCROLL_CONTAINER]=this.props.useOverflowScrollContainer,tt))},this.props.children)},et.defaultProps={useOverflowScrollContainer:!0},et}(AbstractPureComponent),DialogFooter=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt;return reactExports.createElement("div",{className:classNames(DIALOG_FOOTER,this.props.className,(tt={},tt[DIALOG_FOOTER_FIXED]=!this.props.minimal,tt))},this.renderMainSection(),this.maybeRenderActionsSection())},et.prototype.renderMainSection=function(){return reactExports.createElement("div",{className:DIALOG_FOOTER_MAIN_SECTION},this.props.children)},et.prototype.maybeRenderActionsSection=function(){var tt=this.props.actions;if(tt!=null)return reactExports.createElement("div",{className:DIALOG_FOOTER_ACTIONS},tt)},et.defaultProps={minimal:!1},et}(AbstractPureComponent),ControlInternal=reactExports.forwardRef(function(_e,et){var tt,rt=_e.alignIndicator,nt=_e.children,it=_e.className,ot=_e.indicatorChildren,at=_e.inline,st=_e.inputRef,lt=_e.label,ct=_e.labelElement,ut=_e.large,ft=_e.style,dt=_e.type,pt=_e.typeClassName,mt=_e.tagName,vt=mt===void 0?"label":mt,ht=__rest$1(_e,["alignIndicator","children","className","indicatorChildren","inline","inputRef","label","labelElement","large","style","type","typeClassName","tagName"]),yt=classNames(CONTROL,pt,(tt={},tt[DISABLED]=ht.disabled,tt[INLINE]=at,tt[LARGE]=ut,tt),alignmentClass(rt),it);return reactExports.createElement(vt,{className:yt,style:ft,ref:et},reactExports.createElement("input",__assign$1({},ht,{ref:st,type:dt})),reactExports.createElement("span",{className:CONTROL_INDICATOR},ot),lt,ct,nt)});ControlInternal.displayName="".concat(DISPLAYNAME_PREFIX,".Control");var Switch=reactExports.forwardRef(function(_e,et){var tt=_e.innerLabelChecked,rt=_e.innerLabel,nt=__rest$1(_e,["innerLabelChecked","innerLabel"]),it=rt||tt?[reactExports.createElement("div",{key:"checked",className:CONTROL_INDICATOR_CHILD},reactExports.createElement("div",{className:SWITCH_INNER_TEXT},tt||rt)),reactExports.createElement("div",{key:"unchecked",className:CONTROL_INDICATOR_CHILD},reactExports.createElement("div",{className:SWITCH_INNER_TEXT},rt))]:null;return reactExports.createElement(ControlInternal,__assign$1({},nt,{indicatorChildren:it,ref:et,type:"checkbox",typeClassName:SWITCH}))});Switch.displayName="".concat(DISPLAYNAME_PREFIX,".Switch");var Radio=reactExports.forwardRef(function(_e,et){return reactExports.createElement(ControlInternal,__assign$1({},_e,{ref:et,type:"radio",typeClassName:RADIO}))});Radio.displayName="".concat(DISPLAYNAME_PREFIX,".Radio");var Checkbox=reactExports.forwardRef(function(_e,et){var tt=_e.defaultIndeterminate,rt=_e.indeterminate,nt=_e.onChange,it=__rest$1(_e,["defaultIndeterminate","indeterminate","onChange"]),ot=reactExports.useState(rt||tt||!1),at=ot[0],st=ot[1],lt=reactExports.useRef(null),ct=_e.inputRef===void 0?lt:mergeRefs(_e.inputRef,lt),ut=reactExports.useCallback(function(ft){rt===void 0&&st(ft.target.indeterminate),nt==null||nt(ft)},[rt,nt]);return reactExports.useEffect(function(){rt!==void 0&&st(rt)},[rt]),reactExports.useEffect(function(){lt.current!=null&&(lt.current.indeterminate=at)},[lt,at]),reactExports.createElement(ControlInternal,__assign$1({},it,{inputRef:ct,onChange:ut,ref:et,type:"checkbox",typeClassName:CHECKBOX}))});Checkbox.displayName="".concat(DISPLAYNAME_PREFIX,".Checkbox");var FormGroup=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt=this.props,rt=tt.children,nt=tt.contentClassName,it=tt.helperText,ot=tt.label,at=tt.labelFor,st=tt.labelInfo,lt=tt.style,ct=tt.subLabel;return reactExports.createElement("div",{className:this.getClassName(),style:lt},ot&&reactExports.createElement("label",{className:LABEL,htmlFor:at},ot," ",reactExports.createElement("span",{className:TEXT_MUTED},st)),ct&&reactExports.createElement("div",{className:FORM_GROUP_SUB_LABEL},ct),reactExports.createElement("div",{className:classNames(FORM_CONTENT,nt)},rt,it&&reactExports.createElement("div",{className:FORM_HELPER_TEXT},it)))},et.prototype.getClassName=function(){var tt,rt=this.props,nt=rt.className,it=rt.disabled,ot=rt.fill,at=rt.inline,st=rt.intent;return classNames(FORM_GROUP,intentClass(st),(tt={},tt[DISABLED]=it,tt[FILL]=ot,tt[INLINE]=at,tt),nt)},et.displayName="".concat(DISPLAYNAME_PREFIX,".FormGroup"),et}(AbstractPureComponent),AsyncControllableInput=function(_e){__extends(et,_e);function et(){var tt=_e!==null&&_e.apply(this,arguments)||this;return tt.state={hasPendingUpdate:!1,isComposing:!1,nextValue:tt.props.value,value:tt.props.value},tt.cancelPendingCompositionEnd=null,tt.handleCompositionStart=function(rt){var nt,it,ot;(nt=tt.cancelPendingCompositionEnd)===null||nt===void 0||nt.call(tt),tt.setState({isComposing:!0}),(ot=(it=tt.props).onCompositionStart)===null||ot===void 0||ot.call(it,rt)},tt.handleCompositionEnd=function(rt){var nt,it;tt.cancelPendingCompositionEnd=tt.setTimeout(function(){return tt.setState({isComposing:!1})},et.COMPOSITION_END_DELAY),(it=(nt=tt.props).onCompositionEnd)===null||it===void 0||it.call(nt,rt)},tt.handleChange=function(rt){var nt,it,ot=rt.target.value;tt.setState({nextValue:ot}),(it=(nt=tt.props).onChange)===null||it===void 0||it.call(nt,rt)},tt}return et.getDerivedStateFromProps=function(tt,rt){if(rt.isComposing||tt.value===void 0)return null;var nt=rt.nextValue!==rt.value;return nt?tt.value===rt.nextValue?rt.hasPendingUpdate?{value:tt.value,hasPendingUpdate:!1}:{value:rt.nextValue}:tt.value===rt.value?{hasPendingUpdate:!0}:{value:tt.value,nextValue:tt.value,hasPendingUpdate:!1}:{value:tt.value,nextValue:tt.value,hasPendingUpdate:!1}},et.prototype.render=function(){var tt=this.state,rt=tt.isComposing,nt=tt.hasPendingUpdate,it=tt.value,ot=tt.nextValue,at=this.props,st=at.inputRef,lt=__rest$1(at,["inputRef"]);return reactExports.createElement("input",__assign$1({},lt,{ref:st,value:rt||nt?ot:it,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onChange:this.handleChange}))},et.displayName="".concat(DISPLAYNAME_PREFIX,".AsyncControllableInput"),et.COMPOSITION_END_DELAY=10,et}(AbstractPureComponent),NON_HTML_PROPS=["onValueChange"],InputGroup=function(_e){__extends(et,_e);function et(){var tt=_e!==null&&_e.apply(this,arguments)||this;return tt.state={},tt.leftElement=null,tt.rightElement=null,tt.refHandlers={leftElement:function(rt){return tt.leftElement=rt},rightElement:function(rt){return tt.rightElement=rt}},tt.handleInputChange=function(rt){var nt,it,ot,at,st=rt.target.value;(it=(nt=tt.props).onChange)===null||it===void 0||it.call(nt,rt),(at=(ot=tt.props).onValueChange)===null||at===void 0||at.call(ot,st,rt.target)},tt}return et.prototype.render=function(){var tt,rt=this.props,nt=rt.asyncControl,it=nt===void 0?!1:nt,ot=rt.className,at=rt.disabled,st=rt.fill,lt=rt.inputClassName,ct=rt.inputRef,ut=rt.intent,ft=rt.large,dt=rt.readOnly,pt=rt.round,mt=rt.small,vt=rt.tagName,ht=vt===void 0?"div":vt,yt=classNames(INPUT_GROUP,intentClass(ut),(tt={},tt[DISABLED]=at,tt[READ_ONLY]=dt,tt[FILL]=st,tt[LARGE]=ft,tt[SMALL]=mt,tt[ROUND]=pt,tt),ot),gt=__assign$1(__assign$1({},this.props.style),{paddingLeft:this.state.leftElementWidth,paddingRight:this.state.rightElementWidth}),xt=__assign$1(__assign$1({type:"text"},removeNonHTMLProps(this.props,NON_HTML_PROPS,!0)),{"aria-disabled":at,className:classNames(INPUT,lt),onChange:this.handleInputChange,style:gt}),_t=it?reactExports.createElement(AsyncControllableInput,__assign$1({},xt,{inputRef:ct})):reactExports.createElement("input",__assign$1({},xt,{ref:ct}));return reactExports.createElement(ht,{className:yt},this.maybeRenderLeftElement(),_t,this.maybeRenderRightElement())},et.prototype.componentDidMount=function(){this.updateInputWidth()},et.prototype.componentDidUpdate=function(tt){var rt=this.props,nt=rt.leftElement,it=rt.rightElement;(tt.leftElement!==nt||tt.rightElement!==it)&&this.updateInputWidth()},et.prototype.validateProps=function(tt){tt.leftElement!=null&&tt.leftIcon!=null&&console.warn(INPUT_WARN_LEFT_ELEMENT_LEFT_ICON_MUTEX)},et.prototype.maybeRenderLeftElement=function(){var tt=this.props,rt=tt.leftElement,nt=tt.leftIcon;if(rt!=null)return reactExports.createElement("span",{className:INPUT_LEFT_CONTAINER,ref:this.refHandlers.leftElement},rt);if(nt!=null)return reactExports.createElement(Icon,{icon:nt,"aria-hidden":!0,tabIndex:-1})},et.prototype.maybeRenderRightElement=function(){var tt=this.props.rightElement;if(tt!=null)return reactExports.createElement("span",{className:INPUT_ACTION,ref:this.refHandlers.rightElement},tt)},et.prototype.updateInputWidth=function(){var tt=this.state,rt=tt.leftElementWidth,nt=tt.rightElementWidth;if(this.leftElement!=null){var it=this.leftElement.clientWidth;(rt===void 0||Math.abs(it-rt)>2)&&this.setState({leftElementWidth:it})}else this.setState({leftElementWidth:void 0});if(this.rightElement!=null){var it=this.rightElement.clientWidth;(nt===void 0||Math.abs(it-nt)>2)&&this.setState({rightElementWidth:it})}else this.setState({rightElementWidth:void 0})},et.displayName="".concat(DISPLAYNAME_PREFIX,".InputGroup"),et}(AbstractPureComponent),HTMLTable=reactExports.forwardRef(function(_e,et){var tt,rt=_e.bordered,nt=_e.className,it=_e.compact,ot=_e.interactive,at=_e.striped,st=__rest$1(_e,["bordered","className","compact","interactive","striped"]),lt=classNames(HTML_TABLE,(tt={},tt[COMPACT]=it,tt[HTML_TABLE_BORDERED]=rt,tt[HTML_TABLE_STRIPED]=at,tt[INTERACTIVE]=ot,tt),nt);return reactExports.createElement("table",__assign$1({},st,{ref:et,className:lt}))});HTMLTable.displayName="".concat(DISPLAYNAME_PREFIX,".HTMLTable");var CONFIG_ALIASES={cmd:"meta",command:"meta",del:"delete",esc:"escape",escape:"escape",minus:"-",mod:isMac()?"meta":"ctrl",option:"alt",plus:"+",return:"enter",win:"meta",up:"ArrowUp",left:"ArrowLeft",down:"ArrowDown",right:"ArrowRight"},normalizeKeyCombo=function(_e,et){var tt=_e.replace(/\s/g,"").split("+");return tt.map(function(rt){var nt=CONFIG_ALIASES[rt]!=null?CONFIG_ALIASES[rt]:rt;return nt==="meta"?isMac(et)?"cmd":"ctrl":nt})};function isMac(_e){var et=_e??(typeof navigator<"u"?navigator.platform:void 0);return et===void 0?!1:/Mac|iPod|iPhone|iPad/.test(et)}var KEY_ICONS={ArrowDown:{icon:reactExports.createElement(ArrowDown,null),iconTitle:"Down key"},ArrowLeft:{icon:reactExports.createElement(ArrowLeft,null),iconTitle:"Left key"},ArrowRight:{icon:reactExports.createElement(ArrowRight,null),iconTitle:"Right key"},ArrowUp:{icon:reactExports.createElement(ArrowUp,null),iconTitle:"Up key"},alt:{icon:reactExports.createElement(KeyOption,null),iconTitle:"Alt/Option key"},cmd:{icon:reactExports.createElement(KeyCommand,null),iconTitle:"Command key"},ctrl:{icon:reactExports.createElement(KeyControl,null),iconTitle:"Control key"},delete:{icon:reactExports.createElement(KeyDelete,null),iconTitle:"Delete key"},enter:{icon:reactExports.createElement(KeyEnter,null),iconTitle:"Enter key"},meta:{icon:reactExports.createElement(KeyCommand,null),iconTitle:"Command key"},shift:{icon:reactExports.createElement(KeyShift,null),iconTitle:"Shift key"}},DISPLAY_ALIASES={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up"},KeyComboTag=function(_e){__extends(et,_e);function et(){var tt=_e!==null&&_e.apply(this,arguments)||this;return tt.renderKey=function(rt,nt){var it,ot,at=(ot=DISPLAY_ALIASES[rt])!==null&&ot!==void 0?ot:rt,st=KEY_ICONS[rt],lt="key-".concat(nt);return reactExports.createElement("kbd",{className:classNames(KEY,(it={},it[MODIFIER_KEY]=st!=null,it)),key:lt},st!=null&&reactExports.createElement(Icon,{icon:st.icon,title:st.iconTitle}),at)},tt.renderMinimalKey=function(rt,nt){var it=KEY_ICONS[rt];return it==null?rt:reactExports.createElement(Icon,{icon:it.icon,title:it.iconTitle,key:"key-".concat(nt)})},tt}return et.prototype.render=function(){var tt=this.props,rt=tt.className,nt=tt.combo,it=tt.minimal,ot=normalizeKeyCombo(nt).map(function(at){return at.length===1?at.toUpperCase():at}).map(it?this.renderMinimalKey:this.renderKey);return reactExports.createElement("span",{className:classNames(KEY_COMBO,rt)},ot)},et.displayName="".concat(DISPLAYNAME_PREFIX,".KeyComboTag"),et}(AbstractPureComponent),Hotkey=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt=this.props,rt=tt.label,nt=tt.className,it=__rest$1(tt,["label","className"]),ot=classNames(HOTKEY,nt);return reactExports.createElement("div",{className:ot},reactExports.createElement("div",{className:HOTKEY_LABEL},rt),reactExports.createElement(KeyComboTag,__assign$1({},it)))},et.prototype.validateProps=function(tt){tt.global!==!0&&tt.group==null&&console.error("non-global Hotkeys must define a group")},et.displayName="".concat(DISPLAYNAME_PREFIX,".Hotkey"),et.defaultProps={allowInInput:!1,disabled:!1,global:!1,preventDefault:!1,stopPropagation:!1},et}(AbstractPureComponent),Hotkeys=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){if(!isReactChildrenElementOrElements(this.props.children))return null;var tt=reactExports.Children.map(this.props.children,function(ct){return ct.props});tt.sort(function(ct,ut){return ct.global===ut.global&&ct.group&&ut.group?ct.group.localeCompare(ut.group):ct.global?-1:1});for(var rt,nt=[],it=0,ot=tt;it<ot.length;it++){var at=ot[it],st=at.group;st!==rt&&(nt.push(reactExports.createElement(H4,{key:"group-".concat(nt.length)},st)),rt=st),nt.push(reactExports.createElement(Hotkey,__assign$1({key:nt.length},at)))}var lt=classNames(HOTKEY_COLUMN,this.props.className);return reactExports.createElement("div",{className:lt},nt)},et.prototype.validateProps=function(tt){isReactChildrenElementOrElements(tt.children)&&reactExports.Children.forEach(tt.children,function(rt){if(!isElementOfType(rt,Hotkey))throw new Error(HOTKEYS_HOTKEY_CHILDREN)})},et.displayName="".concat(DISPLAYNAME_PREFIX,".Hotkeys"),et.defaultProps={tabIndex:0},et}(AbstractPureComponent),HotkeysDialog2=function(_e){var et=_e.globalGroupName,tt=et===void 0?"Global":et,rt=_e.hotkeys,nt=__rest$1(_e,["globalGroupName","hotkeys"]);return reactExports.createElement(Dialog,__assign$1({},nt,{className:classNames(HOTKEY_DIALOG,nt.className)}),reactExports.createElement(DialogBody,null,reactExports.createElement(Hotkeys,null,rt.map(function(it,ot){return reactExports.createElement(Hotkey,__assign$1({key:ot},it,{group:it.global===!0&&it.group==null?tt:it.group}))}))))},initialHotkeysState={hasProvider:!1,hotkeys:[],isDialogOpen:!1},noOpDispatch=function(){return null},HotkeysContext=reactExports.createContext([initialHotkeysState,noOpDispatch]),hotkeysReducer=function(_e,et){switch(et.type){case"ADD_HOTKEYS":for(var tt=[],rt=0,nt=et.payload;rt<nt.length;rt++){for(var it=nt[rt],ot=!0,at=0,st=_e.hotkeys;at<st.length;at++){var lt=st[at];ot&&(ot=!shallowCompareKeys(it,lt,{exclude:["onKeyDown","onKeyUp"]}))}ot&&tt.push(it)}return __assign$1(__assign$1({},_e),{hotkeys:__spreadArray(__spreadArray([],_e.hotkeys,!0),tt,!0)});case"REMOVE_HOTKEYS":return __assign$1(__assign$1({},_e),{hotkeys:_e.hotkeys.filter(function(ct){return et.payload.indexOf(ct)===-1})});case"OPEN_DIALOG":return __assign$1(__assign$1({},_e),{isDialogOpen:!0});case"CLOSE_DIALOG":return __assign$1(__assign$1({},_e),{isDialogOpen:!1});default:return _e}},HotkeysProvider=function(_e){var et,tt=_e.children,rt=_e.dialogProps,nt=_e.renderDialog,it=_e.value,ot=it!=null,at=reactExports.useReducer(hotkeysReducer,__assign$1(__assign$1({},initialHotkeysState),{hasProvider:!0})),st=it??at,lt=st[0],ct=st[1],ut=reactExports.useMemo(function(){return[lt,ct]},[lt,ct]),ft=reactExports.useCallback(function(){return ct({type:"CLOSE_DIALOG"})},[ct]),dt=(et=nt==null?void 0:nt(lt,{handleDialogClose:ft}))!==null&&et!==void 0?et:reactExports.createElement(HotkeysDialog2,__assign$1({},rt,{isOpen:lt.isDialogOpen,hotkeys:lt.hotkeys,onClose:ft}));return reactExports.createElement(HotkeysContext.Provider,{value:ut},tt,ot?void 0:dt)},BlueprintProvider=function(_e){var et=_e.children,tt=_e.hotkeysProviderValue,rt=__rest$1(_e,["children","hotkeysProviderValue"]);return reactExports.createElement(PortalProvider,__assign$1({},rt),reactExports.createElement(OverlaysProvider,null,reactExports.createElement(HotkeysProvider,__assign$1({value:tt},rt),et)))},NonIdealStateIconSize;(function(_e){_e[_e.STANDARD=48]="STANDARD",_e[_e.SMALL=32]="SMALL",_e[_e.EXTRA_SMALL=20]="EXTRA_SMALL"})(NonIdealStateIconSize||(NonIdealStateIconSize={}));var NonIdealState=function(_e){__extends(et,_e);function et(){return _e!==null&&_e.apply(this,arguments)||this}return et.prototype.render=function(){var tt=this.props,rt=tt.action,nt=tt.children,it=tt.className,ot=tt.layout;return reactExports.createElement("div",{className:classNames(NON_IDEAL_STATE,"".concat(NON_IDEAL_STATE,"-").concat(ot),it)},this.maybeRenderVisual(),this.maybeRenderText(),rt,nt)},et.prototype.maybeRenderVisual=function(){var tt,rt=this.props,nt=rt.icon,it=rt.iconMuted,ot=rt.iconSize;if(nt!=null)return reactExports.createElement("div",{className:NON_IDEAL_STATE_VISUAL,style:{fontSize:"".concat(ot,"px"),lineHeight:"".concat(ot,"px")}},reactExports.createElement(Icon,{className:classNames((tt={},tt[ICON_MUTED]=it,tt)),icon:nt,size:ot,"aria-hidden":!0,tabIndex:-1}))},et.prototype.maybeRenderText=function(){var tt=this.props,rt=tt.description,nt=tt.title;if(!(nt==null&&rt==null))return reactExports.createElement("div",{className:NON_IDEAL_STATE_TEXT},nt&&reactExports.createElement(H4,null,nt),rt&&ensureElement(rt,"div"))},et.displayName="".concat(DISPLAYNAME_PREFIX,".NonIdealState"),et.defaultProps={iconMuted:!0,iconSize:NonIdealStateIconSize.STANDARD,layout:"vertical"},et}(AbstractPureComponent),PopupKind;(function(_e){_e.MENU="menu",_e.LISTBOX="listbox",_e.TREE="tree",_e.GRID="grid",_e.DIALOG="dialog"})(PopupKind||(PopupKind={}));var TagRemoveButton=function(_e){var et=_e.className,tt=_e.large,rt=_e.onRemove,nt=_e.tabIndex,it=tt||(et==null?void 0:et.includes(LARGE)),ot=reactExports.useCallback(function(at){rt==null||rt(at,_e)},[rt,_e]);return reactExports.createElement("button",{"aria-label":"Remove tag",type:"button",className:TAG_REMOVE,onClick:ot,tabIndex:nt},reactExports.createElement(SmallCross,{size:it?IconSize.LARGE:IconSize.STANDARD}))};TagRemoveButton.displayName="".concat(DISPLAYNAME_PREFIX,".TagRemoveButton");var Tag=reactExports.forwardRef(function(_e,et){var tt,rt=_e.active,nt=_e.children,it=_e.className,ot=_e.fill,at=_e.icon,st=_e.intent,lt=_e.interactive,ct=_e.large,ut=_e.minimal,ft=_e.multiline,dt=_e.onRemove,pt=_e.rightIcon,mt=_e.round,vt=_e.tabIndex,ht=vt===void 0?0:vt,yt=_e.htmlTitle,gt=__rest$1(_e,["active","children","className","fill","icon","intent","interactive","large","minimal","multiline","onRemove","rightIcon","round","tabIndex","htmlTitle"]),xt=isFunction$3(dt),_t=classNames(TAG,intentClass(st),(tt={},tt[ACTIVE]=rt,tt[FILL]=ot,tt[INTERACTIVE]=lt,tt[LARGE]=ct,tt[MINIMAL]=ut,tt[ROUND]=mt,tt),it);return reactExports.createElement("span",__assign$1({},gt,{className:_t,tabIndex:lt?ht:void 0,ref:et}),reactExports.createElement(Icon,{icon:at}),!isReactNodeEmpty(nt)&&reactExports.createElement(Text$1,{className:FILL,ellipsize:!ft,tagName:"span",title:yt},nt),reactExports.createElement(Icon,{icon:pt}),xt&&reactExports.createElement(TagRemoveButton,__assign$1({},_e)))});Tag.defaultProps={active:!1,fill:!1,interactive:!1,large:!1,minimal:!1,round:!1};Tag.displayName="".concat(DISPLAYNAME_PREFIX,".Tag");function Button(_e){const{tooltipProps:et,children:tt,tag:rt,tagProps:nt,...it}=_e,ot=it.disabled?AnchorButton:Button$1;return jsx(Tooltip,{fill:(et==null?void 0:et.fill)||it.fill,...et,renderTarget:({isOpen:at,...st})=>jsxs("div",{style:{position:"relative"},children:[rt&&jsx(Tag,{css:css`
                position: absolute;
                top: 0;
                left: 0;
                cursor: default;
                font-size: 0.875em;
                padding: 2px !important;
                min-height: 15px;
                min-width: 15px;
                line-height: 1em;
                text-align: center;
                z-index: 20;
              `,round:!0,intent:"success",...nt,children:rt}),jsx(ot,{...st,...it,style:{},children:tt})]})})}function FixedColorPreview(_e){const{color:et}=_e;return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:et}})}function isObject$a(_e){var et=typeof _e;return _e!=null&&(et=="object"||et=="function")}var isObject_1=isObject$a,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$a=freeGlobal||freeSelf||Function("return this")(),_root=root$a,root$9=_root,now$1=function(){return root$9.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(_e){for(var et=_e.length;et--&&reWhitespace.test(_e.charAt(et)););return et}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(_e){return _e&&_e.slice(0,trimmedEndIndex(_e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root$8=_root,Symbol$5=root$8.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(_e){var et=hasOwnProperty$a.call(_e,symToStringTag$1),tt=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var rt=!0}catch{}var nt=nativeObjectToString$1.call(_e);return rt&&(et?_e[symToStringTag$1]=tt:delete _e[symToStringTag$1]),nt}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(_e){return nativeObjectToString.call(_e)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$5(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}var _baseGetTag=baseGetTag$5;function isObjectLike$6(_e){return _e!=null&&typeof _e=="object"}var isObjectLike_1=isObjectLike$6,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,symbolTag$2="[object Symbol]";function isSymbol$2(_e){return typeof _e=="symbol"||isObjectLike$5(_e)&&baseGetTag$4(_e)==symbolTag$2}var isSymbol_1=isSymbol$2,baseTrim=_baseTrim,isObject$9=isObject_1,isSymbol$1=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$3(_e){if(typeof _e=="number")return _e;if(isSymbol$1(_e))return NAN;if(isObject$9(_e)){var et=typeof _e.valueOf=="function"?_e.valueOf():_e;_e=isObject$9(et)?et+"":et}if(typeof _e!="string")return _e===0?_e:+_e;_e=baseTrim(_e);var tt=reIsBinary.test(_e);return tt||reIsOctal.test(_e)?freeParseInt(_e.slice(2),tt?2:8):reIsBadHex.test(_e)?NAN:+_e}var toNumber_1=toNumber$3,isObject$8=isObject_1,now=now_1,toNumber$2=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin$1=Math.min;function debounce$1(_e,et,tt){var rt,nt,it,ot,at,st,lt=0,ct=!1,ut=!1,ft=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);et=toNumber$2(et)||0,isObject$8(tt)&&(ct=!!tt.leading,ut="maxWait"in tt,it=ut?nativeMax(toNumber$2(tt.maxWait)||0,et):it,ft="trailing"in tt?!!tt.trailing:ft);function dt(wt){var Et=rt,St=nt;return rt=nt=void 0,lt=wt,ot=_e.apply(St,Et),ot}function pt(wt){return lt=wt,at=setTimeout(ht,et),ct?dt(wt):ot}function mt(wt){var Et=wt-st,St=wt-lt,Ct=et-Et;return ut?nativeMin$1(Ct,it-St):Ct}function vt(wt){var Et=wt-st,St=wt-lt;return st===void 0||Et>=et||Et<0||ut&&St>=it}function ht(){var wt=now();if(vt(wt))return yt(wt);at=setTimeout(ht,mt(wt))}function yt(wt){return at=void 0,ft&&rt?dt(wt):(rt=nt=void 0,ot)}function gt(){at!==void 0&&clearTimeout(at),lt=0,rt=st=nt=at=void 0}function xt(){return at===void 0?ot:yt(now())}function _t(){var wt=now(),Et=vt(wt);if(rt=arguments,nt=this,st=wt,Et){if(at===void 0)return pt(st);if(ut)return clearTimeout(at),at=setTimeout(ht,et),dt(st)}return at===void 0&&(at=setTimeout(ht,et)),ot}return _t.cancel=gt,_t.flush=xt,_t}var debounce_1=debounce$1;const lodashDebounce=getDefaultExportFromCjs(debounce_1),defaultColorPalette=["#CC6677","#332288","#DDCC77","#117733","#88CCEE","#882255","#44AA99","#999933","#AA4499"];function calculateChange$2(_e,et,tt,rt,nt){const it=nt.clientWidth,ot=nt.clientHeight,at=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,st=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY,lt=at-(nt.getBoundingClientRect().left+window.pageXOffset),ct=st-(nt.getBoundingClientRect().top+window.pageYOffset);if(tt==="vertical"){let ut;if(ct<0?ut=0:ct>ot?ut=1:ut=Math.round(ct*100/ot)/100,et.a!==ut)return{h:et.h,s:et.s,l:et.l,a:ut,source:"rgb"}}else{let ut;if(lt<0?ut=0:lt>it?ut=1:ut=Math.round(lt*100/it)/100,rt!==ut)return{h:et.h,s:et.s,l:et.l,a:ut,source:"rgb"}}return null}const checkBoardCache={};function render(_e,et,tt,rt){if(typeof document>"u"&&!rt)return null;const nt=rt?new rt:document.createElement("canvas");nt.width=tt*2,nt.height=tt*2;const it=nt.getContext("2d");return it?(it.fillStyle=_e,it.fillRect(0,0,nt.width,nt.height),it.fillStyle=et,it.fillRect(0,0,tt,tt),it.translate(tt,tt),it.fillRect(0,0,tt,tt),nt.toDataURL()):null}function get(_e,et,tt,rt){const nt=`${_e}-${et}-${tt}${rt?"-server":""}`;if(checkBoardCache[nt])return checkBoardCache[nt];const it=render(_e,et,tt,rt);return checkBoardCache[nt]=it,it}const styles$f={grid:_e=>{const{size:et=8,white:tt="transparent",grey:rt="rgba(0,0,0,.08)",renderers:nt={},borderRadius:it,boxShadow:ot}=_e;return{borderRadius:it,boxShadow:ot,position:"absolute",top:0,left:0,right:0,bottom:0,background:`url(${get(tt,rt,et,nt.canvas)}) center left`}}},CheckBoard=_e=>{const{children:et}=_e;return reactExports.isValidElement(et)?reactExports.cloneElement(et,{...et.props,style:{...et.props.style,...styles$f.grid(_e)}}):jsxRuntimeExports.jsx("div",{style:styles$f.grid(_e)})};function useOnChange(_e){return reactExports.useCallback(et=>{_e(et);function tt(){window.removeEventListener("mousemove",_e),window.removeEventListener("mouseup",tt)}window.addEventListener("mousemove",_e),window.addEventListener("mouseup",tt)},[_e])}const styles$e={alpha:_e=>({position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:_e}),checkerboard:_e=>({position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden",borderRadius:_e}),gradient:(_e,et,tt,rt)=>{let nt="right";return _e==="vertical"&&(nt="bottom"),{position:"absolute",top:0,left:0,right:0,bottom:0,boxShadow:et,borderRadius:tt,background:`linear-gradient(to ${nt}, rgba(${rt.r},${rt.g},${rt.b}, 0) 0%,
      rgba(${rt.r},${rt.g},${rt.b}, 1) 100%)`}},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:(_e,et)=>_e==="vertical"?{position:"absolute",left:0,top:`${et.a*100}%`}:{position:"absolute",left:`${et.a*100}%`},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},Alpha=_e=>{const et=reactExports.useRef(),tt=reactExports.useCallback(st=>{const lt=calculateChange$2(st,_e.hsl,_e.direction,_e.a,et.current);lt&&typeof _e.onChange=="function"&&_e.onChange(lt,st)},[_e]),rt=useOnChange(tt),nt=_e.rgb,{borderRadius:it,boxShadow:ot,direction:at}=_e.style;return jsxRuntimeExports.jsxs("div",{style:styles$e.alpha(it),children:[jsxRuntimeExports.jsx("div",{style:styles$e.checkerboard(it),children:jsxRuntimeExports.jsx(CheckBoard,{renderers:_e.renderers})}),jsxRuntimeExports.jsx("div",{style:styles$e.gradient(at,ot,it,nt)}),jsxRuntimeExports.jsx("div",{style:styles$e.container,ref:et,onMouseDown:rt,onTouchMove:tt,onTouchStart:tt,children:jsxRuntimeExports.jsx("div",{style:styles$e.pointer(at,nt),children:_e.pointer?jsxRuntimeExports.jsx(_e.pointer,{..._e}):jsxRuntimeExports.jsx("div",{style:styles$e.slider})})})]})},DEFAULT_ARROW_OFFSET=1,UP_KEY_CODE=38,DOWN_KEY_CODE=40,VALID_KEY_CODES=new Set([UP_KEY_CODE,DOWN_KEY_CODE]),isValidKeyCode=_e=>VALID_KEY_CODES.has(_e),getNumberValue=_e=>Number(String(_e).replaceAll("%",""));let idCounter=1;const styles$d={wrap:{position:"relative"}},EditableInput=_e=>{const[et,tt]=reactExports.useState({value:String(_e.value).toUpperCase(),blurValue:String(_e.value).toUpperCase()}),rt=reactExports.useRef(),nt=reactExports.useRef(_e.value),it=reactExports.useRef(`rc-editable-input-${idCounter++}`).current;reactExports.useEffect(()=>{nt.current=_e.value,rt.current===document.activeElement?tt({blurValue:String(_e.value).toUpperCase()}):tt(vt=>({value:String(_e.value).toUpperCase(),blurValue:!vt.blurValue&&String(_e.value).toUpperCase()}))},[_e.value]);const ot=reactExports.useCallback(vt=>({[_e.label]:vt}),[_e.label]),at=reactExports.useCallback(()=>{et.blurValue&&tt({value:et.blurValue,blurValue:null})},[et.blurValue]),st=reactExports.useCallback((vt,ht)=>{const yt=_e.label?ot(vt):vt;_e.onChange&&_e.onChange(yt,ht),tt({value:vt})},[ot,_e]),lt=reactExports.useCallback(vt=>{st(vt.target.value,vt)},[st]),ct=reactExports.useCallback(vt=>{const ht=getNumberValue(vt.target.value),yt=_e.arrowOffset||DEFAULT_ARROW_OFFSET;if(!Number.isNaN(ht)&&isValidKeyCode(vt.keyCode)){const gt=vt.keyCode===UP_KEY_CODE?ht+yt:ht-yt;st(gt,vt)}},[_e.arrowOffset,st]),ut=reactExports.useCallback(vt=>{if(_e.dragLabel){const ht=Math.round(nt.current+vt.movementX);ht>=0&&ht<=_e.dragMax&&(nt.current=ht,_e.onChange&&_e.onChange(ot(ht),vt))}},[_e,ot]),ft=reactExports.useCallback(vt=>{function ht(){window.removeEventListener("mousemove",ut),window.removeEventListener("mouseup",ht)}_e.dragLabel&&(vt.preventDefault(),ut(vt),window.addEventListener("mousemove",ut),window.addEventListener("mouseup",ht))},[ut,_e.dragLabel]),{wrap:dt={},input:pt={},label:mt={}}=_e.style||{};return jsxRuntimeExports.jsxs("div",{style:{...styles$d.wrap,...dt},children:[jsxRuntimeExports.jsx("input",{id:it,style:pt,ref:rt,value:et.value,onKeyDown:ct,onChange:lt,onBlur:at,placeholder:_e.placeholder,spellCheck:"false"}),_e.label&&!_e.hideLabel?jsxRuntimeExports.jsx("label",{htmlFor:it,style:{...mt,..._e.dragLabel==="true"&&{cursor:"ew-resize",userSelect:"none"}},onMouseDown:ft,children:_e.label}):null]})};var debounce=debounce_1,isObject$7=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle$1(_e,et,tt){var rt=!0,nt=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$7(tt)&&(rt="leading"in tt?!!tt.leading:rt,nt="trailing"in tt?!!tt.trailing:nt),debounce(_e,et,{leading:rt,maxWait:et,trailing:nt})}var throttle_1=throttle$1;const lodashThrottle=getDefaultExportFromCjs(throttle_1);function calculateChange$1(_e,et,tt){const{width:rt,height:nt}=tt.getBoundingClientRect(),it=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,ot=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY;let at=it-(tt.getBoundingClientRect().left+window.pageXOffset),st=ot-(tt.getBoundingClientRect().top+window.pageYOffset);at<0?at=0:at>rt&&(at=rt),st<0?st=0:st>nt&&(st=nt);const lt=at/rt,ct=1-st/nt;return{h:et.h,s:lt,v:ct,a:et.a,source:"hsv"}}const styles$c={color:_e=>({position:"absolute",top:0,left:0,right:0,bottom:0,background:`hsl(${_e.h},100%, 50%)`,userDraggle:"none",userSelect:"none"}),white:()=>({position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to right, #fff, rgba(255,255,255,0))"}),black:()=>({position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to top, #000, rgba(0,0,0,0))"}),pointer:_e=>({position:"absolute",top:`${-(_e.v*100)+100}%`,left:`${_e.s*100}%`,cursor:"default"}),circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
          0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},Saturation=_e=>{const{onChange:et,hsl:tt,hsv:rt,pointer:nt}=_e,it=reactExports.useRef(lodashThrottle((lt,ct,ut)=>{lt(ct,ut)},50)).current,ot=reactExports.useRef(),at=reactExports.useCallback(lt=>{et&&typeof et=="function"&&it(et,calculateChange$1(lt,tt,ot.current),lt)},[tt,et,it]),st=useOnChange(at);return jsxRuntimeExports.jsx("div",{style:styles$c.color(tt),ref:ot,onMouseDown:st,onTouchMove:at,onTouchStart:at,children:jsxRuntimeExports.jsxs("div",{style:styles$c.white(),children:[jsxRuntimeExports.jsx("div",{style:styles$c.black()}),jsxRuntimeExports.jsx("div",{style:styles$c.pointer(rt),children:nt?jsxRuntimeExports.jsx(_e.pointer,{..._e}):jsxRuntimeExports.jsx("div",{style:styles$c.circle})})]})})};function calculateChange(_e,et,tt,rt){const nt=rt.clientWidth,it=rt.clientHeight,ot=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,at=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY,st=ot-(rt.getBoundingClientRect().left+window.pageXOffset),lt=at-(rt.getBoundingClientRect().top+window.pageYOffset);if(et==="vertical"){let ct;if(lt<0?ct=359:lt>it?ct=0:ct=360*(-(lt*100/it)+100)/100,tt.h!==ct)return{h:ct,s:tt.s,l:tt.l,a:tt.a,source:"hsl"}}else{let ct;if(st<0?ct=0:st>nt?ct=359:ct=360*(st*100/nt)/100,tt.h!==ct)return{h:ct,s:tt.s,l:tt.l,a:tt.a,source:"hsl"}}return null}const styles$b={hue:(_e,et)=>({position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:_e,boxShadow:et}),container:(_e,et)=>{let tt="right";return _e==="vertical"&&(tt="bottom"),{padding:"0 2px",position:"relative",height:"100%",borderRadius:et,background:`linear-gradient(to ${tt}, #f00 0%, #ff0 17%, #0f0
      33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)`}},pointer:(_e,et)=>_e==="vertical"?{position:"absolute",left:0,top:`${-(et.h*100/360)+100}%`}:{position:"absolute",left:`${et.h*100/360}%`},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},Hue=_e=>{const et=reactExports.useRef(),tt=reactExports.useCallback(ct=>{const ut=calculateChange(ct,_e.direction,_e.hsl,et.current);ut&&typeof _e.onChange=="function"&&_e.onChange(ut,ct)},[_e]),rt=useOnChange(tt),{direction:nt="horizontal",hsl:it,style:ot,pointer:at}=_e,{borderRadius:st,boxShadow:lt}=ot;return jsxRuntimeExports.jsx("div",{style:styles$b.hue(st,lt),children:jsxRuntimeExports.jsx("div",{style:styles$b.container(nt,st),ref:et,onMouseDown:rt,onTouchMove:tt,onTouchStart:tt,children:jsxRuntimeExports.jsx("div",{style:styles$b.pointer(nt,it),children:at?jsxRuntimeExports.jsx(_e.pointer,{..._e}):jsxRuntimeExports.jsx("div",{style:styles$b.slider})})})})},handleFocus=(_e,et="span")=>class extends reactExports.Component{constructor(){super(...arguments),this.state={focus:!1},this.handleFocus=()=>this.setState({focus:!0}),this.handleBlur=()=>this.setState({focus:!1})}render(){return jsxRuntimeExports.jsx(et,{onFocus:this.handleFocus,onBlur:this.handleBlur,children:jsxRuntimeExports.jsx(_e,{...this.props,...this.state})})}},styles$a={height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},Swatch=({color:_e,style:et,onClick:tt,onHover:rt,title:nt=_e,children:it,focus:ot,focusStyle:at={}})=>{const st=_e==="transparent",lt=reactExports.useCallback(dt=>tt==null?void 0:tt(_e,dt),[_e,tt]),ct=reactExports.useCallback(dt=>{dt.key.toLowerCase()==="enter"&&(tt==null||tt(_e,dt))},[_e,tt]),ut=reactExports.useCallback(dt=>rt==null?void 0:rt(_e,dt),[_e,rt]),ft={};return rt&&(ft.onMouseOver=ut),jsxRuntimeExports.jsxs("div",{style:{...styles$a,background:_e,...et,...ot?at:{}},onClick:lt,title:nt,tabIndex:0,onKeyDown:ct,...ft,children:[it,st&&jsxRuntimeExports.jsx(CheckBoard,{borderRadius:et.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"})]})},Swatch$1=handleFocus(Swatch);function arrayEach$2(_e,et){for(var tt=-1,rt=_e==null?0:_e.length;++tt<rt&&et(_e[tt],tt,_e)!==!1;);return _e}var _arrayEach=arrayEach$2;function createBaseFor$1(_e){return function(et,tt,rt){for(var nt=-1,it=Object(et),ot=rt(et),at=ot.length;at--;){var st=ot[_e?at:++nt];if(tt(it[st],st,it)===!1)break}return et}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1;function baseTimes$2(_e,et){for(var tt=-1,rt=Array(_e);++tt<_e;)rt[tt]=et(tt);return rt}var _baseTimes=baseTimes$2,baseGetTag$3=_baseGetTag,isObjectLike$4=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(_e){return isObjectLike$4(_e)&&baseGetTag$3(_e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$3=isObjectLike_1,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$2=objectProto$a.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(_e){return isObjectLike$3(_e)&&hasOwnProperty$9.call(_e,"callee")&&!propertyIsEnumerable$2.call(_e,"callee")},isArguments_1=isArguments$1,isArray$5=Array.isArray,isArray_1=isArray$5,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(_e,et){var tt=_root,rt=stubFalse_1,nt=et&&!et.nodeType&&et,it=nt&&!0&&_e&&!_e.nodeType&&_e,ot=it&&it.exports===nt,at=ot?tt.Buffer:void 0,st=at?at.isBuffer:void 0,lt=st||rt;_e.exports=lt})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(_e,et){var tt=typeof _e;return et=et??MAX_SAFE_INTEGER$2,!!et&&(tt=="number"||tt!="symbol"&&reIsUint.test(_e))&&_e>-1&&_e%1==0&&_e<et}var _isIndex=isIndex$1,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,baseGetTag$2=_baseGetTag,isLength$1=isLength_1,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$2="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$2]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(_e){return isObjectLike$2(_e)&&isLength$1(_e.length)&&!!typedArrayTags[baseGetTag$2(_e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(_e){return function(et){return _e(et)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}};_nodeUtil.exports;(function(_e,et){var tt=_freeGlobal,rt=et&&!et.nodeType&&et,nt=rt&&!0&&_e&&!_e.nodeType&&_e,it=nt&&nt.exports===rt,ot=it&&tt.process,at=function(){try{var st=nt&&nt.require&&nt.require("util").types;return st||ot&&ot.binding&&ot.binding("util")}catch{}}();_e.exports=at})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$1,baseTimes$1=_baseTimes,isArguments=isArguments_1,isArray$4=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray=isTypedArray_1,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys$2(_e,et){var tt=isArray$4(_e),rt=!tt&&isArguments(_e),nt=!tt&&!rt&&isBuffer$1(_e),it=!tt&&!rt&&!nt&&isTypedArray(_e),ot=tt||rt||nt||it,at=ot?baseTimes$1(_e.length,String):[],st=at.length;for(var lt in _e)(et||hasOwnProperty$8.call(_e,lt))&&!(ot&&(lt=="length"||nt&&(lt=="offset"||lt=="parent")||it&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||isIndex(lt,st)))&&at.push(lt);return at}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$8=Object.prototype;function isPrototype$3(_e){var et=_e&&_e.constructor,tt=typeof et=="function"&&et.prototype||objectProto$8;return _e===tt}var _isPrototype=isPrototype$3;function overArg$2(_e,et){return function(tt){return _e(et(tt))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeys$1(_e){if(!isPrototype$2(_e))return nativeKeys(_e);var et=[];for(var tt in Object(_e))hasOwnProperty$7.call(_e,tt)&&tt!="constructor"&&et.push(tt);return et}var _baseKeys=baseKeys$1,baseGetTag$1=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(_e){if(!isObject$6(_e))return!1;var et=baseGetTag$1(_e);return et==funcTag$1||et==genTag$1||et==asyncTag||et==proxyTag}var isFunction_1=isFunction$2,isFunction$1=isFunction_1,isLength=isLength_1;function isArrayLike$3(_e){return _e!=null&&isLength(_e.length)&&!isFunction$1(_e)}var isArrayLike_1=isArrayLike$3,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$2=isArrayLike_1;function keys$4(_e){return isArrayLike$2(_e)?arrayLikeKeys$1(_e):baseKeys(_e)}var keys_1=keys$4,baseFor=_baseFor,keys$3=keys_1;function baseForOwn$1(_e,et){return _e&&baseFor(_e,et,keys$3)}var _baseForOwn=baseForOwn$1,isArrayLike$1=isArrayLike_1;function createBaseEach$1(_e,et){return function(tt,rt){if(tt==null)return tt;if(!isArrayLike$1(tt))return _e(tt,rt);for(var nt=tt.length,it=et?nt:-1,ot=Object(tt);(et?it--:++it<nt)&&rt(ot[it],it,ot)!==!1;);return tt}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1;function identity$3(_e){return _e}var identity_1=identity$3,identity$2=identity_1;function castFunction$2(_e){return typeof _e=="function"?_e:identity$2}var _castFunction=castFunction$2,arrayEach$1=_arrayEach,baseEach=_baseEach,castFunction$1=_castFunction,isArray$3=isArray_1;function forEach(_e,et){var tt=isArray$3(_e)?arrayEach$1:baseEach;return tt(_e,castFunction$1(et))}var forEach_1=forEach,each=forEach_1;const each$1=getDefaultExportFromCjs(each);function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(_e)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(_e,et){if(_e=_e||"",et=et||{},_e instanceof tinycolor)return _e;if(!(this instanceof tinycolor))return new tinycolor(_e,et);var tt=inputToRGB(_e);this._originalInput=_e,this._r=tt.r,this._g=tt.g,this._b=tt.b,this._a=tt.a,this._roundA=Math.round(100*this._a)/100,this._format=et.format||tt.format,this._gradientType=et.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=tt.ok}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var et=this.toRgb();return(et.r*299+et.g*587+et.b*114)/1e3},getLuminance:function(){var et=this.toRgb(),tt,rt,nt,it,ot,at;return tt=et.r/255,rt=et.g/255,nt=et.b/255,tt<=.03928?it=tt/12.92:it=Math.pow((tt+.055)/1.055,2.4),rt<=.03928?ot=rt/12.92:ot=Math.pow((rt+.055)/1.055,2.4),nt<=.03928?at=nt/12.92:at=Math.pow((nt+.055)/1.055,2.4),.2126*it+.7152*ot+.0722*at},setAlpha:function(et){return this._a=boundAlpha(et),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var et=rgbToHsv(this._r,this._g,this._b);return{h:et.h*360,s:et.s,v:et.v,a:this._a}},toHsvString:function(){var et=rgbToHsv(this._r,this._g,this._b),tt=Math.round(et.h*360),rt=Math.round(et.s*100),nt=Math.round(et.v*100);return this._a==1?"hsv("+tt+", "+rt+"%, "+nt+"%)":"hsva("+tt+", "+rt+"%, "+nt+"%, "+this._roundA+")"},toHsl:function(){var et=rgbToHsl(this._r,this._g,this._b);return{h:et.h*360,s:et.s,l:et.l,a:this._a}},toHslString:function(){var et=rgbToHsl(this._r,this._g,this._b),tt=Math.round(et.h*360),rt=Math.round(et.s*100),nt=Math.round(et.l*100);return this._a==1?"hsl("+tt+", "+rt+"%, "+nt+"%)":"hsla("+tt+", "+rt+"%, "+nt+"%, "+this._roundA+")"},toHex:function(et){return rgbToHex(this._r,this._g,this._b,et)},toHexString:function(et){return"#"+this.toHex(et)},toHex8:function(et){return rgbaToHex(this._r,this._g,this._b,this._a,et)},toHex8String:function(et){return"#"+this.toHex8(et)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function(et){var tt="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),rt=tt,nt=this._gradientType?"GradientType = 1, ":"";if(et){var it=tinycolor(et);rt="#"+rgbaToArgbHex(it._r,it._g,it._b,it._a)}return"progid:DXImageTransform.Microsoft.gradient("+nt+"startColorstr="+tt+",endColorstr="+rt+")"},toString:function(et){var tt=!!et;et=et||this._format;var rt=!1,nt=this._a<1&&this._a>=0,it=!tt&&nt&&(et==="hex"||et==="hex6"||et==="hex3"||et==="hex4"||et==="hex8"||et==="name");return it?et==="name"&&this._a===0?this.toName():this.toRgbString():(et==="rgb"&&(rt=this.toRgbString()),et==="prgb"&&(rt=this.toPercentageRgbString()),(et==="hex"||et==="hex6")&&(rt=this.toHexString()),et==="hex3"&&(rt=this.toHexString(!0)),et==="hex4"&&(rt=this.toHex8String(!0)),et==="hex8"&&(rt=this.toHex8String()),et==="name"&&(rt=this.toName()),et==="hsl"&&(rt=this.toHslString()),et==="hsv"&&(rt=this.toHsvString()),rt||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(et,tt){var rt=et.apply(null,[this].concat([].slice.call(tt)));return this._r=rt._r,this._g=rt._g,this._b=rt._b,this.setAlpha(rt._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(et,tt){return et.apply(null,[this].concat([].slice.call(tt)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(_e,et){if(_typeof(_e)=="object"){var tt={};for(var rt in _e)_e.hasOwnProperty(rt)&&(rt==="a"?tt[rt]=_e[rt]:tt[rt]=convertToPercentage(_e[rt]));_e=tt}return tinycolor(_e,et)};function inputToRGB(_e){var et={r:0,g:0,b:0},tt=1,rt=null,nt=null,it=null,ot=!1,at=!1;return typeof _e=="string"&&(_e=stringInputToObject(_e)),_typeof(_e)=="object"&&(isValidCSSUnit(_e.r)&&isValidCSSUnit(_e.g)&&isValidCSSUnit(_e.b)?(et=rgbToRgb(_e.r,_e.g,_e.b),ot=!0,at=String(_e.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(_e.h)&&isValidCSSUnit(_e.s)&&isValidCSSUnit(_e.v)?(rt=convertToPercentage(_e.s),nt=convertToPercentage(_e.v),et=hsvToRgb(_e.h,rt,nt),ot=!0,at="hsv"):isValidCSSUnit(_e.h)&&isValidCSSUnit(_e.s)&&isValidCSSUnit(_e.l)&&(rt=convertToPercentage(_e.s),it=convertToPercentage(_e.l),et=hslToRgb(_e.h,rt,it),ot=!0,at="hsl"),_e.hasOwnProperty("a")&&(tt=_e.a)),tt=boundAlpha(tt),{ok:ot,format:_e.format||at,r:Math.min(255,Math.max(et.r,0)),g:Math.min(255,Math.max(et.g,0)),b:Math.min(255,Math.max(et.b,0)),a:tt}}function rgbToRgb(_e,et,tt){return{r:bound01(_e,255)*255,g:bound01(et,255)*255,b:bound01(tt,255)*255}}function rgbToHsl(_e,et,tt){_e=bound01(_e,255),et=bound01(et,255),tt=bound01(tt,255);var rt=Math.max(_e,et,tt),nt=Math.min(_e,et,tt),it,ot,at=(rt+nt)/2;if(rt==nt)it=ot=0;else{var st=rt-nt;switch(ot=at>.5?st/(2-rt-nt):st/(rt+nt),rt){case _e:it=(et-tt)/st+(et<tt?6:0);break;case et:it=(tt-_e)/st+2;break;case tt:it=(_e-et)/st+4;break}it/=6}return{h:it,s:ot,l:at}}function hslToRgb(_e,et,tt){var rt,nt,it;_e=bound01(_e,360),et=bound01(et,100),tt=bound01(tt,100);function ot(lt,ct,ut){return ut<0&&(ut+=1),ut>1&&(ut-=1),ut<1/6?lt+(ct-lt)*6*ut:ut<1/2?ct:ut<2/3?lt+(ct-lt)*(2/3-ut)*6:lt}if(et===0)rt=nt=it=tt;else{var at=tt<.5?tt*(1+et):tt+et-tt*et,st=2*tt-at;rt=ot(st,at,_e+1/3),nt=ot(st,at,_e),it=ot(st,at,_e-1/3)}return{r:rt*255,g:nt*255,b:it*255}}function rgbToHsv(_e,et,tt){_e=bound01(_e,255),et=bound01(et,255),tt=bound01(tt,255);var rt=Math.max(_e,et,tt),nt=Math.min(_e,et,tt),it,ot,at=rt,st=rt-nt;if(ot=rt===0?0:st/rt,rt==nt)it=0;else{switch(rt){case _e:it=(et-tt)/st+(et<tt?6:0);break;case et:it=(tt-_e)/st+2;break;case tt:it=(_e-et)/st+4;break}it/=6}return{h:it,s:ot,v:at}}function hsvToRgb(_e,et,tt){_e=bound01(_e,360)*6,et=bound01(et,100),tt=bound01(tt,100);var rt=Math.floor(_e),nt=_e-rt,it=tt*(1-et),ot=tt*(1-nt*et),at=tt*(1-(1-nt)*et),st=rt%6,lt=[tt,ot,it,it,at,tt][st],ct=[at,tt,tt,ot,it,it][st],ut=[it,it,at,tt,tt,ot][st];return{r:lt*255,g:ct*255,b:ut*255}}function rgbToHex(_e,et,tt,rt){var nt=[pad2(Math.round(_e).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(tt).toString(16))];return rt&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0):nt.join("")}function rgbaToHex(_e,et,tt,rt,nt){var it=[pad2(Math.round(_e).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(tt).toString(16)),pad2(convertDecimalToHex(rt))];return nt&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)&&it[3].charAt(0)==it[3].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0)+it[3].charAt(0):it.join("")}function rgbaToArgbHex(_e,et,tt,rt){var nt=[pad2(convertDecimalToHex(rt)),pad2(Math.round(_e).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(tt).toString(16))];return nt.join("")}tinycolor.equals=function(_e,et){return!_e||!et?!1:tinycolor(_e).toRgbString()==tinycolor(et).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(_e,et){et=et===0?0:et||10;var tt=tinycolor(_e).toHsl();return tt.s-=et/100,tt.s=clamp01(tt.s),tinycolor(tt)}function _saturate(_e,et){et=et===0?0:et||10;var tt=tinycolor(_e).toHsl();return tt.s+=et/100,tt.s=clamp01(tt.s),tinycolor(tt)}function _greyscale(_e){return tinycolor(_e).desaturate(100)}function _lighten(_e,et){et=et===0?0:et||10;var tt=tinycolor(_e).toHsl();return tt.l+=et/100,tt.l=clamp01(tt.l),tinycolor(tt)}function _brighten(_e,et){et=et===0?0:et||10;var tt=tinycolor(_e).toRgb();return tt.r=Math.max(0,Math.min(255,tt.r-Math.round(255*-(et/100)))),tt.g=Math.max(0,Math.min(255,tt.g-Math.round(255*-(et/100)))),tt.b=Math.max(0,Math.min(255,tt.b-Math.round(255*-(et/100)))),tinycolor(tt)}function _darken(_e,et){et=et===0?0:et||10;var tt=tinycolor(_e).toHsl();return tt.l-=et/100,tt.l=clamp01(tt.l),tinycolor(tt)}function _spin(_e,et){var tt=tinycolor(_e).toHsl(),rt=(tt.h+et)%360;return tt.h=rt<0?360+rt:rt,tinycolor(tt)}function _complement(_e){var et=tinycolor(_e).toHsl();return et.h=(et.h+180)%360,tinycolor(et)}function polyad(_e,et){if(isNaN(et)||et<=0)throw new Error("Argument to polyad must be a positive number");for(var tt=tinycolor(_e).toHsl(),rt=[tinycolor(_e)],nt=360/et,it=1;it<et;it++)rt.push(tinycolor({h:(tt.h+it*nt)%360,s:tt.s,l:tt.l}));return rt}function _splitcomplement(_e){var et=tinycolor(_e).toHsl(),tt=et.h;return[tinycolor(_e),tinycolor({h:(tt+72)%360,s:et.s,l:et.l}),tinycolor({h:(tt+216)%360,s:et.s,l:et.l})]}function _analogous(_e,et,tt){et=et||6,tt=tt||30;var rt=tinycolor(_e).toHsl(),nt=360/tt,it=[tinycolor(_e)];for(rt.h=(rt.h-(nt*et>>1)+720)%360;--et;)rt.h=(rt.h+nt)%360,it.push(tinycolor(rt));return it}function _monochromatic(_e,et){et=et||6;for(var tt=tinycolor(_e).toHsv(),rt=tt.h,nt=tt.s,it=tt.v,ot=[],at=1/et;et--;)ot.push(tinycolor({h:rt,s:nt,v:it})),it=(it+at)%1;return ot}tinycolor.mix=function(_e,et,tt){tt=tt===0?0:tt||50;var rt=tinycolor(_e).toRgb(),nt=tinycolor(et).toRgb(),it=tt/100,ot={r:(nt.r-rt.r)*it+rt.r,g:(nt.g-rt.g)*it+rt.g,b:(nt.b-rt.b)*it+rt.b,a:(nt.a-rt.a)*it+rt.a};return tinycolor(ot)};tinycolor.readability=function(_e,et){var tt=tinycolor(_e),rt=tinycolor(et);return(Math.max(tt.getLuminance(),rt.getLuminance())+.05)/(Math.min(tt.getLuminance(),rt.getLuminance())+.05)};tinycolor.isReadable=function(_e,et,tt){var rt=tinycolor.readability(_e,et),nt,it;switch(it=!1,nt=validateWCAG2Parms(tt),nt.level+nt.size){case"AAsmall":case"AAAlarge":it=rt>=4.5;break;case"AAlarge":it=rt>=3;break;case"AAAsmall":it=rt>=7;break}return it};tinycolor.mostReadable=function(_e,et,tt){var rt=null,nt=0,it,ot,at,st;tt=tt||{},ot=tt.includeFallbackColors,at=tt.level,st=tt.size;for(var lt=0;lt<et.length;lt++)it=tinycolor.readability(_e,et[lt]),it>nt&&(nt=it,rt=tinycolor(et[lt]));return tinycolor.isReadable(_e,rt,{level:at,size:st})||!ot?rt:(tt.includeFallbackColors=!1,tinycolor.mostReadable(_e,["#fff","#000"],tt))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip$1(names);function flip$1(_e){var et={};for(var tt in _e)_e.hasOwnProperty(tt)&&(et[_e[tt]]=tt);return et}function boundAlpha(_e){return _e=parseFloat(_e),(isNaN(_e)||_e<0||_e>1)&&(_e=1),_e}function bound01(_e,et){isOnePointZero(_e)&&(_e="100%");var tt=isPercentage(_e);return _e=Math.min(et,Math.max(0,parseFloat(_e))),tt&&(_e=parseInt(_e*et,10)/100),Math.abs(_e-et)<1e-6?1:_e%et/parseFloat(et)}function clamp01(_e){return Math.min(1,Math.max(0,_e))}function parseIntFromHex(_e){return parseInt(_e,16)}function isOnePointZero(_e){return typeof _e=="string"&&_e.indexOf(".")!=-1&&parseFloat(_e)===1}function isPercentage(_e){return typeof _e=="string"&&_e.indexOf("%")!=-1}function pad2(_e){return _e.length==1?"0"+_e:""+_e}function convertToPercentage(_e){return _e<=1&&(_e=_e*100+"%"),_e}function convertDecimalToHex(_e){return Math.round(parseFloat(_e)*255).toString(16)}function convertHexToDecimal(_e){return parseIntFromHex(_e)/255}var matchers=function(){var _e="[-\\+]?\\d+%?",et="[-\\+]?\\d*\\.\\d+%?",tt="(?:"+et+")|(?:"+_e+")",rt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",nt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?";return{CSS_UNIT:new RegExp(tt),rgb:new RegExp("rgb"+rt),rgba:new RegExp("rgba"+nt),hsl:new RegExp("hsl"+rt),hsla:new RegExp("hsla"+nt),hsv:new RegExp("hsv"+rt),hsva:new RegExp("hsva"+nt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(_e){return!!matchers.CSS_UNIT.exec(_e)}function stringInputToObject(_e){_e=_e.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var et=!1;if(names[_e])_e=names[_e],et=!0;else if(_e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var tt;return(tt=matchers.rgb.exec(_e))?{r:tt[1],g:tt[2],b:tt[3]}:(tt=matchers.rgba.exec(_e))?{r:tt[1],g:tt[2],b:tt[3],a:tt[4]}:(tt=matchers.hsl.exec(_e))?{h:tt[1],s:tt[2],l:tt[3]}:(tt=matchers.hsla.exec(_e))?{h:tt[1],s:tt[2],l:tt[3],a:tt[4]}:(tt=matchers.hsv.exec(_e))?{h:tt[1],s:tt[2],v:tt[3]}:(tt=matchers.hsva.exec(_e))?{h:tt[1],s:tt[2],v:tt[3],a:tt[4]}:(tt=matchers.hex8.exec(_e))?{r:parseIntFromHex(tt[1]),g:parseIntFromHex(tt[2]),b:parseIntFromHex(tt[3]),a:convertHexToDecimal(tt[4]),format:et?"name":"hex8"}:(tt=matchers.hex6.exec(_e))?{r:parseIntFromHex(tt[1]),g:parseIntFromHex(tt[2]),b:parseIntFromHex(tt[3]),format:et?"name":"hex"}:(tt=matchers.hex4.exec(_e))?{r:parseIntFromHex(tt[1]+""+tt[1]),g:parseIntFromHex(tt[2]+""+tt[2]),b:parseIntFromHex(tt[3]+""+tt[3]),a:convertHexToDecimal(tt[4]+""+tt[4]),format:et?"name":"hex8"}:(tt=matchers.hex3.exec(_e))?{r:parseIntFromHex(tt[1]+""+tt[1]),g:parseIntFromHex(tt[2]+""+tt[2]),b:parseIntFromHex(tt[3]+""+tt[3]),format:et?"name":"hex"}:!1}function validateWCAG2Parms(_e){var et,tt;return _e=_e||{level:"AA",size:"small"},et=(_e.level||"AA").toUpperCase(),tt=(_e.size||"small").toLowerCase(),et!=="AA"&&et!=="AAA"&&(et="AA"),tt!=="small"&&tt!=="large"&&(tt="small"),{level:et,size:tt}}function simpleCheckForValidColor(_e){const et=["r","g","b","a","h","s","l","v"];let tt=0,rt=0;return each$1(et,nt=>{_e[nt]&&(tt+=1,Number.isNaN(Number(_e[nt]))||(rt+=1),(nt==="s"||nt==="l")&&/^\d+%$/.test(_e[nt])&&(rt+=1))}),tt===rt?_e:!1}function toState(_e,et){const tt=_e.hex?tinycolor(_e.hex):tinycolor(_e),rt=tt.toHsl(),nt=tt.toHsv(),it=tt.toRgb(),ot=tt.toHex();rt.s===0&&(rt.h=et||0,nt.h=et||0);const at=ot==="000000"&&it.a===0;return{hsl:rt,hex:at?"transparent":`#${ot}`,rgb:it,hsv:nt,oldHue:_e.h||et||rt.h,source:_e.source}}function isValidHex(_e){if(_e==="transparent")return!0;const et=String(_e).charAt(0)==="#"?1:0;return _e.length!==4+et&&_e.length<7+et&&tinycolor(_e).isValid()}const styles$9={fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:_e=>({flex:"1",paddingLeft:"6px",..._e&&{display:"none"}}),double:{flex:"2"},input:{width:"100%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",textAlign:"center",borderRadius:"3px"},label:{display:"block",textAlign:"center",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},SketchFields=({onChange:_e,rgb:et,hsl:tt,hex:rt,disableAlpha:nt})=>{const it=reactExports.useCallback((ot,at)=>{ot.hex?isValidHex(ot.hex)&&_e({hex:ot.hex,source:"hex"},at):ot.r||ot.g||ot.b?_e({r:ot.r||et.r,g:ot.g||et.g,b:ot.b||et.b,a:et.a,source:"rgb"},at):ot.a&&(ot.a<0?ot.a=0:ot.a>100&&(ot.a=100),ot.a/=100,_e({h:tt.h,s:tt.s,l:tt.l,a:ot.a,source:"rgb"},at))},[tt.h,tt.l,tt.s,_e,et.a,et.b,et.g,et.r]);return jsxRuntimeExports.jsxs("div",{style:styles$9.fields,children:[jsxRuntimeExports.jsx("div",{style:styles$9.double,children:jsxRuntimeExports.jsx(EditableInput,{style:{input:styles$9.input,label:styles$9.label},label:"hex",value:rt.replace("#",""),onChange:it})}),jsxRuntimeExports.jsx("div",{style:styles$9.single,children:jsxRuntimeExports.jsx(EditableInput,{style:{input:styles$9.input,label:styles$9.label},label:"r",value:et.r,onChange:it,dragLabel:"true",dragMax:"255"})}),jsxRuntimeExports.jsx("div",{style:styles$9.single,children:jsxRuntimeExports.jsx(EditableInput,{style:{input:styles$9.input,label:styles$9.label},label:"g",value:et.g,onChange:it,dragLabel:"true",dragMax:"255"})}),jsxRuntimeExports.jsx("div",{style:styles$9.single,children:jsxRuntimeExports.jsx(EditableInput,{style:{input:styles$9.input,label:styles$9.label},label:"b",value:et.b,onChange:it,dragLabel:"true",dragMax:"255"})}),jsxRuntimeExports.jsx("div",{style:styles$9.alpha(nt),children:jsxRuntimeExports.jsx(EditableInput,{style:{input:styles$9.input,label:styles$9.label},label:"a",value:Math.round(et.a*100),onChange:it,dragLabel:"true",dragMax:"100"})})]})},styles$8={colors:_e=>({margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative",..._e&&{display:"none"}}),swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},SketchPresetColors=_e=>{const{colors:et,onClick:tt,onSwatchHover:rt}=_e,nt=reactExports.useCallback((it,ot)=>{tt==null||tt({hex:it,source:"hex"},ot)},[tt]);return jsxRuntimeExports.jsx("div",{style:styles$8.colors(!et||et.length===0),children:et.map(it=>{const ot=typeof it=="string"?{color:it}:it,at=`${ot.color}${"title"in ot?ot==null?void 0:ot.title:""}`;return jsxRuntimeExports.jsx("div",{style:styles$8.swatchWrap,children:jsxRuntimeExports.jsx(Swatch$1,{...ot,style:styles$8.swatch,onClick:nt,onHover:rt,focusStyle:{boxShadow:`inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ${ot.color}`}})},at)})})},defaultColor={h:250,s:.5,l:.2,a:1},styles$7={picker:_e=>({width:typeof _e=="string"?_e:`${_e}px`,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"}),controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:_e=>({width:"24px",height:_e?"10px":"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"}),activeColor:_e=>({position:"absolute",left:0,top:0,right:0,bottom:0,borderRadius:"2px",background:`rgba(${_e.r},${_e.g},${_e.b},${_e.a})`,boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}),saturationContainer:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},hueContainer:{position:"relative",height:"10px",overflow:"hidden"},hueElement:{borderRadius:"2px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alphaContainer:_e=>({position:"relative",height:"10px",marginTop:"4px",overflow:"hidden",..._e&&{display:"none"}}),alphaElement:{borderRadius:"2px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}};function ColorPicker(_e){const{width:et=200,onChange:tt,onSwatchHover:rt,disableAlpha:nt=!1,presetColors:it=defaultColorPalette,className:ot="",color:at=defaultColor,onChangeComplete:st,style:lt={}}=_e,[ct,ut]=reactExports.useState(toState(at,0)),ft=reactExports.useRef(lodashDebounce((gt,xt,_t)=>{gt(xt,_t)},100)).current;reactExports.useEffect(()=>{ut(gt=>toState(at,gt.oldHue))},[at]);const dt=reactExports.useCallback((gt,xt)=>{if(simpleCheckForValidColor(gt)){const wt=toState(gt,gt.h||ct.oldHue);ut(wt),st&&ft(st,wt,xt),tt&&tt(wt,xt)}},[ft,tt,st,ct.oldHue]),pt=reactExports.useCallback((gt,xt)=>{if(simpleCheckForValidColor(gt)){const wt=toState(gt,gt.h||ct.oldHue);rt&&rt(wt,xt)}},[rt,ct.oldHue]),{rgb:mt,hex:vt,hsv:ht,hsl:yt}=ct;return jsxRuntimeExports.jsxs("div",{style:{...styles$7.picker(et),...lt},className:ot,children:[jsxRuntimeExports.jsx("div",{style:styles$7.saturationContainer,children:jsxRuntimeExports.jsx(Saturation,{hsl:yt,hsv:ht,onChange:dt})}),jsxRuntimeExports.jsxs("div",{style:styles$7.controls,children:[jsxRuntimeExports.jsxs("div",{style:styles$7.sliders,children:[jsxRuntimeExports.jsx("div",{style:styles$7.hueContainer,children:jsxRuntimeExports.jsx(Hue,{style:styles$7.hueElement,hsl:yt,onChange:dt})}),jsxRuntimeExports.jsx("div",{style:styles$7.alphaContainer(nt),children:jsxRuntimeExports.jsx(Alpha,{style:styles$7.alphaElement,rgb:mt,hsl:yt,onChange:dt})})]}),jsxRuntimeExports.jsxs("div",{style:styles$7.color(nt),children:[jsxRuntimeExports.jsx(CheckBoard,{}),jsxRuntimeExports.jsx("div",{style:styles$7.activeColor(mt)})]})]}),jsxRuntimeExports.jsx(SketchFields,{hsl:yt,hex:vt,rgb:mt,onChange:dt,disableAlpha:nt}),jsxRuntimeExports.jsx(SketchPresetColors,{colors:it,onClick:(gt,xt)=>dt==null?void 0:dt(gt,xt),onSwatchHover:pt})]})}const ColorPickerRoot=newStyled.button`
  position: relative;
  width: 100%;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
  height: 30px;
  padding: 5px;
`,ColorPickerPreview=newStyled.div`
  height: 100%;
  width: 100%;
  border-radius: 0.125rem;
`;function ColorPickerDropdown(_e){const{color:et,popoverProps:tt,...rt}=_e,{hex:nt}=toState(et||"white");return jsxRuntimeExports.jsx(Popover,{targetProps:{style:{width:"100%"}},content:jsxRuntimeExports.jsx(ColorPicker,{color:et,...rt}),minimal:!0,...tt,children:jsxRuntimeExports.jsx(ColorPickerRoot,{type:"button",children:jsxRuntimeExports.jsx(ColorPickerPreview,{children:jsxRuntimeExports.jsx(FixedColorPreview,{color:nt})})})})}var i$5=Object.defineProperty,d$3=(_e,et,tt)=>et in _e?i$5(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt,r$4=(_e,et,tt)=>(d$3(_e,typeof et!="symbol"?et+"":et,tt),tt);let o$7=class{constructor(){r$4(this,"current",this.detect()),r$4(this,"handoffState","pending"),r$4(this,"currentId",0)}set(et){this.current!==et&&(this.handoffState="pending",this.currentId=0,this.current=et)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$7,l$4=(_e,et)=>{s$5.isServer?reactExports.useEffect(_e,et):reactExports.useLayoutEffect(_e,et)};function s$4(_e){let et=reactExports.useRef(_e);return l$4(()=>{et.current=_e},[_e]),et}let o$6=function(_e){let et=s$4(_e);return React.useCallback((...tt)=>et.current(...tt),[et])};function s$3(){let _e=typeof document>"u";return"useSyncExternalStore"in React$1?(et=>et.useSyncExternalStore)(React$1)(()=>()=>{},()=>!1,()=>!_e):!1}function l$3(){let _e=s$3(),[et,tt]=reactExports.useState(s$5.isHandoffComplete);return et&&s$5.isHandoffComplete===!1&&tt(!1),reactExports.useEffect(()=>{et!==!0&&tt(!0)},[et]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:et}var o$5;let I$2=(o$5=React.useId)!=null?o$5:function(){let _e=l$3(),[et,tt]=React.useState(_e?()=>s$5.nextId():null);return l$4(()=>{et===null&&tt(s$5.nextId())},[et]),et!=null?""+et:void 0};function u$5(_e,et,...tt){if(_e in et){let nt=et[_e];return typeof nt=="function"?nt(...tt):nt}let rt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys(et).map(nt=>`"${nt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(rt,u$5),rt}function o$4(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function i$4(_e){var et;if(_e.type)return _e.type;let tt=(et=_e.as)!=null?et:"button";if(typeof tt=="string"&&tt.toLowerCase()==="button")return"button"}function T$1(_e,et){let[tt,rt]=reactExports.useState(()=>i$4(_e));return l$4(()=>{rt(i$4(_e))},[_e.type,_e.as]),l$4(()=>{tt||et.current&&et.current instanceof HTMLButtonElement&&!et.current.hasAttribute("type")&&rt("button")},[tt,et]),tt}let u$4=Symbol();function T(_e,et=!0){return Object.assign(_e,{[u$4]:et})}function y$3(..._e){let et=reactExports.useRef(_e);reactExports.useEffect(()=>{et.current=_e},[_e]);let tt=o$6(rt=>{for(let nt of et.current)nt!=null&&(typeof nt=="function"?nt(rt):nt.current=rt)});return _e.every(rt=>rt==null||(rt==null?void 0:rt[u$4]))?void 0:tt}function t$4(..._e){return Array.from(new Set(_e.flatMap(et=>typeof et=="string"?et.split(" "):[]))).filter(Boolean).join(" ")}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),v$3=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(v$3||{});function C({ourProps:_e,theirProps:et,slot:tt,defaultTag:rt,features:nt,visible:it=!0,name:ot,mergeRefs:at}){at=at??k$2;let st=R$1(et,_e);if(it)return m$1(st,tt,rt,ot,at);let lt=nt??0;if(lt&2){let{static:ct=!1,...ut}=st;if(ct)return m$1(ut,tt,rt,ot,at)}if(lt&1){let{unmount:ct=!0,...ut}=st;return u$5(ct?0:1,{0(){return null},1(){return m$1({...ut,hidden:!0,style:{display:"none"}},tt,rt,ot,at)}})}return m$1(st,tt,rt,ot,at)}function m$1(_e,et={},tt,rt,nt){let{as:it=tt,children:ot,refName:at="ref",...st}=F$1(_e,["unmount","static"]),lt=_e.ref!==void 0?{[at]:_e.ref}:{},ct=typeof ot=="function"?ot(et):ot;"className"in st&&st.className&&typeof st.className=="function"&&(st.className=st.className(et));let ut={};if(et){let ft=!1,dt=[];for(let[pt,mt]of Object.entries(et))typeof mt=="boolean"&&(ft=!0),mt===!0&&dt.push(pt);ft&&(ut["data-headlessui-state"]=dt.join(" "))}if(it===reactExports.Fragment&&Object.keys(x$3(st)).length>0){if(!reactExports.isValidElement(ct)||Array.isArray(ct)&&ct.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${rt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(st).map(mt=>`  - ${mt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(mt=>`  - ${mt}`).join(`
`)].join(`
`));let ft=ct.props,dt=typeof(ft==null?void 0:ft.className)=="function"?(...mt)=>t$4(ft==null?void 0:ft.className(...mt),st.className):t$4(ft==null?void 0:ft.className,st.className),pt=dt?{className:dt}:{};return reactExports.cloneElement(ct,Object.assign({},R$1(ct.props,x$3(F$1(st,["ref"]))),ut,lt,{ref:nt(ct.ref,lt.ref)},pt))}return reactExports.createElement(it,Object.assign({},F$1(st,["ref"]),it!==reactExports.Fragment&&lt,it!==reactExports.Fragment&&ut),ct)}function I$1(){let _e=reactExports.useRef([]),et=reactExports.useCallback(tt=>{for(let rt of _e.current)rt!=null&&(typeof rt=="function"?rt(tt):rt.current=tt)},[]);return(...tt)=>{if(!tt.every(rt=>rt==null))return _e.current=tt,et}}function k$2(..._e){return _e.every(et=>et==null)?void 0:et=>{for(let tt of _e)tt!=null&&(typeof tt=="function"?tt(et):tt.current=et)}}function R$1(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let et={},tt={};for(let rt of _e)for(let nt in rt)nt.startsWith("on")&&typeof rt[nt]=="function"?(tt[nt]!=null||(tt[nt]=[]),tt[nt].push(rt[nt])):et[nt]=rt[nt];if(et.disabled||et["aria-disabled"])return Object.assign(et,Object.fromEntries(Object.keys(tt).map(rt=>[rt,void 0])));for(let rt in tt)Object.assign(et,{[rt](nt,...it){let ot=tt[rt];for(let at of ot){if((nt instanceof Event||(nt==null?void 0:nt.nativeEvent)instanceof Event)&&nt.defaultPrevented)return;at(nt,...it)}}});return et}function U$1(_e){var et;return Object.assign(reactExports.forwardRef(_e),{displayName:(et=_e.displayName)!=null?et:_e.name})}function x$3(_e){let et=Object.assign({},_e);for(let tt in et)et[tt]===void 0&&delete et[tt];return et}function F$1(_e,et=[]){let tt=Object.assign({},_e);for(let rt of et)rt in tt&&delete tt[rt];return tt}let n$3=reactExports.createContext(null);n$3.displayName="OpenClosedContext";var d$2=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(d$2||{});function u$3(){return reactExports.useContext(n$3)}function s$2({value:_e,children:et}){return React.createElement(n$3.Provider,{value:_e},et)}function r$3(_e){let et=_e.parentElement,tt=null;for(;et&&!(et instanceof HTMLFieldSetElement);)et instanceof HTMLLegendElement&&(tt=et),et=et.parentElement;let rt=(et==null?void 0:et.getAttribute("disabled"))==="";return rt&&i$3(tt)?!1:rt}function i$3(_e){if(!_e)return!1;let et=_e.previousElementSibling;for(;et!==null;){if(et instanceof HTMLLegendElement)return!1;et=et.previousElementSibling}return!0}var o$3=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$3||{}),t$3;let a$3=(t$3=React.startTransition)!=null?t$3:function(_e){_e()};var Q$1=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Q$1||{}),V=(_e=>(_e[_e.ToggleDisclosure=0]="ToggleDisclosure",_e[_e.CloseDisclosure=1]="CloseDisclosure",_e[_e.SetButtonId=2]="SetButtonId",_e[_e.SetPanelId=3]="SetPanelId",_e[_e.LinkPanel=4]="LinkPanel",_e[_e.UnlinkPanel=5]="UnlinkPanel",_e))(V||{});let Y={0:_e=>({..._e,disclosureState:u$5(_e.disclosureState,{0:1,1:0})}),1:_e=>_e.disclosureState===1?_e:{..._e,disclosureState:1},4(_e){return _e.linkedPanel===!0?_e:{..._e,linkedPanel:!0}},5(_e){return _e.linkedPanel===!1?_e:{..._e,linkedPanel:!1}},2(_e,et){return _e.buttonId===et.buttonId?_e:{..._e,buttonId:et.buttonId}},3(_e,et){return _e.panelId===et.panelId?_e:{..._e,panelId:et.panelId}}},M$3=reactExports.createContext(null);M$3.displayName="DisclosureContext";function _$1(_e){let et=reactExports.useContext(M$3);if(et===null){let tt=new Error(`<${_e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,_$1),tt}return et}let v$2=reactExports.createContext(null);v$2.displayName="DisclosureAPIContext";function K(_e){let et=reactExports.useContext(v$2);if(et===null){let tt=new Error(`<${_e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(tt,K),tt}return et}let F=reactExports.createContext(null);F.displayName="DisclosurePanelContext";function Z$1(){return reactExports.useContext(F)}function ee(_e,et){return u$5(et.type,Y,_e,et)}let te=reactExports.Fragment;function ne(_e,et){let{defaultOpen:tt=!1,...rt}=_e,nt=reactExports.useRef(null),it=y$3(et,T(vt=>{nt.current=vt},_e.as===void 0||_e.as===reactExports.Fragment)),ot=reactExports.useRef(null),at=reactExports.useRef(null),st=reactExports.useReducer(ee,{disclosureState:tt?0:1,linkedPanel:!1,buttonRef:at,panelRef:ot,buttonId:null,panelId:null}),[{disclosureState:lt,buttonId:ct},ut]=st,ft=o$6(vt=>{ut({type:1});let ht=o$4(nt);if(!ht||!ct)return;let yt=(()=>vt?vt instanceof HTMLElement?vt:vt.current instanceof HTMLElement?vt.current:ht.getElementById(ct):ht.getElementById(ct))();yt==null||yt.focus()}),dt=reactExports.useMemo(()=>({close:ft}),[ft]),pt=reactExports.useMemo(()=>({open:lt===0,close:ft}),[lt,ft]),mt={ref:it};return React.createElement(M$3.Provider,{value:st},React.createElement(v$2.Provider,{value:dt},React.createElement(s$2,{value:u$5(lt,{0:d$2.Open,1:d$2.Closed})},C({ourProps:mt,theirProps:rt,slot:pt,defaultTag:te,name:"Disclosure"}))))}let le="button";function oe(_e,et){let tt=I$2(),{id:rt=`headlessui-disclosure-button-${tt}`,...nt}=_e,[it,ot]=_$1("Disclosure.Button"),at=Z$1(),st=at===null?!1:at===it.panelId,lt=reactExports.useRef(null),ct=y$3(lt,et,st?null:it.buttonRef),ut=I$1();reactExports.useEffect(()=>{if(!st)return ot({type:2,buttonId:rt}),()=>{ot({type:2,buttonId:null})}},[rt,ot,st]);let ft=o$6(yt=>{var gt;if(st){if(it.disclosureState===1)return;switch(yt.key){case o$3.Space:case o$3.Enter:yt.preventDefault(),yt.stopPropagation(),ot({type:0}),(gt=it.buttonRef.current)==null||gt.focus();break}}else switch(yt.key){case o$3.Space:case o$3.Enter:yt.preventDefault(),yt.stopPropagation(),ot({type:0});break}}),dt=o$6(yt=>{switch(yt.key){case o$3.Space:yt.preventDefault();break}}),pt=o$6(yt=>{var gt;r$3(yt.currentTarget)||_e.disabled||(st?(ot({type:0}),(gt=it.buttonRef.current)==null||gt.focus()):ot({type:0}))}),mt=reactExports.useMemo(()=>({open:it.disclosureState===0}),[it]),vt=T$1(_e,lt),ht=st?{ref:ct,type:vt,onKeyDown:ft,onClick:pt}:{ref:ct,id:rt,type:vt,"aria-expanded":it.disclosureState===0,"aria-controls":it.linkedPanel?it.panelId:void 0,onKeyDown:ft,onKeyUp:dt,onClick:pt};return C({mergeRefs:ut,ourProps:ht,theirProps:nt,slot:mt,defaultTag:le,name:"Disclosure.Button"})}let re$1="div",se=O$1.RenderStrategy|O$1.Static;function ue(_e,et){let tt=I$2(),{id:rt=`headlessui-disclosure-panel-${tt}`,...nt}=_e,[it,ot]=_$1("Disclosure.Panel"),{close:at}=K("Disclosure.Panel"),st=I$1(),lt=y$3(et,it.panelRef,pt=>{a$3(()=>ot({type:pt?4:5}))});reactExports.useEffect(()=>(ot({type:3,panelId:rt}),()=>{ot({type:3,panelId:null})}),[rt,ot]);let ct=u$3(),ut=(()=>ct!==null?(ct&d$2.Open)===d$2.Open:it.disclosureState===0)(),ft=reactExports.useMemo(()=>({open:it.disclosureState===0,close:at}),[it,at]),dt={ref:lt,id:rt};return React.createElement(F.Provider,{value:it.panelId},C({mergeRefs:st,ourProps:dt,theirProps:nt,slot:ft,defaultTag:re$1,features:se,visible:ut,name:"Disclosure.Panel"}))}let ie=U$1(ne),ae=U$1(oe),pe=U$1(ue),Ae=Object.assign(ie,{Button:ae,Panel:pe});function colors(_e){for(var et=_e.length/6|0,tt=new Array(et),rt=0;rt<et;)tt[rt]="#"+_e.slice(rt*6,++rt*6);return tt}const schemeSet1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");function define(_e,et,tt){_e.prototype=et.prototype=tt,tt.constructor=_e}function extend(_e,et){var tt=Object.create(_e.prototype);for(var rt in et)tt[rt]=et[rt];return tt}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var et,tt;return _e=(_e+"").trim().toLowerCase(),(et=reHex.exec(_e))?(tt=et[1].length,et=parseInt(et[1],16),tt===6?rgbn(et):tt===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):tt===8?rgba(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):tt===4?rgba(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(_e))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(_e))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(_e))?rgba(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(_e))?rgba(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,et,tt,rt){return rt<=0&&(_e=et=tt=NaN),new Rgb(_e,et,tt,rt)}function rgbConvert(_e){return _e instanceof Color$1||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,et,tt,rt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,et,tt,rt??1)}function Rgb(_e,et,tt,rt){this.r=+_e,this.g=+et,this.b=+tt,this.opacity=+rt}define(Rgb,rgb$1,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,et,tt,rt){return rt<=0?_e=et=tt=NaN:tt<=0||tt>=1?_e=et=NaN:et<=0&&(_e=NaN),new Hsl(_e,et,tt,rt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color$1||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var et=_e.r/255,tt=_e.g/255,rt=_e.b/255,nt=Math.min(et,tt,rt),it=Math.max(et,tt,rt),ot=NaN,at=it-nt,st=(it+nt)/2;return at?(et===it?ot=(tt-rt)/at+(tt<rt)*6:tt===it?ot=(rt-et)/at+2:ot=(et-tt)/at+4,at/=st<.5?it+nt:2-it-nt,ot*=60):at=st>0&&st<1?0:ot,new Hsl(ot,at,st,_e.opacity)}function hsl(_e,et,tt,rt){return arguments.length===1?hslConvert(_e):new Hsl(_e,et,tt,rt??1)}function Hsl(_e,et,tt,rt){this.h=+_e,this.s=+et,this.l=+tt,this.opacity=+rt}define(Hsl,hsl,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,et=isNaN(_e)||isNaN(this.s)?0:this.s,tt=this.l,rt=tt+(tt<.5?tt:1-tt)*et,nt=2*tt-rt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,nt,rt),hsl2rgb(_e,nt,rt),hsl2rgb(_e<120?_e+240:_e-120,nt,rt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,et,tt){return(_e<60?et+(tt-et)*_e/60:_e<180?tt:_e<240?et+(tt-et)*(240-_e)/60:et)*255}const constant$1=_e=>()=>_e;function linear$1(_e,et){return function(tt){return _e+tt*et}}function exponential(_e,et,tt){return _e=Math.pow(_e,tt),et=Math.pow(et,tt)-_e,tt=1/tt,function(rt){return Math.pow(_e+rt*et,tt)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(et,tt){return tt-et?exponential(et,tt,_e):constant$1(isNaN(et)?tt:et)}}function nogamma(_e,et){var tt=et-_e;return tt?linear$1(_e,tt):constant$1(isNaN(_e)?et:_e)}const rgb=function _e(et){var tt=gamma(et);function rt(nt,it){var ot=tt((nt=rgb$1(nt)).r,(it=rgb$1(it)).r),at=tt(nt.g,it.g),st=tt(nt.b,it.b),lt=nogamma(nt.opacity,it.opacity);return function(ct){return nt.r=ot(ct),nt.g=at(ct),nt.b=st(ct),nt.opacity=lt(ct),nt+""}}return rt.gamma=_e,rt}(1);function numberArray(_e,et){et||(et=[]);var tt=_e?Math.min(et.length,_e.length):0,rt=et.slice(),nt;return function(it){for(nt=0;nt<tt;++nt)rt[nt]=_e[nt]*(1-it)+et[nt]*it;return rt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,et){var tt=et?et.length:0,rt=_e?Math.min(tt,_e.length):0,nt=new Array(rt),it=new Array(tt),ot;for(ot=0;ot<rt;++ot)nt[ot]=interpolate(_e[ot],et[ot]);for(;ot<tt;++ot)it[ot]=et[ot];return function(at){for(ot=0;ot<rt;++ot)it[ot]=nt[ot](at);return it}}function date$1(_e,et){var tt=new Date;return _e=+_e,et=+et,function(rt){return tt.setTime(_e*(1-rt)+et*rt),tt}}function interpolateNumber(_e,et){return _e=+_e,et=+et,function(tt){return _e*(1-tt)+et*tt}}function object(_e,et){var tt={},rt={},nt;(_e===null||typeof _e!="object")&&(_e={}),(et===null||typeof et!="object")&&(et={});for(nt in et)nt in _e?tt[nt]=interpolate(_e[nt],et[nt]):rt[nt]=et[nt];return function(it){for(nt in tt)rt[nt]=tt[nt](it);return rt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$3(_e){return function(){return _e}}function one(_e){return function(et){return _e(et)+""}}function string(_e,et){var tt=reA.lastIndex=reB.lastIndex=0,rt,nt,it,ot=-1,at=[],st=[];for(_e=_e+"",et=et+"";(rt=reA.exec(_e))&&(nt=reB.exec(et));)(it=nt.index)>tt&&(it=et.slice(tt,it),at[ot]?at[ot]+=it:at[++ot]=it),(rt=rt[0])===(nt=nt[0])?at[ot]?at[ot]+=nt:at[++ot]=nt:(at[++ot]=null,st.push({i:ot,x:interpolateNumber(rt,nt)})),tt=reB.lastIndex;return tt<et.length&&(it=et.slice(tt),at[ot]?at[ot]+=it:at[++ot]=it),at.length<2?st[0]?one(st[0].x):zero$3(et):(et=st.length,function(lt){for(var ct=0,ut;ct<et;++ct)at[(ut=st[ct]).i]=ut.x(lt);return at.join("")})}function interpolate(_e,et){var tt=typeof et,rt;return et==null||tt==="boolean"?constant$1(et):(tt==="number"?interpolateNumber:tt==="string"?(rt=color(et))?(et=rt,rgb):string:et instanceof color?rgb:et instanceof Date?date$1:isNumberArray(et)?numberArray:Array.isArray(et)?genericArray:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?object:interpolateNumber)(_e,et)}function interpolateRound(_e,et){return _e=+_e,et=+et,function(tt){return Math.round(_e*(1-tt)+et*tt)}}var DefaultContext$1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext$1=React.createContext&&React.createContext(DefaultContext$1),_excluded$1=["attr","size","title"];function _objectWithoutProperties$1(_e,et){if(_e==null)return{};var tt=_objectWithoutPropertiesLoose$1(_e,et),rt,nt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,rt)&&(tt[rt]=_e[rt])}return tt}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var tt={},rt=Object.keys(_e),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(et.indexOf(nt)>=0)&&(tt[nt]=_e[nt]);return tt}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends.apply(this,arguments)}function ownKeys$2(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$2(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(tt),!0).forEach(function(rt){_defineProperty$3(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$2(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$3(_e,et,tt){return et=_toPropertyKey(et),et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey(_e){var et=_toPrimitive(_e,"string");return typeof et=="symbol"?et:String(et)}function _toPrimitive(_e,et){if(typeof _e!="object"||_e===null)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function Tree2Element$1(_e){return _e&&_e.map((et,tt)=>React.createElement(et.tag,_objectSpread$2({key:tt},et.attr),Tree2Element$1(et.child)))}function GenIcon$1(_e){return et=>React.createElement(IconBase$1,_extends({attr:_objectSpread$2({},_e.attr)},et),Tree2Element$1(_e.child))}function IconBase$1(_e){var et=tt=>{var{attr:rt,size:nt,title:it}=_e,ot=_objectWithoutProperties$1(_e,_excluded$1),at=nt||tt.size||"1em",st;return tt.className&&(st=tt.className),_e.className&&(st=(st?st+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,rt,ot,{className:st,style:_objectSpread$2(_objectSpread$2({color:_e.color||tt.color},tt.style),_e.style),height:at,width:at,xmlns:"http://www.w3.org/2000/svg"}),it&&React.createElement("title",null,it),_e.children)};return IconContext$1!==void 0?React.createElement(IconContext$1.Consumer,null,tt=>et(tt)):et(DefaultContext$1)}function FaChevronDown(_e){return GenIcon$1({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(_e)}newStyled.div`
  position: relative;
  width: 100%;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
`;newStyled.button`
  position: relative;
  width: 100%;
  height: 30px;
  padding: 3px;
`;newStyled(FaChevronDown)`
  position: absolute;
  height: 100%;
  top: 0;
  right: 0.5rem;
`;newStyled.ul`
  position: absolute;
  width: 100%;
  margin-top: 5px;
  border: 1px solid darkgray;
  border-radius: 0.25rem;
  padding-inline: 3px;
  padding-bottom: 5px;
`;newStyled.li`
  display: flex;
  flex-direction: column;
  padding-top: 5px;
  cursor: pointer;
  ${_e=>!_e.active&&"opacity: 0.8;"}
  ${_e=>_e.active&&"font-weight: bold;"}
`;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(_e,et){var tt=withMimeType(_e);if(typeof tt.path!="string"){var rt=_e.webkitRelativePath;Object.defineProperty(tt,"path",{value:typeof et=="string"?et:typeof rt=="string"&&rt.length>0?rt:_e.name,writable:!1,configurable:!1,enumerable:!0})}return tt}function withMimeType(_e){var et=_e.name,tt=et&&et.lastIndexOf(".")!==-1;if(tt&&!_e.type){var rt=et.split(".").pop().toLowerCase(),nt=COMMON_MIME_TYPES.get(rt);nt&&Object.defineProperty(_e,"type",{value:nt,writable:!1,configurable:!1,enumerable:!0})}return _e}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return isObject$5(_e)&&isDataTransfer(_e.dataTransfer)?[2,getDataTransferFiles(_e.dataTransfer,_e.type)]:isChangeEvt(_e)?[2,getInputFiles(_e)]:Array.isArray(_e)&&_e.every(function(tt){return"getFile"in tt&&typeof tt.getFile=="function"})?[2,getFsHandleFiles(_e)]:[2,[]]})})}function isDataTransfer(_e){return isObject$5(_e)}function isChangeEvt(_e){return isObject$5(_e)&&isObject$5(_e.target)}function isObject$5(_e){return typeof _e=="object"&&_e!==null}function getInputFiles(_e){return fromList(_e.target.files).map(function(et){return toFileWithPath(et)})}function getFsHandleFiles(_e){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(tt){switch(tt.label){case 0:return[4,Promise.all(_e.map(function(rt){return rt.getFile()}))];case 1:return et=tt.sent(),[2,et.map(function(rt){return toFileWithPath(rt)})]}})})}function getDataTransferFiles(_e,et){return __awaiter(this,void 0,void 0,function(){var tt,rt;return __generator(this,function(nt){switch(nt.label){case 0:return _e.items?(tt=fromList(_e.items).filter(function(it){return it.kind==="file"}),et!=="drop"?[2,tt]:[4,Promise.all(tt.map(toFilePromises))]):[3,2];case 1:return rt=nt.sent(),[2,noIgnoredFiles(flatten(rt))];case 2:return[2,noIgnoredFiles(fromList(_e.files).map(function(it){return toFileWithPath(it)}))]}})})}function noIgnoredFiles(_e){return _e.filter(function(et){return FILES_TO_IGNORE.indexOf(et.name)===-1})}function fromList(_e){if(_e===null)return[];for(var et=[],tt=0;tt<_e.length;tt++){var rt=_e[tt];et.push(rt)}return et}function toFilePromises(_e){if(typeof _e.webkitGetAsEntry!="function")return fromDataTransferItem(_e);var et=_e.webkitGetAsEntry();return et&&et.isDirectory?fromDirEntry(et):fromDataTransferItem(_e)}function flatten(_e){return _e.reduce(function(et,tt){return __spreadArray(__spreadArray([],__read(et),!1),__read(Array.isArray(tt)?flatten(tt):[tt]),!1)},[])}function fromDataTransferItem(_e){var et=_e.getAsFile();if(!et)return Promise.reject("".concat(_e," is not a File"));var tt=toFileWithPath(et);return Promise.resolve(tt)}function fromEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,_e.isDirectory?fromDirEntry(_e):fromFileEntry(_e)]})})}function fromDirEntry(_e){var et=_e.createReader();return new Promise(function(tt,rt){var nt=[];function it(){var ot=this;et.readEntries(function(at){return __awaiter(ot,void 0,void 0,function(){var st,lt,ct;return __generator(this,function(ut){switch(ut.label){case 0:if(at.length)return[3,5];ut.label=1;case 1:return ut.trys.push([1,3,,4]),[4,Promise.all(nt)];case 2:return st=ut.sent(),tt(st),[3,4];case 3:return lt=ut.sent(),rt(lt),[3,4];case 4:return[3,6];case 5:ct=Promise.all(at.map(fromEntry)),nt.push(ct),it(),ut.label=6;case 6:return[2]}})})},function(at){rt(at)})}it()})}function fromFileEntry(_e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,new Promise(function(tt,rt){_e.file(function(nt){var it=toFileWithPath(nt,_e.fullPath);tt(it)},function(nt){rt(nt)})})]})})}var _default$1=function(_e,et){if(_e&&et){var tt=Array.isArray(et)?et:et.split(","),rt=_e.name||"",nt=(_e.type||"").toLowerCase(),it=nt.replace(/\/.*$/,"");return tt.some(function(ot){var at=ot.trim().toLowerCase();return at.charAt(0)==="."?rt.toLowerCase().endsWith(at):at.endsWith("/*")?it===at.replace(/\/.*$/,""):nt===at})}return!0};function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function ownKeys$1(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$1(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(tt),!0).forEach(function(rt){_defineProperty$2(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$2(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _slicedToArray$1(_e,et){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,et)||_unsupportedIterableToArray$1(_e,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray$1(_e,et)}}function _arrayLikeToArray$1(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=_e[tt];return rt}function _iterableToArrayLimit$1(_e,et){var tt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(tt!=null){var rt=[],nt=!0,it=!1,ot,at;try{for(tt=tt.call(_e);!(nt=(ot=tt.next()).done)&&(rt.push(ot.value),!(et&&rt.length===et));nt=!0);}catch(st){it=!0,at=st}finally{try{!nt&&tt.return!=null&&tt.return()}finally{if(it)throw at}}return rt}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(et){et=Array.isArray(et)&&et.length===1?et[0]:et;var tt=Array.isArray(et)?"one of ".concat(et.join(", ")):et;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(tt)}},getTooLargeRejectionErr=function(et){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(et," ").concat(et===1?"byte":"bytes")}},getTooSmallRejectionErr=function(et){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(et," ").concat(et===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(_e,et){var tt=_e.type==="application/x-moz-file"||_default$1(_e,et);return[tt,tt?null:getInvalidTypeRejectionErr(et)]}function fileMatchSize(_e,et,tt){if(isDefined(_e.size))if(isDefined(et)&&isDefined(tt)){if(_e.size>tt)return[!1,getTooLargeRejectionErr(tt)];if(_e.size<et)return[!1,getTooSmallRejectionErr(et)]}else{if(isDefined(et)&&_e.size<et)return[!1,getTooSmallRejectionErr(et)];if(isDefined(tt)&&_e.size>tt)return[!1,getTooLargeRejectionErr(tt)]}return[!0,null]}function isDefined(_e){return _e!=null}function allFilesAccepted(_e){var et=_e.files,tt=_e.accept,rt=_e.minSize,nt=_e.maxSize,it=_e.multiple,ot=_e.maxFiles,at=_e.validator;return!it&&et.length>1||it&&ot>=1&&et.length>ot?!1:et.every(function(st){var lt=fileAccepted(st,tt),ct=_slicedToArray$1(lt,1),ut=ct[0],ft=fileMatchSize(st,rt,nt),dt=_slicedToArray$1(ft,1),pt=dt[0],mt=at?at(st):null;return ut&&pt&&!mt})}function isPropagationStopped(_e){return typeof _e.isPropagationStopped=="function"?_e.isPropagationStopped():typeof _e.cancelBubble<"u"?_e.cancelBubble:!1}function isEvtWithFiles(_e){return _e.dataTransfer?Array.prototype.some.call(_e.dataTransfer.types,function(et){return et==="Files"||et==="application/x-moz-file"}):!!_e.target&&!!_e.target.files}function onDocumentDragOver(_e){_e.preventDefault()}function isIe(_e){return _e.indexOf("MSIE")!==-1||_e.indexOf("Trident/")!==-1}function isEdge(_e){return _e.indexOf("Edge/")!==-1}function isIeOrEdge(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(_e)||isEdge(_e)}function composeEventHandlers(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return function(rt){for(var nt=arguments.length,it=new Array(nt>1?nt-1:0),ot=1;ot<nt;ot++)it[ot-1]=arguments[ot];return et.some(function(at){return!isPropagationStopped(rt)&&at&&at.apply(void 0,[rt].concat(it)),isPropagationStopped(rt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(_e){if(isDefined(_e)){var et=Object.entries(_e).filter(function(tt){var rt=_slicedToArray$1(tt,2),nt=rt[0],it=rt[1],ot=!0;return isMIMEType(nt)||(console.warn('Skipped "'.concat(nt,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),ot=!1),(!Array.isArray(it)||!it.every(isExt))&&(console.warn('Skipped "'.concat(nt,'" because an invalid file extension was provided.')),ot=!1),ot}).reduce(function(tt,rt){var nt=_slicedToArray$1(rt,2),it=nt[0],ot=nt[1];return _objectSpread$1(_objectSpread$1({},tt),{},_defineProperty$2({},it,ot))},{});return[{description:"Files",accept:et}]}return _e}function acceptPropAsAcceptAttr(_e){if(isDefined(_e))return Object.entries(_e).reduce(function(et,tt){var rt=_slicedToArray$1(tt,2),nt=rt[0],it=rt[1];return[].concat(_toConsumableArray$1(et),[nt],_toConsumableArray$1(it))},[]).filter(function(et){return isMIMEType(et)||isExt(et)}).join(",")}function isAbort(_e){return _e instanceof DOMException&&(_e.name==="AbortError"||_e.code===_e.ABORT_ERR)}function isSecurityError(_e){return _e instanceof DOMException&&(_e.name==="SecurityError"||_e.code===_e.SECURITY_ERR)}function isMIMEType(_e){return _e==="audio/*"||_e==="video/*"||_e==="image/*"||_e==="text/*"||/\w+\/[-+.\w]+/g.test(_e)}function isExt(_e){return/^.*\.[\w]+$/.test(_e)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _slicedToArray(_e,et){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,et)||_unsupportedIterableToArray(_e,et)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,et){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,et);var tt=Object.prototype.toString.call(_e).slice(8,-1);if(tt==="Object"&&_e.constructor&&(tt=_e.constructor.name),tt==="Map"||tt==="Set")return Array.from(_e);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(_e,et)}}function _arrayLikeToArray(_e,et){(et==null||et>_e.length)&&(et=_e.length);for(var tt=0,rt=new Array(et);tt<et;tt++)rt[tt]=_e[tt];return rt}function _iterableToArrayLimit(_e,et){var tt=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(tt!=null){var rt=[],nt=!0,it=!1,ot,at;try{for(tt=tt.call(_e);!(nt=(ot=tt.next()).done)&&(rt.push(ot.value),!(et&&rt.length===et));nt=!0);}catch(st){it=!0,at=st}finally{try{!nt&&tt.return!=null&&tt.return()}finally{if(it)throw at}}return rt}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function ownKeys(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty$1(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$1(_e,et,tt){return et in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _objectWithoutProperties(_e,et){if(_e==null)return{};var tt=_objectWithoutPropertiesLoose(_e,et),rt,nt;if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(_e);for(nt=0;nt<it.length;nt++)rt=it[nt],!(et.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,rt)&&(tt[rt]=_e[rt])}return tt}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var tt={},rt=Object.keys(_e),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(et.indexOf(nt)>=0)&&(tt[nt]=_e[nt]);return tt}var Dropzone=reactExports.forwardRef(function(_e,et){var tt=_e.children,rt=_objectWithoutProperties(_e,_excluded),nt=useDropzone(rt),it=nt.open,ot=_objectWithoutProperties(nt,_excluded2);return reactExports.useImperativeHandle(et,function(){return{open:it}},[it]),React.createElement(reactExports.Fragment,null,tt(_objectSpread(_objectSpread({},ot),{},{open:it})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_objectSpread(_objectSpread({},defaultProps),_e),tt=et.accept,rt=et.disabled,nt=et.getFilesFromEvent,it=et.maxSize,ot=et.minSize,at=et.multiple,st=et.maxFiles,lt=et.onDragEnter,ct=et.onDragLeave,ut=et.onDragOver,ft=et.onDrop,dt=et.onDropAccepted,pt=et.onDropRejected,mt=et.onFileDialogCancel,vt=et.onFileDialogOpen,ht=et.useFsAccessApi,yt=et.autoFocus,gt=et.preventDropOnDocument,xt=et.noClick,_t=et.noKeyboard,wt=et.noDrag,Et=et.noDragEventsBubbling,St=et.onError,Ct=et.validator,bt=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(tt)},[tt]),At=reactExports.useMemo(function(){return pickerOptionsFromAccept(tt)},[tt]),Tt=reactExports.useMemo(function(){return typeof vt=="function"?vt:noop$2},[vt]),Ot=reactExports.useMemo(function(){return typeof mt=="function"?mt:noop$2},[mt]),$t=reactExports.useRef(null),It=reactExports.useRef(null),Nt=reactExports.useReducer(reducer,initialState$1),jt=_slicedToArray(Nt,2),Bt=jt[0],Dt=jt[1],zt=Bt.isFocused,Lt=Bt.isFileDialogActive,Ft=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&ht&&canUseFileSystemAccessAPI()),Xt=function(){!Ft.current&&Lt&&setTimeout(function(){if(It.current){var Zt=It.current.files;Zt.length||(Dt({type:"closeDialog"}),Ot())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Xt,!1),function(){window.removeEventListener("focus",Xt,!1)}},[It,Lt,Ot,Ft]);var Wt=reactExports.useRef([]),Ht=function(Zt){$t.current&&$t.current.contains(Zt.target)||(Zt.preventDefault(),Wt.current=[])};reactExports.useEffect(function(){return gt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Ht,!1)),function(){gt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Ht))}},[$t,gt]),reactExports.useEffect(function(){return!rt&&yt&&$t.current&&$t.current.focus(),function(){}},[$t,yt,rt]);var nr=reactExports.useCallback(function(Yt){St?St(Yt):console.error(Yt)},[St]),fr=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Kt(Yt),Wt.current=[].concat(_toConsumableArray(Wt.current),[Yt.target]),isEvtWithFiles(Yt)&&Promise.resolve(nt(Yt)).then(function(Zt){if(!(isPropagationStopped(Yt)&&!Et)){var er=Zt.length,lr=er>0&&allFilesAccepted({files:Zt,accept:bt,minSize:ot,maxSize:it,multiple:at,maxFiles:st,validator:Ct}),ur=er>0&&!lr;Dt({isDragAccept:lr,isDragReject:ur,isDragActive:!0,type:"setDraggedFiles"}),lt&&lt(Yt)}}).catch(function(Zt){return nr(Zt)})},[nt,lt,nr,Et,bt,ot,it,at,st,Ct]),dr=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Kt(Yt);var Zt=isEvtWithFiles(Yt);if(Zt&&Yt.dataTransfer)try{Yt.dataTransfer.dropEffect="copy"}catch{}return Zt&&ut&&ut(Yt),!1},[ut,Et]),Qt=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Kt(Yt);var Zt=Wt.current.filter(function(lr){return $t.current&&$t.current.contains(lr)}),er=Zt.indexOf(Yt.target);er!==-1&&Zt.splice(er,1),Wt.current=Zt,!(Zt.length>0)&&(Dt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Yt)&&ct&&ct(Yt))},[$t,ct,Et]),sr=reactExports.useCallback(function(Yt,Zt){var er=[],lr=[];Yt.forEach(function(ur){var hr=fileAccepted(ur,bt),gr=_slicedToArray(hr,2),vr=gr[0],ir=gr[1],cr=fileMatchSize(ur,ot,it),mr=_slicedToArray(cr,2),xr=mr[0],_r=mr[1],br=Ct?Ct(ur):null;if(vr&&xr&&!br)er.push(ur);else{var Er=[ir,_r];br&&(Er=Er.concat(br)),lr.push({file:ur,errors:Er.filter(function(Br){return Br})})}}),(!at&&er.length>1||at&&st>=1&&er.length>st)&&(er.forEach(function(ur){lr.push({file:ur,errors:[TOO_MANY_FILES_REJECTION]})}),er.splice(0)),Dt({acceptedFiles:er,fileRejections:lr,type:"setFiles"}),ft&&ft(er,lr,Zt),lr.length>0&&pt&&pt(lr,Zt),er.length>0&&dt&&dt(er,Zt)},[Dt,at,bt,ot,it,st,ft,dt,pt,Ct]),ar=reactExports.useCallback(function(Yt){Yt.preventDefault(),Yt.persist(),Kt(Yt),Wt.current=[],isEvtWithFiles(Yt)&&Promise.resolve(nt(Yt)).then(function(Zt){isPropagationStopped(Yt)&&!Et||sr(Zt,Yt)}).catch(function(Zt){return nr(Zt)}),Dt({type:"reset"})},[nt,sr,nr,Et]),Jt=reactExports.useCallback(function(){if(Ft.current){Dt({type:"openDialog"}),Tt();var Yt={multiple:at,types:At};window.showOpenFilePicker(Yt).then(function(Zt){return nt(Zt)}).then(function(Zt){sr(Zt,null),Dt({type:"closeDialog"})}).catch(function(Zt){isAbort(Zt)?(Ot(Zt),Dt({type:"closeDialog"})):isSecurityError(Zt)?(Ft.current=!1,It.current?(It.current.value=null,It.current.click()):nr(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):nr(Zt)});return}It.current&&(Dt({type:"openDialog"}),Tt(),It.current.value=null,It.current.click())},[Dt,Tt,Ot,ht,sr,nr,At,at]),pr=reactExports.useCallback(function(Yt){!$t.current||!$t.current.isEqualNode(Yt.target)||(Yt.key===" "||Yt.key==="Enter"||Yt.keyCode===32||Yt.keyCode===13)&&(Yt.preventDefault(),Jt())},[$t,Jt]),Rt=reactExports.useCallback(function(){Dt({type:"focus"})},[]),Ut=reactExports.useCallback(function(){Dt({type:"blur"})},[]),Gt=reactExports.useCallback(function(){xt||(isIeOrEdge()?setTimeout(Jt,0):Jt())},[xt,Jt]),Mt=function(Zt){return rt?null:Zt},kt=function(Zt){return _t?null:Mt(Zt)},Pt=function(Zt){return wt?null:Mt(Zt)},Kt=function(Zt){Et&&Zt.stopPropagation()},qt=reactExports.useMemo(function(){return function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=Yt.refKey,er=Zt===void 0?"ref":Zt,lr=Yt.role,ur=Yt.onKeyDown,hr=Yt.onFocus,gr=Yt.onBlur,vr=Yt.onClick,ir=Yt.onDragEnter,cr=Yt.onDragOver,mr=Yt.onDragLeave,xr=Yt.onDrop,_r=_objectWithoutProperties(Yt,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:kt(composeEventHandlers(ur,pr)),onFocus:kt(composeEventHandlers(hr,Rt)),onBlur:kt(composeEventHandlers(gr,Ut)),onClick:Mt(composeEventHandlers(vr,Gt)),onDragEnter:Pt(composeEventHandlers(ir,fr)),onDragOver:Pt(composeEventHandlers(cr,dr)),onDragLeave:Pt(composeEventHandlers(mr,Qt)),onDrop:Pt(composeEventHandlers(xr,ar)),role:typeof lr=="string"&&lr!==""?lr:"presentation"},er,$t),!rt&&!_t?{tabIndex:0}:{}),_r)}},[$t,pr,Rt,Ut,Gt,fr,dr,Qt,ar,_t,wt,rt]),Vt=reactExports.useCallback(function(Yt){Yt.stopPropagation()},[]),tr=reactExports.useMemo(function(){return function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=Yt.refKey,er=Zt===void 0?"ref":Zt,lr=Yt.onChange,ur=Yt.onClick,hr=_objectWithoutProperties(Yt,_excluded4),gr=_defineProperty$1({accept:bt,multiple:at,type:"file",style:{display:"none"},onChange:Mt(composeEventHandlers(lr,ar)),onClick:Mt(composeEventHandlers(ur,Vt)),tabIndex:-1},er,It);return _objectSpread(_objectSpread({},gr),hr)}},[It,tt,at,ar,rt]);return _objectSpread(_objectSpread({},Bt),{},{isFocused:zt&&!rt,getRootProps:qt,getInputProps:tr,rootRef:$t,inputRef:It,open:Mt(Jt)})}function reducer(_e,et){switch(et.type){case"focus":return _objectSpread(_objectSpread({},_e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},_e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},_e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},_e),{},{isDragActive:et.isDragActive,isDragAccept:et.isDragAccept,isDragReject:et.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},_e),{},{acceptedFiles:et.acceptedFiles,fileRejections:et.fileRejections});case"reset":return _objectSpread({},initialState$1);default:return _e}}function noop$2(){}const DropzoneRoot=newStyled.div`
  position: relative;
  height: 100%;
  width: 100%;
`,DropzoneDragActive=newStyled.div`
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: rgb(255, 255, 255, 0.7);
  border: 5px dashed;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  border-color: ${({borderColor:_e})=>_e??tinycolor(_e).setAlpha(.7).toRgbString()};
`,DropzoneEmpty=newStyled.div`
  :hover .dropzone-button {
    background-color: ${tinycolor(Colors.BLUE3).setAlpha(.15).toRgbString()};
  }
  width: 100%;
  height: 100%;
  padding: 1em;
  border: 5px dashed;
  cursor: pointer;

  border-color: ${({borderColor:_e})=>_e};
`;function DropZoneContainer(_e){return jsxRuntimeExports.jsx(DropZoneContent,{..._e})}function DropZoneContent(_e){const{borderColor:et=Colors.GRAY3,children:tt=null,onClick:rt,emptyIcon:nt="import",emptyTitle:it="No data loaded",emptyDescription:ot="You can load data by drag-and-dropping files here",emptyButtonText:at="Select files",emptyButtonIcon:st="plus",noClick:lt,...ct}=_e,ut=tt!==null,{getRootProps:ft,getInputProps:dt,isDragActive:pt}=useDropzone({noClick:lt??ut,...ct});return jsxRuntimeExports.jsxs(DropzoneRoot,{...ft({onClick:rt}),children:[tt,pt?jsxRuntimeExports.jsx(DropzoneDragActive,{borderColor:et,children:jsxRuntimeExports.jsx(NonIdealState,{icon:"cloud-upload",title:"Drop the files here"})}):ut?null:jsxRuntimeExports.jsx(DropzoneEmpty,{borderColor:et,children:jsxRuntimeExports.jsx(NonIdealState,{icon:nt,title:it,description:ot,action:jsxRuntimeExports.jsx(Button$1,{className:"dropzone-button",outlined:!0,text:at,icon:st,intent:"primary"})})}),jsxRuntimeExports.jsx("input",{...dt()})]})}const enabledColor="#1677ff";css({border:"1px solid rgba(0, 0, 0, 0.25)",borderRightWidth:0,position:"relative"}),css({position:"absolute",top:-1,left:-1,right:-1,bottom:-1,zIndex:10,border:"1px solid",borderColor:enabledColor,"& ~ label":{color:enabledColor}});css({display:"flex",flexDirection:"row",width:"fit-content"});const fullscreenContextInit={isFullScreen:!1,toggle:()=>{}};reactExports.createContext(fullscreenContextInit);const toolbarContext=reactExports.createContext(null);function useToolbarContext(){const _e=reactExports.useContext(toolbarContext);if(!_e)throw new Error("useToolbarContext must be used within a ToolbarContextProvider");return _e}const border="1px solid rgb(247, 247, 247)";function Toolbar(_e){const{children:et,disabled:tt,intent:rt,large:nt,vertical:it,popoverInteractionKind:ot}=_e,at=reactExports.useMemo(()=>({intent:rt,large:nt,vertical:it,disabled:tt,popoverInteractionKind:ot}),[rt,nt,it,tt,ot]),st=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{if(!it)return;function lt(){var mt;const ut=(mt=st.current)==null?void 0:mt.lastElementChild;if(!ut)return;st.current.style.width="initial";const ft=st.current.getBoundingClientRect(),pt=`${ut.getBoundingClientRect().right-ft.left}px`;st.current.style.width!==pt&&(st.current.style.width=pt)}const ct=st.current;if(ct){const ut=new ResizeObserver(lt);return ut.observe(ct),()=>ut.unobserve(ct)}},[it]),jsx(ToolbarProvider,{value:at,children:jsx(ButtonGroup$1,{vertical:it,large:nt,style:{flexWrap:"wrap",borderRight:it?border:void 0},children:et},String(it))})}Toolbar.Item=function(et){const{active:tt=!1,icon:rt,onClick:nt,tooltip:it,tooltipProps:ot,id:at,intent:st,disabled:lt,isPopover:ct,...ut}=et,{intent:ft,disabled:dt,large:pt,vertical:mt}=useToolbarContext(),vt=st??ft,ht=lt??dt,yt=typeof rt=="string"?rt:reactExports.cloneElement(rt,{className:rt.props.className?`${rt.props.className} bp5-icon`:"bp5-icon"});return jsx(Button,{alignText:ct?"left":void 0,minimal:!0,disabled:ht,css:css`
        .${ICON$1} {
          color: ${Colors.DARK_GRAY3};
        }
      `,intent:vt,style:{position:"relative",fontSize:"1.125em",width:"fit-content",flex:"none"},type:"button",active:tt,icon:jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:0,height:0},children:[jsx(Icon,{icon:yt}),ct&&jsx(Icon,{icon:"caret-right",size:pt?14:9,style:{transform:"rotate(45deg)",position:"absolute",bottom:0,right:0}})]}),onClick:gt=>{nt==null||nt({event:gt,...et})},tooltipProps:it?{content:it,placement:mt?"right":"bottom",intent:vt,compact:!pt,interactionKind:"hover",...ot}:void 0,...ut})};Toolbar.PopoverItem=function(et){const{itemProps:tt,...rt}=et,{disabled:nt,vertical:it,popoverInteractionKind:ot}=useToolbarContext();return jsx(Popover,{minimal:!0,disabled:nt,placement:it?"right-start":"bottom-start",interactionKind:ot,hoverCloseDelay:0,css:css`
        .${ICON$1} {
          color: ${Colors.DARK_GRAY3};
        }
      `,targetProps:{style:{position:"relative",fontSize:"1.125em",width:"fit-content",height:"fit-content",flex:"none"}},...rt,children:jsx(Toolbar.Item,{isPopover:!0,...tt})})};function ToolbarProvider(_e){return jsx(toolbarContext.Provider,{value:_e.value,children:_e.children})}const styles$6={container:css({display:"flex",justifyContent:"space-between",borderBottom:"1px solid rgb(240, 240, 240)"}),title:css({display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:12,fontWeight:500}),toolbar:css({display:"flex",flexDirection:"row-reverse","& > button":{padding:0,paddingLeft:9,minWidth:"auto"}})};function PanelPreferencesToolbar(_e){const{title:et="",onClose:tt,onSave:rt}=_e;return jsxs("div",{css:styles$6.container,children:[jsx("div",{css:styles$6.title,children:et}),jsx("div",{css:styles$6.toolbar,children:jsxs(Toolbar,{children:[tt&&jsx(Toolbar.Item,{onClick:tt,intent:"danger",icon:"cross"}),rt&&jsx(Toolbar.Item,{onClick:rt,intent:"success",icon:"tick"})]})})]})}const styles$5={header:css({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid rgb(247, 247, 247);",boxShadow:"rgb(255, 255, 255) 0px 1px 0px 0px inset"})};function Header$2(_e){return jsxs("div",{css:styles$5.header,children:[jsx("div",{children:_e.children[0]}),jsx("div",{children:_e.children[1]})]})}const styles$4={container:css({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottom:"0.55px solid rgb(240, 240, 240)"}),leftContainer:css({display:"flex",flexDirection:"row",flex:1,"& > button":{padding:"0 5px",minWidth:"auto"}}),counterLabel:css({margin:0,textAlign:"right",lineHeight:"22px",whiteSpace:"nowrap"})};function PanelHeader({total:_e,current:et,children:tt,onClickSettings:rt}){return jsxs("div",{css:styles$4.container,children:[jsx("div",{css:styles$4.leftContainer,children:tt}),jsx("p",{css:styles$4.counterLabel,children:formatCounterLabel(et,_e)}),rt&&jsx(Button,{color:"black",minimal:!0,onClick:rt,icon:"cog"})]})}function formatCounterLabel(_e,et){return _e!==void 0&&et!==void 0?`${_e} / ${et}`:_e!==void 0?`[ ${_e} ]`:et!==void 0?`[ ${et} ]`:""}new URLSearchParams;const defaultPortalContext=typeof document>"u"?null:document.body,rootLayoutContext=reactExports.createContext(defaultPortalContext);function RootLayoutProvider(_e){return jsxRuntimeExports.jsx(rootLayoutContext.Provider,{value:_e.innerRef,children:_e.children})}function useOnOff(_e=!1){const[et,tt]=reactExports.useState(_e),rt=reactExports.useCallback(()=>tt(!0),[]),nt=reactExports.useCallback(()=>tt(!1),[]),it=reactExports.useCallback(()=>tt(ot=>!ot),[]);return[et,rt,nt,it]}const styles$3={color:css({position:"absolute",top:"2px",left:"2px",right:"2px",bottom:"2px"})};function Color({value:_e,style:et,onClick:tt}){return jsx("div",{onClick:tt,css:styles$3.color,style:{background:_e,...et}})}function Boolean$1({value:_e,...et}){return jsxRuntimeExports.jsx("div",{...et,children:_e!==void 0?_e?"✔":"✘":""})}function Number$1({value:_e,fixed:et,...tt}){return jsxRuntimeExports.jsx("div",{...tt,children:_e!==void 0?et?_e.toFixed(et):_e:""})}const styles$2={text:css({textOverflow:"ellipsis"})};function Text({value:_e,...et}){return jsx("div",{...et,css:styles$2.text,children:_e})}const styles$1={title:css({fontWeight:"bold"})};function Title({value:_e,...et}){return jsx("div",{...et,css:styles$1.title,children:_e})}function Component({children:_e,...et}){return jsxRuntimeExports.jsx("div",{...et,children:_e})}function Header$1({sorted:_e=!1,...et}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Title,{...et,children:"Header"}),_e?{asc:" 🔼",desc:" 🔽"}[_e]:null]})}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(_e,et)=>function(){return et||(0,_e[__getOwnPropNames(_e)[0]])((et={exports:{}}).exports,et),et.exports},__export=(_e,et)=>{for(var tt in et)__defProp(_e,tt,{get:et[tt],enumerable:!0})},__copyProps=(_e,et,tt,rt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let nt of __getOwnPropNames(et))!__hasOwnProp.call(_e,nt)&&nt!==tt&&__defProp(_e,nt,{get:()=>et[nt],enumerable:!(rt=__getOwnPropDesc(et,nt))||rt.enumerable});return _e},__toESM=(_e,et,tt)=>(tt=_e!=null?__create(__getProtoOf(_e)):{},__copyProps(et||!_e||!_e.__esModule?__defProp(tt,"default",{value:_e,enumerable:!0}):tt,_e)),require_is_object=__commonJS({"node_modules/is-object/index.js"(_e,et){et.exports=function(rt){return typeof rt=="object"&&rt!==null}}}),require_is_window=__commonJS({"node_modules/is-window/index.js"(_e,et){et.exports=function(tt){if(tt==null)return!1;var rt=Object(tt);return rt===rt.window}}}),require_is_dom=__commonJS({"node_modules/is-dom/index.js"(_e,et){var tt=require_is_object(),rt=require_is_window();function nt(it){return!tt(it)||!rt(window)||typeof window.Node!="function"?!1:typeof it.nodeType=="number"&&typeof it.nodeName=="string"}et.exports=nt}}),themes_exports={};__export(themes_exports,{chromeDark:()=>theme,chromeLight:()=>theme2});var theme={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"rgb(36, 36, 36)",BASE_COLOR:"rgb(213, 213, 213)",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(227, 110, 236)",OBJECT_VALUE_NULL_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(127, 127, 127)",OBJECT_VALUE_REGEXP_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_STRING_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(233, 63, 59)",OBJECT_VALUE_NUMBER_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_BOOLEAN_COLOR:"hsl(252, 100%, 75%)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(85, 106, 242)",HTML_TAG_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_COLOR:"rgb(93, 176, 215)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(155, 187, 220)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(242, 151, 102)",HTML_COMMENT_COLOR:"rgb(137, 137, 137)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"rgb(145, 145, 145)",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"rgb(85, 85, 85)",TABLE_TH_BACKGROUND_COLOR:"rgb(44, 44, 44)",TABLE_TH_HOVER_COLOR:"rgb(48, 48, 48)",TABLE_SORT_ICON_COLOR:"black",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(51, 139, 255, 0.0980392) 50%, rgba(51, 139, 255, 0.0980392))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},theme2={BASE_FONT_FAMILY:"Menlo, monospace",BASE_FONT_SIZE:"11px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"white",BASE_COLOR:"black",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"rgb(136, 19, 145)",OBJECT_VALUE_NULL_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_STRING_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_BOOLEAN_COLOR:"rgb(28, 0, 207)",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"rgb(13, 34, 170)",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:3,ARROW_FONT_SIZE:12,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Menlo, monospace",TREENODE_FONT_SIZE:"11px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:12,TABLE_BORDER_COLOR:"#aaa",TABLE_TH_BACKGROUND_COLOR:"#eee",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#6e6e6e",TABLE_DATA_BACKGROUND_IMAGE:"linear-gradient(to bottom, white, white 50%, rgb(234, 243, 255) 50%, rgb(234, 243, 255))",TABLE_DATA_BACKGROUND_SIZE:"128px 32px"},ExpandedPathsContext=reactExports.createContext([{},()=>{}]),unselectable={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",OUserSelect:"none",userSelect:"none"},createTheme=_e=>({DOMNodePreview:{htmlOpenTag:{base:{color:_e.HTML_TAG_COLOR},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM},htmlAttributeName:{color:_e.HTML_ATTRIBUTE_NAME_COLOR},htmlAttributeValue:{color:_e.HTML_ATTRIBUTE_VALUE_COLOR}},htmlCloseTag:{base:{color:_e.HTML_TAG_COLOR},offsetLeft:{marginLeft:-_e.TREENODE_PADDING_LEFT},tagName:{color:_e.HTML_TAGNAME_COLOR,textTransform:_e.HTML_TAGNAME_TEXT_TRANSFORM}},htmlComment:{color:_e.HTML_COMMENT_COLOR},htmlDoctype:{color:_e.HTML_DOCTYPE_COLOR}},ObjectPreview:{objectDescription:{fontStyle:"italic"},preview:{fontStyle:"italic"},arrayMaxProperties:_e.OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES,objectMaxProperties:_e.OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES},ObjectName:{base:{color:_e.OBJECT_NAME_COLOR},dimmed:{opacity:.6}},ObjectValue:{objectValueNull:{color:_e.OBJECT_VALUE_NULL_COLOR},objectValueUndefined:{color:_e.OBJECT_VALUE_UNDEFINED_COLOR},objectValueRegExp:{color:_e.OBJECT_VALUE_REGEXP_COLOR},objectValueString:{color:_e.OBJECT_VALUE_STRING_COLOR},objectValueSymbol:{color:_e.OBJECT_VALUE_SYMBOL_COLOR},objectValueNumber:{color:_e.OBJECT_VALUE_NUMBER_COLOR},objectValueBoolean:{color:_e.OBJECT_VALUE_BOOLEAN_COLOR},objectValueFunctionPrefix:{color:_e.OBJECT_VALUE_FUNCTION_PREFIX_COLOR,fontStyle:"italic"},objectValueFunctionName:{fontStyle:"italic"}},TreeView:{treeViewOutline:{padding:0,margin:0,listStyleType:"none"}},TreeNode:{treeNodeBase:{color:_e.BASE_COLOR,backgroundColor:_e.BASE_BACKGROUND_COLOR,lineHeight:_e.TREENODE_LINE_HEIGHT,cursor:"default",boxSizing:"border-box",listStyle:"none",fontFamily:_e.TREENODE_FONT_FAMILY,fontSize:_e.TREENODE_FONT_SIZE},treeNodePreviewContainer:{},treeNodePlaceholder:{whiteSpace:"pre",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...unselectable},treeNodeArrow:{base:{color:_e.ARROW_COLOR,display:"inline-block",fontSize:_e.ARROW_FONT_SIZE,marginRight:_e.ARROW_MARGIN_RIGHT,...parseFloat(_e.ARROW_ANIMATION_DURATION)>0?{transition:`transform ${_e.ARROW_ANIMATION_DURATION} ease 0s`}:{},...unselectable},expanded:{WebkitTransform:"rotateZ(90deg)",MozTransform:"rotateZ(90deg)",transform:"rotateZ(90deg)"},collapsed:{WebkitTransform:"rotateZ(0deg)",MozTransform:"rotateZ(0deg)",transform:"rotateZ(0deg)"}},treeNodeChildNodesContainer:{margin:0,paddingLeft:_e.TREENODE_PADDING_LEFT}},TableInspector:{base:{color:_e.BASE_COLOR,position:"relative",border:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontFamily:_e.BASE_FONT_FAMILY,fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%",boxSizing:"border-box",cursor:"default"}},TableInspectorHeaderContainer:{base:{top:0,height:"17px",left:0,right:0,overflowX:"hidden"},table:{tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",height:"100%",width:"100%",margin:0}},TableInspectorDataContainer:{tr:{display:"table-row"},td:{boxSizing:"border-box",border:"none",height:"16px",verticalAlign:"top",padding:"1px 4px",WebkitUserSelect:"text",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px"},div:{position:"static",top:"17px",bottom:0,overflowY:"overlay",transform:"translateZ(0)",left:0,right:0,overflowX:"hidden"},table:{positon:"static",left:0,top:0,right:0,bottom:0,borderTop:"0 none transparent",margin:0,backgroundImage:_e.TABLE_DATA_BACKGROUND_IMAGE,backgroundSize:_e.TABLE_DATA_BACKGROUND_SIZE,tableLayout:"fixed",borderSpacing:0,borderCollapse:"separate",width:"100%",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorTH:{base:{position:"relative",height:"auto",textAlign:"left",backgroundColor:_e.TABLE_TH_BACKGROUND_COLOR,borderBottom:`1px solid ${_e.TABLE_BORDER_COLOR}`,fontWeight:"normal",verticalAlign:"middle",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:"14px",":hover":{backgroundColor:_e.TABLE_TH_HOVER_COLOR}},div:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:_e.BASE_FONT_SIZE,lineHeight:"120%"}},TableInspectorLeftBorder:{none:{borderLeft:"none"},solid:{borderLeft:`1px solid ${_e.TABLE_BORDER_COLOR}`}},TableInspectorSortIcon:{display:"block",marginRight:3,width:8,height:7,marginTop:-7,color:_e.TABLE_SORT_ICON_COLOR,fontSize:12,...unselectable}}),DEFAULT_THEME_NAME="chromeLight",ThemeContext=reactExports.createContext(createTheme(themes_exports[DEFAULT_THEME_NAME])),useStyles=_e=>reactExports.useContext(ThemeContext)[_e],themeAcceptor=_e=>({theme:tt=DEFAULT_THEME_NAME,...rt})=>{const nt=reactExports.useMemo(()=>{switch(Object.prototype.toString.call(tt)){case"[object String]":return createTheme(themes_exports[tt]);case"[object Object]":return createTheme(tt);default:return createTheme(themes_exports[DEFAULT_THEME_NAME])}},[tt]);return React.createElement(ThemeContext.Provider,{value:nt},React.createElement(_e,{...rt}))},Arrow=({expanded:_e,styles:et})=>React.createElement("span",{style:{...et.base,..._e?et.expanded:et.collapsed}},"▶"),TreeNode=reactExports.memo(_e=>{_e={expanded:!0,nodeRenderer:({name:ct})=>React.createElement("span",null,ct),onClick:()=>{},shouldShowArrow:!1,shouldShowPlaceholder:!0,..._e};const{expanded:et,onClick:tt,children:rt,nodeRenderer:nt,title:it,shouldShowArrow:ot,shouldShowPlaceholder:at}=_e,st=useStyles("TreeNode"),lt=nt;return React.createElement("li",{"aria-expanded":et,role:"treeitem",style:st.treeNodeBase,title:it},React.createElement("div",{style:st.treeNodePreviewContainer,onClick:tt},ot||reactExports.Children.count(rt)>0?React.createElement(Arrow,{expanded:et,styles:st.treeNodeArrow}):at&&React.createElement("span",{style:st.treeNodePlaceholder}," "),React.createElement(lt,{..._e})),React.createElement("ol",{role:"group",style:st.treeNodeChildNodesContainer},et?rt:void 0))}),DEFAULT_ROOT_PATH="$",WILDCARD="*";function hasChildNodes(_e,et){return!et(_e).next().done}var wildcardPathsFromLevel=_e=>Array.from({length:_e},(et,tt)=>[DEFAULT_ROOT_PATH].concat(Array.from({length:tt},()=>"*")).join(".")),getExpandedPaths=(_e,et,tt,rt,nt)=>{const it=[].concat(wildcardPathsFromLevel(rt)).concat(tt).filter(at=>typeof at=="string"),ot=[];return it.forEach(at=>{const st=at.split("."),lt=(ct,ut,ft)=>{if(ft===st.length){ot.push(ut);return}const dt=st[ft];if(ft===0)hasChildNodes(ct,et)&&(dt===DEFAULT_ROOT_PATH||dt===WILDCARD)&&lt(ct,DEFAULT_ROOT_PATH,ft+1);else if(dt===WILDCARD)for(const{name:pt,data:mt}of et(ct))hasChildNodes(mt,et)&&lt(mt,`${ut}.${pt}`,ft+1);else{const pt=ct[dt];hasChildNodes(pt,et)&&lt(pt,`${ut}.${dt}`,ft+1)}};lt(_e,"",0)}),ot.reduce((at,st)=>(at[st]=!0,at),{...nt})},ConnectedTreeNode=reactExports.memo(_e=>{const{data:et,dataIterator:tt,path:rt,depth:nt,nodeRenderer:it}=_e,[ot,at]=reactExports.useContext(ExpandedPathsContext),st=hasChildNodes(et,tt),lt=!!ot[rt],ct=reactExports.useCallback(()=>st&&at(ut=>({...ut,[rt]:!lt})),[st,at,rt,lt]);return React.createElement(TreeNode,{expanded:lt,onClick:ct,shouldShowArrow:st,shouldShowPlaceholder:nt>0,nodeRenderer:it,..._e},lt?[...tt(et)].map(({name:ut,data:ft,...dt})=>React.createElement(ConnectedTreeNode,{name:ut,data:ft,depth:nt+1,path:`${rt}.${ut}`,key:ut,dataIterator:tt,nodeRenderer:it,...dt})):null)}),TreeView=reactExports.memo(({name:_e,data:et,dataIterator:tt,nodeRenderer:rt,expandPaths:nt,expandLevel:it})=>{const ot=useStyles("TreeView"),at=reactExports.useState({}),[,st]=at;return reactExports.useLayoutEffect(()=>st(lt=>getExpandedPaths(et,tt,nt,it,lt)),[et,tt,nt,it]),React.createElement(ExpandedPathsContext.Provider,{value:at},React.createElement("ol",{role:"tree",style:ot.treeViewOutline},React.createElement(ConnectedTreeNode,{name:_e,data:et,dataIterator:tt,depth:0,path:DEFAULT_ROOT_PATH,nodeRenderer:rt})))}),ObjectName=({name:_e,dimmed:et=!1,styles:tt={}})=>{const rt=useStyles("ObjectName"),nt={...rt.base,...et?rt.dimmed:{},...tt};return React.createElement("span",{style:nt},_e)},ObjectValue=({object:_e,styles:et})=>{const tt=useStyles("ObjectValue"),rt=nt=>({...tt[nt],...et});switch(typeof _e){case"bigint":return React.createElement("span",{style:rt("objectValueNumber")},String(_e),"n");case"number":return React.createElement("span",{style:rt("objectValueNumber")},String(_e));case"string":return React.createElement("span",{style:rt("objectValueString")},'"',_e,'"');case"boolean":return React.createElement("span",{style:rt("objectValueBoolean")},String(_e));case"undefined":return React.createElement("span",{style:rt("objectValueUndefined")},"undefined");case"object":return _e===null?React.createElement("span",{style:rt("objectValueNull")},"null"):_e instanceof Date?React.createElement("span",null,_e.toString()):_e instanceof RegExp?React.createElement("span",{style:rt("objectValueRegExp")},_e.toString()):Array.isArray(_e)?React.createElement("span",null,`Array(${_e.length})`):_e.constructor?typeof _e.constructor.isBuffer=="function"&&_e.constructor.isBuffer(_e)?React.createElement("span",null,`Buffer[${_e.length}]`):React.createElement("span",null,_e.constructor.name):React.createElement("span",null,"Object");case"function":return React.createElement("span",null,React.createElement("span",{style:rt("objectValueFunctionPrefix")},"ƒ "),React.createElement("span",{style:rt("objectValueFunctionName")},_e.name,"()"));case"symbol":return React.createElement("span",{style:rt("objectValueSymbol")},_e.toString());default:return React.createElement("span",null)}},hasOwnProperty$6=Object.prototype.hasOwnProperty,propertyIsEnumerable$1=Object.prototype.propertyIsEnumerable;function getPropertyValue(_e,et){const tt=Object.getOwnPropertyDescriptor(_e,et);if(tt.get)try{return tt.get()}catch{return tt.get}return _e[et]}function intersperse(_e,et){return _e.length===0?[]:_e.slice(1).reduce((tt,rt)=>tt.concat([et,rt]),[_e[0]])}var ObjectPreview=({data:_e})=>{const et=useStyles("ObjectPreview"),tt=_e;if(typeof tt!="object"||tt===null||tt instanceof Date||tt instanceof RegExp)return React.createElement(ObjectValue,{object:tt});if(Array.isArray(tt)){const rt=et.arrayMaxProperties,nt=tt.slice(0,rt).map((ot,at)=>React.createElement(ObjectValue,{key:at,object:ot}));tt.length>rt&&nt.push(React.createElement("span",{key:"ellipsis"},"…"));const it=tt.length;return React.createElement(React.Fragment,null,React.createElement("span",{style:et.objectDescription},it===0?"":`(${it}) `),React.createElement("span",{style:et.preview},"[",intersperse(nt,", "),"]"))}else{const rt=et.objectMaxProperties,nt=[];for(const ot in tt)if(hasOwnProperty$6.call(tt,ot)){let at;nt.length===rt-1&&Object.keys(tt).length>rt&&(at=React.createElement("span",{key:"ellipsis"},"…"));const st=getPropertyValue(tt,ot);if(nt.push(React.createElement("span",{key:ot},React.createElement(ObjectName,{name:ot||'""'}),": ",React.createElement(ObjectValue,{object:st}),at)),at)break}const it=tt.constructor?tt.constructor.name:"Object";return React.createElement(React.Fragment,null,React.createElement("span",{style:et.objectDescription},it==="Object"?"":`${it} `),React.createElement("span",{style:et.preview},"{",intersperse(nt,", "),"}"))}},ObjectRootLabel=({name:_e,data:et})=>typeof _e=="string"?React.createElement("span",null,React.createElement(ObjectName,{name:_e}),React.createElement("span",null,": "),React.createElement(ObjectPreview,{data:et})):React.createElement(ObjectPreview,{data:et}),ObjectLabel=({name:_e,data:et,isNonenumerable:tt=!1})=>{const rt=et;return React.createElement("span",null,typeof _e=="string"?React.createElement(ObjectName,{name:_e,dimmed:tt}):React.createElement(ObjectPreview,{data:_e}),React.createElement("span",null,": "),React.createElement(ObjectValue,{object:rt}))},createIterator=(_e,et)=>function*(rt){if(!(typeof rt=="object"&&rt!==null||typeof rt=="function"))return;const it=Array.isArray(rt);if(!it&&rt[Symbol.iterator]){let ot=0;for(const at of rt){if(Array.isArray(at)&&at.length===2){const[st,lt]=at;yield{name:st,data:lt}}else yield{name:ot.toString(),data:at};ot++}}else{const ot=Object.getOwnPropertyNames(rt);et===!0&&!it?ot.sort():typeof et=="function"&&ot.sort(et);for(const at of ot)if(propertyIsEnumerable$1.call(rt,at)){const st=getPropertyValue(rt,at);yield{name:at||'""',data:st}}else if(_e){let st;try{st=getPropertyValue(rt,at)}catch{}st!==void 0&&(yield{name:at,data:st,isNonenumerable:!0})}_e&&rt!==Object.prototype&&(yield{name:"__proto__",data:Object.getPrototypeOf(rt),isNonenumerable:!0})}},defaultNodeRenderer=({depth:_e,name:et,data:tt,isNonenumerable:rt})=>_e===0?React.createElement(ObjectRootLabel,{name:et,data:tt}):React.createElement(ObjectLabel,{name:et,data:tt,isNonenumerable:rt}),ObjectInspector=({showNonenumerable:_e=!1,sortObjectKeys:et,nodeRenderer:tt,...rt})=>{const nt=createIterator(_e,et),it=tt||defaultNodeRenderer;return React.createElement(TreeView,{nodeRenderer:it,dataIterator:nt,...rt})},themedObjectInspector=themeAcceptor(ObjectInspector);__toESM(require_is_dom());function ObjectRenderer({value:_e,...et}){return jsxRuntimeExports.jsx(themedObjectInspector,{data:_e,...et})}const TableContext=reactExports.createContext({hasBorder:!0,color:""});function useTableContext(){return reactExports.useContext(TableContext)}const styles={hasBorder:css({border:"0.5px solid rgb(0, 0, 0)",padding:"5px",position:"relative"}),noBorder:css({padding:"5px",position:"relative"})},TableRow=({children:_e,style:et={},hasBorder:tt=!1,...rt})=>{const{cells:nt}=useRowChildren(_e);return jsx("tr",{style:{border:tt?"1px solid black":"",...et},...rt,children:nt})};function useRowChildren(_e){const et=[],{hasBorder:tt,color:rt}=useTableContext();for(const nt of reactExports.Children.toArray(_e))if(typeof nt=="object"&&reactExports.isValidElement(nt)&&(nt.type===Color||nt.type===Boolean$1||nt.type===Text||nt.type===Number$1||nt.type===ObjectRenderer||nt.type===Header$1||nt.type===Component))nt.type===Header$1?et.push(jsx("th",{style:{color:rt},css:tt?styles.hasBorder:styles.noBorder,children:nt},nt.key)):et.push(jsx("td",{style:{color:rt,position:"relative"},css:tt?styles.hasBorder:styles.noBorder,children:nt},nt.key));else throw console.error("Invalid Row child:",nt),new Error("invalid Row child");return{cells:et}}const TableHeader=({children:_e,hasBorder:et,style:tt})=>jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx(TableRow,{hasBorder:et,style:tt,children:_e})});function splitChildren$1(_e){const et=[];let tt=null;for(const rt of reactExports.Children.toArray(_e)){if(typeof rt!="object"||!reactExports.isValidElement(rt))throw new Error("invalid Table child");if(rt.type===TableRow)et.push(rt);else if(rt.type===TableHeader)tt=rt;else throw new Error("invalid Table child")}return{Rows:et,Header:tt}}function Table(_e){const{hasBorder:et=!1,bordered:tt=!1,compact:rt=!1,interactive:nt=!1,striped:it=!1,color:ot="",children:at,...st}=_e,{Header:lt,Rows:ct}=splitChildren$1(at),ut=reactExports.useMemo(()=>({hasBorder:et,color:ot}),[et,ot]);return jsx(TableContext.Provider,{value:ut,children:jsxs(HTMLTable,{bordered:tt,compact:rt,interactive:nt,striped:it,...st,children:[lt,jsx("tbody",{children:ct})]})})}Table.Row=TableRow;Table.Header=TableHeader;const style$1={container:css({padding:"5px"}),chevron:_e=>css({rotate:_e?"90deg":"0deg",transition:"all 0.3s ease-in-out"}),button:css({borderBottom:"1px solid #f5f5f5",display:"flex",alignItems:"center",gap:5,padding:"5px 2px",width:"100%",":hover":{backgroundColor:"#f5f5f5"}})};function InfoPanel(_e){const[et,tt]=reactExports.useState(""),{title:rt="Information",data:nt=[],titleStyle:it,inputStyle:ot}=_e,at=reactExports.useCallback(ut=>{const ft=[],dt=[],pt=[],mt=[];for(const[vt,ht]of Object.entries(ut).sort(([yt],[gt])=>yt.localeCompare(gt))){const yt=vt.toLowerCase(),gt=et.toLowerCase();if(yt===gt){ft.push([vt,ht]);continue}if(yt.startsWith(gt)){dt.push([vt,ht]);continue}if(yt.includes(gt)){pt.push([vt,ht]);continue}if(valueSearch(ht,et)){mt.push([vt,ht]);continue}}return[...ft,...dt,...pt,...mt]},[et]),{filteredData:st,total:lt,count:ct}=reactExports.useMemo(()=>{const ut=[];let ft=0,dt=0;for(const{data:pt,...mt}of nt){ft+=Object.entries(pt).length;const vt=at(pt);vt.length!==0&&(ut.push({data:vt,...mt}),dt+=vt.length)}return{filteredData:ut,total:ft,count:dt}},[nt,at]);return jsxs("div",{css:style$1.container,children:[jsx("div",{style:it,children:rt}),jsxs("div",{tabIndex:0,css:css({zIndex:10,marginTop:"5px",position:"sticky",backgroundColor:"white",top:"5px",display:"flex",alignItems:"center",gap:6,width:"100%"}),children:[jsx(InputGroup,{css:css({flexGrow:1}),placeholder:"search for a parameter ...",value:et,onChange:({target:ut})=>{ut.value!==void 0&&tt(ut.value)},style:ot,leftIcon:"search",type:"search",fill:!0}),"[",ct,"/",lt,"]"]}),jsx("div",{style:{marginTop:"5px",display:"flex",flexDirection:"column",gap:"5px"},children:st.map(({description:ut,data:ft})=>jsx(Ae,{defaultOpen:!0,children:({open:dt})=>jsxs(Fragment,{children:[jsxs(Ae.Button,{css:style$1.button,children:[jsx(Icon,{icon:"chevron-right",css:style$1.chevron(dt)}),ut]}),jsx(Ae.Panel,{children:jsxs(Table,{striped:!0,css:css({width:"100%"}),compact:!0,children:[jsxs(Table.Header,{children:[jsx(Header$1,{value:"Parameter"}),jsx(Header$1,{value:"Value"})]}),ft.map(([pt,mt])=>jsxs(Table.Row,{bordered:!0,style:{height:"10px",padding:"0 !imporant"},children:[jsx(Text,{value:pt}),valueCell(mt)]},pt))]})})]})},ut))})]})}function valueCell(_e){switch(typeof _e){case"boolean":return jsx(Text,{value:_e?"Yes":"No"});case"number":return jsx(Number$1,{value:_e});case"object":return jsx(ObjectRenderer,{value:_e});case"string":return jsx(Text,{value:_e});default:jsx(Text,{value:_e})}}function valueSearch(_e,et,tt=!0){switch(tt&&(_e=String(_e).toLowerCase(),et=et.toLowerCase()),typeof _e){case"number":return String(_e).includes(et);case"boolean":return String(_e).includes(et);case"object":return JSON.stringify(_e).includes(et);case"string":return _e.includes(et);default:return!0}}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(_e){return this.listeners.add(_e),this.onSubscribe(),()=>{this.listeners.delete(_e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(_e,et){return typeof _e=="function"?_e(et):_e}function isValidTimeout(_e){return typeof _e=="number"&&_e>=0&&_e!==1/0}function timeUntilStale(_e,et){return Math.max(_e+(et||0)-Date.now(),0)}function matchQuery(_e,et){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:it,queryKey:ot,stale:at}=_e;if(ot){if(rt){if(et.queryHash!==hashQueryKeyByOptions(ot,et.options))return!1}else if(!partialMatchKey(et.queryKey,ot))return!1}if(tt!=="all"){const st=et.isActive();if(tt==="active"&&!st||tt==="inactive"&&st)return!1}return!(typeof at=="boolean"&&et.isStale()!==at||nt&&nt!==et.state.fetchStatus||it&&!it(et))}function matchMutation(_e,et){const{exact:tt,status:rt,predicate:nt,mutationKey:it}=_e;if(it){if(!et.options.mutationKey)return!1;if(tt){if(hashKey(et.options.mutationKey)!==hashKey(it))return!1}else if(!partialMatchKey(et.options.mutationKey,it))return!1}return!(rt&&et.state.status!==rt||nt&&!nt(et))}function hashQueryKeyByOptions(_e,et){return((et==null?void 0:et.queryKeyHashFn)||hashKey)(_e)}function hashKey(_e){return JSON.stringify(_e,(et,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(_e,et){return _e===et?!0:typeof _e!=typeof et?!1:_e&&et&&typeof _e=="object"&&typeof et=="object"?!Object.keys(et).some(tt=>!partialMatchKey(_e[tt],et[tt])):!1}function replaceEqualDeep(_e,et){if(_e===et)return _e;const tt=isPlainArray(_e)&&isPlainArray(et);if(tt||isPlainObject(_e)&&isPlainObject(et)){const rt=tt?_e:Object.keys(_e),nt=rt.length,it=tt?et:Object.keys(et),ot=it.length,at=tt?[]:{};let st=0;for(let lt=0;lt<ot;lt++){const ct=tt?lt:it[lt];!tt&&_e[ct]===void 0&&et[ct]===void 0&&rt.includes(ct)?(at[ct]=void 0,st++):(at[ct]=replaceEqualDeep(_e[ct],et[ct]),at[ct]===_e[ct]&&_e[ct]!==void 0&&st++)}return nt===ot&&st===nt?_e:at}return et}function isPlainArray(_e){return Array.isArray(_e)&&_e.length===Object.keys(_e).length}function isPlainObject(_e){if(!hasObjectPrototype(_e))return!1;const et=_e.constructor;if(et===void 0)return!0;const tt=et.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(_e){return Object.prototype.toString.call(_e)==="[object Object]"}function sleep(_e){return new Promise(et=>{setTimeout(et,_e)})}function replaceData(_e,et,tt){return typeof tt.structuralSharing=="function"?tt.structuralSharing(_e,et):tt.structuralSharing!==!1?replaceEqualDeep(_e,et):et}function addToEnd(_e,et,tt=0){const rt=[..._e,et];return tt&&rt.length>tt?rt.slice(1):rt}function addToStart(_e,et,tt=0){const rt=[et,..._e];return tt&&rt.length>tt?rt.slice(0,-1):rt}var skipToken=Symbol(),Yr,Ur,Qr,to,FocusManager=(to=class extends Subscribable{constructor(){super();wr(this,Yr,void 0);wr(this,Ur,void 0);wr(this,Qr,void 0);yr(this,Qr,et=>{if(!isServer&&window.addEventListener){const tt=()=>et();return window.addEventListener("visibilitychange",tt,!1),()=>{window.removeEventListener("visibilitychange",tt)}}})}onSubscribe(){rr(this,Ur)||this.setEventListener(rr(this,Qr))}onUnsubscribe(){var et;this.hasListeners()||((et=rr(this,Ur))==null||et.call(this),yr(this,Ur,void 0))}setEventListener(et){var tt;yr(this,Qr,et),(tt=rr(this,Ur))==null||tt.call(this),yr(this,Ur,et(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()}))}setFocused(et){rr(this,Yr)!==et&&(yr(this,Yr,et),this.onFocus())}onFocus(){const et=this.isFocused();this.listeners.forEach(tt=>{tt(et)})}isFocused(){var et;return typeof rr(this,Yr)=="boolean"?rr(this,Yr):((et=globalThis.document)==null?void 0:et.visibilityState)!=="hidden"}},Yr=new WeakMap,Ur=new WeakMap,Qr=new WeakMap,to),focusManager=new FocusManager,Jr,Vr,sn,ro,OnlineManager=(ro=class extends Subscribable{constructor(){super();wr(this,Jr,!0);wr(this,Vr,void 0);wr(this,sn,void 0);yr(this,sn,et=>{if(!isServer&&window.addEventListener){const tt=()=>et(!0),rt=()=>et(!1);return window.addEventListener("online",tt,!1),window.addEventListener("offline",rt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",rt)}}})}onSubscribe(){rr(this,Vr)||this.setEventListener(rr(this,sn))}onUnsubscribe(){var et;this.hasListeners()||((et=rr(this,Vr))==null||et.call(this),yr(this,Vr,void 0))}setEventListener(et){var tt;yr(this,sn,et),(tt=rr(this,Vr))==null||tt.call(this),yr(this,Vr,et(this.setOnline.bind(this)))}setOnline(et){rr(this,Jr)!==et&&(yr(this,Jr,et),this.listeners.forEach(rt=>{rt(et)}))}isOnline(){return rr(this,Jr)}},Jr=new WeakMap,Vr=new WeakMap,sn=new WeakMap,ro),onlineManager=new OnlineManager;function defaultRetryDelay(_e){return Math.min(1e3*2**_e,3e4)}function canFetch(_e){return(_e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class{constructor(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}};function isCancelledError(_e){return _e instanceof CancelledError}function createRetryer(_e){let et=!1,tt=0,rt=!1,nt,it,ot;const at=new Promise((vt,ht)=>{it=vt,ot=ht}),st=vt=>{var ht;rt||(dt(new CancelledError(vt)),(ht=_e.abort)==null||ht.call(_e))},lt=()=>{et=!0},ct=()=>{et=!1},ut=()=>!focusManager.isFocused()||_e.networkMode!=="always"&&!onlineManager.isOnline(),ft=vt=>{var ht;rt||(rt=!0,(ht=_e.onSuccess)==null||ht.call(_e,vt),nt==null||nt(),it(vt))},dt=vt=>{var ht;rt||(rt=!0,(ht=_e.onError)==null||ht.call(_e,vt),nt==null||nt(),ot(vt))},pt=()=>new Promise(vt=>{var ht;nt=yt=>{const gt=rt||!ut();return gt&&vt(yt),gt},(ht=_e.onPause)==null||ht.call(_e)}).then(()=>{var vt;nt=void 0,rt||(vt=_e.onContinue)==null||vt.call(_e)}),mt=()=>{if(rt)return;let vt;try{vt=_e.fn()}catch(ht){vt=Promise.reject(ht)}Promise.resolve(vt).then(ft).catch(ht=>{var wt;if(rt)return;const yt=_e.retry??(isServer?0:3),gt=_e.retryDelay??defaultRetryDelay,xt=typeof gt=="function"?gt(tt,ht):gt,_t=yt===!0||typeof yt=="number"&&tt<yt||typeof yt=="function"&&yt(tt,ht);if(et||!_t){dt(ht);return}tt++,(wt=_e.onFail)==null||wt.call(_e,tt,ht),sleep(xt).then(()=>{if(ut())return pt()}).then(()=>{et?dt(ht):mt()})})};return canFetch(_e.networkMode)?mt():pt().then(mt),{promise:at,cancel:st,continue:()=>(nt==null?void 0:nt())?at:Promise.resolve(),cancelRetry:lt,continueRetry:ct}}function createNotifyManager(){let _e=[],et=0,tt=ft=>{ft()},rt=ft=>{ft()},nt=ft=>setTimeout(ft,0);const it=ft=>{nt=ft},ot=ft=>{let dt;et++;try{dt=ft()}finally{et--,et||lt()}return dt},at=ft=>{et?_e.push(ft):nt(()=>{tt(ft)})},st=ft=>(...dt)=>{at(()=>{ft(...dt)})},lt=()=>{const ft=_e;_e=[],ft.length&&nt(()=>{rt(()=>{ft.forEach(dt=>{tt(dt)})})})};return{batch:ot,batchCalls:st,schedule:at,setNotifyFunction:ft=>{tt=ft},setBatchNotifyFunction:ft=>{rt=ft},setScheduler:it}}var notifyManager=createNotifyManager(),Zr,no,Removable=(no=class{constructor(){wr(this,Zr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&yr(this,Zr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(_e){this.gcTime=Math.max(this.gcTime||0,_e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){rr(this,Zr)&&(clearTimeout(rr(this,Zr)),yr(this,Zr,void 0))}},Zr=new WeakMap,no),ln,cn,Or,Tr,$r,En,Xr,Dr,Fr,io,Query=(io=class extends Removable{constructor(et){super();wr(this,Dr);wr(this,ln,void 0);wr(this,cn,void 0);wr(this,Or,void 0);wr(this,Tr,void 0);wr(this,$r,void 0);wr(this,En,void 0);wr(this,Xr,void 0);yr(this,Xr,!1),yr(this,En,et.defaultOptions),this.setOptions(et.options),yr(this,$r,[]),yr(this,Or,et.cache),this.queryKey=et.queryKey,this.queryHash=et.queryHash,yr(this,ln,et.state||getDefaultState$1(this.options)),this.state=rr(this,ln),this.scheduleGc()}get meta(){return this.options.meta}setOptions(et){this.options={...rr(this,En),...et},this.updateGcTime(this.options.gcTime)}optionalRemove(){!rr(this,$r).length&&this.state.fetchStatus==="idle"&&rr(this,Or).remove(this)}setData(et,tt){const rt=replaceData(this.state.data,et,this.options);return Cr(this,Dr,Fr).call(this,{data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(et,tt){Cr(this,Dr,Fr).call(this,{type:"setState",state:et,setStateOptions:tt})}cancel(et){var rt,nt;const tt=(rt=rr(this,Tr))==null?void 0:rt.promise;return(nt=rr(this,Tr))==null||nt.cancel(et),tt?tt.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(rr(this,ln))}isActive(){return rr(this,$r).some(et=>et.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?rr(this,$r).some(et=>et.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(et=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,et)}onFocus(){var tt;const et=rr(this,$r).find(rt=>rt.shouldFetchOnWindowFocus());et==null||et.refetch({cancelRefetch:!1}),(tt=rr(this,Tr))==null||tt.continue()}onOnline(){var tt;const et=rr(this,$r).find(rt=>rt.shouldFetchOnReconnect());et==null||et.refetch({cancelRefetch:!1}),(tt=rr(this,Tr))==null||tt.continue()}addObserver(et){rr(this,$r).includes(et)||(rr(this,$r).push(et),this.clearGcTimeout(),rr(this,Or).notify({type:"observerAdded",query:this,observer:et}))}removeObserver(et){rr(this,$r).includes(et)&&(yr(this,$r,rr(this,$r).filter(tt=>tt!==et)),rr(this,$r).length||(rr(this,Tr)&&(rr(this,Xr)?rr(this,Tr).cancel({revert:!0}):rr(this,Tr).cancelRetry()),this.scheduleGc()),rr(this,Or).notify({type:"observerRemoved",query:this,observer:et}))}getObserversCount(){return rr(this,$r).length}invalidate(){this.state.isInvalidated||Cr(this,Dr,Fr).call(this,{type:"invalidate"})}fetch(et,tt){var lt,ct,ut;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(tt!=null&&tt.cancelRefetch))this.cancel({silent:!0});else if(rr(this,Tr))return rr(this,Tr).continueRetry(),rr(this,Tr).promise}if(et&&this.setOptions(et),!this.options.queryFn){const ft=rr(this,$r).find(dt=>dt.options.queryFn);ft&&this.setOptions(ft.options)}const rt=new AbortController,nt={queryKey:this.queryKey,meta:this.meta},it=ft=>{Object.defineProperty(ft,"signal",{enumerable:!0,get:()=>(yr(this,Xr,!0),rt.signal)})};it(nt);const ot=()=>!this.options.queryFn||this.options.queryFn===skipToken?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(yr(this,Xr,!1),this.options.persister?this.options.persister(this.options.queryFn,nt,this):this.options.queryFn(nt)),at={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ot};it(at),(lt=this.options.behavior)==null||lt.onFetch(at,this),yr(this,cn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((ct=at.fetchOptions)==null?void 0:ct.meta))&&Cr(this,Dr,Fr).call(this,{type:"fetch",meta:(ut=at.fetchOptions)==null?void 0:ut.meta});const st=ft=>{var dt,pt,mt,vt;isCancelledError(ft)&&ft.silent||Cr(this,Dr,Fr).call(this,{type:"error",error:ft}),isCancelledError(ft)||((pt=(dt=rr(this,Or).config).onError)==null||pt.call(dt,ft,this),(vt=(mt=rr(this,Or).config).onSettled)==null||vt.call(mt,this.state.data,ft,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return yr(this,Tr,createRetryer({fn:at.fetchFn,abort:rt.abort.bind(rt),onSuccess:ft=>{var dt,pt,mt,vt;if(ft===void 0){st(new Error(`${this.queryHash} data is undefined`));return}this.setData(ft),(pt=(dt=rr(this,Or).config).onSuccess)==null||pt.call(dt,ft,this),(vt=(mt=rr(this,Or).config).onSettled)==null||vt.call(mt,ft,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:st,onFail:(ft,dt)=>{Cr(this,Dr,Fr).call(this,{type:"failed",failureCount:ft,error:dt})},onPause:()=>{Cr(this,Dr,Fr).call(this,{type:"pause"})},onContinue:()=>{Cr(this,Dr,Fr).call(this,{type:"continue"})},retry:at.options.retry,retryDelay:at.options.retryDelay,networkMode:at.options.networkMode})),rr(this,Tr).promise}},ln=new WeakMap,cn=new WeakMap,Or=new WeakMap,Tr=new WeakMap,$r=new WeakMap,En=new WeakMap,Xr=new WeakMap,Dr=new WeakSet,Fr=function(et){const tt=rt=>{switch(et.type){case"failed":return{...rt,fetchFailureCount:et.failureCount,fetchFailureReason:et.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,...fetchState(rt.data,this.options),fetchMeta:et.meta??null};case"success":return{...rt,data:et.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:et.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!et.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const nt=et.error;return isCancelledError(nt)&&nt.revert&&rr(this,cn)?{...rr(this,cn),fetchStatus:"idle"}:{...rt,error:nt,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:nt,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{rr(this,$r).forEach(rt=>{rt.onQueryUpdate()}),rr(this,Or).notify({query:this,type:"updated",action:et})})},io);function fetchState(_e,et){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(et.networkMode)?"fetching":"paused",..._e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(_e){const et=typeof _e.initialData=="function"?_e.initialData():_e.initialData,tt=et!==void 0,rt=tt?typeof _e.initialDataUpdatedAt=="function"?_e.initialDataUpdatedAt():_e.initialDataUpdatedAt:0;return{data:et,dataUpdateCount:0,dataUpdatedAt:tt?rt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"pending",fetchStatus:"idle"}}var Nr,oo,QueryCache=(oo=class extends Subscribable{constructor(et={}){super();wr(this,Nr,void 0);this.config=et,yr(this,Nr,new Map)}build(et,tt,rt){const nt=tt.queryKey,it=tt.queryHash??hashQueryKeyByOptions(nt,tt);let ot=this.get(it);return ot||(ot=new Query({cache:this,queryKey:nt,queryHash:it,options:et.defaultQueryOptions(tt),state:rt,defaultOptions:et.getQueryDefaults(nt)}),this.add(ot)),ot}add(et){rr(this,Nr).has(et.queryHash)||(rr(this,Nr).set(et.queryHash,et),this.notify({type:"added",query:et}))}remove(et){const tt=rr(this,Nr).get(et.queryHash);tt&&(et.destroy(),tt===et&&rr(this,Nr).delete(et.queryHash),this.notify({type:"removed",query:et}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(et=>{this.remove(et)})})}get(et){return rr(this,Nr).get(et)}getAll(){return[...rr(this,Nr).values()]}find(et){const tt={exact:!0,...et};return this.getAll().find(rt=>matchQuery(tt,rt))}findAll(et={}){const tt=this.getAll();return Object.keys(et).length>0?tt.filter(rt=>matchQuery(et,rt)):tt}notify(et){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(et)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onOnline()})})}},Nr=new WeakMap,oo),Lr,Sn,Ar,dn,jr,zr,ao,Mutation=(ao=class extends Removable{constructor(et){super();wr(this,jr);wr(this,Lr,void 0);wr(this,Sn,void 0);wr(this,Ar,void 0);wr(this,dn,void 0);this.mutationId=et.mutationId,yr(this,Sn,et.defaultOptions),yr(this,Ar,et.mutationCache),yr(this,Lr,[]),this.state=et.state||getDefaultState(),this.setOptions(et.options),this.scheduleGc()}setOptions(et){this.options={...rr(this,Sn),...et},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(et){rr(this,Lr).includes(et)||(rr(this,Lr).push(et),this.clearGcTimeout(),rr(this,Ar).notify({type:"observerAdded",mutation:this,observer:et}))}removeObserver(et){yr(this,Lr,rr(this,Lr).filter(tt=>tt!==et)),this.scheduleGc(),rr(this,Ar).notify({type:"observerRemoved",mutation:this,observer:et})}optionalRemove(){rr(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():rr(this,Ar).remove(this))}continue(){var et;return((et=rr(this,dn))==null?void 0:et.continue())??this.execute(this.state.variables)}async execute(et){var nt,it,ot,at,st,lt,ct,ut,ft,dt,pt,mt,vt,ht,yt,gt,xt,_t,wt,Et;const tt=()=>(yr(this,dn,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(et):Promise.reject(new Error("No mutationFn found")),onFail:(St,Ct)=>{Cr(this,jr,zr).call(this,{type:"failed",failureCount:St,error:Ct})},onPause:()=>{Cr(this,jr,zr).call(this,{type:"pause"})},onContinue:()=>{Cr(this,jr,zr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),rr(this,dn).promise),rt=this.state.status==="pending";try{if(!rt){Cr(this,jr,zr).call(this,{type:"pending",variables:et}),await((it=(nt=rr(this,Ar).config).onMutate)==null?void 0:it.call(nt,et,this));const Ct=await((at=(ot=this.options).onMutate)==null?void 0:at.call(ot,et));Ct!==this.state.context&&Cr(this,jr,zr).call(this,{type:"pending",context:Ct,variables:et})}const St=await tt();return await((lt=(st=rr(this,Ar).config).onSuccess)==null?void 0:lt.call(st,St,et,this.state.context,this)),await((ut=(ct=this.options).onSuccess)==null?void 0:ut.call(ct,St,et,this.state.context)),await((dt=(ft=rr(this,Ar).config).onSettled)==null?void 0:dt.call(ft,St,null,this.state.variables,this.state.context,this)),await((mt=(pt=this.options).onSettled)==null?void 0:mt.call(pt,St,null,et,this.state.context)),Cr(this,jr,zr).call(this,{type:"success",data:St}),St}catch(St){try{throw await((ht=(vt=rr(this,Ar).config).onError)==null?void 0:ht.call(vt,St,et,this.state.context,this)),await((gt=(yt=this.options).onError)==null?void 0:gt.call(yt,St,et,this.state.context)),await((_t=(xt=rr(this,Ar).config).onSettled)==null?void 0:_t.call(xt,void 0,St,this.state.variables,this.state.context,this)),await((Et=(wt=this.options).onSettled)==null?void 0:Et.call(wt,void 0,St,et,this.state.context)),St}finally{Cr(this,jr,zr).call(this,{type:"error",error:St})}}}},Lr=new WeakMap,Sn=new WeakMap,Ar=new WeakMap,dn=new WeakMap,jr=new WeakSet,zr=function(et){const tt=rt=>{switch(et.type){case"failed":return{...rt,failureCount:et.failureCount,failureReason:et.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"pending":return{...rt,context:et.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"pending",variables:et.variables,submittedAt:Date.now()};case"success":return{...rt,data:et.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:et.error,failureCount:rt.failureCount+1,failureReason:et.error,isPaused:!1,status:"error"}}};this.state=tt(this.state),notifyManager.batch(()=>{rr(this,Lr).forEach(rt=>{rt.onMutationUpdate(et)}),rr(this,Ar).notify({mutation:this,type:"updated",action:et})})},ao);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,Cn,qr,so,MutationCache=(so=class extends Subscribable{constructor(et={}){super();wr(this,kr,void 0);wr(this,Cn,void 0);wr(this,qr,void 0);this.config=et,yr(this,kr,[]),yr(this,Cn,0)}build(et,tt,rt){const nt=new Mutation({mutationCache:this,mutationId:++In(this,Cn)._,options:et.defaultMutationOptions(tt),state:rt});return this.add(nt),nt}add(et){rr(this,kr).push(et),this.notify({type:"added",mutation:et})}remove(et){yr(this,kr,rr(this,kr).filter(tt=>tt!==et)),this.notify({type:"removed",mutation:et})}clear(){notifyManager.batch(()=>{rr(this,kr).forEach(et=>{this.remove(et)})})}getAll(){return rr(this,kr)}find(et){const tt={exact:!0,...et};return rr(this,kr).find(rt=>matchMutation(tt,rt))}findAll(et={}){return rr(this,kr).filter(tt=>matchMutation(et,tt))}notify(et){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(et)})})}resumePausedMutations(){return yr(this,qr,(rr(this,qr)??Promise.resolve()).then(()=>{const et=rr(this,kr).filter(tt=>tt.state.isPaused);return notifyManager.batch(()=>et.reduce((tt,rt)=>tt.then(()=>rt.continue().catch(noop$1)),Promise.resolve()))}).then(()=>{yr(this,qr,void 0)})),rr(this,qr)}},kr=new WeakMap,Cn=new WeakMap,qr=new WeakMap,so);function infiniteQueryBehavior(_e){return{onFetch:(et,tt)=>{const rt=async()=>{var pt,mt,vt,ht,yt;const nt=et.options,it=(vt=(mt=(pt=et.fetchOptions)==null?void 0:pt.meta)==null?void 0:mt.fetchMore)==null?void 0:vt.direction,ot=((ht=et.state.data)==null?void 0:ht.pages)||[],at=((yt=et.state.data)==null?void 0:yt.pageParams)||[],st={pages:[],pageParams:[]};let lt=!1;const ct=gt=>{Object.defineProperty(gt,"signal",{enumerable:!0,get:()=>(et.signal.aborted?lt=!0:et.signal.addEventListener("abort",()=>{lt=!0}),et.signal)})},ut=et.options.queryFn&&et.options.queryFn!==skipToken?et.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${et.options.queryHash}'`)),ft=async(gt,xt,_t)=>{if(lt)return Promise.reject();if(xt==null&&gt.pages.length)return Promise.resolve(gt);const wt={queryKey:et.queryKey,pageParam:xt,direction:_t?"backward":"forward",meta:et.options.meta};ct(wt);const Et=await ut(wt),{maxPages:St}=et.options,Ct=_t?addToStart:addToEnd;return{pages:Ct(gt.pages,Et,St),pageParams:Ct(gt.pageParams,xt,St)}};let dt;if(it&&ot.length){const gt=it==="backward",xt=gt?getPreviousPageParam:getNextPageParam,_t={pages:ot,pageParams:at},wt=xt(nt,_t);dt=await ft(_t,wt,gt)}else{dt=await ft(st,at[0]??nt.initialPageParam);const gt=_e??ot.length;for(let xt=1;xt<gt;xt++){const _t=getNextPageParam(nt,dt);dt=await ft(dt,_t)}}return dt};et.options.persister?et.fetchFn=()=>{var nt,it;return(it=(nt=et.options).persister)==null?void 0:it.call(nt,rt,{queryKey:et.queryKey,meta:et.options.meta,signal:et.signal},tt)}:et.fetchFn=rt}}}function getNextPageParam(_e,{pages:et,pageParams:tt}){const rt=et.length-1;return _e.getNextPageParam(et[rt],et,tt[rt],tt)}function getPreviousPageParam(_e,{pages:et,pageParams:tt}){var rt;return(rt=_e.getPreviousPageParam)==null?void 0:rt.call(_e,et[0],et,tt[0],tt)}var Sr,Hr,Gr,hn,pn,Wr,mn,gn,lo,QueryClient=(lo=class{constructor(_e={}){wr(this,Sr,void 0);wr(this,Hr,void 0);wr(this,Gr,void 0);wr(this,hn,void 0);wr(this,pn,void 0);wr(this,Wr,void 0);wr(this,mn,void 0);wr(this,gn,void 0);yr(this,Sr,_e.queryCache||new QueryCache),yr(this,Hr,_e.mutationCache||new MutationCache),yr(this,Gr,_e.defaultOptions||{}),yr(this,hn,new Map),yr(this,pn,new Map),yr(this,Wr,0)}mount(){In(this,Wr)._++,rr(this,Wr)===1&&(yr(this,mn,focusManager.subscribe(async _e=>{_e&&(await this.resumePausedMutations(),rr(this,Sr).onFocus())})),yr(this,gn,onlineManager.subscribe(async _e=>{_e&&(await this.resumePausedMutations(),rr(this,Sr).onOnline())})))}unmount(){var _e,et;In(this,Wr)._--,rr(this,Wr)===0&&((_e=rr(this,mn))==null||_e.call(this),yr(this,mn,void 0),(et=rr(this,gn))==null||et.call(this),yr(this,gn,void 0))}isFetching(_e){return rr(this,Sr).findAll({..._e,fetchStatus:"fetching"}).length}isMutating(_e){return rr(this,Hr).findAll({..._e,status:"pending"}).length}getQueryData(_e){var tt;const et=this.defaultQueryOptions({queryKey:_e});return(tt=rr(this,Sr).get(et.queryHash))==null?void 0:tt.state.data}ensureQueryData(_e){const et=this.getQueryData(_e.queryKey);if(et===void 0)return this.fetchQuery(_e);{const tt=this.defaultQueryOptions(_e),rt=rr(this,Sr).build(this,tt);return _e.revalidateIfStale&&rt.isStaleByTime(tt.staleTime)&&this.prefetchQuery(tt),Promise.resolve(et)}}getQueriesData(_e){return rr(this,Sr).findAll(_e).map(({queryKey:et,state:tt})=>{const rt=tt.data;return[et,rt]})}setQueryData(_e,et,tt){const rt=this.defaultQueryOptions({queryKey:_e}),nt=rr(this,Sr).get(rt.queryHash),it=nt==null?void 0:nt.state.data,ot=functionalUpdate(et,it);if(ot!==void 0)return rr(this,Sr).build(this,rt).setData(ot,{...tt,manual:!0})}setQueriesData(_e,et,tt){return notifyManager.batch(()=>rr(this,Sr).findAll(_e).map(({queryKey:rt})=>[rt,this.setQueryData(rt,et,tt)]))}getQueryState(_e){var tt;const et=this.defaultQueryOptions({queryKey:_e});return(tt=rr(this,Sr).get(et.queryHash))==null?void 0:tt.state}removeQueries(_e){const et=rr(this,Sr);notifyManager.batch(()=>{et.findAll(_e).forEach(tt=>{et.remove(tt)})})}resetQueries(_e,et){const tt=rr(this,Sr),rt={type:"active",..._e};return notifyManager.batch(()=>(tt.findAll(_e).forEach(nt=>{nt.reset()}),this.refetchQueries(rt,et)))}cancelQueries(_e={},et={}){const tt={revert:!0,...et},rt=notifyManager.batch(()=>rr(this,Sr).findAll(_e).map(nt=>nt.cancel(tt)));return Promise.all(rt).then(noop$1).catch(noop$1)}invalidateQueries(_e={},et={}){return notifyManager.batch(()=>{if(rr(this,Sr).findAll(_e).forEach(rt=>{rt.invalidate()}),_e.refetchType==="none")return Promise.resolve();const tt={..._e,type:_e.refetchType??_e.type??"active"};return this.refetchQueries(tt,et)})}refetchQueries(_e={},et){const tt={...et,cancelRefetch:(et==null?void 0:et.cancelRefetch)??!0},rt=notifyManager.batch(()=>rr(this,Sr).findAll(_e).filter(nt=>!nt.isDisabled()).map(nt=>{let it=nt.fetch(void 0,tt);return tt.throwOnError||(it=it.catch(noop$1)),nt.state.fetchStatus==="paused"?Promise.resolve():it}));return Promise.all(rt).then(noop$1)}fetchQuery(_e){const et=this.defaultQueryOptions(_e);et.retry===void 0&&(et.retry=!1);const tt=rr(this,Sr).build(this,et);return tt.isStaleByTime(et.staleTime)?tt.fetch(et):Promise.resolve(tt.state.data)}prefetchQuery(_e){return this.fetchQuery(_e).then(noop$1).catch(noop$1)}fetchInfiniteQuery(_e){return _e.behavior=infiniteQueryBehavior(_e.pages),this.fetchQuery(_e)}prefetchInfiniteQuery(_e){return this.fetchInfiniteQuery(_e).then(noop$1).catch(noop$1)}resumePausedMutations(){return onlineManager.isOnline()?rr(this,Hr).resumePausedMutations():Promise.resolve()}getQueryCache(){return rr(this,Sr)}getMutationCache(){return rr(this,Hr)}getDefaultOptions(){return rr(this,Gr)}setDefaultOptions(_e){yr(this,Gr,_e)}setQueryDefaults(_e,et){rr(this,hn).set(hashKey(_e),{queryKey:_e,defaultOptions:et})}getQueryDefaults(_e){const et=[...rr(this,hn).values()];let tt={};return et.forEach(rt=>{partialMatchKey(_e,rt.queryKey)&&(tt={...tt,...rt.defaultOptions})}),tt}setMutationDefaults(_e,et){rr(this,pn).set(hashKey(_e),{mutationKey:_e,defaultOptions:et})}getMutationDefaults(_e){const et=[...rr(this,pn).values()];let tt={};return et.forEach(rt=>{partialMatchKey(_e,rt.mutationKey)&&(tt={...tt,...rt.defaultOptions})}),tt}defaultQueryOptions(_e){if(_e._defaulted)return _e;const et={...rr(this,Gr).queries,...this.getQueryDefaults(_e.queryKey),..._e,_defaulted:!0};return et.queryHash||(et.queryHash=hashQueryKeyByOptions(et.queryKey,et)),et.refetchOnReconnect===void 0&&(et.refetchOnReconnect=et.networkMode!=="always"),et.throwOnError===void 0&&(et.throwOnError=!!et.suspense),!et.networkMode&&et.persister&&(et.networkMode="offlineFirst"),et.enabled!==!0&&et.queryFn===skipToken&&(et.enabled=!1),et}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...rr(this,Gr).mutations,...(_e==null?void 0:_e.mutationKey)&&this.getMutationDefaults(_e.mutationKey),..._e,_defaulted:!0}}clear(){rr(this,Sr).clear(),rr(this,Hr).clear()}},Sr=new WeakMap,Hr=new WeakMap,Gr=new WeakMap,hn=new WeakMap,pn=new WeakMap,Wr=new WeakMap,mn=new WeakMap,gn=new WeakMap,lo),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:_e,children:et})=>(reactExports.useEffect(()=>(_e.mount(),()=>{_e.unmount()}),[_e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:_e,children:et}));const CustomDivPreflight=newStyled.div`
  /* html */
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  tab-size: 4;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    'Noto Sans',
    sans-serif,
    'Apple Color Emoji',
    'Segoe UI Emoji',
    'Segoe UI Symbol',
    'Noto Color Emoji';

  width: 100%;
  height: 100%;
  position: relative;
`,queryClient=new QueryClient({defaultOptions:{queries:{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1}}});FocusStyleManager.onlyShowFocusOnTabs();const style={width:"100%",height:"100%",fontSize:"14px",display:"flex",flexDirection:"column"};function RootLayout(_e){const[et,tt]=reactExports.useState(typeof document<"u"?document.body:null),rt=reactExports.useCallback(nt=>{nt!==null&&tt(nt)},[]);return jsxRuntimeExports.jsx(CustomDivPreflight,{ref:rt,style:{...style,..._e.style},translate:"no",children:jsxRuntimeExports.jsx(BlueprintProvider,{...et?{portalContainer:et}:void 0,children:jsxRuntimeExports.jsx(RootLayoutProvider,{innerRef:et,children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(AccordionProvider,{children:_e.children})})})})})}function useResolvedElement(_e,et){var tt=reactExports.useRef(null),rt=reactExports.useRef(null);rt.current=et;var nt=reactExports.useRef(null);reactExports.useEffect(function(){it()});var it=reactExports.useCallback(function(){var ot=nt.current,at=rt.current,st=ot||(at?at instanceof Element?at:at.current:null);tt.current&&tt.current.element===st&&tt.current.subscriber===_e||(tt.current&&tt.current.cleanup&&tt.current.cleanup(),tt.current={element:st,subscriber:_e,cleanup:st?_e(st):void 0})},[_e]);return reactExports.useEffect(function(){return function(){tt.current&&tt.current.cleanup&&(tt.current.cleanup(),tt.current=null)}},[]),reactExports.useCallback(function(ot){nt.current=ot,it()},[it])}function extractSize(_e,et,tt){return _e[et]?_e[et][0]?_e[et][0][tt]:_e[et][tt]:et==="contentBoxSize"?_e.contentRect[tt==="inlineSize"?"width":"height"]:void 0}function useResizeObserver$1(_e){_e===void 0&&(_e={});var et=_e.onResize,tt=reactExports.useRef(void 0);tt.current=et;var rt=_e.round||Math.round,nt=reactExports.useRef(),it=reactExports.useState({width:void 0,height:void 0}),ot=it[0],at=it[1],st=reactExports.useRef(!1);reactExports.useEffect(function(){return st.current=!1,function(){st.current=!0}},[]);var lt=reactExports.useRef({width:void 0,height:void 0}),ct=useResolvedElement(reactExports.useCallback(function(ut){return(!nt.current||nt.current.box!==_e.box||nt.current.round!==rt)&&(nt.current={box:_e.box,round:rt,instance:new ResizeObserver(function(ft){var dt=ft[0],pt=_e.box==="border-box"?"borderBoxSize":_e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",mt=extractSize(dt,pt,"inlineSize"),vt=extractSize(dt,pt,"blockSize"),ht=mt?rt(mt):void 0,yt=vt?rt(vt):void 0;if(lt.current.width!==ht||lt.current.height!==yt){var gt={width:ht,height:yt};lt.current.width=ht,lt.current.height=yt,tt.current?tt.current(gt):st.current||at(gt)}})}),nt.current.instance.observe(ut,{box:_e.box}),function(){nt.current&&nt.current.instance.unobserve(ut)}},[_e.box,rt]),_e.ref);return reactExports.useMemo(function(){return{ref:ct,width:ot.width,height:ot.height}},[ct,ot.width,ot.height])}function useSplitPaneSize(_e){const{controlledSide:et,direction:tt,splitterRef:rt,sizeType:nt,onSizeChange:it,onResize:ot}=_e;function at(){let st=null;function lt(ut){if(!rt.current)return;const{clientX:ft,clientY:dt}=ut,pt=rt.current.parentElement,mt=pt.getBoundingClientRect(),vt=tt==="horizontal"?pt.clientWidth:pt.clientHeight,ht=tt==="horizontal"?ft-mt.left:dt-mt.top,yt=tt==="horizontal"?rt.current.clientWidth/2:rt.current.clientHeight/2,gt=et==="start"?ht:vt-ht;if(nt==="px")st=[getValueFromSplitter(gt-yt,{min:50,max:vt-50}),nt],it(st);else if(nt==="%"){const xt=gt/vt*100;st=[getValueFromSplitter(xt,{min:5,max:95}),nt],it(st)}}function ct(){window.removeEventListener("pointermove",lt),window.removeEventListener("pointerup",ct),st&&ot&&ot(`${st[0]}${st[1]}`)}window.addEventListener("pointermove",lt),window.addEventListener("pointerup",ct)}return{onPointerDown:at}}function getValueFromSplitter(_e,et){const tt=Math.round((_e+Number.EPSILON)*100)/100;return getMinMax$1(tt,et)}function getMinMax$1(_e,et){return Math.min(Math.max(_e,et.min),et.max)}reactExports.createContext(!1);function SplitPane(_e){const{direction:et="horizontal",controlledSide:tt="start",size:rt="50%",closed:nt=!1,onResize:it,onToggle:ot,children:at}=_e,st=typeof nt=="number"?nt:null,[lt,ct,ut]=useOnOff(typeof nt=="boolean"?nt:!1),[ft,dt]=reactExports.useReducer(()=>!0,!1),[[pt,mt],vt]=reactExports.useState(()=>parseSize(rt));reactExports.useEffect(()=>{vt(parseSize(rt))},[rt]),reactExports.useEffect(()=>{typeof nt=="boolean"&&(nt?ct():ut())},[ct,nt,ut]);const ht=reactExports.useRef(null),{onPointerDown:yt}=useSplitPaneSize({controlledSide:tt,direction:et,splitterRef:ht,sizeType:mt,onSizeChange(Et){dt(),vt(Et)},onResize:it}),gt=useResizeObserver$1();let xt=lt;!xt&&st!==null&&!ft&&gt.width!==void 0&&gt.height!==void 0&&(et==="horizontal"?xt=gt.width<st:xt=gt.height<st);function _t(){dt(),xt?(ut(),lt&&ot&&ot(!1)):(ct(),!lt&&ot&&ot(!0))}function wt(Et){return getItemStyle(xt,tt===Et,et,pt,mt)}return jsxs("div",{ref:gt.ref,style:{display:"flex",height:"100%",width:"100%",[et==="horizontal"?"minWidth":"minHeight"]:0,flexDirection:et==="horizontal"?"row":"column"},children:[jsx(SplitSide,{style:wt("start"),children:at[0]}),jsx(Splitter,{onDoubleClick:_t,onPointerDown:xt?void 0:yt,isFinalClosed:xt,direction:et,splitterRef:ht}),jsx(SplitSide,{style:wt("end"),children:at[1]})]})}function Splitter(_e){const{onDoubleClick:et,onPointerDown:tt,direction:rt,isFinalClosed:nt,splitterRef:it}=_e;return jsx("div",{onDoubleClick:et,onPointerDown:tt,css:getSeparatorStyle(rt,!nt),ref:it,children:jsx("div",{style:{fontSize:"0.875em"},children:rt==="horizontal"?jsx("span",{children:"⋮"}):jsx("span",{children:"⋯"})})})}function SplitSide(_e){const{style:et,children:tt}=_e;return jsx("div",{style:et,children:tt})}function parseSize(_e){const et=Number.parseFloat(_e),tt=_e.replaceAll(/[\d .]/g,"");return[et,tt]}const flexBase=100;function percentToFlex(_e){return _e/=100,(flexBase-_e*flexBase)/_e}function getItemStyle(_e,et,tt,rt,nt){const it=tt==="horizontal";return _e?et?{display:"none"}:{flex:"1 1 0%",display:"flex"}:nt==="%"?et?{flex:"100 0 0%",display:"flex"}:{flex:`${percentToFlex(rt)} 0 0%`,display:"flex",[it?"minWidth":"minHeight"]:0}:et?{[it?"width":"height"]:rt,display:"flex"}:{flex:"1 1 0%",display:"flex",[it?"minWidth":"minHeight"]:0}}function getSeparatorStyle(_e,et){return css([_e==="horizontal"&&{cursor:et?"ew-resize":"pointer",width:"10px"},_e==="vertical"&&{height:"10px",cursor:et?"ns-resize":"pointer"},{backgroundColor:"rgb(247, 247, 247)",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",minWidth:11,touchAction:"none",":hover":{backgroundColor:"rgb(223, 223, 223)"}}])}var IDX=256,HEX=[],BUFFER;for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var _e=0,et,tt="";if(!BUFFER||IDX+16>256){for(BUFFER=Array(_e=256);_e--;)BUFFER[_e]=256*Math.random()|0;_e=IDX=0}for(;_e<16;_e++)et=BUFFER[IDX+_e],_e==6?tt+=HEX[et&15|64]:_e==8?tt+=HEX[et&63|128]:tt+=HEX[et],_e&1&&_e>1&&_e<11&&(tt+="-");return IDX++,tt}const SET_GREY_FILTER="SET_GREY_FILTER";function setGreyFilter(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"GREY_FILTER",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"GREY_FILTER",isActive:!0,options:rt}}const SET_BLUR="SET_BLUR";function setBlur(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:tt,type:"BLUR",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"BLUR",isActive:!0,options:rt}}const SET_GAUSSIAN_BLUR="SET_GAUSSIAN_BLUR";function setGaussianBlur(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"GAUSSIAN_BLUR",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"GAUSSIAN_BLUR",isActive:!0,options:rt}}const SET_INVERT="SET_INVERT";function setInvert(_e,{identifier:et,opIdentifier:tt=v4()}){const rt=_e.images[et];if(rt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:nt}=rt,it=nt.findIndex(ot=>ot.identifier===tt);it===-1?nt.push({identifier:v4(),type:"INVERT",isActive:!0}):nt[it]={identifier:tt,type:"INVERT",isActive:!0}}const SET_FLIP="SET_FLIP";function setFlip(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"FLIP",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"FLIP",isActive:!0,options:rt}}const SET_LEVEL="SET_LEVEL";function setLevel(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"LEVEL",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"LEVEL",isActive:!0,options:rt}}const SET_PIXELATE="SET_PIXELATE";function setPixelate(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"PIXELATE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"PIXELATE",isActive:!0,options:rt}}const SET_MEDIAN_FILTER="SET_MEDIAN_FILTER";function setMedianFilter(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"MEDIAN_FILTER",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"MEDIAN_FILTER",isActive:!0,options:rt}}const SET_MASK="SET_MASK";function setMask(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"MASK",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"MASK",isActive:!0,options:rt}}const SET_DILATE="SET_DILATE";function setDilate(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"DILATE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"DILATE",isActive:!0,options:rt}}const SET_ERODE="SET_ERODE";function setErode(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"ERODE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"ERODE",isActive:!0,options:rt}}const SET_OPEN="SET_OPEN";function setOpen(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"OPEN",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"OPEN",isActive:!0,options:rt}}const SET_CLOSE="SET_CLOSE";function setClose(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:v4(),type:"CLOSE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"CLOSE",isActive:!0,options:rt}}const REMOVE_OPERATION="REMOVE_OPERATION",TOGGLE_OPERATION="TOGGLE_OPERATION",COPY_OPERATIONS="COPY_OPERATIONS";function removeOperation(_e,{identifier:et,opIdentifier:tt}){const rt=_e.images[et];if(rt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:nt}=rt,it=nt.findIndex(ot=>ot.identifier===tt);if(it===-1)throw new Error(`Operation ${tt} not found`);nt.splice(it,1)}function toggleOperation(_e,{identifier:et,opIdentifier:tt,checked:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);for(const[at,st]of it.entries())st.isActive=rt?at<=ot:at<ot}function copyOperations(_e,{fromIdentifier:et,toIdentifier:tt}){const rt=_e.images[et];if(rt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:nt}=rt,it=nt.map(ot=>({...ot,identifier:v4()}));_e.images[tt].pipeline.push(...it)}const SET_RESIZE="SET_RESIZE";function setResize(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:tt,type:"RESIZE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"RESIZE",isActive:!0,options:rt}}const SET_ROTATE="SET_ROTATE";function setRotate(_e,{identifier:et,opIdentifier:tt=v4(),options:rt}){const nt=_e.images[et];if(nt===void 0)throw new Error(`Image ${et} not found`);const{pipeline:it}=nt,ot=it.findIndex(at=>at.identifier===tt);ot===-1?it.push({identifier:tt,type:"ROTATE",isActive:!0,options:rt}):it[ot]={identifier:tt,type:"ROTATE",isActive:!0,options:rt}}const SET_LOADING="SET_LOADING",LOAD_DROP="LOAD_DROP",LOAD_PIXELIUM="LOAD_PIXELIUM",CLOSE_IMAGE="CLOSE_IMAGE",SET_ROI="SET_ROI";function setLoading(_e,et){_e.isLoading=et}function loadDrop(_e,et){for(const tt in et)_e.images[tt]=et[tt]}function loadPixelium(_e,et){_e.isLoading=et.isLoading,_e.images=et.images}function closeImage(_e,et){delete _e.images[et]}function setROIs(_e,et){_e.images[et.identifier].rois=et.rois}const initialDataState={isLoading:!1,images:{}};function innerDataReducer(_e,et){switch(et.type){case SET_LOADING:return setLoading(_e,et.payload);case LOAD_DROP:return loadDrop(_e,et.payload);case LOAD_PIXELIUM:return loadPixelium(_e,et.payload);case SET_GREY_FILTER:return setGreyFilter(_e,et.payload);case SET_BLUR:return setBlur(_e,et.payload);case SET_GAUSSIAN_BLUR:return setGaussianBlur(_e,et.payload);case SET_INVERT:return setInvert(_e,et.payload);case SET_MASK:return setMask(_e,et.payload);case SET_FLIP:return setFlip(_e,et.payload);case SET_LEVEL:return setLevel(_e,et.payload);case SET_PIXELATE:return setPixelate(_e,et.payload);case SET_MEDIAN_FILTER:return setMedianFilter(_e,et.payload);case REMOVE_OPERATION:return removeOperation(_e,et.payload);case TOGGLE_OPERATION:return toggleOperation(_e,et.payload);case SET_ROI:return setROIs(_e,et.payload);case SET_DILATE:return setDilate(_e,et.payload);case SET_ERODE:return setErode(_e,et.payload);case SET_OPEN:return setOpen(_e,et.payload);case SET_CLOSE:return setClose(_e,et.payload);case SET_RESIZE:return setResize(_e,et.payload);case SET_ROTATE:return setRotate(_e,et.payload);case CLOSE_IMAGE:return closeImage(_e,et.payload);case COPY_OPERATIONS:return copyOperations(_e,et.payload);default:throw new Error("Unknown action type in data reducer.")}}const dataReducer=produce(innerDataReducer),INITIALIZE_PREFERENCES="INITIALIZE_PREFERENCES",SET_ROIS_COLUMNS="SET_ROIS_COLUMNS",SET_ROIS_ANNOTATIONS="SET_ROIS_ANNOTATIONS";function initializePreferences(_e,et){_e.rois.columns=et.rois.columns}function setROIsColumns(_e,et){_e.rois.columns=et}function setROIsAnnotations(_e,et){_e.rois.annotations=et}const availableRoiColumns=["id","column","row","width","height","surface","feretAspectRatio","feretMinDiameter","feretMaxDiameter","roundness","solidity","sphericity","fillRatio"],initialPreferencesState={rois:{columns:[...availableRoiColumns],annotations:{convexHull:{enabled:!0,color:{hex:"#ff0000",a:.5},fontColor:{hex:"#ff0000",a:.5},fontSize:9,displayValue:!0},minimalBoundingRectangle:{enabled:!0,color:{hex:"#0000ff",a:.5},fontColor:{hex:"#0000ff",a:.5},fontSize:9,displayValue:!1},feretDiameters:{enabled:!0,color:{hex:"#ff00ff",a:.5},fontColor:{hex:"#ff00ff",a:.5},fontSize:9,displayValue:!1},surface:{enabled:!1,color:{hex:"#00ff00",a:.5},fontColor:{hex:"#00ff00",a:.5},fontSize:9,displayValue:!1}}}};function innerPreferencesReducer(_e,et){switch(et.type){case INITIALIZE_PREFERENCES:return initializePreferences(_e,et.payload);case SET_ROIS_COLUMNS:return setROIsColumns(_e,et.payload);case SET_ROIS_ANNOTATIONS:return setROIsAnnotations(_e,et.payload);default:throw new Error("Unknown action type in preferences reducer.")}}const preferencesReducer=produce(innerPreferencesReducer),OPEN_TAB="OPEN_TAB",CLOSE_TAB="CLOSE_TAB",SET_PAN_ZOOM="SET_PAN_ZOOM",OPEN_MODAL="OPEN_MODAL",CLOSE_MODAL="CLOSE_MODAL",SET_EDIT_MODE_IDENTIFIER="SET_EDIT_MODE_IDENTIFIER",SET_EDIT_ROI_PREFERENCE="SET_EDIT_ROI_PREFERENCE",LOAD_VIEW_STATE="LOAD_VIEW_STATE";function setPanZoom(_e,{identifier:et,panZoom:tt}){_e.imageViewerProps[et]=tt}function loadViewState(_e,et){_e.modals=et.modals,_e.editMode=et.editMode,_e.imageViewerProps=et.imageViewerProps,_e.editROIPreference=et.editROIPreference,_e.currentTab=et.currentTab}function setEditROIPreference(_e,et){_e.editROIPreference=et}function openModal(_e,et){_e.modals[et]=!0}function closeModal(_e,et){_e.modals[et]=!1,_e.editMode=null}function setEditModeIdentifier(_e,et){_e.editMode=et}function openTab(_e,et){_e.currentTab=et}function closeTab(_e){_e.currentTab=void 0}const OP_TYPE_MODAL_MAP={GREY_FILTER:"grey",BLUR:"blur",GAUSSIAN_BLUR:"gaussianBlur",INVERT:"invert",FLIP:"flip",LEVEL:"level",PIXELATE:"pixelate",MASK:"mask",MEDIAN_FILTER:"median",DILATE:"dilate",ERODE:"erode",OPEN:"open",CLOSE:"close",RESIZE:"resize",ROTATE:"rotate"};function getModalNameFromOperationType(_e){return OP_TYPE_MODAL_MAP[_e]}const initialViewState={currentTab:void 0,imageViewerProps:{},modals:{grey:!1,blur:!1,gaussianBlur:!1,invert:!1,flip:!1,level:!1,pixelate:!1,mask:!1,log:!1,about:!1,export:!1,median:!1,dilate:!1,erode:!1,open:!1,close:!1,resize:!1,rotate:!1,extractROI:!1},editMode:null,editROIPreference:!1};function innerViewReducer(_e,et){switch(et.type){case LOAD_VIEW_STATE:return loadViewState(_e,et.payload);case OPEN_TAB:return openTab(_e,et.payload);case CLOSE_TAB:return closeTab(_e);case SET_PAN_ZOOM:return setPanZoom(_e,et.payload);case OPEN_MODAL:return openModal(_e,et.payload);case CLOSE_MODAL:return closeModal(_e,et.payload);case SET_EDIT_MODE_IDENTIFIER:return setEditModeIdentifier(_e,et.payload);case SET_EDIT_ROI_PREFERENCE:return setEditROIPreference(_e,et.payload);default:throw new Error("Unknown action type in view reducer.")}}const viewReducer=produce(innerViewReducer);function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(_e,et){(function(tt){_e.exports=tt()})(function(){return function tt(rt,nt,it){function ot(lt,ct){if(!nt[lt]){if(!rt[lt]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ct&&ut)return ut(lt,!0);if(at)return at(lt,!0);var ft=new Error("Cannot find module '"+lt+"'");throw ft.code="MODULE_NOT_FOUND",ft}var dt=nt[lt]={exports:{}};rt[lt][0].call(dt.exports,function(pt){var mt=rt[lt][1][pt];return ot(mt||pt)},dt,dt.exports,tt,rt,nt,it)}return nt[lt].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<it.length;st++)ot(it[st]);return ot}({1:[function(tt,rt,nt){var it=tt("./utils"),ot=tt("./support"),at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";nt.encode=function(st){for(var lt,ct,ut,ft,dt,pt,mt,vt=[],ht=0,yt=st.length,gt=yt,xt=it.getTypeOf(st)!=="string";ht<st.length;)gt=yt-ht,ut=xt?(lt=st[ht++],ct=ht<yt?st[ht++]:0,ht<yt?st[ht++]:0):(lt=st.charCodeAt(ht++),ct=ht<yt?st.charCodeAt(ht++):0,ht<yt?st.charCodeAt(ht++):0),ft=lt>>2,dt=(3&lt)<<4|ct>>4,pt=1<gt?(15&ct)<<2|ut>>6:64,mt=2<gt?63&ut:64,vt.push(at.charAt(ft)+at.charAt(dt)+at.charAt(pt)+at.charAt(mt));return vt.join("")},nt.decode=function(st){var lt,ct,ut,ft,dt,pt,mt=0,vt=0,ht="data:";if(st.substr(0,ht.length)===ht)throw new Error("Invalid base64 input, it looks like a data url.");var yt,gt=3*(st=st.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(st.charAt(st.length-1)===at.charAt(64)&&gt--,st.charAt(st.length-2)===at.charAt(64)&&gt--,gt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(yt=ot.uint8array?new Uint8Array(0|gt):new Array(0|gt);mt<st.length;)lt=at.indexOf(st.charAt(mt++))<<2|(ft=at.indexOf(st.charAt(mt++)))>>4,ct=(15&ft)<<4|(dt=at.indexOf(st.charAt(mt++)))>>2,ut=(3&dt)<<6|(pt=at.indexOf(st.charAt(mt++))),yt[vt++]=lt,dt!==64&&(yt[vt++]=ct),pt!==64&&(yt[vt++]=ut);return yt}},{"./support":30,"./utils":32}],2:[function(tt,rt,nt){var it=tt("./external"),ot=tt("./stream/DataWorker"),at=tt("./stream/Crc32Probe"),st=tt("./stream/DataLengthProbe");function lt(ct,ut,ft,dt,pt){this.compressedSize=ct,this.uncompressedSize=ut,this.crc32=ft,this.compression=dt,this.compressedContent=pt}lt.prototype={getContentWorker:function(){var ct=new ot(it.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new st("data_length")),ut=this;return ct.on("end",function(){if(this.streamInfo.data_length!==ut.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ct},getCompressedWorker:function(){return new ot(it.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},lt.createWorkerFrom=function(ct,ut,ft){return ct.pipe(new at).pipe(new st("uncompressedSize")).pipe(ut.compressWorker(ft)).pipe(new st("compressedSize")).withStreamInfo("compression",ut)},rt.exports=lt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(tt,rt,nt){var it=tt("./stream/GenericWorker");nt.STORE={magic:"\0\0",compressWorker:function(){return new it("STORE compression")},uncompressWorker:function(){return new it("STORE decompression")}},nt.DEFLATE=tt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(tt,rt,nt){var it=tt("./utils"),ot=function(){for(var at,st=[],lt=0;lt<256;lt++){at=lt;for(var ct=0;ct<8;ct++)at=1&at?3988292384^at>>>1:at>>>1;st[lt]=at}return st}();rt.exports=function(at,st){return at!==void 0&&at.length?it.getTypeOf(at)!=="string"?function(lt,ct,ut,ft){var dt=ot,pt=ft+ut;lt^=-1;for(var mt=ft;mt<pt;mt++)lt=lt>>>8^dt[255&(lt^ct[mt])];return-1^lt}(0|st,at,at.length,0):function(lt,ct,ut,ft){var dt=ot,pt=ft+ut;lt^=-1;for(var mt=ft;mt<pt;mt++)lt=lt>>>8^dt[255&(lt^ct.charCodeAt(mt))];return-1^lt}(0|st,at,at.length,0):0}},{"./utils":32}],5:[function(tt,rt,nt){nt.base64=!1,nt.binary=!1,nt.dir=!1,nt.createFolders=!0,nt.date=null,nt.compression=null,nt.compressionOptions=null,nt.comment=null,nt.unixPermissions=null,nt.dosPermissions=null},{}],6:[function(tt,rt,nt){var it=null;it=typeof Promise<"u"?Promise:tt("lie"),rt.exports={Promise:it}},{lie:37}],7:[function(tt,rt,nt){var it=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",ot=tt("pako"),at=tt("./utils"),st=tt("./stream/GenericWorker"),lt=it?"uint8array":"array";function ct(ut,ft){st.call(this,"FlateWorker/"+ut),this._pako=null,this._pakoAction=ut,this._pakoOptions=ft,this.meta={}}nt.magic="\b\0",at.inherits(ct,st),ct.prototype.processChunk=function(ut){this.meta=ut.meta,this._pako===null&&this._createPako(),this._pako.push(at.transformTo(lt,ut.data),!1)},ct.prototype.flush=function(){st.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ct.prototype.cleanUp=function(){st.prototype.cleanUp.call(this),this._pako=null},ct.prototype._createPako=function(){this._pako=new ot[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ut=this;this._pako.onData=function(ft){ut.push({data:ft,meta:ut.meta})}},nt.compressWorker=function(ut){return new ct("Deflate",ut)},nt.uncompressWorker=function(){return new ct("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(tt,rt,nt){function it(dt,pt){var mt,vt="";for(mt=0;mt<pt;mt++)vt+=String.fromCharCode(255&dt),dt>>>=8;return vt}function ot(dt,pt,mt,vt,ht,yt){var gt,xt,_t=dt.file,wt=dt.compression,Et=yt!==lt.utf8encode,St=at.transformTo("string",yt(_t.name)),Ct=at.transformTo("string",lt.utf8encode(_t.name)),bt=_t.comment,At=at.transformTo("string",yt(bt)),Tt=at.transformTo("string",lt.utf8encode(bt)),Ot=Ct.length!==_t.name.length,$t=Tt.length!==bt.length,It="",Nt="",jt="",Bt=_t.dir,Dt=_t.date,zt={crc32:0,compressedSize:0,uncompressedSize:0};pt&&!mt||(zt.crc32=dt.crc32,zt.compressedSize=dt.compressedSize,zt.uncompressedSize=dt.uncompressedSize);var Lt=0;pt&&(Lt|=8),Et||!Ot&&!$t||(Lt|=2048);var Ft=0,Xt=0;Bt&&(Ft|=16),ht==="UNIX"?(Xt=798,Ft|=function(Ht,nr){var fr=Ht;return Ht||(fr=nr?16893:33204),(65535&fr)<<16}(_t.unixPermissions,Bt)):(Xt=20,Ft|=function(Ht){return 63&(Ht||0)}(_t.dosPermissions)),gt=Dt.getUTCHours(),gt<<=6,gt|=Dt.getUTCMinutes(),gt<<=5,gt|=Dt.getUTCSeconds()/2,xt=Dt.getUTCFullYear()-1980,xt<<=4,xt|=Dt.getUTCMonth()+1,xt<<=5,xt|=Dt.getUTCDate(),Ot&&(Nt=it(1,1)+it(ct(St),4)+Ct,It+="up"+it(Nt.length,2)+Nt),$t&&(jt=it(1,1)+it(ct(At),4)+Tt,It+="uc"+it(jt.length,2)+jt);var Wt="";return Wt+=`
\0`,Wt+=it(Lt,2),Wt+=wt.magic,Wt+=it(gt,2),Wt+=it(xt,2),Wt+=it(zt.crc32,4),Wt+=it(zt.compressedSize,4),Wt+=it(zt.uncompressedSize,4),Wt+=it(St.length,2),Wt+=it(It.length,2),{fileRecord:ut.LOCAL_FILE_HEADER+Wt+St+It,dirRecord:ut.CENTRAL_FILE_HEADER+it(Xt,2)+Wt+it(At.length,2)+"\0\0\0\0"+it(Ft,4)+it(vt,4)+St+It+At}}var at=tt("../utils"),st=tt("../stream/GenericWorker"),lt=tt("../utf8"),ct=tt("../crc32"),ut=tt("../signature");function ft(dt,pt,mt,vt){st.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=pt,this.zipPlatform=mt,this.encodeFileName=vt,this.streamFiles=dt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}at.inherits(ft,st),ft.prototype.push=function(dt){var pt=dt.meta.percent||0,mt=this.entriesCount,vt=this._sources.length;this.accumulate?this.contentBuffer.push(dt):(this.bytesWritten+=dt.data.length,st.prototype.push.call(this,{data:dt.data,meta:{currentFile:this.currentFile,percent:mt?(pt+100*(mt-vt-1))/mt:100}}))},ft.prototype.openedSource=function(dt){this.currentSourceOffset=this.bytesWritten,this.currentFile=dt.file.name;var pt=this.streamFiles&&!dt.file.dir;if(pt){var mt=ot(dt,pt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:mt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ft.prototype.closedSource=function(dt){this.accumulate=!1;var pt=this.streamFiles&&!dt.file.dir,mt=ot(dt,pt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(mt.dirRecord),pt)this.push({data:function(vt){return ut.DATA_DESCRIPTOR+it(vt.crc32,4)+it(vt.compressedSize,4)+it(vt.uncompressedSize,4)}(dt),meta:{percent:100}});else for(this.push({data:mt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ft.prototype.flush=function(){for(var dt=this.bytesWritten,pt=0;pt<this.dirRecords.length;pt++)this.push({data:this.dirRecords[pt],meta:{percent:100}});var mt=this.bytesWritten-dt,vt=function(ht,yt,gt,xt,_t){var wt=at.transformTo("string",_t(xt));return ut.CENTRAL_DIRECTORY_END+"\0\0\0\0"+it(ht,2)+it(ht,2)+it(yt,4)+it(gt,4)+it(wt.length,2)+wt}(this.dirRecords.length,mt,dt,this.zipComment,this.encodeFileName);this.push({data:vt,meta:{percent:100}})},ft.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ft.prototype.registerPrevious=function(dt){this._sources.push(dt);var pt=this;return dt.on("data",function(mt){pt.processChunk(mt)}),dt.on("end",function(){pt.closedSource(pt.previous.streamInfo),pt._sources.length?pt.prepareNextSource():pt.end()}),dt.on("error",function(mt){pt.error(mt)}),this},ft.prototype.resume=function(){return!!st.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ft.prototype.error=function(dt){var pt=this._sources;if(!st.prototype.error.call(this,dt))return!1;for(var mt=0;mt<pt.length;mt++)try{pt[mt].error(dt)}catch{}return!0},ft.prototype.lock=function(){st.prototype.lock.call(this);for(var dt=this._sources,pt=0;pt<dt.length;pt++)dt[pt].lock()},rt.exports=ft},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(tt,rt,nt){var it=tt("../compressions"),ot=tt("./ZipFileWorker");nt.generateWorker=function(at,st,lt){var ct=new ot(st.streamFiles,lt,st.platform,st.encodeFileName),ut=0;try{at.forEach(function(ft,dt){ut++;var pt=function(yt,gt){var xt=yt||gt,_t=it[xt];if(!_t)throw new Error(xt+" is not a valid compression method !");return _t}(dt.options.compression,st.compression),mt=dt.options.compressionOptions||st.compressionOptions||{},vt=dt.dir,ht=dt.date;dt._compressWorker(pt,mt).withStreamInfo("file",{name:ft,dir:vt,date:ht,comment:dt.comment||"",unixPermissions:dt.unixPermissions,dosPermissions:dt.dosPermissions}).pipe(ct)}),ct.entriesCount=ut}catch(ft){ct.error(ft)}return ct}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(tt,rt,nt){function it(){if(!(this instanceof it))return new it;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var ot=new it;for(var at in this)typeof this[at]!="function"&&(ot[at]=this[at]);return ot}}(it.prototype=tt("./object")).loadAsync=tt("./load"),it.support=tt("./support"),it.defaults=tt("./defaults"),it.version="3.10.1",it.loadAsync=function(ot,at){return new it().loadAsync(ot,at)},it.external=tt("./external"),rt.exports=it},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(tt,rt,nt){var it=tt("./utils"),ot=tt("./external"),at=tt("./utf8"),st=tt("./zipEntries"),lt=tt("./stream/Crc32Probe"),ct=tt("./nodejsUtils");function ut(ft){return new ot.Promise(function(dt,pt){var mt=ft.decompressed.getContentWorker().pipe(new lt);mt.on("error",function(vt){pt(vt)}).on("end",function(){mt.streamInfo.crc32!==ft.decompressed.crc32?pt(new Error("Corrupted zip : CRC32 mismatch")):dt()}).resume()})}rt.exports=function(ft,dt){var pt=this;return dt=it.extend(dt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:at.utf8decode}),ct.isNode&&ct.isStream(ft)?ot.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):it.prepareContent("the loaded zip file",ft,!0,dt.optimizedBinaryString,dt.base64).then(function(mt){var vt=new st(dt);return vt.load(mt),vt}).then(function(mt){var vt=[ot.Promise.resolve(mt)],ht=mt.files;if(dt.checkCRC32)for(var yt=0;yt<ht.length;yt++)vt.push(ut(ht[yt]));return ot.Promise.all(vt)}).then(function(mt){for(var vt=mt.shift(),ht=vt.files,yt=0;yt<ht.length;yt++){var gt=ht[yt],xt=gt.fileNameStr,_t=it.resolve(gt.fileNameStr);pt.file(_t,gt.decompressed,{binary:!0,optimizedBinaryString:!0,date:gt.date,dir:gt.dir,comment:gt.fileCommentStr.length?gt.fileCommentStr:null,unixPermissions:gt.unixPermissions,dosPermissions:gt.dosPermissions,createFolders:dt.createFolders}),gt.dir||(pt.file(_t).unsafeOriginalName=xt)}return vt.zipComment.length&&(pt.comment=vt.zipComment),pt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(tt,rt,nt){var it=tt("../utils"),ot=tt("../stream/GenericWorker");function at(st,lt){ot.call(this,"Nodejs stream input adapter for "+st),this._upstreamEnded=!1,this._bindStream(lt)}it.inherits(at,ot),at.prototype._bindStream=function(st){var lt=this;(this._stream=st).pause(),st.on("data",function(ct){lt.push({data:ct,meta:{percent:0}})}).on("error",function(ct){lt.isPaused?this.generatedError=ct:lt.error(ct)}).on("end",function(){lt.isPaused?lt._upstreamEnded=!0:lt.end()})},at.prototype.pause=function(){return!!ot.prototype.pause.call(this)&&(this._stream.pause(),!0)},at.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},rt.exports=at},{"../stream/GenericWorker":28,"../utils":32}],13:[function(tt,rt,nt){var it=tt("readable-stream").Readable;function ot(at,st,lt){it.call(this,st),this._helper=at;var ct=this;at.on("data",function(ut,ft){ct.push(ut)||ct._helper.pause(),lt&&lt(ft)}).on("error",function(ut){ct.emit("error",ut)}).on("end",function(){ct.push(null)})}tt("../utils").inherits(ot,it),ot.prototype._read=function(){this._helper.resume()},rt.exports=ot},{"../utils":32,"readable-stream":16}],14:[function(tt,rt,nt){rt.exports={isNode:typeof Buffer<"u",newBufferFrom:function(it,ot){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(it,ot);if(typeof it=="number")throw new Error('The "data" argument must not be a number');return new Buffer(it,ot)},allocBuffer:function(it){if(Buffer.alloc)return Buffer.alloc(it);var ot=new Buffer(it);return ot.fill(0),ot},isBuffer:function(it){return Buffer.isBuffer(it)},isStream:function(it){return it&&typeof it.on=="function"&&typeof it.pause=="function"&&typeof it.resume=="function"}}},{}],15:[function(tt,rt,nt){function it(_t,wt,Et){var St,Ct=at.getTypeOf(wt),bt=at.extend(Et||{},ct);bt.date=bt.date||new Date,bt.compression!==null&&(bt.compression=bt.compression.toUpperCase()),typeof bt.unixPermissions=="string"&&(bt.unixPermissions=parseInt(bt.unixPermissions,8)),bt.unixPermissions&&16384&bt.unixPermissions&&(bt.dir=!0),bt.dosPermissions&&16&bt.dosPermissions&&(bt.dir=!0),bt.dir&&(_t=ht(_t)),bt.createFolders&&(St=vt(_t))&&yt.call(this,St,!0);var At=Ct==="string"&&bt.binary===!1&&bt.base64===!1;Et&&Et.binary!==void 0||(bt.binary=!At),(wt instanceof ut&&wt.uncompressedSize===0||bt.dir||!wt||wt.length===0)&&(bt.base64=!1,bt.binary=!0,wt="",bt.compression="STORE",Ct="string");var Tt=null;Tt=wt instanceof ut||wt instanceof st?wt:pt.isNode&&pt.isStream(wt)?new mt(_t,wt):at.prepareContent(_t,wt,bt.binary,bt.optimizedBinaryString,bt.base64);var Ot=new ft(_t,Tt,bt);this.files[_t]=Ot}var ot=tt("./utf8"),at=tt("./utils"),st=tt("./stream/GenericWorker"),lt=tt("./stream/StreamHelper"),ct=tt("./defaults"),ut=tt("./compressedObject"),ft=tt("./zipObject"),dt=tt("./generate"),pt=tt("./nodejsUtils"),mt=tt("./nodejs/NodejsStreamInputAdapter"),vt=function(_t){_t.slice(-1)==="/"&&(_t=_t.substring(0,_t.length-1));var wt=_t.lastIndexOf("/");return 0<wt?_t.substring(0,wt):""},ht=function(_t){return _t.slice(-1)!=="/"&&(_t+="/"),_t},yt=function(_t,wt){return wt=wt!==void 0?wt:ct.createFolders,_t=ht(_t),this.files[_t]||it.call(this,_t,null,{dir:!0,createFolders:wt}),this.files[_t]};function gt(_t){return Object.prototype.toString.call(_t)==="[object RegExp]"}var xt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_t){var wt,Et,St;for(wt in this.files)St=this.files[wt],(Et=wt.slice(this.root.length,wt.length))&&wt.slice(0,this.root.length)===this.root&&_t(Et,St)},filter:function(_t){var wt=[];return this.forEach(function(Et,St){_t(Et,St)&&wt.push(St)}),wt},file:function(_t,wt,Et){if(arguments.length!==1)return _t=this.root+_t,it.call(this,_t,wt,Et),this;if(gt(_t)){var St=_t;return this.filter(function(bt,At){return!At.dir&&St.test(bt)})}var Ct=this.files[this.root+_t];return Ct&&!Ct.dir?Ct:null},folder:function(_t){if(!_t)return this;if(gt(_t))return this.filter(function(Ct,bt){return bt.dir&&_t.test(Ct)});var wt=this.root+_t,Et=yt.call(this,wt),St=this.clone();return St.root=Et.name,St},remove:function(_t){_t=this.root+_t;var wt=this.files[_t];if(wt||(_t.slice(-1)!=="/"&&(_t+="/"),wt=this.files[_t]),wt&&!wt.dir)delete this.files[_t];else for(var Et=this.filter(function(Ct,bt){return bt.name.slice(0,_t.length)===_t}),St=0;St<Et.length;St++)delete this.files[Et[St].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_t){var wt,Et={};try{if((Et=at.extend(_t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ot.utf8encode})).type=Et.type.toLowerCase(),Et.compression=Et.compression.toUpperCase(),Et.type==="binarystring"&&(Et.type="string"),!Et.type)throw new Error("No output type specified.");at.checkSupport(Et.type),Et.platform!=="darwin"&&Et.platform!=="freebsd"&&Et.platform!=="linux"&&Et.platform!=="sunos"||(Et.platform="UNIX"),Et.platform==="win32"&&(Et.platform="DOS");var St=Et.comment||this.comment||"";wt=dt.generateWorker(this,Et,St)}catch(Ct){(wt=new st("error")).error(Ct)}return new lt(wt,Et.type||"string",Et.mimeType)},generateAsync:function(_t,wt){return this.generateInternalStream(_t).accumulate(wt)},generateNodeStream:function(_t,wt){return(_t=_t||{}).type||(_t.type="nodebuffer"),this.generateInternalStream(_t).toNodejsStream(wt)}};rt.exports=xt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(tt,rt,nt){rt.exports=tt("stream")},{stream:void 0}],17:[function(tt,rt,nt){var it=tt("./DataReader");function ot(at){it.call(this,at);for(var st=0;st<this.data.length;st++)at[st]=255&at[st]}tt("../utils").inherits(ot,it),ot.prototype.byteAt=function(at){return this.data[this.zero+at]},ot.prototype.lastIndexOfSignature=function(at){for(var st=at.charCodeAt(0),lt=at.charCodeAt(1),ct=at.charCodeAt(2),ut=at.charCodeAt(3),ft=this.length-4;0<=ft;--ft)if(this.data[ft]===st&&this.data[ft+1]===lt&&this.data[ft+2]===ct&&this.data[ft+3]===ut)return ft-this.zero;return-1},ot.prototype.readAndCheckSignature=function(at){var st=at.charCodeAt(0),lt=at.charCodeAt(1),ct=at.charCodeAt(2),ut=at.charCodeAt(3),ft=this.readData(4);return st===ft[0]&&lt===ft[1]&&ct===ft[2]&&ut===ft[3]},ot.prototype.readData=function(at){if(this.checkOffset(at),at===0)return[];var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},rt.exports=ot},{"../utils":32,"./DataReader":18}],18:[function(tt,rt,nt){var it=tt("../utils");function ot(at){this.data=at,this.length=at.length,this.index=0,this.zero=0}ot.prototype={checkOffset:function(at){this.checkIndex(this.index+at)},checkIndex:function(at){if(this.length<this.zero+at||at<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+at+"). Corrupted zip ?")},setIndex:function(at){this.checkIndex(at),this.index=at},skip:function(at){this.setIndex(this.index+at)},byteAt:function(){},readInt:function(at){var st,lt=0;for(this.checkOffset(at),st=this.index+at-1;st>=this.index;st--)lt=(lt<<8)+this.byteAt(st);return this.index+=at,lt},readString:function(at){return it.transformTo("string",this.readData(at))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var at=this.readInt(4);return new Date(Date.UTC(1980+(at>>25&127),(at>>21&15)-1,at>>16&31,at>>11&31,at>>5&63,(31&at)<<1))}},rt.exports=ot},{"../utils":32}],19:[function(tt,rt,nt){var it=tt("./Uint8ArrayReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.readData=function(at){this.checkOffset(at);var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},rt.exports=ot},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(tt,rt,nt){var it=tt("./DataReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.byteAt=function(at){return this.data.charCodeAt(this.zero+at)},ot.prototype.lastIndexOfSignature=function(at){return this.data.lastIndexOf(at)-this.zero},ot.prototype.readAndCheckSignature=function(at){return at===this.readData(4)},ot.prototype.readData=function(at){this.checkOffset(at);var st=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},rt.exports=ot},{"../utils":32,"./DataReader":18}],21:[function(tt,rt,nt){var it=tt("./ArrayReader");function ot(at){it.call(this,at)}tt("../utils").inherits(ot,it),ot.prototype.readData=function(at){if(this.checkOffset(at),at===0)return new Uint8Array(0);var st=this.data.subarray(this.zero+this.index,this.zero+this.index+at);return this.index+=at,st},rt.exports=ot},{"../utils":32,"./ArrayReader":17}],22:[function(tt,rt,nt){var it=tt("../utils"),ot=tt("../support"),at=tt("./ArrayReader"),st=tt("./StringReader"),lt=tt("./NodeBufferReader"),ct=tt("./Uint8ArrayReader");rt.exports=function(ut){var ft=it.getTypeOf(ut);return it.checkSupport(ft),ft!=="string"||ot.uint8array?ft==="nodebuffer"?new lt(ut):ot.uint8array?new ct(it.transformTo("uint8array",ut)):new at(it.transformTo("array",ut)):new st(ut)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(tt,rt,nt){nt.LOCAL_FILE_HEADER="PK",nt.CENTRAL_FILE_HEADER="PK",nt.CENTRAL_DIRECTORY_END="PK",nt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",nt.ZIP64_CENTRAL_DIRECTORY_END="PK",nt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(tt,rt,nt){var it=tt("./GenericWorker"),ot=tt("../utils");function at(st){it.call(this,"ConvertWorker to "+st),this.destType=st}ot.inherits(at,it),at.prototype.processChunk=function(st){this.push({data:ot.transformTo(this.destType,st.data),meta:st.meta})},rt.exports=at},{"../utils":32,"./GenericWorker":28}],25:[function(tt,rt,nt){var it=tt("./GenericWorker"),ot=tt("../crc32");function at(){it.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}tt("../utils").inherits(at,it),at.prototype.processChunk=function(st){this.streamInfo.crc32=ot(st.data,this.streamInfo.crc32||0),this.push(st)},rt.exports=at},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(tt,rt,nt){var it=tt("../utils"),ot=tt("./GenericWorker");function at(st){ot.call(this,"DataLengthProbe for "+st),this.propName=st,this.withStreamInfo(st,0)}it.inherits(at,ot),at.prototype.processChunk=function(st){if(st){var lt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=lt+st.data.length}ot.prototype.processChunk.call(this,st)},rt.exports=at},{"../utils":32,"./GenericWorker":28}],27:[function(tt,rt,nt){var it=tt("../utils"),ot=tt("./GenericWorker");function at(st){ot.call(this,"DataWorker");var lt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,st.then(function(ct){lt.dataIsReady=!0,lt.data=ct,lt.max=ct&&ct.length||0,lt.type=it.getTypeOf(ct),lt.isPaused||lt._tickAndRepeat()},function(ct){lt.error(ct)})}it.inherits(at,ot),at.prototype.cleanUp=function(){ot.prototype.cleanUp.call(this),this.data=null},at.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,it.delay(this._tickAndRepeat,[],this)),!0)},at.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(it.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},at.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var st=null,lt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":st=this.data.substring(this.index,lt);break;case"uint8array":st=this.data.subarray(this.index,lt);break;case"array":case"nodebuffer":st=this.data.slice(this.index,lt)}return this.index=lt,this.push({data:st,meta:{percent:this.max?this.index/this.max*100:0}})},rt.exports=at},{"../utils":32,"./GenericWorker":28}],28:[function(tt,rt,nt){function it(ot){this.name=ot||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}it.prototype={push:function(ot){this.emit("data",ot)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(ot){this.emit("error",ot)}return!0},error:function(ot){return!this.isFinished&&(this.isPaused?this.generatedError=ot:(this.isFinished=!0,this.emit("error",ot),this.previous&&this.previous.error(ot),this.cleanUp()),!0)},on:function(ot,at){return this._listeners[ot].push(at),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(ot,at){if(this._listeners[ot])for(var st=0;st<this._listeners[ot].length;st++)this._listeners[ot][st].call(this,at)},pipe:function(ot){return ot.registerPrevious(this)},registerPrevious:function(ot){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=ot.streamInfo,this.mergeStreamInfo(),this.previous=ot;var at=this;return ot.on("data",function(st){at.processChunk(st)}),ot.on("end",function(){at.end()}),ot.on("error",function(st){at.error(st)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var ot=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),ot=!0),this.previous&&this.previous.resume(),!ot},flush:function(){},processChunk:function(ot){this.push(ot)},withStreamInfo:function(ot,at){return this.extraStreamInfo[ot]=at,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var ot in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,ot)&&(this.streamInfo[ot]=this.extraStreamInfo[ot])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var ot="Worker "+this.name;return this.previous?this.previous+" -> "+ot:ot}},rt.exports=it},{}],29:[function(tt,rt,nt){var it=tt("../utils"),ot=tt("./ConvertWorker"),at=tt("./GenericWorker"),st=tt("../base64"),lt=tt("../support"),ct=tt("../external"),ut=null;if(lt.nodestream)try{ut=tt("../nodejs/NodejsStreamOutputAdapter")}catch{}function ft(pt,mt){return new ct.Promise(function(vt,ht){var yt=[],gt=pt._internalType,xt=pt._outputType,_t=pt._mimeType;pt.on("data",function(wt,Et){yt.push(wt),mt&&mt(Et)}).on("error",function(wt){yt=[],ht(wt)}).on("end",function(){try{var wt=function(Et,St,Ct){switch(Et){case"blob":return it.newBlob(it.transformTo("arraybuffer",St),Ct);case"base64":return st.encode(St);default:return it.transformTo(Et,St)}}(xt,function(Et,St){var Ct,bt=0,At=null,Tt=0;for(Ct=0;Ct<St.length;Ct++)Tt+=St[Ct].length;switch(Et){case"string":return St.join("");case"array":return Array.prototype.concat.apply([],St);case"uint8array":for(At=new Uint8Array(Tt),Ct=0;Ct<St.length;Ct++)At.set(St[Ct],bt),bt+=St[Ct].length;return At;case"nodebuffer":return Buffer.concat(St);default:throw new Error("concat : unsupported type '"+Et+"'")}}(gt,yt),_t);vt(wt)}catch(Et){ht(Et)}yt=[]}).resume()})}function dt(pt,mt,vt){var ht=mt;switch(mt){case"blob":case"arraybuffer":ht="uint8array";break;case"base64":ht="string"}try{this._internalType=ht,this._outputType=mt,this._mimeType=vt,it.checkSupport(ht),this._worker=pt.pipe(new ot(ht)),pt.lock()}catch(yt){this._worker=new at("error"),this._worker.error(yt)}}dt.prototype={accumulate:function(pt){return ft(this,pt)},on:function(pt,mt){var vt=this;return pt==="data"?this._worker.on(pt,function(ht){mt.call(vt,ht.data,ht.meta)}):this._worker.on(pt,function(){it.delay(mt,arguments,vt)}),this},resume:function(){return it.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(pt){if(it.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ut(this,{objectMode:this._outputType!=="nodebuffer"},pt)}},rt.exports=dt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(tt,rt,nt){if(nt.base64=!0,nt.array=!0,nt.string=!0,nt.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",nt.nodebuffer=typeof Buffer<"u",nt.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")nt.blob=!1;else{var it=new ArrayBuffer(0);try{nt.blob=new Blob([it],{type:"application/zip"}).size===0}catch{try{var ot=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);ot.append(it),nt.blob=ot.getBlob("application/zip").size===0}catch{nt.blob=!1}}}try{nt.nodestream=!!tt("readable-stream").Readable}catch{nt.nodestream=!1}},{"readable-stream":16}],31:[function(tt,rt,nt){for(var it=tt("./utils"),ot=tt("./support"),at=tt("./nodejsUtils"),st=tt("./stream/GenericWorker"),lt=new Array(256),ct=0;ct<256;ct++)lt[ct]=252<=ct?6:248<=ct?5:240<=ct?4:224<=ct?3:192<=ct?2:1;lt[254]=lt[254]=1;function ut(){st.call(this,"utf-8 decode"),this.leftOver=null}function ft(){st.call(this,"utf-8 encode")}nt.utf8encode=function(dt){return ot.nodebuffer?at.newBufferFrom(dt,"utf-8"):function(pt){var mt,vt,ht,yt,gt,xt=pt.length,_t=0;for(yt=0;yt<xt;yt++)(64512&(vt=pt.charCodeAt(yt)))==55296&&yt+1<xt&&(64512&(ht=pt.charCodeAt(yt+1)))==56320&&(vt=65536+(vt-55296<<10)+(ht-56320),yt++),_t+=vt<128?1:vt<2048?2:vt<65536?3:4;for(mt=ot.uint8array?new Uint8Array(_t):new Array(_t),yt=gt=0;gt<_t;yt++)(64512&(vt=pt.charCodeAt(yt)))==55296&&yt+1<xt&&(64512&(ht=pt.charCodeAt(yt+1)))==56320&&(vt=65536+(vt-55296<<10)+(ht-56320),yt++),vt<128?mt[gt++]=vt:(vt<2048?mt[gt++]=192|vt>>>6:(vt<65536?mt[gt++]=224|vt>>>12:(mt[gt++]=240|vt>>>18,mt[gt++]=128|vt>>>12&63),mt[gt++]=128|vt>>>6&63),mt[gt++]=128|63&vt);return mt}(dt)},nt.utf8decode=function(dt){return ot.nodebuffer?it.transformTo("nodebuffer",dt).toString("utf-8"):function(pt){var mt,vt,ht,yt,gt=pt.length,xt=new Array(2*gt);for(mt=vt=0;mt<gt;)if((ht=pt[mt++])<128)xt[vt++]=ht;else if(4<(yt=lt[ht]))xt[vt++]=65533,mt+=yt-1;else{for(ht&=yt===2?31:yt===3?15:7;1<yt&&mt<gt;)ht=ht<<6|63&pt[mt++],yt--;1<yt?xt[vt++]=65533:ht<65536?xt[vt++]=ht:(ht-=65536,xt[vt++]=55296|ht>>10&1023,xt[vt++]=56320|1023&ht)}return xt.length!==vt&&(xt.subarray?xt=xt.subarray(0,vt):xt.length=vt),it.applyFromCharCode(xt)}(dt=it.transformTo(ot.uint8array?"uint8array":"array",dt))},it.inherits(ut,st),ut.prototype.processChunk=function(dt){var pt=it.transformTo(ot.uint8array?"uint8array":"array",dt.data);if(this.leftOver&&this.leftOver.length){if(ot.uint8array){var mt=pt;(pt=new Uint8Array(mt.length+this.leftOver.length)).set(this.leftOver,0),pt.set(mt,this.leftOver.length)}else pt=this.leftOver.concat(pt);this.leftOver=null}var vt=function(yt,gt){var xt;for((gt=gt||yt.length)>yt.length&&(gt=yt.length),xt=gt-1;0<=xt&&(192&yt[xt])==128;)xt--;return xt<0||xt===0?gt:xt+lt[yt[xt]]>gt?xt:gt}(pt),ht=pt;vt!==pt.length&&(ot.uint8array?(ht=pt.subarray(0,vt),this.leftOver=pt.subarray(vt,pt.length)):(ht=pt.slice(0,vt),this.leftOver=pt.slice(vt,pt.length))),this.push({data:nt.utf8decode(ht),meta:dt.meta})},ut.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:nt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},nt.Utf8DecodeWorker=ut,it.inherits(ft,st),ft.prototype.processChunk=function(dt){this.push({data:nt.utf8encode(dt.data),meta:dt.meta})},nt.Utf8EncodeWorker=ft},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(tt,rt,nt){var it=tt("./support"),ot=tt("./base64"),at=tt("./nodejsUtils"),st=tt("./external");function lt(mt){return mt}function ct(mt,vt){for(var ht=0;ht<mt.length;++ht)vt[ht]=255&mt.charCodeAt(ht);return vt}tt("setimmediate"),nt.newBlob=function(mt,vt){nt.checkSupport("blob");try{return new Blob([mt],{type:vt})}catch{try{var ht=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ht.append(mt),ht.getBlob(vt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ut={stringifyByChunk:function(mt,vt,ht){var yt=[],gt=0,xt=mt.length;if(xt<=ht)return String.fromCharCode.apply(null,mt);for(;gt<xt;)vt==="array"||vt==="nodebuffer"?yt.push(String.fromCharCode.apply(null,mt.slice(gt,Math.min(gt+ht,xt)))):yt.push(String.fromCharCode.apply(null,mt.subarray(gt,Math.min(gt+ht,xt)))),gt+=ht;return yt.join("")},stringifyByChar:function(mt){for(var vt="",ht=0;ht<mt.length;ht++)vt+=String.fromCharCode(mt[ht]);return vt},applyCanBeUsed:{uint8array:function(){try{return it.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return it.nodebuffer&&String.fromCharCode.apply(null,at.allocBuffer(1)).length===1}catch{return!1}}()}};function ft(mt){var vt=65536,ht=nt.getTypeOf(mt),yt=!0;if(ht==="uint8array"?yt=ut.applyCanBeUsed.uint8array:ht==="nodebuffer"&&(yt=ut.applyCanBeUsed.nodebuffer),yt)for(;1<vt;)try{return ut.stringifyByChunk(mt,ht,vt)}catch{vt=Math.floor(vt/2)}return ut.stringifyByChar(mt)}function dt(mt,vt){for(var ht=0;ht<mt.length;ht++)vt[ht]=mt[ht];return vt}nt.applyFromCharCode=ft;var pt={};pt.string={string:lt,array:function(mt){return ct(mt,new Array(mt.length))},arraybuffer:function(mt){return pt.string.uint8array(mt).buffer},uint8array:function(mt){return ct(mt,new Uint8Array(mt.length))},nodebuffer:function(mt){return ct(mt,at.allocBuffer(mt.length))}},pt.array={string:ft,array:lt,arraybuffer:function(mt){return new Uint8Array(mt).buffer},uint8array:function(mt){return new Uint8Array(mt)},nodebuffer:function(mt){return at.newBufferFrom(mt)}},pt.arraybuffer={string:function(mt){return ft(new Uint8Array(mt))},array:function(mt){return dt(new Uint8Array(mt),new Array(mt.byteLength))},arraybuffer:lt,uint8array:function(mt){return new Uint8Array(mt)},nodebuffer:function(mt){return at.newBufferFrom(new Uint8Array(mt))}},pt.uint8array={string:ft,array:function(mt){return dt(mt,new Array(mt.length))},arraybuffer:function(mt){return mt.buffer},uint8array:lt,nodebuffer:function(mt){return at.newBufferFrom(mt)}},pt.nodebuffer={string:ft,array:function(mt){return dt(mt,new Array(mt.length))},arraybuffer:function(mt){return pt.nodebuffer.uint8array(mt).buffer},uint8array:function(mt){return dt(mt,new Uint8Array(mt.length))},nodebuffer:lt},nt.transformTo=function(mt,vt){if(vt=vt||"",!mt)return vt;nt.checkSupport(mt);var ht=nt.getTypeOf(vt);return pt[ht][mt](vt)},nt.resolve=function(mt){for(var vt=mt.split("/"),ht=[],yt=0;yt<vt.length;yt++){var gt=vt[yt];gt==="."||gt===""&&yt!==0&&yt!==vt.length-1||(gt===".."?ht.pop():ht.push(gt))}return ht.join("/")},nt.getTypeOf=function(mt){return typeof mt=="string"?"string":Object.prototype.toString.call(mt)==="[object Array]"?"array":it.nodebuffer&&at.isBuffer(mt)?"nodebuffer":it.uint8array&&mt instanceof Uint8Array?"uint8array":it.arraybuffer&&mt instanceof ArrayBuffer?"arraybuffer":void 0},nt.checkSupport=function(mt){if(!it[mt.toLowerCase()])throw new Error(mt+" is not supported by this platform")},nt.MAX_VALUE_16BITS=65535,nt.MAX_VALUE_32BITS=-1,nt.pretty=function(mt){var vt,ht,yt="";for(ht=0;ht<(mt||"").length;ht++)yt+="\\x"+((vt=mt.charCodeAt(ht))<16?"0":"")+vt.toString(16).toUpperCase();return yt},nt.delay=function(mt,vt,ht){setImmediate(function(){mt.apply(ht||null,vt||[])})},nt.inherits=function(mt,vt){function ht(){}ht.prototype=vt.prototype,mt.prototype=new ht},nt.extend=function(){var mt,vt,ht={};for(mt=0;mt<arguments.length;mt++)for(vt in arguments[mt])Object.prototype.hasOwnProperty.call(arguments[mt],vt)&&ht[vt]===void 0&&(ht[vt]=arguments[mt][vt]);return ht},nt.prepareContent=function(mt,vt,ht,yt,gt){return st.Promise.resolve(vt).then(function(xt){return it.blob&&(xt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xt))!==-1)&&typeof FileReader<"u"?new st.Promise(function(_t,wt){var Et=new FileReader;Et.onload=function(St){_t(St.target.result)},Et.onerror=function(St){wt(St.target.error)},Et.readAsArrayBuffer(xt)}):xt}).then(function(xt){var _t=nt.getTypeOf(xt);return _t?(_t==="arraybuffer"?xt=nt.transformTo("uint8array",xt):_t==="string"&&(gt?xt=ot.decode(xt):ht&&yt!==!0&&(xt=function(wt){return ct(wt,it.uint8array?new Uint8Array(wt.length):new Array(wt.length))}(xt))),xt):st.Promise.reject(new Error("Can't read the data of '"+mt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(tt,rt,nt){var it=tt("./reader/readerFor"),ot=tt("./utils"),at=tt("./signature"),st=tt("./zipEntry"),lt=tt("./support");function ct(ut){this.files=[],this.loadOptions=ut}ct.prototype={checkSignature:function(ut){if(!this.reader.readAndCheckSignature(ut)){this.reader.index-=4;var ft=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+ot.pretty(ft)+", expected "+ot.pretty(ut)+")")}},isSignature:function(ut,ft){var dt=this.reader.index;this.reader.setIndex(ut);var pt=this.reader.readString(4)===ft;return this.reader.setIndex(dt),pt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ut=this.reader.readData(this.zipCommentLength),ft=lt.uint8array?"uint8array":"array",dt=ot.transformTo(ft,ut);this.zipComment=this.loadOptions.decodeFileName(dt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ut,ft,dt,pt=this.zip64EndOfCentralSize-44;0<pt;)ut=this.reader.readInt(2),ft=this.reader.readInt(4),dt=this.reader.readData(ft),this.zip64ExtensibleData[ut]={id:ut,length:ft,value:dt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ut,ft;for(ut=0;ut<this.files.length;ut++)ft=this.files[ut],this.reader.setIndex(ft.localHeaderOffset),this.checkSignature(at.LOCAL_FILE_HEADER),ft.readLocalPart(this.reader),ft.handleUTF8(),ft.processAttributes()},readCentralDir:function(){var ut;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(at.CENTRAL_FILE_HEADER);)(ut=new st({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ut);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ut=this.reader.lastIndexOfSignature(at.CENTRAL_DIRECTORY_END);if(ut<0)throw this.isSignature(0,at.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ut);var ft=ut;if(this.checkSignature(at.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ot.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ot.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ot.MAX_VALUE_16BITS||this.centralDirRecords===ot.MAX_VALUE_16BITS||this.centralDirSize===ot.MAX_VALUE_32BITS||this.centralDirOffset===ot.MAX_VALUE_32BITS){if(this.zip64=!0,(ut=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ut),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,at.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var dt=this.centralDirOffset+this.centralDirSize;this.zip64&&(dt+=20,dt+=12+this.zip64EndOfCentralSize);var pt=ft-dt;if(0<pt)this.isSignature(ft,at.CENTRAL_FILE_HEADER)||(this.reader.zero=pt);else if(pt<0)throw new Error("Corrupted zip: missing "+Math.abs(pt)+" bytes.")},prepareReader:function(ut){this.reader=it(ut)},load:function(ut){this.prepareReader(ut),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},rt.exports=ct},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(tt,rt,nt){var it=tt("./reader/readerFor"),ot=tt("./utils"),at=tt("./compressedObject"),st=tt("./crc32"),lt=tt("./utf8"),ct=tt("./compressions"),ut=tt("./support");function ft(dt,pt){this.options=dt,this.loadOptions=pt}ft.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(dt){var pt,mt;if(dt.skip(22),this.fileNameLength=dt.readInt(2),mt=dt.readInt(2),this.fileName=dt.readData(this.fileNameLength),dt.skip(mt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((pt=function(vt){for(var ht in ct)if(Object.prototype.hasOwnProperty.call(ct,ht)&&ct[ht].magic===vt)return ct[ht];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+ot.pretty(this.compressionMethod)+" unknown (inner file : "+ot.transformTo("string",this.fileName)+")");this.decompressed=new at(this.compressedSize,this.uncompressedSize,this.crc32,pt,dt.readData(this.compressedSize))},readCentralPart:function(dt){this.versionMadeBy=dt.readInt(2),dt.skip(2),this.bitFlag=dt.readInt(2),this.compressionMethod=dt.readString(2),this.date=dt.readDate(),this.crc32=dt.readInt(4),this.compressedSize=dt.readInt(4),this.uncompressedSize=dt.readInt(4);var pt=dt.readInt(2);if(this.extraFieldsLength=dt.readInt(2),this.fileCommentLength=dt.readInt(2),this.diskNumberStart=dt.readInt(2),this.internalFileAttributes=dt.readInt(2),this.externalFileAttributes=dt.readInt(4),this.localHeaderOffset=dt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");dt.skip(pt),this.readExtraFields(dt),this.parseZIP64ExtraField(dt),this.fileComment=dt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var dt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),dt==0&&(this.dosPermissions=63&this.externalFileAttributes),dt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var dt=it(this.extraFields[1].value);this.uncompressedSize===ot.MAX_VALUE_32BITS&&(this.uncompressedSize=dt.readInt(8)),this.compressedSize===ot.MAX_VALUE_32BITS&&(this.compressedSize=dt.readInt(8)),this.localHeaderOffset===ot.MAX_VALUE_32BITS&&(this.localHeaderOffset=dt.readInt(8)),this.diskNumberStart===ot.MAX_VALUE_32BITS&&(this.diskNumberStart=dt.readInt(4))}},readExtraFields:function(dt){var pt,mt,vt,ht=dt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});dt.index+4<ht;)pt=dt.readInt(2),mt=dt.readInt(2),vt=dt.readData(mt),this.extraFields[pt]={id:pt,length:mt,value:vt};dt.setIndex(ht)},handleUTF8:function(){var dt=ut.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=lt.utf8decode(this.fileName),this.fileCommentStr=lt.utf8decode(this.fileComment);else{var pt=this.findExtraFieldUnicodePath();if(pt!==null)this.fileNameStr=pt;else{var mt=ot.transformTo(dt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(mt)}var vt=this.findExtraFieldUnicodeComment();if(vt!==null)this.fileCommentStr=vt;else{var ht=ot.transformTo(dt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ht)}}},findExtraFieldUnicodePath:function(){var dt=this.extraFields[28789];if(dt){var pt=it(dt.value);return pt.readInt(1)!==1||st(this.fileName)!==pt.readInt(4)?null:lt.utf8decode(pt.readData(dt.length-5))}return null},findExtraFieldUnicodeComment:function(){var dt=this.extraFields[25461];if(dt){var pt=it(dt.value);return pt.readInt(1)!==1||st(this.fileComment)!==pt.readInt(4)?null:lt.utf8decode(pt.readData(dt.length-5))}return null}},rt.exports=ft},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(tt,rt,nt){function it(pt,mt,vt){this.name=pt,this.dir=vt.dir,this.date=vt.date,this.comment=vt.comment,this.unixPermissions=vt.unixPermissions,this.dosPermissions=vt.dosPermissions,this._data=mt,this._dataBinary=vt.binary,this.options={compression:vt.compression,compressionOptions:vt.compressionOptions}}var ot=tt("./stream/StreamHelper"),at=tt("./stream/DataWorker"),st=tt("./utf8"),lt=tt("./compressedObject"),ct=tt("./stream/GenericWorker");it.prototype={internalStream:function(pt){var mt=null,vt="string";try{if(!pt)throw new Error("No output type specified.");var ht=(vt=pt.toLowerCase())==="string"||vt==="text";vt!=="binarystring"&&vt!=="text"||(vt="string"),mt=this._decompressWorker();var yt=!this._dataBinary;yt&&!ht&&(mt=mt.pipe(new st.Utf8EncodeWorker)),!yt&&ht&&(mt=mt.pipe(new st.Utf8DecodeWorker))}catch(gt){(mt=new ct("error")).error(gt)}return new ot(mt,vt,"")},async:function(pt,mt){return this.internalStream(pt).accumulate(mt)},nodeStream:function(pt,mt){return this.internalStream(pt||"nodebuffer").toNodejsStream(mt)},_compressWorker:function(pt,mt){if(this._data instanceof lt&&this._data.compression.magic===pt.magic)return this._data.getCompressedWorker();var vt=this._decompressWorker();return this._dataBinary||(vt=vt.pipe(new st.Utf8EncodeWorker)),lt.createWorkerFrom(vt,pt,mt)},_decompressWorker:function(){return this._data instanceof lt?this._data.getContentWorker():this._data instanceof ct?this._data:new at(this._data)}};for(var ut=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ft=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},dt=0;dt<ut.length;dt++)it.prototype[ut[dt]]=ft;rt.exports=it},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(tt,rt,nt){(function(it){var ot,at,st=it.MutationObserver||it.WebKitMutationObserver;if(st){var lt=0,ct=new st(pt),ut=it.document.createTextNode("");ct.observe(ut,{characterData:!0}),ot=function(){ut.data=lt=++lt%2}}else if(it.setImmediate||it.MessageChannel===void 0)ot="document"in it&&"onreadystatechange"in it.document.createElement("script")?function(){var mt=it.document.createElement("script");mt.onreadystatechange=function(){pt(),mt.onreadystatechange=null,mt.parentNode.removeChild(mt),mt=null},it.document.documentElement.appendChild(mt)}:function(){setTimeout(pt,0)};else{var ft=new it.MessageChannel;ft.port1.onmessage=pt,ot=function(){ft.port2.postMessage(0)}}var dt=[];function pt(){var mt,vt;at=!0;for(var ht=dt.length;ht;){for(vt=dt,dt=[],mt=-1;++mt<ht;)vt[mt]();ht=dt.length}at=!1}rt.exports=function(mt){dt.push(mt)!==1||at||ot()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(tt,rt,nt){var it=tt("immediate");function ot(){}var at={},st=["REJECTED"],lt=["FULFILLED"],ct=["PENDING"];function ut(ht){if(typeof ht!="function")throw new TypeError("resolver must be a function");this.state=ct,this.queue=[],this.outcome=void 0,ht!==ot&&mt(this,ht)}function ft(ht,yt,gt){this.promise=ht,typeof yt=="function"&&(this.onFulfilled=yt,this.callFulfilled=this.otherCallFulfilled),typeof gt=="function"&&(this.onRejected=gt,this.callRejected=this.otherCallRejected)}function dt(ht,yt,gt){it(function(){var xt;try{xt=yt(gt)}catch(_t){return at.reject(ht,_t)}xt===ht?at.reject(ht,new TypeError("Cannot resolve promise with itself")):at.resolve(ht,xt)})}function pt(ht){var yt=ht&&ht.then;if(ht&&(typeof ht=="object"||typeof ht=="function")&&typeof yt=="function")return function(){yt.apply(ht,arguments)}}function mt(ht,yt){var gt=!1;function xt(Et){gt||(gt=!0,at.reject(ht,Et))}function _t(Et){gt||(gt=!0,at.resolve(ht,Et))}var wt=vt(function(){yt(_t,xt)});wt.status==="error"&&xt(wt.value)}function vt(ht,yt){var gt={};try{gt.value=ht(yt),gt.status="success"}catch(xt){gt.status="error",gt.value=xt}return gt}(rt.exports=ut).prototype.finally=function(ht){if(typeof ht!="function")return this;var yt=this.constructor;return this.then(function(gt){return yt.resolve(ht()).then(function(){return gt})},function(gt){return yt.resolve(ht()).then(function(){throw gt})})},ut.prototype.catch=function(ht){return this.then(null,ht)},ut.prototype.then=function(ht,yt){if(typeof ht!="function"&&this.state===lt||typeof yt!="function"&&this.state===st)return this;var gt=new this.constructor(ot);return this.state!==ct?dt(gt,this.state===lt?ht:yt,this.outcome):this.queue.push(new ft(gt,ht,yt)),gt},ft.prototype.callFulfilled=function(ht){at.resolve(this.promise,ht)},ft.prototype.otherCallFulfilled=function(ht){dt(this.promise,this.onFulfilled,ht)},ft.prototype.callRejected=function(ht){at.reject(this.promise,ht)},ft.prototype.otherCallRejected=function(ht){dt(this.promise,this.onRejected,ht)},at.resolve=function(ht,yt){var gt=vt(pt,yt);if(gt.status==="error")return at.reject(ht,gt.value);var xt=gt.value;if(xt)mt(ht,xt);else{ht.state=lt,ht.outcome=yt;for(var _t=-1,wt=ht.queue.length;++_t<wt;)ht.queue[_t].callFulfilled(yt)}return ht},at.reject=function(ht,yt){ht.state=st,ht.outcome=yt;for(var gt=-1,xt=ht.queue.length;++gt<xt;)ht.queue[gt].callRejected(yt);return ht},ut.resolve=function(ht){return ht instanceof this?ht:at.resolve(new this(ot),ht)},ut.reject=function(ht){var yt=new this(ot);return at.reject(yt,ht)},ut.all=function(ht){var yt=this;if(Object.prototype.toString.call(ht)!=="[object Array]")return this.reject(new TypeError("must be an array"));var gt=ht.length,xt=!1;if(!gt)return this.resolve([]);for(var _t=new Array(gt),wt=0,Et=-1,St=new this(ot);++Et<gt;)Ct(ht[Et],Et);return St;function Ct(bt,At){yt.resolve(bt).then(function(Tt){_t[At]=Tt,++wt!==gt||xt||(xt=!0,at.resolve(St,_t))},function(Tt){xt||(xt=!0,at.reject(St,Tt))})}},ut.race=function(ht){var yt=this;if(Object.prototype.toString.call(ht)!=="[object Array]")return this.reject(new TypeError("must be an array"));var gt=ht.length,xt=!1;if(!gt)return this.resolve([]);for(var _t=-1,wt=new this(ot);++_t<gt;)Et=ht[_t],yt.resolve(Et).then(function(St){xt||(xt=!0,at.resolve(wt,St))},function(St){xt||(xt=!0,at.reject(wt,St))});var Et;return wt}},{immediate:36}],38:[function(tt,rt,nt){var it={};(0,tt("./lib/utils/common").assign)(it,tt("./lib/deflate"),tt("./lib/inflate"),tt("./lib/zlib/constants")),rt.exports=it},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(tt,rt,nt){var it=tt("./zlib/deflate"),ot=tt("./utils/common"),at=tt("./utils/strings"),st=tt("./zlib/messages"),lt=tt("./zlib/zstream"),ct=Object.prototype.toString,ut=0,ft=-1,dt=0,pt=8;function mt(ht){if(!(this instanceof mt))return new mt(ht);this.options=ot.assign({level:ft,method:pt,chunkSize:16384,windowBits:15,memLevel:8,strategy:dt,to:""},ht||{});var yt=this.options;yt.raw&&0<yt.windowBits?yt.windowBits=-yt.windowBits:yt.gzip&&0<yt.windowBits&&yt.windowBits<16&&(yt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var gt=it.deflateInit2(this.strm,yt.level,yt.method,yt.windowBits,yt.memLevel,yt.strategy);if(gt!==ut)throw new Error(st[gt]);if(yt.header&&it.deflateSetHeader(this.strm,yt.header),yt.dictionary){var xt;if(xt=typeof yt.dictionary=="string"?at.string2buf(yt.dictionary):ct.call(yt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(yt.dictionary):yt.dictionary,(gt=it.deflateSetDictionary(this.strm,xt))!==ut)throw new Error(st[gt]);this._dict_set=!0}}function vt(ht,yt){var gt=new mt(yt);if(gt.push(ht,!0),gt.err)throw gt.msg||st[gt.err];return gt.result}mt.prototype.push=function(ht,yt){var gt,xt,_t=this.strm,wt=this.options.chunkSize;if(this.ended)return!1;xt=yt===~~yt?yt:yt===!0?4:0,typeof ht=="string"?_t.input=at.string2buf(ht):ct.call(ht)==="[object ArrayBuffer]"?_t.input=new Uint8Array(ht):_t.input=ht,_t.next_in=0,_t.avail_in=_t.input.length;do{if(_t.avail_out===0&&(_t.output=new ot.Buf8(wt),_t.next_out=0,_t.avail_out=wt),(gt=it.deflate(_t,xt))!==1&&gt!==ut)return this.onEnd(gt),!(this.ended=!0);_t.avail_out!==0&&(_t.avail_in!==0||xt!==4&&xt!==2)||(this.options.to==="string"?this.onData(at.buf2binstring(ot.shrinkBuf(_t.output,_t.next_out))):this.onData(ot.shrinkBuf(_t.output,_t.next_out)))}while((0<_t.avail_in||_t.avail_out===0)&&gt!==1);return xt===4?(gt=it.deflateEnd(this.strm),this.onEnd(gt),this.ended=!0,gt===ut):xt!==2||(this.onEnd(ut),!(_t.avail_out=0))},mt.prototype.onData=function(ht){this.chunks.push(ht)},mt.prototype.onEnd=function(ht){ht===ut&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=ht,this.msg=this.strm.msg},nt.Deflate=mt,nt.deflate=vt,nt.deflateRaw=function(ht,yt){return(yt=yt||{}).raw=!0,vt(ht,yt)},nt.gzip=function(ht,yt){return(yt=yt||{}).gzip=!0,vt(ht,yt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(tt,rt,nt){var it=tt("./zlib/inflate"),ot=tt("./utils/common"),at=tt("./utils/strings"),st=tt("./zlib/constants"),lt=tt("./zlib/messages"),ct=tt("./zlib/zstream"),ut=tt("./zlib/gzheader"),ft=Object.prototype.toString;function dt(mt){if(!(this instanceof dt))return new dt(mt);this.options=ot.assign({chunkSize:16384,windowBits:0,to:""},mt||{});var vt=this.options;vt.raw&&0<=vt.windowBits&&vt.windowBits<16&&(vt.windowBits=-vt.windowBits,vt.windowBits===0&&(vt.windowBits=-15)),!(0<=vt.windowBits&&vt.windowBits<16)||mt&&mt.windowBits||(vt.windowBits+=32),15<vt.windowBits&&vt.windowBits<48&&!(15&vt.windowBits)&&(vt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;var ht=it.inflateInit2(this.strm,vt.windowBits);if(ht!==st.Z_OK)throw new Error(lt[ht]);this.header=new ut,it.inflateGetHeader(this.strm,this.header)}function pt(mt,vt){var ht=new dt(vt);if(ht.push(mt,!0),ht.err)throw ht.msg||lt[ht.err];return ht.result}dt.prototype.push=function(mt,vt){var ht,yt,gt,xt,_t,wt,Et=this.strm,St=this.options.chunkSize,Ct=this.options.dictionary,bt=!1;if(this.ended)return!1;yt=vt===~~vt?vt:vt===!0?st.Z_FINISH:st.Z_NO_FLUSH,typeof mt=="string"?Et.input=at.binstring2buf(mt):ft.call(mt)==="[object ArrayBuffer]"?Et.input=new Uint8Array(mt):Et.input=mt,Et.next_in=0,Et.avail_in=Et.input.length;do{if(Et.avail_out===0&&(Et.output=new ot.Buf8(St),Et.next_out=0,Et.avail_out=St),(ht=it.inflate(Et,st.Z_NO_FLUSH))===st.Z_NEED_DICT&&Ct&&(wt=typeof Ct=="string"?at.string2buf(Ct):ft.call(Ct)==="[object ArrayBuffer]"?new Uint8Array(Ct):Ct,ht=it.inflateSetDictionary(this.strm,wt)),ht===st.Z_BUF_ERROR&&bt===!0&&(ht=st.Z_OK,bt=!1),ht!==st.Z_STREAM_END&&ht!==st.Z_OK)return this.onEnd(ht),!(this.ended=!0);Et.next_out&&(Et.avail_out!==0&&ht!==st.Z_STREAM_END&&(Et.avail_in!==0||yt!==st.Z_FINISH&&yt!==st.Z_SYNC_FLUSH)||(this.options.to==="string"?(gt=at.utf8border(Et.output,Et.next_out),xt=Et.next_out-gt,_t=at.buf2string(Et.output,gt),Et.next_out=xt,Et.avail_out=St-xt,xt&&ot.arraySet(Et.output,Et.output,gt,xt,0),this.onData(_t)):this.onData(ot.shrinkBuf(Et.output,Et.next_out)))),Et.avail_in===0&&Et.avail_out===0&&(bt=!0)}while((0<Et.avail_in||Et.avail_out===0)&&ht!==st.Z_STREAM_END);return ht===st.Z_STREAM_END&&(yt=st.Z_FINISH),yt===st.Z_FINISH?(ht=it.inflateEnd(this.strm),this.onEnd(ht),this.ended=!0,ht===st.Z_OK):yt!==st.Z_SYNC_FLUSH||(this.onEnd(st.Z_OK),!(Et.avail_out=0))},dt.prototype.onData=function(mt){this.chunks.push(mt)},dt.prototype.onEnd=function(mt){mt===st.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=mt,this.msg=this.strm.msg},nt.Inflate=dt,nt.inflate=pt,nt.inflateRaw=function(mt,vt){return(vt=vt||{}).raw=!0,pt(mt,vt)},nt.ungzip=pt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(tt,rt,nt){var it=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";nt.assign=function(st){for(var lt=Array.prototype.slice.call(arguments,1);lt.length;){var ct=lt.shift();if(ct){if(typeof ct!="object")throw new TypeError(ct+"must be non-object");for(var ut in ct)ct.hasOwnProperty(ut)&&(st[ut]=ct[ut])}}return st},nt.shrinkBuf=function(st,lt){return st.length===lt?st:st.subarray?st.subarray(0,lt):(st.length=lt,st)};var ot={arraySet:function(st,lt,ct,ut,ft){if(lt.subarray&&st.subarray)st.set(lt.subarray(ct,ct+ut),ft);else for(var dt=0;dt<ut;dt++)st[ft+dt]=lt[ct+dt]},flattenChunks:function(st){var lt,ct,ut,ft,dt,pt;for(lt=ut=0,ct=st.length;lt<ct;lt++)ut+=st[lt].length;for(pt=new Uint8Array(ut),lt=ft=0,ct=st.length;lt<ct;lt++)dt=st[lt],pt.set(dt,ft),ft+=dt.length;return pt}},at={arraySet:function(st,lt,ct,ut,ft){for(var dt=0;dt<ut;dt++)st[ft+dt]=lt[ct+dt]},flattenChunks:function(st){return[].concat.apply([],st)}};nt.setTyped=function(st){st?(nt.Buf8=Uint8Array,nt.Buf16=Uint16Array,nt.Buf32=Int32Array,nt.assign(nt,ot)):(nt.Buf8=Array,nt.Buf16=Array,nt.Buf32=Array,nt.assign(nt,at))},nt.setTyped(it)},{}],42:[function(tt,rt,nt){var it=tt("./common"),ot=!0,at=!0;try{String.fromCharCode.apply(null,[0])}catch{ot=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{at=!1}for(var st=new it.Buf8(256),lt=0;lt<256;lt++)st[lt]=252<=lt?6:248<=lt?5:240<=lt?4:224<=lt?3:192<=lt?2:1;function ct(ut,ft){if(ft<65537&&(ut.subarray&&at||!ut.subarray&&ot))return String.fromCharCode.apply(null,it.shrinkBuf(ut,ft));for(var dt="",pt=0;pt<ft;pt++)dt+=String.fromCharCode(ut[pt]);return dt}st[254]=st[254]=1,nt.string2buf=function(ut){var ft,dt,pt,mt,vt,ht=ut.length,yt=0;for(mt=0;mt<ht;mt++)(64512&(dt=ut.charCodeAt(mt)))==55296&&mt+1<ht&&(64512&(pt=ut.charCodeAt(mt+1)))==56320&&(dt=65536+(dt-55296<<10)+(pt-56320),mt++),yt+=dt<128?1:dt<2048?2:dt<65536?3:4;for(ft=new it.Buf8(yt),mt=vt=0;vt<yt;mt++)(64512&(dt=ut.charCodeAt(mt)))==55296&&mt+1<ht&&(64512&(pt=ut.charCodeAt(mt+1)))==56320&&(dt=65536+(dt-55296<<10)+(pt-56320),mt++),dt<128?ft[vt++]=dt:(dt<2048?ft[vt++]=192|dt>>>6:(dt<65536?ft[vt++]=224|dt>>>12:(ft[vt++]=240|dt>>>18,ft[vt++]=128|dt>>>12&63),ft[vt++]=128|dt>>>6&63),ft[vt++]=128|63&dt);return ft},nt.buf2binstring=function(ut){return ct(ut,ut.length)},nt.binstring2buf=function(ut){for(var ft=new it.Buf8(ut.length),dt=0,pt=ft.length;dt<pt;dt++)ft[dt]=ut.charCodeAt(dt);return ft},nt.buf2string=function(ut,ft){var dt,pt,mt,vt,ht=ft||ut.length,yt=new Array(2*ht);for(dt=pt=0;dt<ht;)if((mt=ut[dt++])<128)yt[pt++]=mt;else if(4<(vt=st[mt]))yt[pt++]=65533,dt+=vt-1;else{for(mt&=vt===2?31:vt===3?15:7;1<vt&&dt<ht;)mt=mt<<6|63&ut[dt++],vt--;1<vt?yt[pt++]=65533:mt<65536?yt[pt++]=mt:(mt-=65536,yt[pt++]=55296|mt>>10&1023,yt[pt++]=56320|1023&mt)}return ct(yt,pt)},nt.utf8border=function(ut,ft){var dt;for((ft=ft||ut.length)>ut.length&&(ft=ut.length),dt=ft-1;0<=dt&&(192&ut[dt])==128;)dt--;return dt<0||dt===0?ft:dt+st[ut[dt]]>ft?dt:ft}},{"./common":41}],43:[function(tt,rt,nt){rt.exports=function(it,ot,at,st){for(var lt=65535&it|0,ct=it>>>16&65535|0,ut=0;at!==0;){for(at-=ut=2e3<at?2e3:at;ct=ct+(lt=lt+ot[st++]|0)|0,--ut;);lt%=65521,ct%=65521}return lt|ct<<16|0}},{}],44:[function(tt,rt,nt){rt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(tt,rt,nt){var it=function(){for(var ot,at=[],st=0;st<256;st++){ot=st;for(var lt=0;lt<8;lt++)ot=1&ot?3988292384^ot>>>1:ot>>>1;at[st]=ot}return at}();rt.exports=function(ot,at,st,lt){var ct=it,ut=lt+st;ot^=-1;for(var ft=lt;ft<ut;ft++)ot=ot>>>8^ct[255&(ot^at[ft])];return-1^ot}},{}],46:[function(tt,rt,nt){var it,ot=tt("../utils/common"),at=tt("./trees"),st=tt("./adler32"),lt=tt("./crc32"),ct=tt("./messages"),ut=0,ft=4,dt=0,pt=-2,mt=-1,vt=4,ht=2,yt=8,gt=9,xt=286,_t=30,wt=19,Et=2*xt+1,St=15,Ct=3,bt=258,At=bt+Ct+1,Tt=42,Ot=113,$t=1,It=2,Nt=3,jt=4;function Bt(Rt,Ut){return Rt.msg=ct[Ut],Ut}function Dt(Rt){return(Rt<<1)-(4<Rt?9:0)}function zt(Rt){for(var Ut=Rt.length;0<=--Ut;)Rt[Ut]=0}function Lt(Rt){var Ut=Rt.state,Gt=Ut.pending;Gt>Rt.avail_out&&(Gt=Rt.avail_out),Gt!==0&&(ot.arraySet(Rt.output,Ut.pending_buf,Ut.pending_out,Gt,Rt.next_out),Rt.next_out+=Gt,Ut.pending_out+=Gt,Rt.total_out+=Gt,Rt.avail_out-=Gt,Ut.pending-=Gt,Ut.pending===0&&(Ut.pending_out=0))}function Ft(Rt,Ut){at._tr_flush_block(Rt,0<=Rt.block_start?Rt.block_start:-1,Rt.strstart-Rt.block_start,Ut),Rt.block_start=Rt.strstart,Lt(Rt.strm)}function Xt(Rt,Ut){Rt.pending_buf[Rt.pending++]=Ut}function Wt(Rt,Ut){Rt.pending_buf[Rt.pending++]=Ut>>>8&255,Rt.pending_buf[Rt.pending++]=255&Ut}function Ht(Rt,Ut){var Gt,Mt,kt=Rt.max_chain_length,Pt=Rt.strstart,Kt=Rt.prev_length,qt=Rt.nice_match,Vt=Rt.strstart>Rt.w_size-At?Rt.strstart-(Rt.w_size-At):0,tr=Rt.window,Yt=Rt.w_mask,Zt=Rt.prev,er=Rt.strstart+bt,lr=tr[Pt+Kt-1],ur=tr[Pt+Kt];Rt.prev_length>=Rt.good_match&&(kt>>=2),qt>Rt.lookahead&&(qt=Rt.lookahead);do if(tr[(Gt=Ut)+Kt]===ur&&tr[Gt+Kt-1]===lr&&tr[Gt]===tr[Pt]&&tr[++Gt]===tr[Pt+1]){Pt+=2,Gt++;do;while(tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&tr[++Pt]===tr[++Gt]&&Pt<er);if(Mt=bt-(er-Pt),Pt=er-bt,Kt<Mt){if(Rt.match_start=Ut,qt<=(Kt=Mt))break;lr=tr[Pt+Kt-1],ur=tr[Pt+Kt]}}while((Ut=Zt[Ut&Yt])>Vt&&--kt!=0);return Kt<=Rt.lookahead?Kt:Rt.lookahead}function nr(Rt){var Ut,Gt,Mt,kt,Pt,Kt,qt,Vt,tr,Yt,Zt=Rt.w_size;do{if(kt=Rt.window_size-Rt.lookahead-Rt.strstart,Rt.strstart>=Zt+(Zt-At)){for(ot.arraySet(Rt.window,Rt.window,Zt,Zt,0),Rt.match_start-=Zt,Rt.strstart-=Zt,Rt.block_start-=Zt,Ut=Gt=Rt.hash_size;Mt=Rt.head[--Ut],Rt.head[Ut]=Zt<=Mt?Mt-Zt:0,--Gt;);for(Ut=Gt=Zt;Mt=Rt.prev[--Ut],Rt.prev[Ut]=Zt<=Mt?Mt-Zt:0,--Gt;);kt+=Zt}if(Rt.strm.avail_in===0)break;if(Kt=Rt.strm,qt=Rt.window,Vt=Rt.strstart+Rt.lookahead,tr=kt,Yt=void 0,Yt=Kt.avail_in,tr<Yt&&(Yt=tr),Gt=Yt===0?0:(Kt.avail_in-=Yt,ot.arraySet(qt,Kt.input,Kt.next_in,Yt,Vt),Kt.state.wrap===1?Kt.adler=st(Kt.adler,qt,Yt,Vt):Kt.state.wrap===2&&(Kt.adler=lt(Kt.adler,qt,Yt,Vt)),Kt.next_in+=Yt,Kt.total_in+=Yt,Yt),Rt.lookahead+=Gt,Rt.lookahead+Rt.insert>=Ct)for(Pt=Rt.strstart-Rt.insert,Rt.ins_h=Rt.window[Pt],Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Pt+1])&Rt.hash_mask;Rt.insert&&(Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Pt+Ct-1])&Rt.hash_mask,Rt.prev[Pt&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Pt,Pt++,Rt.insert--,!(Rt.lookahead+Rt.insert<Ct)););}while(Rt.lookahead<At&&Rt.strm.avail_in!==0)}function fr(Rt,Ut){for(var Gt,Mt;;){if(Rt.lookahead<At){if(nr(Rt),Rt.lookahead<At&&Ut===ut)return $t;if(Rt.lookahead===0)break}if(Gt=0,Rt.lookahead>=Ct&&(Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Rt.strstart+Ct-1])&Rt.hash_mask,Gt=Rt.prev[Rt.strstart&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Rt.strstart),Gt!==0&&Rt.strstart-Gt<=Rt.w_size-At&&(Rt.match_length=Ht(Rt,Gt)),Rt.match_length>=Ct)if(Mt=at._tr_tally(Rt,Rt.strstart-Rt.match_start,Rt.match_length-Ct),Rt.lookahead-=Rt.match_length,Rt.match_length<=Rt.max_lazy_match&&Rt.lookahead>=Ct){for(Rt.match_length--;Rt.strstart++,Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Rt.strstart+Ct-1])&Rt.hash_mask,Gt=Rt.prev[Rt.strstart&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Rt.strstart,--Rt.match_length!=0;);Rt.strstart++}else Rt.strstart+=Rt.match_length,Rt.match_length=0,Rt.ins_h=Rt.window[Rt.strstart],Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Rt.strstart+1])&Rt.hash_mask;else Mt=at._tr_tally(Rt,0,Rt.window[Rt.strstart]),Rt.lookahead--,Rt.strstart++;if(Mt&&(Ft(Rt,!1),Rt.strm.avail_out===0))return $t}return Rt.insert=Rt.strstart<Ct-1?Rt.strstart:Ct-1,Ut===ft?(Ft(Rt,!0),Rt.strm.avail_out===0?Nt:jt):Rt.last_lit&&(Ft(Rt,!1),Rt.strm.avail_out===0)?$t:It}function dr(Rt,Ut){for(var Gt,Mt,kt;;){if(Rt.lookahead<At){if(nr(Rt),Rt.lookahead<At&&Ut===ut)return $t;if(Rt.lookahead===0)break}if(Gt=0,Rt.lookahead>=Ct&&(Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Rt.strstart+Ct-1])&Rt.hash_mask,Gt=Rt.prev[Rt.strstart&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Rt.strstart),Rt.prev_length=Rt.match_length,Rt.prev_match=Rt.match_start,Rt.match_length=Ct-1,Gt!==0&&Rt.prev_length<Rt.max_lazy_match&&Rt.strstart-Gt<=Rt.w_size-At&&(Rt.match_length=Ht(Rt,Gt),Rt.match_length<=5&&(Rt.strategy===1||Rt.match_length===Ct&&4096<Rt.strstart-Rt.match_start)&&(Rt.match_length=Ct-1)),Rt.prev_length>=Ct&&Rt.match_length<=Rt.prev_length){for(kt=Rt.strstart+Rt.lookahead-Ct,Mt=at._tr_tally(Rt,Rt.strstart-1-Rt.prev_match,Rt.prev_length-Ct),Rt.lookahead-=Rt.prev_length-1,Rt.prev_length-=2;++Rt.strstart<=kt&&(Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Rt.strstart+Ct-1])&Rt.hash_mask,Gt=Rt.prev[Rt.strstart&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Rt.strstart),--Rt.prev_length!=0;);if(Rt.match_available=0,Rt.match_length=Ct-1,Rt.strstart++,Mt&&(Ft(Rt,!1),Rt.strm.avail_out===0))return $t}else if(Rt.match_available){if((Mt=at._tr_tally(Rt,0,Rt.window[Rt.strstart-1]))&&Ft(Rt,!1),Rt.strstart++,Rt.lookahead--,Rt.strm.avail_out===0)return $t}else Rt.match_available=1,Rt.strstart++,Rt.lookahead--}return Rt.match_available&&(Mt=at._tr_tally(Rt,0,Rt.window[Rt.strstart-1]),Rt.match_available=0),Rt.insert=Rt.strstart<Ct-1?Rt.strstart:Ct-1,Ut===ft?(Ft(Rt,!0),Rt.strm.avail_out===0?Nt:jt):Rt.last_lit&&(Ft(Rt,!1),Rt.strm.avail_out===0)?$t:It}function Qt(Rt,Ut,Gt,Mt,kt){this.good_length=Rt,this.max_lazy=Ut,this.nice_length=Gt,this.max_chain=Mt,this.func=kt}function sr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ot.Buf16(2*Et),this.dyn_dtree=new ot.Buf16(2*(2*_t+1)),this.bl_tree=new ot.Buf16(2*(2*wt+1)),zt(this.dyn_ltree),zt(this.dyn_dtree),zt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ot.Buf16(St+1),this.heap=new ot.Buf16(2*xt+1),zt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ot.Buf16(2*xt+1),zt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ar(Rt){var Ut;return Rt&&Rt.state?(Rt.total_in=Rt.total_out=0,Rt.data_type=ht,(Ut=Rt.state).pending=0,Ut.pending_out=0,Ut.wrap<0&&(Ut.wrap=-Ut.wrap),Ut.status=Ut.wrap?Tt:Ot,Rt.adler=Ut.wrap===2?0:1,Ut.last_flush=ut,at._tr_init(Ut),dt):Bt(Rt,pt)}function Jt(Rt){var Ut=ar(Rt);return Ut===dt&&function(Gt){Gt.window_size=2*Gt.w_size,zt(Gt.head),Gt.max_lazy_match=it[Gt.level].max_lazy,Gt.good_match=it[Gt.level].good_length,Gt.nice_match=it[Gt.level].nice_length,Gt.max_chain_length=it[Gt.level].max_chain,Gt.strstart=0,Gt.block_start=0,Gt.lookahead=0,Gt.insert=0,Gt.match_length=Gt.prev_length=Ct-1,Gt.match_available=0,Gt.ins_h=0}(Rt.state),Ut}function pr(Rt,Ut,Gt,Mt,kt,Pt){if(!Rt)return pt;var Kt=1;if(Ut===mt&&(Ut=6),Mt<0?(Kt=0,Mt=-Mt):15<Mt&&(Kt=2,Mt-=16),kt<1||gt<kt||Gt!==yt||Mt<8||15<Mt||Ut<0||9<Ut||Pt<0||vt<Pt)return Bt(Rt,pt);Mt===8&&(Mt=9);var qt=new sr;return(Rt.state=qt).strm=Rt,qt.wrap=Kt,qt.gzhead=null,qt.w_bits=Mt,qt.w_size=1<<qt.w_bits,qt.w_mask=qt.w_size-1,qt.hash_bits=kt+7,qt.hash_size=1<<qt.hash_bits,qt.hash_mask=qt.hash_size-1,qt.hash_shift=~~((qt.hash_bits+Ct-1)/Ct),qt.window=new ot.Buf8(2*qt.w_size),qt.head=new ot.Buf16(qt.hash_size),qt.prev=new ot.Buf16(qt.w_size),qt.lit_bufsize=1<<kt+6,qt.pending_buf_size=4*qt.lit_bufsize,qt.pending_buf=new ot.Buf8(qt.pending_buf_size),qt.d_buf=1*qt.lit_bufsize,qt.l_buf=3*qt.lit_bufsize,qt.level=Ut,qt.strategy=Pt,qt.method=Gt,Jt(Rt)}it=[new Qt(0,0,0,0,function(Rt,Ut){var Gt=65535;for(Gt>Rt.pending_buf_size-5&&(Gt=Rt.pending_buf_size-5);;){if(Rt.lookahead<=1){if(nr(Rt),Rt.lookahead===0&&Ut===ut)return $t;if(Rt.lookahead===0)break}Rt.strstart+=Rt.lookahead,Rt.lookahead=0;var Mt=Rt.block_start+Gt;if((Rt.strstart===0||Rt.strstart>=Mt)&&(Rt.lookahead=Rt.strstart-Mt,Rt.strstart=Mt,Ft(Rt,!1),Rt.strm.avail_out===0)||Rt.strstart-Rt.block_start>=Rt.w_size-At&&(Ft(Rt,!1),Rt.strm.avail_out===0))return $t}return Rt.insert=0,Ut===ft?(Ft(Rt,!0),Rt.strm.avail_out===0?Nt:jt):(Rt.strstart>Rt.block_start&&(Ft(Rt,!1),Rt.strm.avail_out),$t)}),new Qt(4,4,8,4,fr),new Qt(4,5,16,8,fr),new Qt(4,6,32,32,fr),new Qt(4,4,16,16,dr),new Qt(8,16,32,32,dr),new Qt(8,16,128,128,dr),new Qt(8,32,128,256,dr),new Qt(32,128,258,1024,dr),new Qt(32,258,258,4096,dr)],nt.deflateInit=function(Rt,Ut){return pr(Rt,Ut,yt,15,8,0)},nt.deflateInit2=pr,nt.deflateReset=Jt,nt.deflateResetKeep=ar,nt.deflateSetHeader=function(Rt,Ut){return Rt&&Rt.state?Rt.state.wrap!==2?pt:(Rt.state.gzhead=Ut,dt):pt},nt.deflate=function(Rt,Ut){var Gt,Mt,kt,Pt;if(!Rt||!Rt.state||5<Ut||Ut<0)return Rt?Bt(Rt,pt):pt;if(Mt=Rt.state,!Rt.output||!Rt.input&&Rt.avail_in!==0||Mt.status===666&&Ut!==ft)return Bt(Rt,Rt.avail_out===0?-5:pt);if(Mt.strm=Rt,Gt=Mt.last_flush,Mt.last_flush=Ut,Mt.status===Tt)if(Mt.wrap===2)Rt.adler=0,Xt(Mt,31),Xt(Mt,139),Xt(Mt,8),Mt.gzhead?(Xt(Mt,(Mt.gzhead.text?1:0)+(Mt.gzhead.hcrc?2:0)+(Mt.gzhead.extra?4:0)+(Mt.gzhead.name?8:0)+(Mt.gzhead.comment?16:0)),Xt(Mt,255&Mt.gzhead.time),Xt(Mt,Mt.gzhead.time>>8&255),Xt(Mt,Mt.gzhead.time>>16&255),Xt(Mt,Mt.gzhead.time>>24&255),Xt(Mt,Mt.level===9?2:2<=Mt.strategy||Mt.level<2?4:0),Xt(Mt,255&Mt.gzhead.os),Mt.gzhead.extra&&Mt.gzhead.extra.length&&(Xt(Mt,255&Mt.gzhead.extra.length),Xt(Mt,Mt.gzhead.extra.length>>8&255)),Mt.gzhead.hcrc&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending,0)),Mt.gzindex=0,Mt.status=69):(Xt(Mt,0),Xt(Mt,0),Xt(Mt,0),Xt(Mt,0),Xt(Mt,0),Xt(Mt,Mt.level===9?2:2<=Mt.strategy||Mt.level<2?4:0),Xt(Mt,3),Mt.status=Ot);else{var Kt=yt+(Mt.w_bits-8<<4)<<8;Kt|=(2<=Mt.strategy||Mt.level<2?0:Mt.level<6?1:Mt.level===6?2:3)<<6,Mt.strstart!==0&&(Kt|=32),Kt+=31-Kt%31,Mt.status=Ot,Wt(Mt,Kt),Mt.strstart!==0&&(Wt(Mt,Rt.adler>>>16),Wt(Mt,65535&Rt.adler)),Rt.adler=1}if(Mt.status===69)if(Mt.gzhead.extra){for(kt=Mt.pending;Mt.gzindex<(65535&Mt.gzhead.extra.length)&&(Mt.pending!==Mt.pending_buf_size||(Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Lt(Rt),kt=Mt.pending,Mt.pending!==Mt.pending_buf_size));)Xt(Mt,255&Mt.gzhead.extra[Mt.gzindex]),Mt.gzindex++;Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Mt.gzindex===Mt.gzhead.extra.length&&(Mt.gzindex=0,Mt.status=73)}else Mt.status=73;if(Mt.status===73)if(Mt.gzhead.name){kt=Mt.pending;do{if(Mt.pending===Mt.pending_buf_size&&(Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Lt(Rt),kt=Mt.pending,Mt.pending===Mt.pending_buf_size)){Pt=1;break}Pt=Mt.gzindex<Mt.gzhead.name.length?255&Mt.gzhead.name.charCodeAt(Mt.gzindex++):0,Xt(Mt,Pt)}while(Pt!==0);Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Pt===0&&(Mt.gzindex=0,Mt.status=91)}else Mt.status=91;if(Mt.status===91)if(Mt.gzhead.comment){kt=Mt.pending;do{if(Mt.pending===Mt.pending_buf_size&&(Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Lt(Rt),kt=Mt.pending,Mt.pending===Mt.pending_buf_size)){Pt=1;break}Pt=Mt.gzindex<Mt.gzhead.comment.length?255&Mt.gzhead.comment.charCodeAt(Mt.gzindex++):0,Xt(Mt,Pt)}while(Pt!==0);Mt.gzhead.hcrc&&Mt.pending>kt&&(Rt.adler=lt(Rt.adler,Mt.pending_buf,Mt.pending-kt,kt)),Pt===0&&(Mt.status=103)}else Mt.status=103;if(Mt.status===103&&(Mt.gzhead.hcrc?(Mt.pending+2>Mt.pending_buf_size&&Lt(Rt),Mt.pending+2<=Mt.pending_buf_size&&(Xt(Mt,255&Rt.adler),Xt(Mt,Rt.adler>>8&255),Rt.adler=0,Mt.status=Ot)):Mt.status=Ot),Mt.pending!==0){if(Lt(Rt),Rt.avail_out===0)return Mt.last_flush=-1,dt}else if(Rt.avail_in===0&&Dt(Ut)<=Dt(Gt)&&Ut!==ft)return Bt(Rt,-5);if(Mt.status===666&&Rt.avail_in!==0)return Bt(Rt,-5);if(Rt.avail_in!==0||Mt.lookahead!==0||Ut!==ut&&Mt.status!==666){var qt=Mt.strategy===2?function(Vt,tr){for(var Yt;;){if(Vt.lookahead===0&&(nr(Vt),Vt.lookahead===0)){if(tr===ut)return $t;break}if(Vt.match_length=0,Yt=at._tr_tally(Vt,0,Vt.window[Vt.strstart]),Vt.lookahead--,Vt.strstart++,Yt&&(Ft(Vt,!1),Vt.strm.avail_out===0))return $t}return Vt.insert=0,tr===ft?(Ft(Vt,!0),Vt.strm.avail_out===0?Nt:jt):Vt.last_lit&&(Ft(Vt,!1),Vt.strm.avail_out===0)?$t:It}(Mt,Ut):Mt.strategy===3?function(Vt,tr){for(var Yt,Zt,er,lr,ur=Vt.window;;){if(Vt.lookahead<=bt){if(nr(Vt),Vt.lookahead<=bt&&tr===ut)return $t;if(Vt.lookahead===0)break}if(Vt.match_length=0,Vt.lookahead>=Ct&&0<Vt.strstart&&(Zt=ur[er=Vt.strstart-1])===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]){lr=Vt.strstart+bt;do;while(Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&Zt===ur[++er]&&er<lr);Vt.match_length=bt-(lr-er),Vt.match_length>Vt.lookahead&&(Vt.match_length=Vt.lookahead)}if(Vt.match_length>=Ct?(Yt=at._tr_tally(Vt,1,Vt.match_length-Ct),Vt.lookahead-=Vt.match_length,Vt.strstart+=Vt.match_length,Vt.match_length=0):(Yt=at._tr_tally(Vt,0,Vt.window[Vt.strstart]),Vt.lookahead--,Vt.strstart++),Yt&&(Ft(Vt,!1),Vt.strm.avail_out===0))return $t}return Vt.insert=0,tr===ft?(Ft(Vt,!0),Vt.strm.avail_out===0?Nt:jt):Vt.last_lit&&(Ft(Vt,!1),Vt.strm.avail_out===0)?$t:It}(Mt,Ut):it[Mt.level].func(Mt,Ut);if(qt!==Nt&&qt!==jt||(Mt.status=666),qt===$t||qt===Nt)return Rt.avail_out===0&&(Mt.last_flush=-1),dt;if(qt===It&&(Ut===1?at._tr_align(Mt):Ut!==5&&(at._tr_stored_block(Mt,0,0,!1),Ut===3&&(zt(Mt.head),Mt.lookahead===0&&(Mt.strstart=0,Mt.block_start=0,Mt.insert=0))),Lt(Rt),Rt.avail_out===0))return Mt.last_flush=-1,dt}return Ut!==ft?dt:Mt.wrap<=0?1:(Mt.wrap===2?(Xt(Mt,255&Rt.adler),Xt(Mt,Rt.adler>>8&255),Xt(Mt,Rt.adler>>16&255),Xt(Mt,Rt.adler>>24&255),Xt(Mt,255&Rt.total_in),Xt(Mt,Rt.total_in>>8&255),Xt(Mt,Rt.total_in>>16&255),Xt(Mt,Rt.total_in>>24&255)):(Wt(Mt,Rt.adler>>>16),Wt(Mt,65535&Rt.adler)),Lt(Rt),0<Mt.wrap&&(Mt.wrap=-Mt.wrap),Mt.pending!==0?dt:1)},nt.deflateEnd=function(Rt){var Ut;return Rt&&Rt.state?(Ut=Rt.state.status)!==Tt&&Ut!==69&&Ut!==73&&Ut!==91&&Ut!==103&&Ut!==Ot&&Ut!==666?Bt(Rt,pt):(Rt.state=null,Ut===Ot?Bt(Rt,-3):dt):pt},nt.deflateSetDictionary=function(Rt,Ut){var Gt,Mt,kt,Pt,Kt,qt,Vt,tr,Yt=Ut.length;if(!Rt||!Rt.state||(Pt=(Gt=Rt.state).wrap)===2||Pt===1&&Gt.status!==Tt||Gt.lookahead)return pt;for(Pt===1&&(Rt.adler=st(Rt.adler,Ut,Yt,0)),Gt.wrap=0,Yt>=Gt.w_size&&(Pt===0&&(zt(Gt.head),Gt.strstart=0,Gt.block_start=0,Gt.insert=0),tr=new ot.Buf8(Gt.w_size),ot.arraySet(tr,Ut,Yt-Gt.w_size,Gt.w_size,0),Ut=tr,Yt=Gt.w_size),Kt=Rt.avail_in,qt=Rt.next_in,Vt=Rt.input,Rt.avail_in=Yt,Rt.next_in=0,Rt.input=Ut,nr(Gt);Gt.lookahead>=Ct;){for(Mt=Gt.strstart,kt=Gt.lookahead-(Ct-1);Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Mt+Ct-1])&Gt.hash_mask,Gt.prev[Mt&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Mt,Mt++,--kt;);Gt.strstart=Mt,Gt.lookahead=Ct-1,nr(Gt)}return Gt.strstart+=Gt.lookahead,Gt.block_start=Gt.strstart,Gt.insert=Gt.lookahead,Gt.lookahead=0,Gt.match_length=Gt.prev_length=Ct-1,Gt.match_available=0,Rt.next_in=qt,Rt.input=Vt,Rt.avail_in=Kt,Gt.wrap=Pt,dt},nt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(tt,rt,nt){rt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(tt,rt,nt){rt.exports=function(it,ot){var at,st,lt,ct,ut,ft,dt,pt,mt,vt,ht,yt,gt,xt,_t,wt,Et,St,Ct,bt,At,Tt,Ot,$t,It;at=it.state,st=it.next_in,$t=it.input,lt=st+(it.avail_in-5),ct=it.next_out,It=it.output,ut=ct-(ot-it.avail_out),ft=ct+(it.avail_out-257),dt=at.dmax,pt=at.wsize,mt=at.whave,vt=at.wnext,ht=at.window,yt=at.hold,gt=at.bits,xt=at.lencode,_t=at.distcode,wt=(1<<at.lenbits)-1,Et=(1<<at.distbits)-1;e:do{gt<15&&(yt+=$t[st++]<<gt,gt+=8,yt+=$t[st++]<<gt,gt+=8),St=xt[yt&wt];t:for(;;){if(yt>>>=Ct=St>>>24,gt-=Ct,(Ct=St>>>16&255)===0)It[ct++]=65535&St;else{if(!(16&Ct)){if(!(64&Ct)){St=xt[(65535&St)+(yt&(1<<Ct)-1)];continue t}if(32&Ct){at.mode=12;break e}it.msg="invalid literal/length code",at.mode=30;break e}bt=65535&St,(Ct&=15)&&(gt<Ct&&(yt+=$t[st++]<<gt,gt+=8),bt+=yt&(1<<Ct)-1,yt>>>=Ct,gt-=Ct),gt<15&&(yt+=$t[st++]<<gt,gt+=8,yt+=$t[st++]<<gt,gt+=8),St=_t[yt&Et];r:for(;;){if(yt>>>=Ct=St>>>24,gt-=Ct,!(16&(Ct=St>>>16&255))){if(!(64&Ct)){St=_t[(65535&St)+(yt&(1<<Ct)-1)];continue r}it.msg="invalid distance code",at.mode=30;break e}if(At=65535&St,gt<(Ct&=15)&&(yt+=$t[st++]<<gt,(gt+=8)<Ct&&(yt+=$t[st++]<<gt,gt+=8)),dt<(At+=yt&(1<<Ct)-1)){it.msg="invalid distance too far back",at.mode=30;break e}if(yt>>>=Ct,gt-=Ct,(Ct=ct-ut)<At){if(mt<(Ct=At-Ct)&&at.sane){it.msg="invalid distance too far back",at.mode=30;break e}if(Ot=ht,(Tt=0)===vt){if(Tt+=pt-Ct,Ct<bt){for(bt-=Ct;It[ct++]=ht[Tt++],--Ct;);Tt=ct-At,Ot=It}}else if(vt<Ct){if(Tt+=pt+vt-Ct,(Ct-=vt)<bt){for(bt-=Ct;It[ct++]=ht[Tt++],--Ct;);if(Tt=0,vt<bt){for(bt-=Ct=vt;It[ct++]=ht[Tt++],--Ct;);Tt=ct-At,Ot=It}}}else if(Tt+=vt-Ct,Ct<bt){for(bt-=Ct;It[ct++]=ht[Tt++],--Ct;);Tt=ct-At,Ot=It}for(;2<bt;)It[ct++]=Ot[Tt++],It[ct++]=Ot[Tt++],It[ct++]=Ot[Tt++],bt-=3;bt&&(It[ct++]=Ot[Tt++],1<bt&&(It[ct++]=Ot[Tt++]))}else{for(Tt=ct-At;It[ct++]=It[Tt++],It[ct++]=It[Tt++],It[ct++]=It[Tt++],2<(bt-=3););bt&&(It[ct++]=It[Tt++],1<bt&&(It[ct++]=It[Tt++]))}break}}break}}while(st<lt&&ct<ft);st-=bt=gt>>3,yt&=(1<<(gt-=bt<<3))-1,it.next_in=st,it.next_out=ct,it.avail_in=st<lt?lt-st+5:5-(st-lt),it.avail_out=ct<ft?ft-ct+257:257-(ct-ft),at.hold=yt,at.bits=gt}},{}],49:[function(tt,rt,nt){var it=tt("../utils/common"),ot=tt("./adler32"),at=tt("./crc32"),st=tt("./inffast"),lt=tt("./inftrees"),ct=1,ut=2,ft=0,dt=-2,pt=1,mt=852,vt=592;function ht(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function yt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new it.Buf16(320),this.work=new it.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function gt(Tt){var Ot;return Tt&&Tt.state?(Ot=Tt.state,Tt.total_in=Tt.total_out=Ot.total=0,Tt.msg="",Ot.wrap&&(Tt.adler=1&Ot.wrap),Ot.mode=pt,Ot.last=0,Ot.havedict=0,Ot.dmax=32768,Ot.head=null,Ot.hold=0,Ot.bits=0,Ot.lencode=Ot.lendyn=new it.Buf32(mt),Ot.distcode=Ot.distdyn=new it.Buf32(vt),Ot.sane=1,Ot.back=-1,ft):dt}function xt(Tt){var Ot;return Tt&&Tt.state?((Ot=Tt.state).wsize=0,Ot.whave=0,Ot.wnext=0,gt(Tt)):dt}function _t(Tt,Ot){var $t,It;return Tt&&Tt.state?(It=Tt.state,Ot<0?($t=0,Ot=-Ot):($t=1+(Ot>>4),Ot<48&&(Ot&=15)),Ot&&(Ot<8||15<Ot)?dt:(It.window!==null&&It.wbits!==Ot&&(It.window=null),It.wrap=$t,It.wbits=Ot,xt(Tt))):dt}function wt(Tt,Ot){var $t,It;return Tt?(It=new yt,(Tt.state=It).window=null,($t=_t(Tt,Ot))!==ft&&(Tt.state=null),$t):dt}var Et,St,Ct=!0;function bt(Tt){if(Ct){var Ot;for(Et=new it.Buf32(512),St=new it.Buf32(32),Ot=0;Ot<144;)Tt.lens[Ot++]=8;for(;Ot<256;)Tt.lens[Ot++]=9;for(;Ot<280;)Tt.lens[Ot++]=7;for(;Ot<288;)Tt.lens[Ot++]=8;for(lt(ct,Tt.lens,0,288,Et,0,Tt.work,{bits:9}),Ot=0;Ot<32;)Tt.lens[Ot++]=5;lt(ut,Tt.lens,0,32,St,0,Tt.work,{bits:5}),Ct=!1}Tt.lencode=Et,Tt.lenbits=9,Tt.distcode=St,Tt.distbits=5}function At(Tt,Ot,$t,It){var Nt,jt=Tt.state;return jt.window===null&&(jt.wsize=1<<jt.wbits,jt.wnext=0,jt.whave=0,jt.window=new it.Buf8(jt.wsize)),It>=jt.wsize?(it.arraySet(jt.window,Ot,$t-jt.wsize,jt.wsize,0),jt.wnext=0,jt.whave=jt.wsize):(It<(Nt=jt.wsize-jt.wnext)&&(Nt=It),it.arraySet(jt.window,Ot,$t-It,Nt,jt.wnext),(It-=Nt)?(it.arraySet(jt.window,Ot,$t-It,It,0),jt.wnext=It,jt.whave=jt.wsize):(jt.wnext+=Nt,jt.wnext===jt.wsize&&(jt.wnext=0),jt.whave<jt.wsize&&(jt.whave+=Nt))),0}nt.inflateReset=xt,nt.inflateReset2=_t,nt.inflateResetKeep=gt,nt.inflateInit=function(Tt){return wt(Tt,15)},nt.inflateInit2=wt,nt.inflate=function(Tt,Ot){var $t,It,Nt,jt,Bt,Dt,zt,Lt,Ft,Xt,Wt,Ht,nr,fr,dr,Qt,sr,ar,Jt,pr,Rt,Ut,Gt,Mt,kt=0,Pt=new it.Buf8(4),Kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return dt;($t=Tt.state).mode===12&&($t.mode=13),Bt=Tt.next_out,Nt=Tt.output,zt=Tt.avail_out,jt=Tt.next_in,It=Tt.input,Dt=Tt.avail_in,Lt=$t.hold,Ft=$t.bits,Xt=Dt,Wt=zt,Ut=ft;e:for(;;)switch($t.mode){case pt:if($t.wrap===0){$t.mode=13;break}for(;Ft<16;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(2&$t.wrap&&Lt===35615){Pt[$t.check=0]=255&Lt,Pt[1]=Lt>>>8&255,$t.check=at($t.check,Pt,2,0),Ft=Lt=0,$t.mode=2;break}if($t.flags=0,$t.head&&($t.head.done=!1),!(1&$t.wrap)||(((255&Lt)<<8)+(Lt>>8))%31){Tt.msg="incorrect header check",$t.mode=30;break}if((15&Lt)!=8){Tt.msg="unknown compression method",$t.mode=30;break}if(Ft-=4,Rt=8+(15&(Lt>>>=4)),$t.wbits===0)$t.wbits=Rt;else if(Rt>$t.wbits){Tt.msg="invalid window size",$t.mode=30;break}$t.dmax=1<<Rt,Tt.adler=$t.check=1,$t.mode=512&Lt?10:12,Ft=Lt=0;break;case 2:for(;Ft<16;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if($t.flags=Lt,(255&$t.flags)!=8){Tt.msg="unknown compression method",$t.mode=30;break}if(57344&$t.flags){Tt.msg="unknown header flags set",$t.mode=30;break}$t.head&&($t.head.text=Lt>>8&1),512&$t.flags&&(Pt[0]=255&Lt,Pt[1]=Lt>>>8&255,$t.check=at($t.check,Pt,2,0)),Ft=Lt=0,$t.mode=3;case 3:for(;Ft<32;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.head&&($t.head.time=Lt),512&$t.flags&&(Pt[0]=255&Lt,Pt[1]=Lt>>>8&255,Pt[2]=Lt>>>16&255,Pt[3]=Lt>>>24&255,$t.check=at($t.check,Pt,4,0)),Ft=Lt=0,$t.mode=4;case 4:for(;Ft<16;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.head&&($t.head.xflags=255&Lt,$t.head.os=Lt>>8),512&$t.flags&&(Pt[0]=255&Lt,Pt[1]=Lt>>>8&255,$t.check=at($t.check,Pt,2,0)),Ft=Lt=0,$t.mode=5;case 5:if(1024&$t.flags){for(;Ft<16;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.length=Lt,$t.head&&($t.head.extra_len=Lt),512&$t.flags&&(Pt[0]=255&Lt,Pt[1]=Lt>>>8&255,$t.check=at($t.check,Pt,2,0)),Ft=Lt=0}else $t.head&&($t.head.extra=null);$t.mode=6;case 6:if(1024&$t.flags&&(Dt<(Ht=$t.length)&&(Ht=Dt),Ht&&($t.head&&(Rt=$t.head.extra_len-$t.length,$t.head.extra||($t.head.extra=new Array($t.head.extra_len)),it.arraySet($t.head.extra,It,jt,Ht,Rt)),512&$t.flags&&($t.check=at($t.check,It,Ht,jt)),Dt-=Ht,jt+=Ht,$t.length-=Ht),$t.length))break e;$t.length=0,$t.mode=7;case 7:if(2048&$t.flags){if(Dt===0)break e;for(Ht=0;Rt=It[jt+Ht++],$t.head&&Rt&&$t.length<65536&&($t.head.name+=String.fromCharCode(Rt)),Rt&&Ht<Dt;);if(512&$t.flags&&($t.check=at($t.check,It,Ht,jt)),Dt-=Ht,jt+=Ht,Rt)break e}else $t.head&&($t.head.name=null);$t.length=0,$t.mode=8;case 8:if(4096&$t.flags){if(Dt===0)break e;for(Ht=0;Rt=It[jt+Ht++],$t.head&&Rt&&$t.length<65536&&($t.head.comment+=String.fromCharCode(Rt)),Rt&&Ht<Dt;);if(512&$t.flags&&($t.check=at($t.check,It,Ht,jt)),Dt-=Ht,jt+=Ht,Rt)break e}else $t.head&&($t.head.comment=null);$t.mode=9;case 9:if(512&$t.flags){for(;Ft<16;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(Lt!==(65535&$t.check)){Tt.msg="header crc mismatch",$t.mode=30;break}Ft=Lt=0}$t.head&&($t.head.hcrc=$t.flags>>9&1,$t.head.done=!0),Tt.adler=$t.check=0,$t.mode=12;break;case 10:for(;Ft<32;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}Tt.adler=$t.check=ht(Lt),Ft=Lt=0,$t.mode=11;case 11:if($t.havedict===0)return Tt.next_out=Bt,Tt.avail_out=zt,Tt.next_in=jt,Tt.avail_in=Dt,$t.hold=Lt,$t.bits=Ft,2;Tt.adler=$t.check=1,$t.mode=12;case 12:if(Ot===5||Ot===6)break e;case 13:if($t.last){Lt>>>=7&Ft,Ft-=7&Ft,$t.mode=27;break}for(;Ft<3;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}switch($t.last=1&Lt,Ft-=1,3&(Lt>>>=1)){case 0:$t.mode=14;break;case 1:if(bt($t),$t.mode=20,Ot!==6)break;Lt>>>=2,Ft-=2;break e;case 2:$t.mode=17;break;case 3:Tt.msg="invalid block type",$t.mode=30}Lt>>>=2,Ft-=2;break;case 14:for(Lt>>>=7&Ft,Ft-=7&Ft;Ft<32;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if((65535&Lt)!=(Lt>>>16^65535)){Tt.msg="invalid stored block lengths",$t.mode=30;break}if($t.length=65535&Lt,Ft=Lt=0,$t.mode=15,Ot===6)break e;case 15:$t.mode=16;case 16:if(Ht=$t.length){if(Dt<Ht&&(Ht=Dt),zt<Ht&&(Ht=zt),Ht===0)break e;it.arraySet(Nt,It,jt,Ht,Bt),Dt-=Ht,jt+=Ht,zt-=Ht,Bt+=Ht,$t.length-=Ht;break}$t.mode=12;break;case 17:for(;Ft<14;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if($t.nlen=257+(31&Lt),Lt>>>=5,Ft-=5,$t.ndist=1+(31&Lt),Lt>>>=5,Ft-=5,$t.ncode=4+(15&Lt),Lt>>>=4,Ft-=4,286<$t.nlen||30<$t.ndist){Tt.msg="too many length or distance symbols",$t.mode=30;break}$t.have=0,$t.mode=18;case 18:for(;$t.have<$t.ncode;){for(;Ft<3;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.lens[Kt[$t.have++]]=7&Lt,Lt>>>=3,Ft-=3}for(;$t.have<19;)$t.lens[Kt[$t.have++]]=0;if($t.lencode=$t.lendyn,$t.lenbits=7,Gt={bits:$t.lenbits},Ut=lt(0,$t.lens,0,19,$t.lencode,0,$t.work,Gt),$t.lenbits=Gt.bits,Ut){Tt.msg="invalid code lengths set",$t.mode=30;break}$t.have=0,$t.mode=19;case 19:for(;$t.have<$t.nlen+$t.ndist;){for(;Qt=(kt=$t.lencode[Lt&(1<<$t.lenbits)-1])>>>16&255,sr=65535&kt,!((dr=kt>>>24)<=Ft);){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(sr<16)Lt>>>=dr,Ft-=dr,$t.lens[$t.have++]=sr;else{if(sr===16){for(Mt=dr+2;Ft<Mt;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(Lt>>>=dr,Ft-=dr,$t.have===0){Tt.msg="invalid bit length repeat",$t.mode=30;break}Rt=$t.lens[$t.have-1],Ht=3+(3&Lt),Lt>>>=2,Ft-=2}else if(sr===17){for(Mt=dr+3;Ft<Mt;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}Ft-=dr,Rt=0,Ht=3+(7&(Lt>>>=dr)),Lt>>>=3,Ft-=3}else{for(Mt=dr+7;Ft<Mt;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}Ft-=dr,Rt=0,Ht=11+(127&(Lt>>>=dr)),Lt>>>=7,Ft-=7}if($t.have+Ht>$t.nlen+$t.ndist){Tt.msg="invalid bit length repeat",$t.mode=30;break}for(;Ht--;)$t.lens[$t.have++]=Rt}}if($t.mode===30)break;if($t.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",$t.mode=30;break}if($t.lenbits=9,Gt={bits:$t.lenbits},Ut=lt(ct,$t.lens,0,$t.nlen,$t.lencode,0,$t.work,Gt),$t.lenbits=Gt.bits,Ut){Tt.msg="invalid literal/lengths set",$t.mode=30;break}if($t.distbits=6,$t.distcode=$t.distdyn,Gt={bits:$t.distbits},Ut=lt(ut,$t.lens,$t.nlen,$t.ndist,$t.distcode,0,$t.work,Gt),$t.distbits=Gt.bits,Ut){Tt.msg="invalid distances set",$t.mode=30;break}if($t.mode=20,Ot===6)break e;case 20:$t.mode=21;case 21:if(6<=Dt&&258<=zt){Tt.next_out=Bt,Tt.avail_out=zt,Tt.next_in=jt,Tt.avail_in=Dt,$t.hold=Lt,$t.bits=Ft,st(Tt,Wt),Bt=Tt.next_out,Nt=Tt.output,zt=Tt.avail_out,jt=Tt.next_in,It=Tt.input,Dt=Tt.avail_in,Lt=$t.hold,Ft=$t.bits,$t.mode===12&&($t.back=-1);break}for($t.back=0;Qt=(kt=$t.lencode[Lt&(1<<$t.lenbits)-1])>>>16&255,sr=65535&kt,!((dr=kt>>>24)<=Ft);){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(Qt&&!(240&Qt)){for(ar=dr,Jt=Qt,pr=sr;Qt=(kt=$t.lencode[pr+((Lt&(1<<ar+Jt)-1)>>ar)])>>>16&255,sr=65535&kt,!(ar+(dr=kt>>>24)<=Ft);){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}Lt>>>=ar,Ft-=ar,$t.back+=ar}if(Lt>>>=dr,Ft-=dr,$t.back+=dr,$t.length=sr,Qt===0){$t.mode=26;break}if(32&Qt){$t.back=-1,$t.mode=12;break}if(64&Qt){Tt.msg="invalid literal/length code",$t.mode=30;break}$t.extra=15&Qt,$t.mode=22;case 22:if($t.extra){for(Mt=$t.extra;Ft<Mt;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.length+=Lt&(1<<$t.extra)-1,Lt>>>=$t.extra,Ft-=$t.extra,$t.back+=$t.extra}$t.was=$t.length,$t.mode=23;case 23:for(;Qt=(kt=$t.distcode[Lt&(1<<$t.distbits)-1])>>>16&255,sr=65535&kt,!((dr=kt>>>24)<=Ft);){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(!(240&Qt)){for(ar=dr,Jt=Qt,pr=sr;Qt=(kt=$t.distcode[pr+((Lt&(1<<ar+Jt)-1)>>ar)])>>>16&255,sr=65535&kt,!(ar+(dr=kt>>>24)<=Ft);){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}Lt>>>=ar,Ft-=ar,$t.back+=ar}if(Lt>>>=dr,Ft-=dr,$t.back+=dr,64&Qt){Tt.msg="invalid distance code",$t.mode=30;break}$t.offset=sr,$t.extra=15&Qt,$t.mode=24;case 24:if($t.extra){for(Mt=$t.extra;Ft<Mt;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}$t.offset+=Lt&(1<<$t.extra)-1,Lt>>>=$t.extra,Ft-=$t.extra,$t.back+=$t.extra}if($t.offset>$t.dmax){Tt.msg="invalid distance too far back",$t.mode=30;break}$t.mode=25;case 25:if(zt===0)break e;if(Ht=Wt-zt,$t.offset>Ht){if((Ht=$t.offset-Ht)>$t.whave&&$t.sane){Tt.msg="invalid distance too far back",$t.mode=30;break}nr=Ht>$t.wnext?(Ht-=$t.wnext,$t.wsize-Ht):$t.wnext-Ht,Ht>$t.length&&(Ht=$t.length),fr=$t.window}else fr=Nt,nr=Bt-$t.offset,Ht=$t.length;for(zt<Ht&&(Ht=zt),zt-=Ht,$t.length-=Ht;Nt[Bt++]=fr[nr++],--Ht;);$t.length===0&&($t.mode=21);break;case 26:if(zt===0)break e;Nt[Bt++]=$t.length,zt--,$t.mode=21;break;case 27:if($t.wrap){for(;Ft<32;){if(Dt===0)break e;Dt--,Lt|=It[jt++]<<Ft,Ft+=8}if(Wt-=zt,Tt.total_out+=Wt,$t.total+=Wt,Wt&&(Tt.adler=$t.check=$t.flags?at($t.check,Nt,Wt,Bt-Wt):ot($t.check,Nt,Wt,Bt-Wt)),Wt=zt,($t.flags?Lt:ht(Lt))!==$t.check){Tt.msg="incorrect data check",$t.mode=30;break}Ft=Lt=0}$t.mode=28;case 28:if($t.wrap&&$t.flags){for(;Ft<32;){if(Dt===0)break e;Dt--,Lt+=It[jt++]<<Ft,Ft+=8}if(Lt!==(4294967295&$t.total)){Tt.msg="incorrect length check",$t.mode=30;break}Ft=Lt=0}$t.mode=29;case 29:Ut=1;break e;case 30:Ut=-3;break e;case 31:return-4;case 32:default:return dt}return Tt.next_out=Bt,Tt.avail_out=zt,Tt.next_in=jt,Tt.avail_in=Dt,$t.hold=Lt,$t.bits=Ft,($t.wsize||Wt!==Tt.avail_out&&$t.mode<30&&($t.mode<27||Ot!==4))&&At(Tt,Tt.output,Tt.next_out,Wt-Tt.avail_out)?($t.mode=31,-4):(Xt-=Tt.avail_in,Wt-=Tt.avail_out,Tt.total_in+=Xt,Tt.total_out+=Wt,$t.total+=Wt,$t.wrap&&Wt&&(Tt.adler=$t.check=$t.flags?at($t.check,Nt,Wt,Tt.next_out-Wt):ot($t.check,Nt,Wt,Tt.next_out-Wt)),Tt.data_type=$t.bits+($t.last?64:0)+($t.mode===12?128:0)+($t.mode===20||$t.mode===15?256:0),(Xt==0&&Wt===0||Ot===4)&&Ut===ft&&(Ut=-5),Ut)},nt.inflateEnd=function(Tt){if(!Tt||!Tt.state)return dt;var Ot=Tt.state;return Ot.window&&(Ot.window=null),Tt.state=null,ft},nt.inflateGetHeader=function(Tt,Ot){var $t;return Tt&&Tt.state&&2&($t=Tt.state).wrap?(($t.head=Ot).done=!1,ft):dt},nt.inflateSetDictionary=function(Tt,Ot){var $t,It=Ot.length;return Tt&&Tt.state?($t=Tt.state).wrap!==0&&$t.mode!==11?dt:$t.mode===11&&ot(1,Ot,It,0)!==$t.check?-3:At(Tt,Ot,It,It)?($t.mode=31,-4):($t.havedict=1,ft):dt},nt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(tt,rt,nt){var it=tt("../utils/common"),ot=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],at=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],lt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];rt.exports=function(ct,ut,ft,dt,pt,mt,vt,ht){var yt,gt,xt,_t,wt,Et,St,Ct,bt,At=ht.bits,Tt=0,Ot=0,$t=0,It=0,Nt=0,jt=0,Bt=0,Dt=0,zt=0,Lt=0,Ft=null,Xt=0,Wt=new it.Buf16(16),Ht=new it.Buf16(16),nr=null,fr=0;for(Tt=0;Tt<=15;Tt++)Wt[Tt]=0;for(Ot=0;Ot<dt;Ot++)Wt[ut[ft+Ot]]++;for(Nt=At,It=15;1<=It&&Wt[It]===0;It--);if(It<Nt&&(Nt=It),It===0)return pt[mt++]=20971520,pt[mt++]=20971520,ht.bits=1,0;for($t=1;$t<It&&Wt[$t]===0;$t++);for(Nt<$t&&(Nt=$t),Tt=Dt=1;Tt<=15;Tt++)if(Dt<<=1,(Dt-=Wt[Tt])<0)return-1;if(0<Dt&&(ct===0||It!==1))return-1;for(Ht[1]=0,Tt=1;Tt<15;Tt++)Ht[Tt+1]=Ht[Tt]+Wt[Tt];for(Ot=0;Ot<dt;Ot++)ut[ft+Ot]!==0&&(vt[Ht[ut[ft+Ot]]++]=Ot);if(Et=ct===0?(Ft=nr=vt,19):ct===1?(Ft=ot,Xt-=257,nr=at,fr-=257,256):(Ft=st,nr=lt,-1),Tt=$t,wt=mt,Bt=Ot=Lt=0,xt=-1,_t=(zt=1<<(jt=Nt))-1,ct===1&&852<zt||ct===2&&592<zt)return 1;for(;;){for(St=Tt-Bt,bt=vt[Ot]<Et?(Ct=0,vt[Ot]):vt[Ot]>Et?(Ct=nr[fr+vt[Ot]],Ft[Xt+vt[Ot]]):(Ct=96,0),yt=1<<Tt-Bt,$t=gt=1<<jt;pt[wt+(Lt>>Bt)+(gt-=yt)]=St<<24|Ct<<16|bt|0,gt!==0;);for(yt=1<<Tt-1;Lt&yt;)yt>>=1;if(yt!==0?(Lt&=yt-1,Lt+=yt):Lt=0,Ot++,--Wt[Tt]==0){if(Tt===It)break;Tt=ut[ft+vt[Ot]]}if(Nt<Tt&&(Lt&_t)!==xt){for(Bt===0&&(Bt=Nt),wt+=$t,Dt=1<<(jt=Tt-Bt);jt+Bt<It&&!((Dt-=Wt[jt+Bt])<=0);)jt++,Dt<<=1;if(zt+=1<<jt,ct===1&&852<zt||ct===2&&592<zt)return 1;pt[xt=Lt&_t]=Nt<<24|jt<<16|wt-mt|0}}return Lt!==0&&(pt[wt+Lt]=Tt-Bt<<24|64<<16|0),ht.bits=Nt,0}},{"../utils/common":41}],51:[function(tt,rt,nt){rt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(tt,rt,nt){var it=tt("../utils/common"),ot=0,at=1;function st(kt){for(var Pt=kt.length;0<=--Pt;)kt[Pt]=0}var lt=0,ct=29,ut=256,ft=ut+1+ct,dt=30,pt=19,mt=2*ft+1,vt=15,ht=16,yt=7,gt=256,xt=16,_t=17,wt=18,Et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],St=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],At=new Array(2*(ft+2));st(At);var Tt=new Array(2*dt);st(Tt);var Ot=new Array(512);st(Ot);var $t=new Array(256);st($t);var It=new Array(ct);st(It);var Nt,jt,Bt,Dt=new Array(dt);function zt(kt,Pt,Kt,qt,Vt){this.static_tree=kt,this.extra_bits=Pt,this.extra_base=Kt,this.elems=qt,this.max_length=Vt,this.has_stree=kt&&kt.length}function Lt(kt,Pt){this.dyn_tree=kt,this.max_code=0,this.stat_desc=Pt}function Ft(kt){return kt<256?Ot[kt]:Ot[256+(kt>>>7)]}function Xt(kt,Pt){kt.pending_buf[kt.pending++]=255&Pt,kt.pending_buf[kt.pending++]=Pt>>>8&255}function Wt(kt,Pt,Kt){kt.bi_valid>ht-Kt?(kt.bi_buf|=Pt<<kt.bi_valid&65535,Xt(kt,kt.bi_buf),kt.bi_buf=Pt>>ht-kt.bi_valid,kt.bi_valid+=Kt-ht):(kt.bi_buf|=Pt<<kt.bi_valid&65535,kt.bi_valid+=Kt)}function Ht(kt,Pt,Kt){Wt(kt,Kt[2*Pt],Kt[2*Pt+1])}function nr(kt,Pt){for(var Kt=0;Kt|=1&kt,kt>>>=1,Kt<<=1,0<--Pt;);return Kt>>>1}function fr(kt,Pt,Kt){var qt,Vt,tr=new Array(vt+1),Yt=0;for(qt=1;qt<=vt;qt++)tr[qt]=Yt=Yt+Kt[qt-1]<<1;for(Vt=0;Vt<=Pt;Vt++){var Zt=kt[2*Vt+1];Zt!==0&&(kt[2*Vt]=nr(tr[Zt]++,Zt))}}function dr(kt){var Pt;for(Pt=0;Pt<ft;Pt++)kt.dyn_ltree[2*Pt]=0;for(Pt=0;Pt<dt;Pt++)kt.dyn_dtree[2*Pt]=0;for(Pt=0;Pt<pt;Pt++)kt.bl_tree[2*Pt]=0;kt.dyn_ltree[2*gt]=1,kt.opt_len=kt.static_len=0,kt.last_lit=kt.matches=0}function Qt(kt){8<kt.bi_valid?Xt(kt,kt.bi_buf):0<kt.bi_valid&&(kt.pending_buf[kt.pending++]=kt.bi_buf),kt.bi_buf=0,kt.bi_valid=0}function sr(kt,Pt,Kt,qt){var Vt=2*Pt,tr=2*Kt;return kt[Vt]<kt[tr]||kt[Vt]===kt[tr]&&qt[Pt]<=qt[Kt]}function ar(kt,Pt,Kt){for(var qt=kt.heap[Kt],Vt=Kt<<1;Vt<=kt.heap_len&&(Vt<kt.heap_len&&sr(Pt,kt.heap[Vt+1],kt.heap[Vt],kt.depth)&&Vt++,!sr(Pt,qt,kt.heap[Vt],kt.depth));)kt.heap[Kt]=kt.heap[Vt],Kt=Vt,Vt<<=1;kt.heap[Kt]=qt}function Jt(kt,Pt,Kt){var qt,Vt,tr,Yt,Zt=0;if(kt.last_lit!==0)for(;qt=kt.pending_buf[kt.d_buf+2*Zt]<<8|kt.pending_buf[kt.d_buf+2*Zt+1],Vt=kt.pending_buf[kt.l_buf+Zt],Zt++,qt===0?Ht(kt,Vt,Pt):(Ht(kt,(tr=$t[Vt])+ut+1,Pt),(Yt=Et[tr])!==0&&Wt(kt,Vt-=It[tr],Yt),Ht(kt,tr=Ft(--qt),Kt),(Yt=St[tr])!==0&&Wt(kt,qt-=Dt[tr],Yt)),Zt<kt.last_lit;);Ht(kt,gt,Pt)}function pr(kt,Pt){var Kt,qt,Vt,tr=Pt.dyn_tree,Yt=Pt.stat_desc.static_tree,Zt=Pt.stat_desc.has_stree,er=Pt.stat_desc.elems,lr=-1;for(kt.heap_len=0,kt.heap_max=mt,Kt=0;Kt<er;Kt++)tr[2*Kt]!==0?(kt.heap[++kt.heap_len]=lr=Kt,kt.depth[Kt]=0):tr[2*Kt+1]=0;for(;kt.heap_len<2;)tr[2*(Vt=kt.heap[++kt.heap_len]=lr<2?++lr:0)]=1,kt.depth[Vt]=0,kt.opt_len--,Zt&&(kt.static_len-=Yt[2*Vt+1]);for(Pt.max_code=lr,Kt=kt.heap_len>>1;1<=Kt;Kt--)ar(kt,tr,Kt);for(Vt=er;Kt=kt.heap[1],kt.heap[1]=kt.heap[kt.heap_len--],ar(kt,tr,1),qt=kt.heap[1],kt.heap[--kt.heap_max]=Kt,kt.heap[--kt.heap_max]=qt,tr[2*Vt]=tr[2*Kt]+tr[2*qt],kt.depth[Vt]=(kt.depth[Kt]>=kt.depth[qt]?kt.depth[Kt]:kt.depth[qt])+1,tr[2*Kt+1]=tr[2*qt+1]=Vt,kt.heap[1]=Vt++,ar(kt,tr,1),2<=kt.heap_len;);kt.heap[--kt.heap_max]=kt.heap[1],function(ur,hr){var gr,vr,ir,cr,mr,xr,_r=hr.dyn_tree,br=hr.max_code,Er=hr.stat_desc.static_tree,Br=hr.stat_desc.has_stree,yn=hr.stat_desc.extra_bits,Pr=hr.stat_desc.extra_base,Ir=hr.stat_desc.max_length,Mr=0;for(cr=0;cr<=vt;cr++)ur.bl_count[cr]=0;for(_r[2*ur.heap[ur.heap_max]+1]=0,gr=ur.heap_max+1;gr<mt;gr++)Ir<(cr=_r[2*_r[2*(vr=ur.heap[gr])+1]+1]+1)&&(cr=Ir,Mr++),_r[2*vr+1]=cr,br<vr||(ur.bl_count[cr]++,mr=0,Pr<=vr&&(mr=yn[vr-Pr]),xr=_r[2*vr],ur.opt_len+=xr*(cr+mr),Br&&(ur.static_len+=xr*(Er[2*vr+1]+mr)));if(Mr!==0){do{for(cr=Ir-1;ur.bl_count[cr]===0;)cr--;ur.bl_count[cr]--,ur.bl_count[cr+1]+=2,ur.bl_count[Ir]--,Mr-=2}while(0<Mr);for(cr=Ir;cr!==0;cr--)for(vr=ur.bl_count[cr];vr!==0;)br<(ir=ur.heap[--gr])||(_r[2*ir+1]!==cr&&(ur.opt_len+=(cr-_r[2*ir+1])*_r[2*ir],_r[2*ir+1]=cr),vr--)}}(kt,Pt),fr(tr,lr,kt.bl_count)}function Rt(kt,Pt,Kt){var qt,Vt,tr=-1,Yt=Pt[1],Zt=0,er=7,lr=4;for(Yt===0&&(er=138,lr=3),Pt[2*(Kt+1)+1]=65535,qt=0;qt<=Kt;qt++)Vt=Yt,Yt=Pt[2*(qt+1)+1],++Zt<er&&Vt===Yt||(Zt<lr?kt.bl_tree[2*Vt]+=Zt:Vt!==0?(Vt!==tr&&kt.bl_tree[2*Vt]++,kt.bl_tree[2*xt]++):Zt<=10?kt.bl_tree[2*_t]++:kt.bl_tree[2*wt]++,tr=Vt,lr=(Zt=0)===Yt?(er=138,3):Vt===Yt?(er=6,3):(er=7,4))}function Ut(kt,Pt,Kt){var qt,Vt,tr=-1,Yt=Pt[1],Zt=0,er=7,lr=4;for(Yt===0&&(er=138,lr=3),qt=0;qt<=Kt;qt++)if(Vt=Yt,Yt=Pt[2*(qt+1)+1],!(++Zt<er&&Vt===Yt)){if(Zt<lr)for(;Ht(kt,Vt,kt.bl_tree),--Zt!=0;);else Vt!==0?(Vt!==tr&&(Ht(kt,Vt,kt.bl_tree),Zt--),Ht(kt,xt,kt.bl_tree),Wt(kt,Zt-3,2)):Zt<=10?(Ht(kt,_t,kt.bl_tree),Wt(kt,Zt-3,3)):(Ht(kt,wt,kt.bl_tree),Wt(kt,Zt-11,7));tr=Vt,lr=(Zt=0)===Yt?(er=138,3):Vt===Yt?(er=6,3):(er=7,4)}}st(Dt);var Gt=!1;function Mt(kt,Pt,Kt,qt){Wt(kt,(lt<<1)+(qt?1:0),3),function(Vt,tr,Yt,Zt){Qt(Vt),Zt&&(Xt(Vt,Yt),Xt(Vt,~Yt)),it.arraySet(Vt.pending_buf,Vt.window,tr,Yt,Vt.pending),Vt.pending+=Yt}(kt,Pt,Kt,!0)}nt._tr_init=function(kt){Gt||(function(){var Pt,Kt,qt,Vt,tr,Yt=new Array(vt+1);for(Vt=qt=0;Vt<ct-1;Vt++)for(It[Vt]=qt,Pt=0;Pt<1<<Et[Vt];Pt++)$t[qt++]=Vt;for($t[qt-1]=Vt,Vt=tr=0;Vt<16;Vt++)for(Dt[Vt]=tr,Pt=0;Pt<1<<St[Vt];Pt++)Ot[tr++]=Vt;for(tr>>=7;Vt<dt;Vt++)for(Dt[Vt]=tr<<7,Pt=0;Pt<1<<St[Vt]-7;Pt++)Ot[256+tr++]=Vt;for(Kt=0;Kt<=vt;Kt++)Yt[Kt]=0;for(Pt=0;Pt<=143;)At[2*Pt+1]=8,Pt++,Yt[8]++;for(;Pt<=255;)At[2*Pt+1]=9,Pt++,Yt[9]++;for(;Pt<=279;)At[2*Pt+1]=7,Pt++,Yt[7]++;for(;Pt<=287;)At[2*Pt+1]=8,Pt++,Yt[8]++;for(fr(At,ft+1,Yt),Pt=0;Pt<dt;Pt++)Tt[2*Pt+1]=5,Tt[2*Pt]=nr(Pt,5);Nt=new zt(At,Et,ut+1,ft,vt),jt=new zt(Tt,St,0,dt,vt),Bt=new zt(new Array(0),Ct,0,pt,yt)}(),Gt=!0),kt.l_desc=new Lt(kt.dyn_ltree,Nt),kt.d_desc=new Lt(kt.dyn_dtree,jt),kt.bl_desc=new Lt(kt.bl_tree,Bt),kt.bi_buf=0,kt.bi_valid=0,dr(kt)},nt._tr_stored_block=Mt,nt._tr_flush_block=function(kt,Pt,Kt,qt){var Vt,tr,Yt=0;0<kt.level?(kt.strm.data_type===2&&(kt.strm.data_type=function(Zt){var er,lr=4093624447;for(er=0;er<=31;er++,lr>>>=1)if(1&lr&&Zt.dyn_ltree[2*er]!==0)return ot;if(Zt.dyn_ltree[18]!==0||Zt.dyn_ltree[20]!==0||Zt.dyn_ltree[26]!==0)return at;for(er=32;er<ut;er++)if(Zt.dyn_ltree[2*er]!==0)return at;return ot}(kt)),pr(kt,kt.l_desc),pr(kt,kt.d_desc),Yt=function(Zt){var er;for(Rt(Zt,Zt.dyn_ltree,Zt.l_desc.max_code),Rt(Zt,Zt.dyn_dtree,Zt.d_desc.max_code),pr(Zt,Zt.bl_desc),er=pt-1;3<=er&&Zt.bl_tree[2*bt[er]+1]===0;er--);return Zt.opt_len+=3*(er+1)+5+5+4,er}(kt),Vt=kt.opt_len+3+7>>>3,(tr=kt.static_len+3+7>>>3)<=Vt&&(Vt=tr)):Vt=tr=Kt+5,Kt+4<=Vt&&Pt!==-1?Mt(kt,Pt,Kt,qt):kt.strategy===4||tr===Vt?(Wt(kt,2+(qt?1:0),3),Jt(kt,At,Tt)):(Wt(kt,4+(qt?1:0),3),function(Zt,er,lr,ur){var hr;for(Wt(Zt,er-257,5),Wt(Zt,lr-1,5),Wt(Zt,ur-4,4),hr=0;hr<ur;hr++)Wt(Zt,Zt.bl_tree[2*bt[hr]+1],3);Ut(Zt,Zt.dyn_ltree,er-1),Ut(Zt,Zt.dyn_dtree,lr-1)}(kt,kt.l_desc.max_code+1,kt.d_desc.max_code+1,Yt+1),Jt(kt,kt.dyn_ltree,kt.dyn_dtree)),dr(kt),qt&&Qt(kt)},nt._tr_tally=function(kt,Pt,Kt){return kt.pending_buf[kt.d_buf+2*kt.last_lit]=Pt>>>8&255,kt.pending_buf[kt.d_buf+2*kt.last_lit+1]=255&Pt,kt.pending_buf[kt.l_buf+kt.last_lit]=255&Kt,kt.last_lit++,Pt===0?kt.dyn_ltree[2*Kt]++:(kt.matches++,Pt--,kt.dyn_ltree[2*($t[Kt]+ut+1)]++,kt.dyn_dtree[2*Ft(Pt)]++),kt.last_lit===kt.lit_bufsize-1},nt._tr_align=function(kt){Wt(kt,2,3),Ht(kt,gt,At),function(Pt){Pt.bi_valid===16?(Xt(Pt,Pt.bi_buf),Pt.bi_buf=0,Pt.bi_valid=0):8<=Pt.bi_valid&&(Pt.pending_buf[Pt.pending++]=255&Pt.bi_buf,Pt.bi_buf>>=8,Pt.bi_valid-=8)}(kt)}},{"../utils/common":41}],53:[function(tt,rt,nt){rt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(tt,rt,nt){(function(it){(function(ot,at){if(!ot.setImmediate){var st,lt,ct,ut,ft=1,dt={},pt=!1,mt=ot.document,vt=Object.getPrototypeOf&&Object.getPrototypeOf(ot);vt=vt&&vt.setTimeout?vt:ot,st={}.toString.call(ot.process)==="[object process]"?function(xt){process.nextTick(function(){yt(xt)})}:function(){if(ot.postMessage&&!ot.importScripts){var xt=!0,_t=ot.onmessage;return ot.onmessage=function(){xt=!1},ot.postMessage("","*"),ot.onmessage=_t,xt}}()?(ut="setImmediate$"+Math.random()+"$",ot.addEventListener?ot.addEventListener("message",gt,!1):ot.attachEvent("onmessage",gt),function(xt){ot.postMessage(ut+xt,"*")}):ot.MessageChannel?((ct=new MessageChannel).port1.onmessage=function(xt){yt(xt.data)},function(xt){ct.port2.postMessage(xt)}):mt&&"onreadystatechange"in mt.createElement("script")?(lt=mt.documentElement,function(xt){var _t=mt.createElement("script");_t.onreadystatechange=function(){yt(xt),_t.onreadystatechange=null,lt.removeChild(_t),_t=null},lt.appendChild(_t)}):function(xt){setTimeout(yt,0,xt)},vt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var _t=new Array(arguments.length-1),wt=0;wt<_t.length;wt++)_t[wt]=arguments[wt+1];var Et={callback:xt,args:_t};return dt[ft]=Et,st(ft),ft++},vt.clearImmediate=ht}function ht(xt){delete dt[xt]}function yt(xt){if(pt)setTimeout(yt,0,xt);else{var _t=dt[xt];if(_t){pt=!0;try{(function(wt){var Et=wt.callback,St=wt.args;switch(St.length){case 0:Et();break;case 1:Et(St[0]);break;case 2:Et(St[0],St[1]);break;case 3:Et(St[0],St[1],St[2]);break;default:Et.apply(at,St)}})(_t)}finally{ht(xt),pt=!1}}}}function gt(xt){xt.source===ot&&typeof xt.data=="string"&&xt.data.indexOf(ut)===0&&yt(+xt.data.slice(ut.length))}})(typeof self>"u"?it===void 0?this:it:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);async function fileCollectionToZip(_e){const et=new JSZip;for(const tt of _e)et.file(tt.relativePath,await tt.arrayBuffer());return et.generateAsync({type:"uint8array"})}let FileCollection$1=class co{constructor(et){this.files=et}filter(et){return new co(this.files.filter(et))}async zip(){return fileCollectionToZip(this)}addText(et,tt,rt={}){this.files.push(getItemFromText(et,tt,rt))}addArrayBuffer(et,tt,rt={}){this.files.push(getItemFromArrayBuffer(et,tt,rt))}addTypedArray(et,tt,rt={}){this.files.push(getItemFromTypedArray(et,tt,rt))}[Symbol.iterator](){return this.files.values()}};function getItemFromText(_e,et,tt={}){const nt=new TextEncoder().encode(et);return{relativePath:_e,name:_e.split("/").pop(),lastModified:tt.dateModified||Date.now(),size:nt.length,text:async()=>et,arrayBuffer:async()=>nt.buffer,stream:()=>{throw new Error("stream no implemented")}}}function getItemFromArrayBuffer(_e,et,tt={}){const nt=new TextDecoder().decode(et);return{relativePath:_e,name:_e.split("/").pop(),lastModified:tt.dateModified||Date.now(),size:et.byteLength,text:async()=>nt,arrayBuffer:async()=>et,stream:()=>{throw new Error("stream no implemented")}}}function getItemFromTypedArray(_e,et,tt={}){return getItemFromArrayBuffer(_e,et.buffer,tt)}function shouldAddItem$1(_e,et={}){const{ignoreDotfiles:tt=!0}=et;return tt?_e.split("/").filter(rt=>rt.startsWith(".")).length===0:!0}async function fileCollectionItemsFromZip(_e,et={}){const rt=await new JSZip().loadAsync(_e),nt=[];for(const it in rt.files){const ot=rt.files[it];if(ot.dir||!shouldAddItem$1(ot.name,et.filter))continue;const at={name:ot.name.replace(/^.*\//,""),relativePath:ot.name,lastModified:ot.date.getTime(),size:ot._data.uncompressedSize,text:()=>ot.async("text"),arrayBuffer:()=>ot.async("arraybuffer"),stream:()=>new ReadableStream({start(st){ot.async("arraybuffer").then(lt=>{st.enqueue(lt),st.close()})}})};nt.push(at)}return nt}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(_e){let et=_e.length;for(;--et>=0;)_e[et]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(_e,et,tt,rt,nt){this.static_tree=_e,this.extra_bits=et,this.extra_base=tt,this.elems=rt,this.max_length=nt,this.has_stree=_e&&_e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(_e,et){this.dyn_tree=_e,this.max_code=0,this.stat_desc=et}const d_code=_e=>_e<256?_dist_code[_e]:_dist_code[256+(_e>>>7)],put_short=(_e,et)=>{_e.pending_buf[_e.pending++]=et&255,_e.pending_buf[_e.pending++]=et>>>8&255},send_bits=(_e,et,tt)=>{_e.bi_valid>Buf_size-tt?(_e.bi_buf|=et<<_e.bi_valid&65535,put_short(_e,_e.bi_buf),_e.bi_buf=et>>Buf_size-_e.bi_valid,_e.bi_valid+=tt-Buf_size):(_e.bi_buf|=et<<_e.bi_valid&65535,_e.bi_valid+=tt)},send_code=(_e,et,tt)=>{send_bits(_e,tt[et*2],tt[et*2+1])},bi_reverse=(_e,et)=>{let tt=0;do tt|=_e&1,_e>>>=1,tt<<=1;while(--et>0);return tt>>>1},bi_flush=_e=>{_e.bi_valid===16?(put_short(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=_e.bi_buf&255,_e.bi_buf>>=8,_e.bi_valid-=8)},gen_bitlen=(_e,et)=>{const tt=et.dyn_tree,rt=et.max_code,nt=et.stat_desc.static_tree,it=et.stat_desc.has_stree,ot=et.stat_desc.extra_bits,at=et.stat_desc.extra_base,st=et.stat_desc.max_length;let lt,ct,ut,ft,dt,pt,mt=0;for(ft=0;ft<=MAX_BITS$1;ft++)_e.bl_count[ft]=0;for(tt[_e.heap[_e.heap_max]*2+1]=0,lt=_e.heap_max+1;lt<HEAP_SIZE$1;lt++)ct=_e.heap[lt],ft=tt[tt[ct*2+1]*2+1]+1,ft>st&&(ft=st,mt++),tt[ct*2+1]=ft,!(ct>rt)&&(_e.bl_count[ft]++,dt=0,ct>=at&&(dt=ot[ct-at]),pt=tt[ct*2],_e.opt_len+=pt*(ft+dt),it&&(_e.static_len+=pt*(nt[ct*2+1]+dt)));if(mt!==0){do{for(ft=st-1;_e.bl_count[ft]===0;)ft--;_e.bl_count[ft]--,_e.bl_count[ft+1]+=2,_e.bl_count[st]--,mt-=2}while(mt>0);for(ft=st;ft!==0;ft--)for(ct=_e.bl_count[ft];ct!==0;)ut=_e.heap[--lt],!(ut>rt)&&(tt[ut*2+1]!==ft&&(_e.opt_len+=(ft-tt[ut*2+1])*tt[ut*2],tt[ut*2+1]=ft),ct--)}},gen_codes=(_e,et,tt)=>{const rt=new Array(MAX_BITS$1+1);let nt=0,it,ot;for(it=1;it<=MAX_BITS$1;it++)nt=nt+tt[it-1]<<1,rt[it]=nt;for(ot=0;ot<=et;ot++){let at=_e[ot*2+1];at!==0&&(_e[ot*2]=bi_reverse(rt[at]++,at))}},tr_static_init=()=>{let _e,et,tt,rt,nt;const it=new Array(MAX_BITS$1+1);for(tt=0,rt=0;rt<LENGTH_CODES$1-1;rt++)for(base_length[rt]=tt,_e=0;_e<1<<extra_lbits[rt];_e++)_length_code[tt++]=rt;for(_length_code[tt-1]=rt,nt=0,rt=0;rt<16;rt++)for(base_dist[rt]=nt,_e=0;_e<1<<extra_dbits[rt];_e++)_dist_code[nt++]=rt;for(nt>>=7;rt<D_CODES$1;rt++)for(base_dist[rt]=nt<<7,_e=0;_e<1<<extra_dbits[rt]-7;_e++)_dist_code[256+nt++]=rt;for(et=0;et<=MAX_BITS$1;et++)it[et]=0;for(_e=0;_e<=143;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(;_e<=255;)static_ltree[_e*2+1]=9,_e++,it[9]++;for(;_e<=279;)static_ltree[_e*2+1]=7,_e++,it[7]++;for(;_e<=287;)static_ltree[_e*2+1]=8,_e++,it[8]++;for(gen_codes(static_ltree,L_CODES$1+1,it),_e=0;_e<D_CODES$1;_e++)static_dtree[_e*2+1]=5,static_dtree[_e*2]=bi_reverse(_e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=_e=>{let et;for(et=0;et<L_CODES$1;et++)_e.dyn_ltree[et*2]=0;for(et=0;et<D_CODES$1;et++)_e.dyn_dtree[et*2]=0;for(et=0;et<BL_CODES$1;et++)_e.bl_tree[et*2]=0;_e.dyn_ltree[END_BLOCK*2]=1,_e.opt_len=_e.static_len=0,_e.sym_next=_e.matches=0},bi_windup=_e=>{_e.bi_valid>8?put_short(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0},smaller=(_e,et,tt,rt)=>{const nt=et*2,it=tt*2;return _e[nt]<_e[it]||_e[nt]===_e[it]&&rt[et]<=rt[tt]},pqdownheap=(_e,et,tt)=>{const rt=_e.heap[tt];let nt=tt<<1;for(;nt<=_e.heap_len&&(nt<_e.heap_len&&smaller(et,_e.heap[nt+1],_e.heap[nt],_e.depth)&&nt++,!smaller(et,rt,_e.heap[nt],_e.depth));)_e.heap[tt]=_e.heap[nt],tt=nt,nt<<=1;_e.heap[tt]=rt},compress_block=(_e,et,tt)=>{let rt,nt,it=0,ot,at;if(_e.sym_next!==0)do rt=_e.pending_buf[_e.sym_buf+it++]&255,rt+=(_e.pending_buf[_e.sym_buf+it++]&255)<<8,nt=_e.pending_buf[_e.sym_buf+it++],rt===0?send_code(_e,nt,et):(ot=_length_code[nt],send_code(_e,ot+LITERALS$1+1,et),at=extra_lbits[ot],at!==0&&(nt-=base_length[ot],send_bits(_e,nt,at)),rt--,ot=d_code(rt),send_code(_e,ot,tt),at=extra_dbits[ot],at!==0&&(rt-=base_dist[ot],send_bits(_e,rt,at)));while(it<_e.sym_next);send_code(_e,END_BLOCK,et)},build_tree=(_e,et)=>{const tt=et.dyn_tree,rt=et.stat_desc.static_tree,nt=et.stat_desc.has_stree,it=et.stat_desc.elems;let ot,at,st=-1,lt;for(_e.heap_len=0,_e.heap_max=HEAP_SIZE$1,ot=0;ot<it;ot++)tt[ot*2]!==0?(_e.heap[++_e.heap_len]=st=ot,_e.depth[ot]=0):tt[ot*2+1]=0;for(;_e.heap_len<2;)lt=_e.heap[++_e.heap_len]=st<2?++st:0,tt[lt*2]=1,_e.depth[lt]=0,_e.opt_len--,nt&&(_e.static_len-=rt[lt*2+1]);for(et.max_code=st,ot=_e.heap_len>>1;ot>=1;ot--)pqdownheap(_e,tt,ot);lt=it;do ot=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],pqdownheap(_e,tt,1),at=_e.heap[1],_e.heap[--_e.heap_max]=ot,_e.heap[--_e.heap_max]=at,tt[lt*2]=tt[ot*2]+tt[at*2],_e.depth[lt]=(_e.depth[ot]>=_e.depth[at]?_e.depth[ot]:_e.depth[at])+1,tt[ot*2+1]=tt[at*2+1]=lt,_e.heap[1]=lt++,pqdownheap(_e,tt,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],gen_bitlen(_e,et),gen_codes(tt,st,_e.bl_count)},scan_tree=(_e,et,tt)=>{let rt,nt=-1,it,ot=et[0*2+1],at=0,st=7,lt=4;for(ot===0&&(st=138,lt=3),et[(tt+1)*2+1]=65535,rt=0;rt<=tt;rt++)it=ot,ot=et[(rt+1)*2+1],!(++at<st&&it===ot)&&(at<lt?_e.bl_tree[it*2]+=at:it!==0?(it!==nt&&_e.bl_tree[it*2]++,_e.bl_tree[REP_3_6*2]++):at<=10?_e.bl_tree[REPZ_3_10*2]++:_e.bl_tree[REPZ_11_138*2]++,at=0,nt=it,ot===0?(st=138,lt=3):it===ot?(st=6,lt=3):(st=7,lt=4))},send_tree=(_e,et,tt)=>{let rt,nt=-1,it,ot=et[0*2+1],at=0,st=7,lt=4;for(ot===0&&(st=138,lt=3),rt=0;rt<=tt;rt++)if(it=ot,ot=et[(rt+1)*2+1],!(++at<st&&it===ot)){if(at<lt)do send_code(_e,it,_e.bl_tree);while(--at!==0);else it!==0?(it!==nt&&(send_code(_e,it,_e.bl_tree),at--),send_code(_e,REP_3_6,_e.bl_tree),send_bits(_e,at-3,2)):at<=10?(send_code(_e,REPZ_3_10,_e.bl_tree),send_bits(_e,at-3,3)):(send_code(_e,REPZ_11_138,_e.bl_tree),send_bits(_e,at-11,7));at=0,nt=it,ot===0?(st=138,lt=3):it===ot?(st=6,lt=3):(st=7,lt=4)}},build_bl_tree=_e=>{let et;for(scan_tree(_e,_e.dyn_ltree,_e.l_desc.max_code),scan_tree(_e,_e.dyn_dtree,_e.d_desc.max_code),build_tree(_e,_e.bl_desc),et=BL_CODES$1-1;et>=3&&_e.bl_tree[bl_order[et]*2+1]===0;et--);return _e.opt_len+=3*(et+1)+5+5+4,et},send_all_trees=(_e,et,tt,rt)=>{let nt;for(send_bits(_e,et-257,5),send_bits(_e,tt-1,5),send_bits(_e,rt-4,4),nt=0;nt<rt;nt++)send_bits(_e,_e.bl_tree[bl_order[nt]*2+1],3);send_tree(_e,_e.dyn_ltree,et-1),send_tree(_e,_e.dyn_dtree,tt-1)},detect_data_type=_e=>{let et=4093624447,tt;for(tt=0;tt<=31;tt++,et>>>=1)if(et&1&&_e.dyn_ltree[tt*2]!==0)return Z_BINARY;if(_e.dyn_ltree[9*2]!==0||_e.dyn_ltree[10*2]!==0||_e.dyn_ltree[13*2]!==0)return Z_TEXT;for(tt=32;tt<LITERALS$1;tt++)if(_e.dyn_ltree[tt*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=_e=>{static_init_done||(tr_static_init(),static_init_done=!0),_e.l_desc=new TreeDesc(_e.dyn_ltree,static_l_desc),_e.d_desc=new TreeDesc(_e.dyn_dtree,static_d_desc),_e.bl_desc=new TreeDesc(_e.bl_tree,static_bl_desc),_e.bi_buf=0,_e.bi_valid=0,init_block(_e)},_tr_stored_block$1=(_e,et,tt,rt)=>{send_bits(_e,(STORED_BLOCK<<1)+(rt?1:0),3),bi_windup(_e),put_short(_e,tt),put_short(_e,~tt),tt&&_e.pending_buf.set(_e.window.subarray(et,et+tt),_e.pending),_e.pending+=tt},_tr_align$1=_e=>{send_bits(_e,STATIC_TREES<<1,3),send_code(_e,END_BLOCK,static_ltree),bi_flush(_e)},_tr_flush_block$1=(_e,et,tt,rt)=>{let nt,it,ot=0;_e.level>0?(_e.strm.data_type===Z_UNKNOWN$1&&(_e.strm.data_type=detect_data_type(_e)),build_tree(_e,_e.l_desc),build_tree(_e,_e.d_desc),ot=build_bl_tree(_e),nt=_e.opt_len+3+7>>>3,it=_e.static_len+3+7>>>3,it<=nt&&(nt=it)):nt=it=tt+5,tt+4<=nt&&et!==-1?_tr_stored_block$1(_e,et,tt,rt):_e.strategy===Z_FIXED$1||it===nt?(send_bits(_e,(STATIC_TREES<<1)+(rt?1:0),3),compress_block(_e,static_ltree,static_dtree)):(send_bits(_e,(DYN_TREES<<1)+(rt?1:0),3),send_all_trees(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,ot+1),compress_block(_e,_e.dyn_ltree,_e.dyn_dtree)),init_block(_e),rt&&bi_windup(_e)},_tr_tally$1=(_e,et,tt)=>(_e.pending_buf[_e.sym_buf+_e.sym_next++]=et,_e.pending_buf[_e.sym_buf+_e.sym_next++]=et>>8,_e.pending_buf[_e.sym_buf+_e.sym_next++]=tt,et===0?_e.dyn_ltree[tt*2]++:(_e.matches++,et--,_e.dyn_ltree[(_length_code[tt]+LITERALS$1+1)*2]++,_e.dyn_dtree[d_code(et)*2]++),_e.sym_next===_e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(_e,et,tt,rt)=>{let nt=_e&65535|0,it=_e>>>16&65535|0,ot=0;for(;tt!==0;){ot=tt>2e3?2e3:tt,tt-=ot;do nt=nt+et[rt++]|0,it=it+nt|0;while(--ot);nt%=65521,it%=65521}return nt|it<<16|0};var adler32_1=adler32;const makeTable=()=>{let _e,et=[];for(var tt=0;tt<256;tt++){_e=tt;for(var rt=0;rt<8;rt++)_e=_e&1?3988292384^_e>>>1:_e>>>1;et[tt]=_e}return et},crcTable$1=new Uint32Array(makeTable()),crc32=(_e,et,tt,rt)=>{const nt=crcTable$1,it=rt+tt;_e^=-1;for(let ot=rt;ot<it;ot++)_e=_e>>>8^nt[(_e^et[ot])&255];return _e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(_e,et)=>(_e.msg=messages[et],et),rank=_e=>_e*2-(_e>4?9:0),zero$2=_e=>{let et=_e.length;for(;--et>=0;)_e[et]=0},slide_hash=_e=>{let et,tt,rt,nt=_e.w_size;et=_e.hash_size,rt=et;do tt=_e.head[--rt],_e.head[rt]=tt>=nt?tt-nt:0;while(--et);et=nt,rt=et;do tt=_e.prev[--rt],_e.prev[rt]=tt>=nt?tt-nt:0;while(--et)};let HASH_ZLIB=(_e,et,tt)=>(et<<_e.hash_shift^tt)&_e.hash_mask,HASH=HASH_ZLIB;const flush_pending=_e=>{const et=_e.state;let tt=et.pending;tt>_e.avail_out&&(tt=_e.avail_out),tt!==0&&(_e.output.set(et.pending_buf.subarray(et.pending_out,et.pending_out+tt),_e.next_out),_e.next_out+=tt,et.pending_out+=tt,_e.total_out+=tt,_e.avail_out-=tt,et.pending-=tt,et.pending===0&&(et.pending_out=0))},flush_block_only=(_e,et)=>{_tr_flush_block(_e,_e.block_start>=0?_e.block_start:-1,_e.strstart-_e.block_start,et),_e.block_start=_e.strstart,flush_pending(_e.strm)},put_byte=(_e,et)=>{_e.pending_buf[_e.pending++]=et},putShortMSB=(_e,et)=>{_e.pending_buf[_e.pending++]=et>>>8&255,_e.pending_buf[_e.pending++]=et&255},read_buf=(_e,et,tt,rt)=>{let nt=_e.avail_in;return nt>rt&&(nt=rt),nt===0?0:(_e.avail_in-=nt,et.set(_e.input.subarray(_e.next_in,_e.next_in+nt),tt),_e.state.wrap===1?_e.adler=adler32_1(_e.adler,et,nt,tt):_e.state.wrap===2&&(_e.adler=crc32_1(_e.adler,et,nt,tt)),_e.next_in+=nt,_e.total_in+=nt,nt)},longest_match=(_e,et)=>{let tt=_e.max_chain_length,rt=_e.strstart,nt,it,ot=_e.prev_length,at=_e.nice_match;const st=_e.strstart>_e.w_size-MIN_LOOKAHEAD?_e.strstart-(_e.w_size-MIN_LOOKAHEAD):0,lt=_e.window,ct=_e.w_mask,ut=_e.prev,ft=_e.strstart+MAX_MATCH;let dt=lt[rt+ot-1],pt=lt[rt+ot];_e.prev_length>=_e.good_match&&(tt>>=2),at>_e.lookahead&&(at=_e.lookahead);do if(nt=et,!(lt[nt+ot]!==pt||lt[nt+ot-1]!==dt||lt[nt]!==lt[rt]||lt[++nt]!==lt[rt+1])){rt+=2,nt++;do;while(lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&lt[++rt]===lt[++nt]&&rt<ft);if(it=MAX_MATCH-(ft-rt),rt=ft-MAX_MATCH,it>ot){if(_e.match_start=et,ot=it,it>=at)break;dt=lt[rt+ot-1],pt=lt[rt+ot]}}while((et=ut[et&ct])>st&&--tt!==0);return ot<=_e.lookahead?ot:_e.lookahead},fill_window=_e=>{const et=_e.w_size;let tt,rt,nt;do{if(rt=_e.window_size-_e.lookahead-_e.strstart,_e.strstart>=et+(et-MIN_LOOKAHEAD)&&(_e.window.set(_e.window.subarray(et,et+et-rt),0),_e.match_start-=et,_e.strstart-=et,_e.block_start-=et,_e.insert>_e.strstart&&(_e.insert=_e.strstart),slide_hash(_e),rt+=et),_e.strm.avail_in===0)break;if(tt=read_buf(_e.strm,_e.window,_e.strstart+_e.lookahead,rt),_e.lookahead+=tt,_e.lookahead+_e.insert>=MIN_MATCH)for(nt=_e.strstart-_e.insert,_e.ins_h=_e.window[nt],_e.ins_h=HASH(_e,_e.ins_h,_e.window[nt+1]);_e.insert&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[nt+MIN_MATCH-1]),_e.prev[nt&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=nt,nt++,_e.insert--,!(_e.lookahead+_e.insert<MIN_MATCH)););}while(_e.lookahead<MIN_LOOKAHEAD&&_e.strm.avail_in!==0)},deflate_stored=(_e,et)=>{let tt=_e.pending_buf_size-5>_e.w_size?_e.w_size:_e.pending_buf_size-5,rt,nt,it,ot=0,at=_e.strm.avail_in;do{if(rt=65535,it=_e.bi_valid+42>>3,_e.strm.avail_out<it||(it=_e.strm.avail_out-it,nt=_e.strstart-_e.block_start,rt>nt+_e.strm.avail_in&&(rt=nt+_e.strm.avail_in),rt>it&&(rt=it),rt<tt&&(rt===0&&et!==Z_FINISH$3||et===Z_NO_FLUSH$2||rt!==nt+_e.strm.avail_in)))break;ot=et===Z_FINISH$3&&rt===nt+_e.strm.avail_in?1:0,_tr_stored_block(_e,0,0,ot),_e.pending_buf[_e.pending-4]=rt,_e.pending_buf[_e.pending-3]=rt>>8,_e.pending_buf[_e.pending-2]=~rt,_e.pending_buf[_e.pending-1]=~rt>>8,flush_pending(_e.strm),nt&&(nt>rt&&(nt=rt),_e.strm.output.set(_e.window.subarray(_e.block_start,_e.block_start+nt),_e.strm.next_out),_e.strm.next_out+=nt,_e.strm.avail_out-=nt,_e.strm.total_out+=nt,_e.block_start+=nt,rt-=nt),rt&&(read_buf(_e.strm,_e.strm.output,_e.strm.next_out,rt),_e.strm.next_out+=rt,_e.strm.avail_out-=rt,_e.strm.total_out+=rt)}while(ot===0);return at-=_e.strm.avail_in,at&&(at>=_e.w_size?(_e.matches=2,_e.window.set(_e.strm.input.subarray(_e.strm.next_in-_e.w_size,_e.strm.next_in),0),_e.strstart=_e.w_size,_e.insert=_e.strstart):(_e.window_size-_e.strstart<=at&&(_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),_e.window.set(_e.strm.input.subarray(_e.strm.next_in-at,_e.strm.next_in),_e.strstart),_e.strstart+=at,_e.insert+=at>_e.w_size-_e.insert?_e.w_size-_e.insert:at),_e.block_start=_e.strstart),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),ot?BS_FINISH_DONE:et!==Z_NO_FLUSH$2&&et!==Z_FINISH$3&&_e.strm.avail_in===0&&_e.strstart===_e.block_start?BS_BLOCK_DONE:(it=_e.window_size-_e.strstart,_e.strm.avail_in>it&&_e.block_start>=_e.w_size&&(_e.block_start-=_e.w_size,_e.strstart-=_e.w_size,_e.window.set(_e.window.subarray(_e.w_size,_e.w_size+_e.strstart),0),_e.matches<2&&_e.matches++,it+=_e.w_size,_e.insert>_e.strstart&&(_e.insert=_e.strstart)),it>_e.strm.avail_in&&(it=_e.strm.avail_in),it&&(read_buf(_e.strm,_e.window,_e.strstart,it),_e.strstart+=it,_e.insert+=it>_e.w_size-_e.insert?_e.w_size-_e.insert:it),_e.high_water<_e.strstart&&(_e.high_water=_e.strstart),it=_e.bi_valid+42>>3,it=_e.pending_buf_size-it>65535?65535:_e.pending_buf_size-it,tt=it>_e.w_size?_e.w_size:it,nt=_e.strstart-_e.block_start,(nt>=tt||(nt||et===Z_FINISH$3)&&et!==Z_NO_FLUSH$2&&_e.strm.avail_in===0&&nt<=it)&&(rt=nt>it?it:nt,ot=et===Z_FINISH$3&&_e.strm.avail_in===0&&rt===nt?1:0,_tr_stored_block(_e,_e.block_start,rt,ot),_e.block_start+=rt,flush_pending(_e.strm)),ot?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(_e,et)=>{let tt,rt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),tt!==0&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt)),_e.match_length>=MIN_MATCH)if(rt=_tr_tally(_e,_e.strstart-_e.match_start,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.match_length<=_e.max_lazy_match&&_e.lookahead>=MIN_MATCH){_e.match_length--;do _e.strstart++,_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart;while(--_e.match_length!==0);_e.strstart++}else _e.strstart+=_e.match_length,_e.match_length=0,_e.ins_h=_e.window[_e.strstart],_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+1]);else rt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++;if(rt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(_e,et)=>{let tt,rt,nt;for(;;){if(_e.lookahead<MIN_LOOKAHEAD){if(fill_window(_e),_e.lookahead<MIN_LOOKAHEAD&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(tt=0,_e.lookahead>=MIN_MATCH&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart),_e.prev_length=_e.match_length,_e.prev_match=_e.match_start,_e.match_length=MIN_MATCH-1,tt!==0&&_e.prev_length<_e.max_lazy_match&&_e.strstart-tt<=_e.w_size-MIN_LOOKAHEAD&&(_e.match_length=longest_match(_e,tt),_e.match_length<=5&&(_e.strategy===Z_FILTERED||_e.match_length===MIN_MATCH&&_e.strstart-_e.match_start>4096)&&(_e.match_length=MIN_MATCH-1)),_e.prev_length>=MIN_MATCH&&_e.match_length<=_e.prev_length){nt=_e.strstart+_e.lookahead-MIN_MATCH,rt=_tr_tally(_e,_e.strstart-1-_e.prev_match,_e.prev_length-MIN_MATCH),_e.lookahead-=_e.prev_length-1,_e.prev_length-=2;do++_e.strstart<=nt&&(_e.ins_h=HASH(_e,_e.ins_h,_e.window[_e.strstart+MIN_MATCH-1]),tt=_e.prev[_e.strstart&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=_e.strstart);while(--_e.prev_length!==0);if(_e.match_available=0,_e.match_length=MIN_MATCH-1,_e.strstart++,rt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}else if(_e.match_available){if(rt=_tr_tally(_e,0,_e.window[_e.strstart-1]),rt&&flush_block_only(_e,!1),_e.strstart++,_e.lookahead--,_e.strm.avail_out===0)return BS_NEED_MORE}else _e.match_available=1,_e.strstart++,_e.lookahead--}return _e.match_available&&(rt=_tr_tally(_e,0,_e.window[_e.strstart-1]),_e.match_available=0),_e.insert=_e.strstart<MIN_MATCH-1?_e.strstart:MIN_MATCH-1,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(_e,et)=>{let tt,rt,nt,it;const ot=_e.window;for(;;){if(_e.lookahead<=MAX_MATCH){if(fill_window(_e),_e.lookahead<=MAX_MATCH&&et===Z_NO_FLUSH$2)return BS_NEED_MORE;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=MIN_MATCH&&_e.strstart>0&&(nt=_e.strstart-1,rt=ot[nt],rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt])){it=_e.strstart+MAX_MATCH;do;while(rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&rt===ot[++nt]&&nt<it);_e.match_length=MAX_MATCH-(it-nt),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=MIN_MATCH?(tt=_tr_tally(_e,1,_e.match_length-MIN_MATCH),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(_e,et)=>{let tt;for(;;){if(_e.lookahead===0&&(fill_window(_e),_e.lookahead===0)){if(et===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(_e.match_length=0,tt=_tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,tt&&(flush_block_only(_e,!1),_e.strm.avail_out===0))return BS_NEED_MORE}return _e.insert=0,et===Z_FINISH$3?(flush_block_only(_e,!0),_e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):_e.sym_next&&(flush_block_only(_e,!1),_e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(_e,et,tt,rt,nt){this.good_length=_e,this.max_lazy=et,this.nice_length=tt,this.max_chain=rt,this.func=nt}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=_e=>{_e.window_size=2*_e.w_size,zero$2(_e.head),_e.max_lazy_match=configuration_table[_e.level].max_lazy,_e.good_match=configuration_table[_e.level].good_length,_e.nice_match=configuration_table[_e.level].nice_length,_e.max_chain_length=configuration_table[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=MIN_MATCH-1,_e.match_available=0,_e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero$2(this.dyn_ltree),zero$2(this.dyn_dtree),zero$2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero$2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero$2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.status!==INIT_STATE&&et.status!==GZIP_STATE&&et.status!==EXTRA_STATE&&et.status!==NAME_STATE&&et.status!==COMMENT_STATE&&et.status!==HCRC_STATE&&et.status!==BUSY_STATE&&et.status!==FINISH_STATE?1:0},deflateResetKeep=_e=>{if(deflateStateCheck(_e))return err(_e,Z_STREAM_ERROR$2);_e.total_in=_e.total_out=0,_e.data_type=Z_UNKNOWN;const et=_e.state;return et.pending=0,et.pending_out=0,et.wrap<0&&(et.wrap=-et.wrap),et.status=et.wrap===2?GZIP_STATE:et.wrap?INIT_STATE:BUSY_STATE,_e.adler=et.wrap===2?0:1,et.last_flush=-2,_tr_init(et),Z_OK$3},deflateReset=_e=>{const et=deflateResetKeep(_e);return et===Z_OK$3&&lm_init(_e.state),et},deflateSetHeader=(_e,et)=>deflateStateCheck(_e)||_e.state.wrap!==2?Z_STREAM_ERROR$2:(_e.state.gzhead=et,Z_OK$3),deflateInit2=(_e,et,tt,rt,nt,it)=>{if(!_e)return Z_STREAM_ERROR$2;let ot=1;if(et===Z_DEFAULT_COMPRESSION$1&&(et=6),rt<0?(ot=0,rt=-rt):rt>15&&(ot=2,rt-=16),nt<1||nt>MAX_MEM_LEVEL||tt!==Z_DEFLATED$2||rt<8||rt>15||et<0||et>9||it<0||it>Z_FIXED||rt===8&&ot!==1)return err(_e,Z_STREAM_ERROR$2);rt===8&&(rt=9);const at=new DeflateState;return _e.state=at,at.strm=_e,at.status=INIT_STATE,at.wrap=ot,at.gzhead=null,at.w_bits=rt,at.w_size=1<<at.w_bits,at.w_mask=at.w_size-1,at.hash_bits=nt+7,at.hash_size=1<<at.hash_bits,at.hash_mask=at.hash_size-1,at.hash_shift=~~((at.hash_bits+MIN_MATCH-1)/MIN_MATCH),at.window=new Uint8Array(at.w_size*2),at.head=new Uint16Array(at.hash_size),at.prev=new Uint16Array(at.w_size),at.lit_bufsize=1<<nt+6,at.pending_buf_size=at.lit_bufsize*4,at.pending_buf=new Uint8Array(at.pending_buf_size),at.sym_buf=at.lit_bufsize,at.sym_end=(at.lit_bufsize-1)*3,at.level=et,at.strategy=it,at.method=tt,deflateReset(_e)},deflateInit=(_e,et)=>deflateInit2(_e,et,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(_e,et)=>{if(deflateStateCheck(_e)||et>Z_BLOCK$1||et<0)return _e?err(_e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const tt=_e.state;if(!_e.output||_e.avail_in!==0&&!_e.input||tt.status===FINISH_STATE&&et!==Z_FINISH$3)return err(_e,_e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const rt=tt.last_flush;if(tt.last_flush=et,tt.pending!==0){if(flush_pending(_e),_e.avail_out===0)return tt.last_flush=-1,Z_OK$3}else if(_e.avail_in===0&&rank(et)<=rank(rt)&&et!==Z_FINISH$3)return err(_e,Z_BUF_ERROR$1);if(tt.status===FINISH_STATE&&_e.avail_in!==0)return err(_e,Z_BUF_ERROR$1);if(tt.status===INIT_STATE&&tt.wrap===0&&(tt.status=BUSY_STATE),tt.status===INIT_STATE){let nt=Z_DEFLATED$2+(tt.w_bits-8<<4)<<8,it=-1;if(tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?it=0:tt.level<6?it=1:tt.level===6?it=2:it=3,nt|=it<<6,tt.strstart!==0&&(nt|=PRESET_DICT),nt+=31-nt%31,putShortMSB(tt,nt),tt.strstart!==0&&(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),_e.adler=1,tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===GZIP_STATE){if(_e.adler=0,put_byte(tt,31),put_byte(tt,139),put_byte(tt,8),tt.gzhead)put_byte(tt,(tt.gzhead.text?1:0)+(tt.gzhead.hcrc?2:0)+(tt.gzhead.extra?4:0)+(tt.gzhead.name?8:0)+(tt.gzhead.comment?16:0)),put_byte(tt,tt.gzhead.time&255),put_byte(tt,tt.gzhead.time>>8&255),put_byte(tt,tt.gzhead.time>>16&255),put_byte(tt,tt.gzhead.time>>24&255),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,tt.gzhead.os&255),tt.gzhead.extra&&tt.gzhead.extra.length&&(put_byte(tt,tt.gzhead.extra.length&255),put_byte(tt,tt.gzhead.extra.length>>8&255)),tt.gzhead.hcrc&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending,0)),tt.gzindex=0,tt.status=EXTRA_STATE;else if(put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,0),put_byte(tt,tt.level===9?2:tt.strategy>=Z_HUFFMAN_ONLY||tt.level<2?4:0),put_byte(tt,OS_CODE),tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(tt.status===EXTRA_STATE){if(tt.gzhead.extra){let nt=tt.pending,it=(tt.gzhead.extra.length&65535)-tt.gzindex;for(;tt.pending+it>tt.pending_buf_size;){let at=tt.pending_buf_size-tt.pending;if(tt.pending_buf.set(tt.gzhead.extra.subarray(tt.gzindex,tt.gzindex+at),tt.pending),tt.pending=tt.pending_buf_size,tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt)),tt.gzindex+=at,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;nt=0,it-=at}let ot=new Uint8Array(tt.gzhead.extra);tt.pending_buf.set(ot.subarray(tt.gzindex,tt.gzindex+it),tt.pending),tt.pending+=it,tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt)),tt.gzindex=0}tt.status=NAME_STATE}if(tt.status===NAME_STATE){if(tt.gzhead.name){let nt=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;nt=0}tt.gzindex<tt.gzhead.name.length?it=tt.gzhead.name.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt)),tt.gzindex=0}tt.status=COMMENT_STATE}if(tt.status===COMMENT_STATE){if(tt.gzhead.comment){let nt=tt.pending,it;do{if(tt.pending===tt.pending_buf_size){if(tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt)),flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3;nt=0}tt.gzindex<tt.gzhead.comment.length?it=tt.gzhead.comment.charCodeAt(tt.gzindex++)&255:it=0,put_byte(tt,it)}while(it!==0);tt.gzhead.hcrc&&tt.pending>nt&&(_e.adler=crc32_1(_e.adler,tt.pending_buf,tt.pending-nt,nt))}tt.status=HCRC_STATE}if(tt.status===HCRC_STATE){if(tt.gzhead.hcrc){if(tt.pending+2>tt.pending_buf_size&&(flush_pending(_e),tt.pending!==0))return tt.last_flush=-1,Z_OK$3;put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),_e.adler=0}if(tt.status=BUSY_STATE,flush_pending(_e),tt.pending!==0)return tt.last_flush=-1,Z_OK$3}if(_e.avail_in!==0||tt.lookahead!==0||et!==Z_NO_FLUSH$2&&tt.status!==FINISH_STATE){let nt=tt.level===0?deflate_stored(tt,et):tt.strategy===Z_HUFFMAN_ONLY?deflate_huff(tt,et):tt.strategy===Z_RLE?deflate_rle(tt,et):configuration_table[tt.level].func(tt,et);if((nt===BS_FINISH_STARTED||nt===BS_FINISH_DONE)&&(tt.status=FINISH_STATE),nt===BS_NEED_MORE||nt===BS_FINISH_STARTED)return _e.avail_out===0&&(tt.last_flush=-1),Z_OK$3;if(nt===BS_BLOCK_DONE&&(et===Z_PARTIAL_FLUSH?_tr_align(tt):et!==Z_BLOCK$1&&(_tr_stored_block(tt,0,0,!1),et===Z_FULL_FLUSH$1&&(zero$2(tt.head),tt.lookahead===0&&(tt.strstart=0,tt.block_start=0,tt.insert=0))),flush_pending(_e),_e.avail_out===0))return tt.last_flush=-1,Z_OK$3}return et!==Z_FINISH$3?Z_OK$3:tt.wrap<=0?Z_STREAM_END$3:(tt.wrap===2?(put_byte(tt,_e.adler&255),put_byte(tt,_e.adler>>8&255),put_byte(tt,_e.adler>>16&255),put_byte(tt,_e.adler>>24&255),put_byte(tt,_e.total_in&255),put_byte(tt,_e.total_in>>8&255),put_byte(tt,_e.total_in>>16&255),put_byte(tt,_e.total_in>>24&255)):(putShortMSB(tt,_e.adler>>>16),putShortMSB(tt,_e.adler&65535)),flush_pending(_e),tt.wrap>0&&(tt.wrap=-tt.wrap),tt.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=_e=>{if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const et=_e.state.status;return _e.state=null,et===BUSY_STATE?err(_e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(_e,et)=>{let tt=et.length;if(deflateStateCheck(_e))return Z_STREAM_ERROR$2;const rt=_e.state,nt=rt.wrap;if(nt===2||nt===1&&rt.status!==INIT_STATE||rt.lookahead)return Z_STREAM_ERROR$2;if(nt===1&&(_e.adler=adler32_1(_e.adler,et,tt,0)),rt.wrap=0,tt>=rt.w_size){nt===0&&(zero$2(rt.head),rt.strstart=0,rt.block_start=0,rt.insert=0);let st=new Uint8Array(rt.w_size);st.set(et.subarray(tt-rt.w_size,tt),0),et=st,tt=rt.w_size}const it=_e.avail_in,ot=_e.next_in,at=_e.input;for(_e.avail_in=tt,_e.next_in=0,_e.input=et,fill_window(rt);rt.lookahead>=MIN_MATCH;){let st=rt.strstart,lt=rt.lookahead-(MIN_MATCH-1);do rt.ins_h=HASH(rt,rt.ins_h,rt.window[st+MIN_MATCH-1]),rt.prev[st&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=st,st++;while(--lt);rt.strstart=st,rt.lookahead=MIN_MATCH-1,fill_window(rt)}return rt.strstart+=rt.lookahead,rt.block_start=rt.strstart,rt.insert=rt.lookahead,rt.lookahead=0,rt.match_length=rt.prev_length=MIN_MATCH-1,rt.match_available=0,_e.next_in=ot,_e.input=at,_e.avail_in=it,rt.wrap=nt,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(_e,et)=>Object.prototype.hasOwnProperty.call(_e,et);var assign=function(_e){const et=Array.prototype.slice.call(arguments,1);for(;et.length;){const tt=et.shift();if(tt){if(typeof tt!="object")throw new TypeError(tt+"must be non-object");for(const rt in tt)_has(tt,rt)&&(_e[rt]=tt[rt])}}return _e},flattenChunks=_e=>{let et=0;for(let rt=0,nt=_e.length;rt<nt;rt++)et+=_e[rt].length;const tt=new Uint8Array(et);for(let rt=0,nt=0,it=_e.length;rt<it;rt++){let ot=_e[rt];tt.set(ot,nt),nt+=ot.length}return tt},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let _e=0;_e<256;_e++)_utf8len[_e]=_e>=252?6:_e>=248?5:_e>=240?4:_e>=224?3:_e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=_e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(_e);let et,tt,rt,nt,it,ot=_e.length,at=0;for(nt=0;nt<ot;nt++)tt=_e.charCodeAt(nt),(tt&64512)===55296&&nt+1<ot&&(rt=_e.charCodeAt(nt+1),(rt&64512)===56320&&(tt=65536+(tt-55296<<10)+(rt-56320),nt++)),at+=tt<128?1:tt<2048?2:tt<65536?3:4;for(et=new Uint8Array(at),it=0,nt=0;it<at;nt++)tt=_e.charCodeAt(nt),(tt&64512)===55296&&nt+1<ot&&(rt=_e.charCodeAt(nt+1),(rt&64512)===56320&&(tt=65536+(tt-55296<<10)+(rt-56320),nt++)),tt<128?et[it++]=tt:tt<2048?(et[it++]=192|tt>>>6,et[it++]=128|tt&63):tt<65536?(et[it++]=224|tt>>>12,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63):(et[it++]=240|tt>>>18,et[it++]=128|tt>>>12&63,et[it++]=128|tt>>>6&63,et[it++]=128|tt&63);return et};const buf2binstring=(_e,et)=>{if(et<65534&&_e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,_e.length===et?_e:_e.subarray(0,et));let tt="";for(let rt=0;rt<et;rt++)tt+=String.fromCharCode(_e[rt]);return tt};var buf2string=(_e,et)=>{const tt=et||_e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(_e.subarray(0,et));let rt,nt;const it=new Array(tt*2);for(nt=0,rt=0;rt<tt;){let ot=_e[rt++];if(ot<128){it[nt++]=ot;continue}let at=_utf8len[ot];if(at>4){it[nt++]=65533,rt+=at-1;continue}for(ot&=at===2?31:at===3?15:7;at>1&&rt<tt;)ot=ot<<6|_e[rt++]&63,at--;if(at>1){it[nt++]=65533;continue}ot<65536?it[nt++]=ot:(ot-=65536,it[nt++]=55296|ot>>10&1023,it[nt++]=56320|ot&1023)}return buf2binstring(it,nt)},utf8border=(_e,et)=>{et=et||_e.length,et>_e.length&&(et=_e.length);let tt=et-1;for(;tt>=0&&(_e[tt]&192)===128;)tt--;return tt<0||tt===0?et:tt+_utf8len[_e[tt]]>et?tt:et},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(_e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},_e||{});let et=this.options;et.raw&&et.windowBits>0?et.windowBits=-et.windowBits:et.gzip&&et.windowBits>0&&et.windowBits<16&&(et.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=deflate_1$2.deflateInit2(this.strm,et.level,et.method,et.windowBits,et.memLevel,et.strategy);if(tt!==Z_OK$2)throw new Error(messages[tt]);if(et.header&&deflate_1$2.deflateSetHeader(this.strm,et.header),et.dictionary){let rt;if(typeof et.dictionary=="string"?rt=strings.string2buf(et.dictionary):toString$1$1.call(et.dictionary)==="[object ArrayBuffer]"?rt=new Uint8Array(et.dictionary):rt=et.dictionary,tt=deflate_1$2.deflateSetDictionary(this.strm,rt),tt!==Z_OK$2)throw new Error(messages[tt]);this._dict_set=!0}}Deflate$1.prototype.push=function(_e,et){const tt=this.strm,rt=this.options.chunkSize;let nt,it;if(this.ended)return!1;for(et===~~et?it=et:it=et===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof _e=="string"?tt.input=strings.string2buf(_e):toString$1$1.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){if(tt.avail_out===0&&(tt.output=new Uint8Array(rt),tt.next_out=0,tt.avail_out=rt),(it===Z_SYNC_FLUSH||it===Z_FULL_FLUSH)&&tt.avail_out<=6){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(nt=deflate_1$2.deflate(tt,it),nt===Z_STREAM_END$2)return tt.next_out>0&&this.onData(tt.output.subarray(0,tt.next_out)),nt=deflate_1$2.deflateEnd(this.strm),this.onEnd(nt),this.ended=!0,nt===Z_OK$2;if(tt.avail_out===0){this.onData(tt.output);continue}if(it>0&&tt.next_out>0){this.onData(tt.output.subarray(0,tt.next_out)),tt.avail_out=0;continue}if(tt.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Deflate$1.prototype.onEnd=function(_e){_e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};function deflate$1(_e,et){const tt=new Deflate$1(et);if(tt.push(_e,!0),tt.err)throw tt.msg||messages[tt.err];return tt.result}function deflateRaw$1(_e,et){return et=et||{},et.raw=!0,deflate$1(_e,et)}function gzip$1(_e,et){return et=et||{},et.gzip=!0,deflate$1(_e,et)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(et,tt){let rt,nt,it,ot,at,st,lt,ct,ut,ft,dt,pt,mt,vt,ht,yt,gt,xt,_t,wt,Et,St,Ct,bt;const At=et.state;rt=et.next_in,Ct=et.input,nt=rt+(et.avail_in-5),it=et.next_out,bt=et.output,ot=it-(tt-et.avail_out),at=it+(et.avail_out-257),st=At.dmax,lt=At.wsize,ct=At.whave,ut=At.wnext,ft=At.window,dt=At.hold,pt=At.bits,mt=At.lencode,vt=At.distcode,ht=(1<<At.lenbits)-1,yt=(1<<At.distbits)-1;e:do{pt<15&&(dt+=Ct[rt++]<<pt,pt+=8,dt+=Ct[rt++]<<pt,pt+=8),gt=mt[dt&ht];t:for(;;){if(xt=gt>>>24,dt>>>=xt,pt-=xt,xt=gt>>>16&255,xt===0)bt[it++]=gt&65535;else if(xt&16){_t=gt&65535,xt&=15,xt&&(pt<xt&&(dt+=Ct[rt++]<<pt,pt+=8),_t+=dt&(1<<xt)-1,dt>>>=xt,pt-=xt),pt<15&&(dt+=Ct[rt++]<<pt,pt+=8,dt+=Ct[rt++]<<pt,pt+=8),gt=vt[dt&yt];r:for(;;){if(xt=gt>>>24,dt>>>=xt,pt-=xt,xt=gt>>>16&255,xt&16){if(wt=gt&65535,xt&=15,pt<xt&&(dt+=Ct[rt++]<<pt,pt+=8,pt<xt&&(dt+=Ct[rt++]<<pt,pt+=8)),wt+=dt&(1<<xt)-1,wt>st){et.msg="invalid distance too far back",At.mode=BAD$1;break e}if(dt>>>=xt,pt-=xt,xt=it-ot,wt>xt){if(xt=wt-xt,xt>ct&&At.sane){et.msg="invalid distance too far back",At.mode=BAD$1;break e}if(Et=0,St=ft,ut===0){if(Et+=lt-xt,xt<_t){_t-=xt;do bt[it++]=ft[Et++];while(--xt);Et=it-wt,St=bt}}else if(ut<xt){if(Et+=lt+ut-xt,xt-=ut,xt<_t){_t-=xt;do bt[it++]=ft[Et++];while(--xt);if(Et=0,ut<_t){xt=ut,_t-=xt;do bt[it++]=ft[Et++];while(--xt);Et=it-wt,St=bt}}}else if(Et+=ut-xt,xt<_t){_t-=xt;do bt[it++]=ft[Et++];while(--xt);Et=it-wt,St=bt}for(;_t>2;)bt[it++]=St[Et++],bt[it++]=St[Et++],bt[it++]=St[Et++],_t-=3;_t&&(bt[it++]=St[Et++],_t>1&&(bt[it++]=St[Et++]))}else{Et=it-wt;do bt[it++]=bt[Et++],bt[it++]=bt[Et++],bt[it++]=bt[Et++],_t-=3;while(_t>2);_t&&(bt[it++]=bt[Et++],_t>1&&(bt[it++]=bt[Et++]))}}else if(xt&64){et.msg="invalid distance code",At.mode=BAD$1;break e}else{gt=vt[(gt&65535)+(dt&(1<<xt)-1)];continue r}break}}else if(xt&64)if(xt&32){At.mode=TYPE$1;break e}else{et.msg="invalid literal/length code",At.mode=BAD$1;break e}else{gt=mt[(gt&65535)+(dt&(1<<xt)-1)];continue t}break}}while(rt<nt&&it<at);_t=pt>>3,rt-=_t,pt-=_t<<3,dt&=(1<<pt)-1,et.next_in=rt,et.next_out=it,et.avail_in=rt<nt?5+(nt-rt):5-(rt-nt),et.avail_out=it<at?257+(at-it):257-(it-at),At.hold=dt,At.bits=pt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(_e,et,tt,rt,nt,it,ot,at)=>{const st=at.bits;let lt=0,ct=0,ut=0,ft=0,dt=0,pt=0,mt=0,vt=0,ht=0,yt=0,gt,xt,_t,wt,Et,St=null,Ct;const bt=new Uint16Array(MAXBITS+1),At=new Uint16Array(MAXBITS+1);let Tt=null,Ot,$t,It;for(lt=0;lt<=MAXBITS;lt++)bt[lt]=0;for(ct=0;ct<rt;ct++)bt[et[tt+ct]]++;for(dt=st,ft=MAXBITS;ft>=1&&bt[ft]===0;ft--);if(dt>ft&&(dt=ft),ft===0)return nt[it++]=1<<24|64<<16|0,nt[it++]=1<<24|64<<16|0,at.bits=1,0;for(ut=1;ut<ft&&bt[ut]===0;ut++);for(dt<ut&&(dt=ut),vt=1,lt=1;lt<=MAXBITS;lt++)if(vt<<=1,vt-=bt[lt],vt<0)return-1;if(vt>0&&(_e===CODES$1||ft!==1))return-1;for(At[1]=0,lt=1;lt<MAXBITS;lt++)At[lt+1]=At[lt]+bt[lt];for(ct=0;ct<rt;ct++)et[tt+ct]!==0&&(ot[At[et[tt+ct]]++]=ct);if(_e===CODES$1?(St=Tt=ot,Ct=20):_e===LENS$1?(St=lbase,Tt=lext,Ct=257):(St=dbase,Tt=dext,Ct=0),yt=0,ct=0,lt=ut,Et=it,pt=dt,mt=0,_t=-1,ht=1<<dt,wt=ht-1,_e===LENS$1&&ht>ENOUGH_LENS$1||_e===DISTS$1&&ht>ENOUGH_DISTS$1)return 1;for(;;){Ot=lt-mt,ot[ct]+1<Ct?($t=0,It=ot[ct]):ot[ct]>=Ct?($t=Tt[ot[ct]-Ct],It=St[ot[ct]-Ct]):($t=32+64,It=0),gt=1<<lt-mt,xt=1<<pt,ut=xt;do xt-=gt,nt[Et+(yt>>mt)+xt]=Ot<<24|$t<<16|It|0;while(xt!==0);for(gt=1<<lt-1;yt&gt;)gt>>=1;if(gt!==0?(yt&=gt-1,yt+=gt):yt=0,ct++,--bt[lt]===0){if(lt===ft)break;lt=et[tt+ot[ct]]}if(lt>dt&&(yt&wt)!==_t){for(mt===0&&(mt=dt),Et+=ut,pt=lt-mt,vt=1<<pt;pt+mt<ft&&(vt-=bt[pt+mt],!(vt<=0));)pt++,vt<<=1;if(ht+=1<<pt,_e===LENS$1&&ht>ENOUGH_LENS$1||_e===DISTS$1&&ht>ENOUGH_DISTS$1)return 1;_t=yt&wt,nt[_t]=dt<<24|pt<<16|Et-it|0}}return yt!==0&&(nt[Et+yt]=lt-mt<<24|64<<16|0),at.bits=dt,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=_e=>(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=_e=>{if(!_e)return 1;const et=_e.state;return!et||et.strm!==_e||et.mode<HEAD||et.mode>SYNC?1:0},inflateResetKeep=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return _e.total_in=_e.total_out=et.total=0,_e.msg="",et.wrap&&(_e.adler=et.wrap&1),et.mode=HEAD,et.last=0,et.havedict=0,et.flags=-1,et.dmax=32768,et.head=null,et.hold=0,et.bits=0,et.lencode=et.lendyn=new Int32Array(ENOUGH_LENS),et.distcode=et.distdyn=new Int32Array(ENOUGH_DISTS),et.sane=1,et.back=-1,Z_OK$1},inflateReset=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const et=_e.state;return et.wsize=0,et.whave=0,et.wnext=0,inflateResetKeep(_e)},inflateReset2=(_e,et)=>{let tt;if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const rt=_e.state;return et<0?(tt=0,et=-et):(tt=(et>>4)+5,et<48&&(et&=15)),et&&(et<8||et>15)?Z_STREAM_ERROR$1:(rt.window!==null&&rt.wbits!==et&&(rt.window=null),rt.wrap=tt,rt.wbits=et,inflateReset(_e))},inflateInit2=(_e,et)=>{if(!_e)return Z_STREAM_ERROR$1;const tt=new InflateState;_e.state=tt,tt.strm=_e,tt.window=null,tt.mode=HEAD;const rt=inflateReset2(_e,et);return rt!==Z_OK$1&&(_e.state=null),rt},inflateInit=_e=>inflateInit2(_e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=_e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let et=0;for(;et<144;)_e.lens[et++]=8;for(;et<256;)_e.lens[et++]=9;for(;et<280;)_e.lens[et++]=7;for(;et<288;)_e.lens[et++]=8;for(inftrees(LENS,_e.lens,0,288,lenfix,0,_e.work,{bits:9}),et=0;et<32;)_e.lens[et++]=5;inftrees(DISTS,_e.lens,0,32,distfix,0,_e.work,{bits:5}),virgin=!1}_e.lencode=lenfix,_e.lenbits=9,_e.distcode=distfix,_e.distbits=5},updatewindow=(_e,et,tt,rt)=>{let nt;const it=_e.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new Uint8Array(it.wsize)),rt>=it.wsize?(it.window.set(et.subarray(tt-it.wsize,tt),0),it.wnext=0,it.whave=it.wsize):(nt=it.wsize-it.wnext,nt>rt&&(nt=rt),it.window.set(et.subarray(tt-rt,tt-rt+nt),it.wnext),rt-=nt,rt?(it.window.set(et.subarray(tt-rt,tt),0),it.wnext=rt,it.whave=it.wsize):(it.wnext+=nt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=nt))),0},inflate$2=(_e,et)=>{let tt,rt,nt,it,ot,at,st,lt,ct,ut,ft,dt,pt,mt,vt=0,ht,yt,gt,xt,_t,wt,Et,St;const Ct=new Uint8Array(4);let bt,At;const Tt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(_e)||!_e.output||!_e.input&&_e.avail_in!==0)return Z_STREAM_ERROR$1;tt=_e.state,tt.mode===TYPE&&(tt.mode=TYPEDO),ot=_e.next_out,nt=_e.output,st=_e.avail_out,it=_e.next_in,rt=_e.input,at=_e.avail_in,lt=tt.hold,ct=tt.bits,ut=at,ft=st,St=Z_OK$1;e:for(;;)switch(tt.mode){case HEAD:if(tt.wrap===0){tt.mode=TYPEDO;break}for(;ct<16;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(tt.wrap&2&&lt===35615){tt.wbits===0&&(tt.wbits=15),tt.check=0,Ct[0]=lt&255,Ct[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0),lt=0,ct=0,tt.mode=FLAGS;break}if(tt.head&&(tt.head.done=!1),!(tt.wrap&1)||(((lt&255)<<8)+(lt>>8))%31){_e.msg="incorrect header check",tt.mode=BAD;break}if((lt&15)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(lt>>>=4,ct-=4,Et=(lt&15)+8,tt.wbits===0&&(tt.wbits=Et),Et>15||Et>tt.wbits){_e.msg="invalid window size",tt.mode=BAD;break}tt.dmax=1<<tt.wbits,tt.flags=0,_e.adler=tt.check=1,tt.mode=lt&512?DICTID:TYPE,lt=0,ct=0;break;case FLAGS:for(;ct<16;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(tt.flags=lt,(tt.flags&255)!==Z_DEFLATED){_e.msg="unknown compression method",tt.mode=BAD;break}if(tt.flags&57344){_e.msg="unknown header flags set",tt.mode=BAD;break}tt.head&&(tt.head.text=lt>>8&1),tt.flags&512&&tt.wrap&4&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),lt=0,ct=0,tt.mode=TIME;case TIME:for(;ct<32;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.head&&(tt.head.time=lt),tt.flags&512&&tt.wrap&4&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,Ct[2]=lt>>>16&255,Ct[3]=lt>>>24&255,tt.check=crc32_1(tt.check,Ct,4,0)),lt=0,ct=0,tt.mode=OS;case OS:for(;ct<16;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.head&&(tt.head.xflags=lt&255,tt.head.os=lt>>8),tt.flags&512&&tt.wrap&4&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),lt=0,ct=0,tt.mode=EXLEN;case EXLEN:if(tt.flags&1024){for(;ct<16;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.length=lt,tt.head&&(tt.head.extra_len=lt),tt.flags&512&&tt.wrap&4&&(Ct[0]=lt&255,Ct[1]=lt>>>8&255,tt.check=crc32_1(tt.check,Ct,2,0)),lt=0,ct=0}else tt.head&&(tt.head.extra=null);tt.mode=EXTRA;case EXTRA:if(tt.flags&1024&&(dt=tt.length,dt>at&&(dt=at),dt&&(tt.head&&(Et=tt.head.extra_len-tt.length,tt.head.extra||(tt.head.extra=new Uint8Array(tt.head.extra_len)),tt.head.extra.set(rt.subarray(it,it+dt),Et)),tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,rt,dt,it)),at-=dt,it+=dt,tt.length-=dt),tt.length))break e;tt.length=0,tt.mode=NAME;case NAME:if(tt.flags&2048){if(at===0)break e;dt=0;do Et=rt[it+dt++],tt.head&&Et&&tt.length<65536&&(tt.head.name+=String.fromCharCode(Et));while(Et&&dt<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,rt,dt,it)),at-=dt,it+=dt,Et)break e}else tt.head&&(tt.head.name=null);tt.length=0,tt.mode=COMMENT;case COMMENT:if(tt.flags&4096){if(at===0)break e;dt=0;do Et=rt[it+dt++],tt.head&&Et&&tt.length<65536&&(tt.head.comment+=String.fromCharCode(Et));while(Et&&dt<at);if(tt.flags&512&&tt.wrap&4&&(tt.check=crc32_1(tt.check,rt,dt,it)),at-=dt,it+=dt,Et)break e}else tt.head&&(tt.head.comment=null);tt.mode=HCRC;case HCRC:if(tt.flags&512){for(;ct<16;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(tt.wrap&4&&lt!==(tt.check&65535)){_e.msg="header crc mismatch",tt.mode=BAD;break}lt=0,ct=0}tt.head&&(tt.head.hcrc=tt.flags>>9&1,tt.head.done=!0),_e.adler=tt.check=0,tt.mode=TYPE;break;case DICTID:for(;ct<32;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}_e.adler=tt.check=zswap32(lt),lt=0,ct=0,tt.mode=DICT;case DICT:if(tt.havedict===0)return _e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ct,Z_NEED_DICT$1;_e.adler=tt.check=1,tt.mode=TYPE;case TYPE:if(et===Z_BLOCK||et===Z_TREES)break e;case TYPEDO:if(tt.last){lt>>>=ct&7,ct-=ct&7,tt.mode=CHECK;break}for(;ct<3;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}switch(tt.last=lt&1,lt>>>=1,ct-=1,lt&3){case 0:tt.mode=STORED;break;case 1:if(fixedtables(tt),tt.mode=LEN_,et===Z_TREES){lt>>>=2,ct-=2;break e}break;case 2:tt.mode=TABLE;break;case 3:_e.msg="invalid block type",tt.mode=BAD}lt>>>=2,ct-=2;break;case STORED:for(lt>>>=ct&7,ct-=ct&7;ct<32;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if((lt&65535)!==(lt>>>16^65535)){_e.msg="invalid stored block lengths",tt.mode=BAD;break}if(tt.length=lt&65535,lt=0,ct=0,tt.mode=COPY_,et===Z_TREES)break e;case COPY_:tt.mode=COPY;case COPY:if(dt=tt.length,dt){if(dt>at&&(dt=at),dt>st&&(dt=st),dt===0)break e;nt.set(rt.subarray(it,it+dt),ot),at-=dt,it+=dt,st-=dt,ot+=dt,tt.length-=dt;break}tt.mode=TYPE;break;case TABLE:for(;ct<14;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(tt.nlen=(lt&31)+257,lt>>>=5,ct-=5,tt.ndist=(lt&31)+1,lt>>>=5,ct-=5,tt.ncode=(lt&15)+4,lt>>>=4,ct-=4,tt.nlen>286||tt.ndist>30){_e.msg="too many length or distance symbols",tt.mode=BAD;break}tt.have=0,tt.mode=LENLENS;case LENLENS:for(;tt.have<tt.ncode;){for(;ct<3;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.lens[Tt[tt.have++]]=lt&7,lt>>>=3,ct-=3}for(;tt.have<19;)tt.lens[Tt[tt.have++]]=0;if(tt.lencode=tt.lendyn,tt.lenbits=7,bt={bits:tt.lenbits},St=inftrees(CODES,tt.lens,0,19,tt.lencode,0,tt.work,bt),tt.lenbits=bt.bits,St){_e.msg="invalid code lengths set",tt.mode=BAD;break}tt.have=0,tt.mode=CODELENS;case CODELENS:for(;tt.have<tt.nlen+tt.ndist;){for(;vt=tt.lencode[lt&(1<<tt.lenbits)-1],ht=vt>>>24,yt=vt>>>16&255,gt=vt&65535,!(ht<=ct);){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(gt<16)lt>>>=ht,ct-=ht,tt.lens[tt.have++]=gt;else{if(gt===16){for(At=ht+2;ct<At;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(lt>>>=ht,ct-=ht,tt.have===0){_e.msg="invalid bit length repeat",tt.mode=BAD;break}Et=tt.lens[tt.have-1],dt=3+(lt&3),lt>>>=2,ct-=2}else if(gt===17){for(At=ht+3;ct<At;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}lt>>>=ht,ct-=ht,Et=0,dt=3+(lt&7),lt>>>=3,ct-=3}else{for(At=ht+7;ct<At;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}lt>>>=ht,ct-=ht,Et=0,dt=11+(lt&127),lt>>>=7,ct-=7}if(tt.have+dt>tt.nlen+tt.ndist){_e.msg="invalid bit length repeat",tt.mode=BAD;break}for(;dt--;)tt.lens[tt.have++]=Et}}if(tt.mode===BAD)break;if(tt.lens[256]===0){_e.msg="invalid code -- missing end-of-block",tt.mode=BAD;break}if(tt.lenbits=9,bt={bits:tt.lenbits},St=inftrees(LENS,tt.lens,0,tt.nlen,tt.lencode,0,tt.work,bt),tt.lenbits=bt.bits,St){_e.msg="invalid literal/lengths set",tt.mode=BAD;break}if(tt.distbits=6,tt.distcode=tt.distdyn,bt={bits:tt.distbits},St=inftrees(DISTS,tt.lens,tt.nlen,tt.ndist,tt.distcode,0,tt.work,bt),tt.distbits=bt.bits,St){_e.msg="invalid distances set",tt.mode=BAD;break}if(tt.mode=LEN_,et===Z_TREES)break e;case LEN_:tt.mode=LEN;case LEN:if(at>=6&&st>=258){_e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ct,inffast(_e,ft),ot=_e.next_out,nt=_e.output,st=_e.avail_out,it=_e.next_in,rt=_e.input,at=_e.avail_in,lt=tt.hold,ct=tt.bits,tt.mode===TYPE&&(tt.back=-1);break}for(tt.back=0;vt=tt.lencode[lt&(1<<tt.lenbits)-1],ht=vt>>>24,yt=vt>>>16&255,gt=vt&65535,!(ht<=ct);){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(yt&&!(yt&240)){for(xt=ht,_t=yt,wt=gt;vt=tt.lencode[wt+((lt&(1<<xt+_t)-1)>>xt)],ht=vt>>>24,yt=vt>>>16&255,gt=vt&65535,!(xt+ht<=ct);){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}lt>>>=xt,ct-=xt,tt.back+=xt}if(lt>>>=ht,ct-=ht,tt.back+=ht,tt.length=gt,yt===0){tt.mode=LIT;break}if(yt&32){tt.back=-1,tt.mode=TYPE;break}if(yt&64){_e.msg="invalid literal/length code",tt.mode=BAD;break}tt.extra=yt&15,tt.mode=LENEXT;case LENEXT:if(tt.extra){for(At=tt.extra;ct<At;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.length+=lt&(1<<tt.extra)-1,lt>>>=tt.extra,ct-=tt.extra,tt.back+=tt.extra}tt.was=tt.length,tt.mode=DIST;case DIST:for(;vt=tt.distcode[lt&(1<<tt.distbits)-1],ht=vt>>>24,yt=vt>>>16&255,gt=vt&65535,!(ht<=ct);){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(!(yt&240)){for(xt=ht,_t=yt,wt=gt;vt=tt.distcode[wt+((lt&(1<<xt+_t)-1)>>xt)],ht=vt>>>24,yt=vt>>>16&255,gt=vt&65535,!(xt+ht<=ct);){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}lt>>>=xt,ct-=xt,tt.back+=xt}if(lt>>>=ht,ct-=ht,tt.back+=ht,yt&64){_e.msg="invalid distance code",tt.mode=BAD;break}tt.offset=gt,tt.extra=yt&15,tt.mode=DISTEXT;case DISTEXT:if(tt.extra){for(At=tt.extra;ct<At;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}tt.offset+=lt&(1<<tt.extra)-1,lt>>>=tt.extra,ct-=tt.extra,tt.back+=tt.extra}if(tt.offset>tt.dmax){_e.msg="invalid distance too far back",tt.mode=BAD;break}tt.mode=MATCH;case MATCH:if(st===0)break e;if(dt=ft-st,tt.offset>dt){if(dt=tt.offset-dt,dt>tt.whave&&tt.sane){_e.msg="invalid distance too far back",tt.mode=BAD;break}dt>tt.wnext?(dt-=tt.wnext,pt=tt.wsize-dt):pt=tt.wnext-dt,dt>tt.length&&(dt=tt.length),mt=tt.window}else mt=nt,pt=ot-tt.offset,dt=tt.length;dt>st&&(dt=st),st-=dt,tt.length-=dt;do nt[ot++]=mt[pt++];while(--dt);tt.length===0&&(tt.mode=LEN);break;case LIT:if(st===0)break e;nt[ot++]=tt.length,st--,tt.mode=LEN;break;case CHECK:if(tt.wrap){for(;ct<32;){if(at===0)break e;at--,lt|=rt[it++]<<ct,ct+=8}if(ft-=st,_e.total_out+=ft,tt.total+=ft,tt.wrap&4&&ft&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,nt,ft,ot-ft):adler32_1(tt.check,nt,ft,ot-ft)),ft=st,tt.wrap&4&&(tt.flags?lt:zswap32(lt))!==tt.check){_e.msg="incorrect data check",tt.mode=BAD;break}lt=0,ct=0}tt.mode=LENGTH;case LENGTH:if(tt.wrap&&tt.flags){for(;ct<32;){if(at===0)break e;at--,lt+=rt[it++]<<ct,ct+=8}if(tt.wrap&4&&lt!==(tt.total&4294967295)){_e.msg="incorrect length check",tt.mode=BAD;break}lt=0,ct=0}tt.mode=DONE;case DONE:St=Z_STREAM_END$1;break e;case BAD:St=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return _e.next_out=ot,_e.avail_out=st,_e.next_in=it,_e.avail_in=at,tt.hold=lt,tt.bits=ct,(tt.wsize||ft!==_e.avail_out&&tt.mode<BAD&&(tt.mode<CHECK||et!==Z_FINISH$1))&&updatewindow(_e,_e.output,_e.next_out,ft-_e.avail_out),ut-=_e.avail_in,ft-=_e.avail_out,_e.total_in+=ut,_e.total_out+=ft,tt.total+=ft,tt.wrap&4&&ft&&(_e.adler=tt.check=tt.flags?crc32_1(tt.check,nt,ft,_e.next_out-ft):adler32_1(tt.check,nt,ft,_e.next_out-ft)),_e.data_type=tt.bits+(tt.last?64:0)+(tt.mode===TYPE?128:0)+(tt.mode===LEN_||tt.mode===COPY_?256:0),(ut===0&&ft===0||et===Z_FINISH$1)&&St===Z_OK$1&&(St=Z_BUF_ERROR),St},inflateEnd=_e=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;let et=_e.state;return et.window&&(et.window=null),_e.state=null,Z_OK$1},inflateGetHeader=(_e,et)=>{if(inflateStateCheck(_e))return Z_STREAM_ERROR$1;const tt=_e.state;return tt.wrap&2?(tt.head=et,et.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(_e,et)=>{const tt=et.length;let rt,nt,it;return inflateStateCheck(_e)||(rt=_e.state,rt.wrap!==0&&rt.mode!==DICT)?Z_STREAM_ERROR$1:rt.mode===DICT&&(nt=1,nt=adler32_1(nt,et,tt,0),nt!==rt.check)?Z_DATA_ERROR$1:(it=updatewindow(_e,et,tt,tt),it?(rt.mode=MEM,Z_MEM_ERROR$1):(rt.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$5=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(_e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},_e||{});const et=this.options;et.raw&&et.windowBits>=0&&et.windowBits<16&&(et.windowBits=-et.windowBits,et.windowBits===0&&(et.windowBits=-15)),et.windowBits>=0&&et.windowBits<16&&!(_e&&_e.windowBits)&&(et.windowBits+=32),et.windowBits>15&&et.windowBits<48&&(et.windowBits&15||(et.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tt=inflate_1$2.inflateInit2(this.strm,et.windowBits);if(tt!==Z_OK)throw new Error(messages[tt]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),et.dictionary&&(typeof et.dictionary=="string"?et.dictionary=strings.string2buf(et.dictionary):toString$5.call(et.dictionary)==="[object ArrayBuffer]"&&(et.dictionary=new Uint8Array(et.dictionary)),et.raw&&(tt=inflate_1$2.inflateSetDictionary(this.strm,et.dictionary),tt!==Z_OK)))throw new Error(messages[tt])}Inflate$1.prototype.push=function(_e,et){const tt=this.strm,rt=this.options.chunkSize,nt=this.options.dictionary;let it,ot,at;if(this.ended)return!1;for(et===~~et?ot=et:ot=et===!0?Z_FINISH:Z_NO_FLUSH,toString$5.call(_e)==="[object ArrayBuffer]"?tt.input=new Uint8Array(_e):tt.input=_e,tt.next_in=0,tt.avail_in=tt.input.length;;){for(tt.avail_out===0&&(tt.output=new Uint8Array(rt),tt.next_out=0,tt.avail_out=rt),it=inflate_1$2.inflate(tt,ot),it===Z_NEED_DICT&&nt&&(it=inflate_1$2.inflateSetDictionary(tt,nt),it===Z_OK?it=inflate_1$2.inflate(tt,ot):it===Z_DATA_ERROR&&(it=Z_NEED_DICT));tt.avail_in>0&&it===Z_STREAM_END&&tt.state.wrap>0&&_e[tt.next_in]!==0;)inflate_1$2.inflateReset(tt),it=inflate_1$2.inflate(tt,ot);switch(it){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(it),this.ended=!0,!1}if(at=tt.avail_out,tt.next_out&&(tt.avail_out===0||it===Z_STREAM_END))if(this.options.to==="string"){let st=strings.utf8border(tt.output,tt.next_out),lt=tt.next_out-st,ct=strings.buf2string(tt.output,st);tt.next_out=lt,tt.avail_out=rt-lt,lt&&tt.output.set(tt.output.subarray(st,st+lt),0),this.onData(ct)}else this.onData(tt.output.length===tt.next_out?tt.output:tt.output.subarray(0,tt.next_out));if(!(it===Z_OK&&at===0)){if(it===Z_STREAM_END)return it=inflate_1$2.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,!0;if(tt.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(_e){this.chunks.push(_e)};Inflate$1.prototype.onEnd=function(_e){_e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=_e,this.msg=this.strm.msg};function inflate$1(_e,et){const tt=new Inflate$1(et);if(tt.push(_e),tt.err)throw tt.msg||messages[tt.err];return tt.result}function inflateRaw$1(_e,et){return et=et||{},et.raw=!0,inflate$1(_e,et)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$3=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$3};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,Inflate_1=Inflate,inflate_1=inflate,ungzip_1=ungzip;function ungzipStream$1(_e){return new ReadableStream({start(et){_e.arrayBuffer().then(tt=>ungzip_1(new Uint8Array(tt))).then(tt=>{et.enqueue(tt),et.close()})}})}async function fileCollectionItemUngzip(_e,et={}){const{ungzip:tt={},logger:rt}=et;let{gzipExtensions:nt=["gz"]}=tt;nt=nt.map(ot=>ot.toLowerCase());const it=_e.name.replace(/^.*\./,"").toLowerCase();return nt.includes(it)?await isGzip$1(_e)?{name:_e.name.replace(/\.[^.]+$/,""),size:_e.size,relativePath:_e.relativePath.replace(/\.[^.]+$/,""),lastModified:_e.lastModified,text:()=>_e.arrayBuffer().then(ot=>new TextDecoder("utf8").decode(ungzip_1(new Uint8Array(ot)))),arrayBuffer:()=>_e.arrayBuffer().then(ot=>ungzip_1(new Uint8Array(ot))),stream:()=>ungzipStream$1(_e)}:(rt&&rt.info(`Could not ungzip the following file: ${_e.relativePath}`),_e):_e}async function isGzip$1(_e){const et=await _e.arrayBuffer();if(et.byteLength<2)return!1;const tt=new Uint8Array(et);return tt[0]===31&&tt[1]===139}async function fileCollectionItemUnzip(_e,et={}){const{unzip:tt={},filter:rt={},logger:nt}=et,{recursive:it=!0}=tt;let{zipExtensions:ot=["zip"]}=tt;ot=ot.map(ut=>ut.toLowerCase());const at=_e.name.replace(/^.*\./,"").toLowerCase();if(!ot.includes(at))return[_e];const st=await _e.arrayBuffer();if(!isZip$1(st))return nt&&nt.info(`Could not unzip the following file: ${_e.relativePath}`),[_e];const lt=await fileCollectionItemsFromZip(st,et),ct=[];for(const ut of lt)ut.relativePath=`${_e.relativePath}/${ut.relativePath}`,it?ct.push(...await expandAndFilter$1(ut,et)):shouldAddItem$1(ut.relativePath,rt)&&ct.push(ut);return ct}function isZip$1(_e){if(_e.byteLength<5)return!1;const et=new Uint8Array(_e);return et[0]===80&&et[1]===75&&(et[2]===3||et[2]===5||et[2]===7)&&(et[3]===4||et[3]===6||et[3]===8)}async function expandAndFilter$1(_e,et={}){const{filter:tt={}}=et;return shouldAddItem$1(_e.relativePath,tt)?(_e=await fileCollectionItemUngzip(_e,et),fileCollectionItemUnzip(_e,et)):[]}function sortCollectionItems(_e){_e.sort((et,tt)=>et.relativePath<tt.relativePath?-1:1)}async function fileCollectionFromFiles(_e,et={}){const tt=[];for(const rt of _e){const nt={name:rt.name,size:rt.size,relativePath:rt.webkitRelativePath||rt.path||rt.name,lastModified:rt.lastModified,text:()=>rt.text(),arrayBuffer:()=>rt.arrayBuffer(),stream:()=>rt.stream()};tt.push(...await expandAndFilter$1(nt,et))}return sortCollectionItems(tt),new FileCollection$1(tt)}var browserPonyfill={exports:{}};(function(_e,et){var tt=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,rt=function(){function it(){this.fetch=!1,this.DOMException=tt.DOMException}return it.prototype=tt,new it}();(function(it){(function(ot){var at=typeof it<"u"&&it||typeof self<"u"&&self||typeof at<"u"&&at,st={searchParams:"URLSearchParams"in at,iterable:"Symbol"in at&&"iterator"in Symbol,blob:"FileReader"in at&&"Blob"in at&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in at,arrayBuffer:"ArrayBuffer"in at};function lt(It){return It&&DataView.prototype.isPrototypeOf(It)}if(st.arrayBuffer)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(It){return It&&ct.indexOf(Object.prototype.toString.call(It))>-1};function ft(It){if(typeof It!="string"&&(It=String(It)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(It)||It==="")throw new TypeError('Invalid character in header field name: "'+It+'"');return It.toLowerCase()}function dt(It){return typeof It!="string"&&(It=String(It)),It}function pt(It){var Nt={next:function(){var jt=It.shift();return{done:jt===void 0,value:jt}}};return st.iterable&&(Nt[Symbol.iterator]=function(){return Nt}),Nt}function mt(It){this.map={},It instanceof mt?It.forEach(function(Nt,jt){this.append(jt,Nt)},this):Array.isArray(It)?It.forEach(function(Nt){this.append(Nt[0],Nt[1])},this):It&&Object.getOwnPropertyNames(It).forEach(function(Nt){this.append(Nt,It[Nt])},this)}mt.prototype.append=function(It,Nt){It=ft(It),Nt=dt(Nt);var jt=this.map[It];this.map[It]=jt?jt+", "+Nt:Nt},mt.prototype.delete=function(It){delete this.map[ft(It)]},mt.prototype.get=function(It){return It=ft(It),this.has(It)?this.map[It]:null},mt.prototype.has=function(It){return this.map.hasOwnProperty(ft(It))},mt.prototype.set=function(It,Nt){this.map[ft(It)]=dt(Nt)},mt.prototype.forEach=function(It,Nt){for(var jt in this.map)this.map.hasOwnProperty(jt)&&It.call(Nt,this.map[jt],jt,this)},mt.prototype.keys=function(){var It=[];return this.forEach(function(Nt,jt){It.push(jt)}),pt(It)},mt.prototype.values=function(){var It=[];return this.forEach(function(Nt){It.push(Nt)}),pt(It)},mt.prototype.entries=function(){var It=[];return this.forEach(function(Nt,jt){It.push([jt,Nt])}),pt(It)},st.iterable&&(mt.prototype[Symbol.iterator]=mt.prototype.entries);function vt(It){if(It.bodyUsed)return Promise.reject(new TypeError("Already read"));It.bodyUsed=!0}function ht(It){return new Promise(function(Nt,jt){It.onload=function(){Nt(It.result)},It.onerror=function(){jt(It.error)}})}function yt(It){var Nt=new FileReader,jt=ht(Nt);return Nt.readAsArrayBuffer(It),jt}function gt(It){var Nt=new FileReader,jt=ht(Nt);return Nt.readAsText(It),jt}function xt(It){for(var Nt=new Uint8Array(It),jt=new Array(Nt.length),Bt=0;Bt<Nt.length;Bt++)jt[Bt]=String.fromCharCode(Nt[Bt]);return jt.join("")}function _t(It){if(It.slice)return It.slice(0);var Nt=new Uint8Array(It.byteLength);return Nt.set(new Uint8Array(It)),Nt.buffer}function wt(){return this.bodyUsed=!1,this._initBody=function(It){this.bodyUsed=this.bodyUsed,this._bodyInit=It,It?typeof It=="string"?this._bodyText=It:st.blob&&Blob.prototype.isPrototypeOf(It)?this._bodyBlob=It:st.formData&&FormData.prototype.isPrototypeOf(It)?this._bodyFormData=It:st.searchParams&&URLSearchParams.prototype.isPrototypeOf(It)?this._bodyText=It.toString():st.arrayBuffer&&st.blob&&lt(It)?(this._bodyArrayBuffer=_t(It.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):st.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(It)||ut(It))?this._bodyArrayBuffer=_t(It):this._bodyText=It=Object.prototype.toString.call(It):this._bodyText="",this.headers.get("content-type")||(typeof It=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):st.searchParams&&URLSearchParams.prototype.isPrototypeOf(It)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},st.blob&&(this.blob=function(){var It=vt(this);if(It)return It;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var It=vt(this);return It||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(yt)}),this.text=function(){var It=vt(this);if(It)return It;if(this._bodyBlob)return gt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(xt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},st.formData&&(this.formData=function(){return this.text().then(bt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Et=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function St(It){var Nt=It.toUpperCase();return Et.indexOf(Nt)>-1?Nt:It}function Ct(It,Nt){if(!(this instanceof Ct))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Nt=Nt||{};var jt=Nt.body;if(It instanceof Ct){if(It.bodyUsed)throw new TypeError("Already read");this.url=It.url,this.credentials=It.credentials,Nt.headers||(this.headers=new mt(It.headers)),this.method=It.method,this.mode=It.mode,this.signal=It.signal,!jt&&It._bodyInit!=null&&(jt=It._bodyInit,It.bodyUsed=!0)}else this.url=String(It);if(this.credentials=Nt.credentials||this.credentials||"same-origin",(Nt.headers||!this.headers)&&(this.headers=new mt(Nt.headers)),this.method=St(Nt.method||this.method||"GET"),this.mode=Nt.mode||this.mode||null,this.signal=Nt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&jt)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(jt),(this.method==="GET"||this.method==="HEAD")&&(Nt.cache==="no-store"||Nt.cache==="no-cache")){var Bt=/([?&])_=[^&]*/;if(Bt.test(this.url))this.url=this.url.replace(Bt,"$1_="+new Date().getTime());else{var Dt=/\?/;this.url+=(Dt.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ct.prototype.clone=function(){return new Ct(this,{body:this._bodyInit})};function bt(It){var Nt=new FormData;return It.trim().split("&").forEach(function(jt){if(jt){var Bt=jt.split("="),Dt=Bt.shift().replace(/\+/g," "),zt=Bt.join("=").replace(/\+/g," ");Nt.append(decodeURIComponent(Dt),decodeURIComponent(zt))}}),Nt}function At(It){var Nt=new mt,jt=It.replace(/\r?\n[\t ]+/g," ");return jt.split("\r").map(function(Bt){return Bt.indexOf(`
`)===0?Bt.substr(1,Bt.length):Bt}).forEach(function(Bt){var Dt=Bt.split(":"),zt=Dt.shift().trim();if(zt){var Lt=Dt.join(":").trim();Nt.append(zt,Lt)}}),Nt}wt.call(Ct.prototype);function Tt(It,Nt){if(!(this instanceof Tt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Nt||(Nt={}),this.type="default",this.status=Nt.status===void 0?200:Nt.status,this.ok=this.status>=200&&this.status<300,this.statusText=Nt.statusText===void 0?"":""+Nt.statusText,this.headers=new mt(Nt.headers),this.url=Nt.url||"",this._initBody(It)}wt.call(Tt.prototype),Tt.prototype.clone=function(){return new Tt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new mt(this.headers),url:this.url})},Tt.error=function(){var It=new Tt(null,{status:0,statusText:""});return It.type="error",It};var Ot=[301,302,303,307,308];Tt.redirect=function(It,Nt){if(Ot.indexOf(Nt)===-1)throw new RangeError("Invalid status code");return new Tt(null,{status:Nt,headers:{location:It}})},ot.DOMException=at.DOMException;try{new ot.DOMException}catch{ot.DOMException=function(Nt,jt){this.message=Nt,this.name=jt;var Bt=Error(Nt);this.stack=Bt.stack},ot.DOMException.prototype=Object.create(Error.prototype),ot.DOMException.prototype.constructor=ot.DOMException}function $t(It,Nt){return new Promise(function(jt,Bt){var Dt=new Ct(It,Nt);if(Dt.signal&&Dt.signal.aborted)return Bt(new ot.DOMException("Aborted","AbortError"));var zt=new XMLHttpRequest;function Lt(){zt.abort()}zt.onload=function(){var Xt={status:zt.status,statusText:zt.statusText,headers:At(zt.getAllResponseHeaders()||"")};Xt.url="responseURL"in zt?zt.responseURL:Xt.headers.get("X-Request-URL");var Wt="response"in zt?zt.response:zt.responseText;setTimeout(function(){jt(new Tt(Wt,Xt))},0)},zt.onerror=function(){setTimeout(function(){Bt(new TypeError("Network request failed"))},0)},zt.ontimeout=function(){setTimeout(function(){Bt(new TypeError("Network request failed"))},0)},zt.onabort=function(){setTimeout(function(){Bt(new ot.DOMException("Aborted","AbortError"))},0)};function Ft(Xt){try{return Xt===""&&at.location.href?at.location.href:Xt}catch{return Xt}}zt.open(Dt.method,Ft(Dt.url),!0),Dt.credentials==="include"?zt.withCredentials=!0:Dt.credentials==="omit"&&(zt.withCredentials=!1),"responseType"in zt&&(st.blob?zt.responseType="blob":st.arrayBuffer&&Dt.headers.get("Content-Type")&&Dt.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(zt.responseType="arraybuffer")),Nt&&typeof Nt.headers=="object"&&!(Nt.headers instanceof mt)?Object.getOwnPropertyNames(Nt.headers).forEach(function(Xt){zt.setRequestHeader(Xt,dt(Nt.headers[Xt]))}):Dt.headers.forEach(function(Xt,Wt){zt.setRequestHeader(Wt,Xt)}),Dt.signal&&(Dt.signal.addEventListener("abort",Lt),zt.onreadystatechange=function(){zt.readyState===4&&Dt.signal.removeEventListener("abort",Lt)}),zt.send(typeof Dt._bodyInit>"u"?null:Dt._bodyInit)})}return $t.polyfill=!0,at.fetch||(at.fetch=$t,at.Headers=mt,at.Request=Ct,at.Response=Tt),ot.Headers=mt,ot.Request=Ct,ot.Response=Tt,ot.fetch=$t,ot})({})})(rt),rt.fetch.ponyfill=!0,delete rt.fetch.polyfill;var nt=tt.fetch?tt:rt;et=nt.fetch,et.default=nt.fetch,et.fetch=nt.fetch,et.Headers=nt.Headers,et.Request=nt.Request,et.Response=nt.Response,_e.exports=et})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs(browserPonyfillExports);class CachedFileCollectionItem{constructor(et){this.fileCollectionItem=et}async text(){return this.arrayBufferCache?new TextDecoder().decode(this.arrayBufferCache):this.textCache=this.textCache||await this.fileCollectionItem.text()}async arrayBuffer(){return this.arrayBufferCache=this.arrayBufferCache||await this.fileCollectionItem.arrayBuffer()}stream(){return this.fileCollectionItem.stream()}get lastModified(){return this.fileCollectionItem.lastModified}get name(){return this.fileCollectionItem.name}get relativePath(){return this.fileCollectionItem.relativePath}get size(){return this.fileCollectionItem.size}}async function fileCollectionFromWebSource(_e,et={}){const{baseURL:tt,cache:rt=!1}=et,nt=[],it={};for(const ot of _e.entries){const{lastModified:at=0,size:st=-1}=ot;if(it[ot.relativePath])throw new Error(`Duplicate relativePath: ${ot.relativePath}`);it[ot.relativePath]=!0;const lt=ot.baseURL||_e.baseURL||tt||typeof location<"u"&&location.href;if(!lt)throw new Error(`We could not find a baseURL for ${ot.relativePath}`);const ct=new URL(ot.relativePath,lt),ut={name:ot.relativePath.split("/").pop()||"",size:st,relativePath:ot.relativePath,lastModified:at,text:async()=>(await fetch$1(ct)).text(),arrayBuffer:async()=>(await fetch$1(ct)).arrayBuffer(),stream:()=>{throw new Error("stream not yet implemented")}},ft=await expandAndFilter$1(ut,{...et,...ot.options});for(const dt of ft)nt.push(rt?new CachedFileCollectionItem(dt):dt)}return sortCollectionItems(nt),new FileCollection$1(nt)}var matrix={};const toString$4=Object.prototype.toString;function isAnyArray$1(_e){const et=toString$4.call(_e);return et.endsWith("Array]")&&!et.includes("Big")}const libEsm=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:isAnyArray$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(libEsm);function max$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,rt=tt===void 0?0:tt,nt=et.toIndex,it=nt===void 0?_e.length:nt;if(rt<0||rt>=_e.length||!Number.isInteger(rt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=rt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ot=_e[rt],at=rt+1;at<it;at++)_e[at]>ot&&(ot=_e[at]);return ot}function min$2(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isAnyArray$1(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");var tt=et.fromIndex,rt=tt===void 0?0:tt,nt=et.toIndex,it=nt===void 0?_e.length:nt;if(rt<0||rt>=_e.length||!Number.isInteger(rt))throw new Error("fromIndex must be a positive integer smaller than length");if(it<=rt||it>_e.length||!Number.isInteger(it))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ot=_e[rt],at=rt+1;at<it;at++)_e[at]<ot&&(ot=_e[at]);return ot}function rescale$1(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(isAnyArray$1(_e)){if(_e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var tt;if(et.output!==void 0){if(!isAnyArray$1(et.output))throw new TypeError("output option must be an array if specified");tt=et.output}else tt=new Array(_e.length);var rt=min$2(_e),nt=max$2(_e);if(rt===nt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var it=et.min,ot=it===void 0?et.autoMinMax?rt:0:it,at=et.max,st=at===void 0?et.autoMinMax?nt:1:at;if(ot>=st)throw new RangeError("min option must be smaller than max option");for(var lt=(st-ot)/(nt-rt),ct=0;ct<_e.length;ct++)tt[ct]=(_e[ct]-rt)*lt+ot;return tt}const libEs6=Object.freeze(Object.defineProperty({__proto__:null,default:rescale$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(libEs6);Object.defineProperty(matrix,"__esModule",{value:!0});var isAnyArray=require$$0,rescale=require$$1;const indent=" ".repeat(2),indentData=" ".repeat(4);function inspectMatrix(){return inspectMatrixWithOptions(this)}function inspectMatrixWithOptions(_e,et={}){const{maxRows:tt=15,maxColumns:rt=10,maxNumSize:nt=8,padMinus:it="auto"}=et;return`${_e.constructor.name} {
${indent}[
${indentData}${inspectData(_e,tt,rt,nt,it)}
${indent}]
${indent}rows: ${_e.rows}
${indent}columns: ${_e.columns}
}`}function inspectData(_e,et,tt,rt,nt){const{rows:it,columns:ot}=_e,at=Math.min(it,et),st=Math.min(ot,tt),lt=[];if(nt==="auto"){nt=!1;e:for(let ct=0;ct<at;ct++)for(let ut=0;ut<st;ut++)if(_e.get(ct,ut)<0){nt=!0;break e}}for(let ct=0;ct<at;ct++){let ut=[];for(let ft=0;ft<st;ft++)ut.push(formatNumber(_e.get(ct,ft),rt,nt));lt.push(`${ut.join(" ")}`)}return st!==ot&&(lt[lt.length-1]+=` ... ${ot-tt} more columns`),at!==it&&lt.push(`... ${it-et} more rows`),lt.join(`
${indentData}`)}function formatNumber(_e,et,tt){return(_e>=0&&tt?` ${formatNumber2(_e,et-1)}`:formatNumber2(_e,et)).padEnd(et)}function formatNumber2(_e,et){let tt=_e.toString();if(tt.length<=et)return tt;let rt=_e.toFixed(et);if(rt.length>et&&(rt=_e.toFixed(Math.max(0,et-(rt.length-et)))),rt.length<=et&&!rt.startsWith("0.000")&&!rt.startsWith("-0.000"))return rt;let nt=_e.toExponential(et);return nt.length>et&&(nt=_e.toExponential(Math.max(0,et-(nt.length-et)))),nt.slice(0)}function installMathOperations(_e,et){_e.prototype.add=function(rt){return typeof rt=="number"?this.addS(rt):this.addM(rt)},_e.prototype.addS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)+rt);return this},_e.prototype.addM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)+rt.get(nt,it));return this},_e.add=function(rt,nt){return new et(rt).add(nt)},_e.prototype.sub=function(rt){return typeof rt=="number"?this.subS(rt):this.subM(rt)},_e.prototype.subS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)-rt);return this},_e.prototype.subM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)-rt.get(nt,it));return this},_e.sub=function(rt,nt){return new et(rt).sub(nt)},_e.prototype.subtract=_e.prototype.sub,_e.prototype.subtractS=_e.prototype.subS,_e.prototype.subtractM=_e.prototype.subM,_e.subtract=_e.sub,_e.prototype.mul=function(rt){return typeof rt=="number"?this.mulS(rt):this.mulM(rt)},_e.prototype.mulS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)*rt);return this},_e.prototype.mulM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)*rt.get(nt,it));return this},_e.mul=function(rt,nt){return new et(rt).mul(nt)},_e.prototype.multiply=_e.prototype.mul,_e.prototype.multiplyS=_e.prototype.mulS,_e.prototype.multiplyM=_e.prototype.mulM,_e.multiply=_e.mul,_e.prototype.div=function(rt){return typeof rt=="number"?this.divS(rt):this.divM(rt)},_e.prototype.divS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)/rt);return this},_e.prototype.divM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)/rt.get(nt,it));return this},_e.div=function(rt,nt){return new et(rt).div(nt)},_e.prototype.divide=_e.prototype.div,_e.prototype.divideS=_e.prototype.divS,_e.prototype.divideM=_e.prototype.divM,_e.divide=_e.div,_e.prototype.mod=function(rt){return typeof rt=="number"?this.modS(rt):this.modM(rt)},_e.prototype.modS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)%rt);return this},_e.prototype.modM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)%rt.get(nt,it));return this},_e.mod=function(rt,nt){return new et(rt).mod(nt)},_e.prototype.modulus=_e.prototype.mod,_e.prototype.modulusS=_e.prototype.modS,_e.prototype.modulusM=_e.prototype.modM,_e.modulus=_e.mod,_e.prototype.and=function(rt){return typeof rt=="number"?this.andS(rt):this.andM(rt)},_e.prototype.andS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)&rt);return this},_e.prototype.andM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)&rt.get(nt,it));return this},_e.and=function(rt,nt){return new et(rt).and(nt)},_e.prototype.or=function(rt){return typeof rt=="number"?this.orS(rt):this.orM(rt)},_e.prototype.orS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)|rt);return this},_e.prototype.orM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)|rt.get(nt,it));return this},_e.or=function(rt,nt){return new et(rt).or(nt)},_e.prototype.xor=function(rt){return typeof rt=="number"?this.xorS(rt):this.xorM(rt)},_e.prototype.xorS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)^rt);return this},_e.prototype.xorM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)^rt.get(nt,it));return this},_e.xor=function(rt,nt){return new et(rt).xor(nt)},_e.prototype.leftShift=function(rt){return typeof rt=="number"?this.leftShiftS(rt):this.leftShiftM(rt)},_e.prototype.leftShiftS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)<<rt);return this},_e.prototype.leftShiftM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)<<rt.get(nt,it));return this},_e.leftShift=function(rt,nt){return new et(rt).leftShift(nt)},_e.prototype.signPropagatingRightShift=function(rt){return typeof rt=="number"?this.signPropagatingRightShiftS(rt):this.signPropagatingRightShiftM(rt)},_e.prototype.signPropagatingRightShiftS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)>>rt);return this},_e.prototype.signPropagatingRightShiftM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)>>rt.get(nt,it));return this},_e.signPropagatingRightShift=function(rt,nt){return new et(rt).signPropagatingRightShift(nt)},_e.prototype.rightShift=function(rt){return typeof rt=="number"?this.rightShiftS(rt):this.rightShiftM(rt)},_e.prototype.rightShiftS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)>>>rt);return this},_e.prototype.rightShiftM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,this.get(nt,it)>>>rt.get(nt,it));return this},_e.rightShift=function(rt,nt){return new et(rt).rightShift(nt)},_e.prototype.zeroFillRightShift=_e.prototype.rightShift,_e.prototype.zeroFillRightShiftS=_e.prototype.rightShiftS,_e.prototype.zeroFillRightShiftM=_e.prototype.rightShiftM,_e.zeroFillRightShift=_e.rightShift,_e.prototype.not=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,~this.get(rt,nt));return this},_e.not=function(rt){return new et(rt).not()},_e.prototype.abs=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.abs(this.get(rt,nt)));return this},_e.abs=function(rt){return new et(rt).abs()},_e.prototype.acos=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.acos(this.get(rt,nt)));return this},_e.acos=function(rt){return new et(rt).acos()},_e.prototype.acosh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.acosh(this.get(rt,nt)));return this},_e.acosh=function(rt){return new et(rt).acosh()},_e.prototype.asin=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.asin(this.get(rt,nt)));return this},_e.asin=function(rt){return new et(rt).asin()},_e.prototype.asinh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.asinh(this.get(rt,nt)));return this},_e.asinh=function(rt){return new et(rt).asinh()},_e.prototype.atan=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.atan(this.get(rt,nt)));return this},_e.atan=function(rt){return new et(rt).atan()},_e.prototype.atanh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.atanh(this.get(rt,nt)));return this},_e.atanh=function(rt){return new et(rt).atanh()},_e.prototype.cbrt=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.cbrt(this.get(rt,nt)));return this},_e.cbrt=function(rt){return new et(rt).cbrt()},_e.prototype.ceil=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.ceil(this.get(rt,nt)));return this},_e.ceil=function(rt){return new et(rt).ceil()},_e.prototype.clz32=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.clz32(this.get(rt,nt)));return this},_e.clz32=function(rt){return new et(rt).clz32()},_e.prototype.cos=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.cos(this.get(rt,nt)));return this},_e.cos=function(rt){return new et(rt).cos()},_e.prototype.cosh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.cosh(this.get(rt,nt)));return this},_e.cosh=function(rt){return new et(rt).cosh()},_e.prototype.exp=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.exp(this.get(rt,nt)));return this},_e.exp=function(rt){return new et(rt).exp()},_e.prototype.expm1=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.expm1(this.get(rt,nt)));return this},_e.expm1=function(rt){return new et(rt).expm1()},_e.prototype.floor=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.floor(this.get(rt,nt)));return this},_e.floor=function(rt){return new et(rt).floor()},_e.prototype.fround=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.fround(this.get(rt,nt)));return this},_e.fround=function(rt){return new et(rt).fround()},_e.prototype.log=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.log(this.get(rt,nt)));return this},_e.log=function(rt){return new et(rt).log()},_e.prototype.log1p=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.log1p(this.get(rt,nt)));return this},_e.log1p=function(rt){return new et(rt).log1p()},_e.prototype.log10=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.log10(this.get(rt,nt)));return this},_e.log10=function(rt){return new et(rt).log10()},_e.prototype.log2=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.log2(this.get(rt,nt)));return this},_e.log2=function(rt){return new et(rt).log2()},_e.prototype.round=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.round(this.get(rt,nt)));return this},_e.round=function(rt){return new et(rt).round()},_e.prototype.sign=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.sign(this.get(rt,nt)));return this},_e.sign=function(rt){return new et(rt).sign()},_e.prototype.sin=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.sin(this.get(rt,nt)));return this},_e.sin=function(rt){return new et(rt).sin()},_e.prototype.sinh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.sinh(this.get(rt,nt)));return this},_e.sinh=function(rt){return new et(rt).sinh()},_e.prototype.sqrt=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.sqrt(this.get(rt,nt)));return this},_e.sqrt=function(rt){return new et(rt).sqrt()},_e.prototype.tan=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.tan(this.get(rt,nt)));return this},_e.tan=function(rt){return new et(rt).tan()},_e.prototype.tanh=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.tanh(this.get(rt,nt)));return this},_e.tanh=function(rt){return new et(rt).tanh()},_e.prototype.trunc=function(){for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.set(rt,nt,Math.trunc(this.get(rt,nt)));return this},_e.trunc=function(rt){return new et(rt).trunc()},_e.pow=function(rt,nt){return new et(rt).pow(nt)},_e.prototype.pow=function(rt){return typeof rt=="number"?this.powS(rt):this.powM(rt)},_e.prototype.powS=function(rt){for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,Math.pow(this.get(nt,it),rt));return this},_e.prototype.powM=function(rt){if(rt=et.checkMatrix(rt),this.rows!==rt.rows||this.columns!==rt.columns)throw new RangeError("Matrices dimensions must be equal");for(let nt=0;nt<this.rows;nt++)for(let it=0;it<this.columns;it++)this.set(nt,it,Math.pow(this.get(nt,it),rt.get(nt,it)));return this}}function checkRowIndex(_e,et,tt){let rt=tt?_e.rows:_e.rows-1;if(et<0||et>rt)throw new RangeError("Row index out of range")}function checkColumnIndex(_e,et,tt){let rt=tt?_e.columns:_e.columns-1;if(et<0||et>rt)throw new RangeError("Column index out of range")}function checkRowVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.columns)throw new RangeError("vector size must be the same as the number of columns");return et}function checkColumnVector(_e,et){if(et.to1DArray&&(et=et.to1DArray()),et.length!==_e.rows)throw new RangeError("vector size must be the same as the number of rows");return et}function checkRowIndices(_e,et){if(!isAnyArray.isAnyArray(et))throw new TypeError("row indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.rows)throw new RangeError("row indices are out of range")}function checkColumnIndices(_e,et){if(!isAnyArray.isAnyArray(et))throw new TypeError("column indices must be an array");for(let tt=0;tt<et.length;tt++)if(et[tt]<0||et[tt]>=_e.columns)throw new RangeError("column indices are out of range")}function checkRange$1(_e,et,tt,rt,nt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",et),checkNumber("endRow",tt),checkNumber("startColumn",rt),checkNumber("endColumn",nt),et>tt||rt>nt||et<0||et>=_e.rows||tt<0||tt>=_e.rows||rt<0||rt>=_e.columns||nt<0||nt>=_e.columns)throw new RangeError("Submatrix indices are out of range")}function newArray(_e,et=0){let tt=[];for(let rt=0;rt<_e;rt++)tt.push(et);return tt}function checkNumber(_e,et){if(typeof et!="number")throw new TypeError(`${_e} must be a number`)}function checkNonEmpty(_e){if(_e.isEmpty())throw new Error("Empty matrix has no elements to index")}function sumByRow(_e){let et=newArray(_e.rows);for(let tt=0;tt<_e.rows;++tt)for(let rt=0;rt<_e.columns;++rt)et[tt]+=_e.get(tt,rt);return et}function sumByColumn(_e){let et=newArray(_e.columns);for(let tt=0;tt<_e.rows;++tt)for(let rt=0;rt<_e.columns;++rt)et[rt]+=_e.get(tt,rt);return et}function sumAll(_e){let et=0;for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)et+=_e.get(tt,rt);return et}function productByRow(_e){let et=newArray(_e.rows,1);for(let tt=0;tt<_e.rows;++tt)for(let rt=0;rt<_e.columns;++rt)et[tt]*=_e.get(tt,rt);return et}function productByColumn(_e){let et=newArray(_e.columns,1);for(let tt=0;tt<_e.rows;++tt)for(let rt=0;rt<_e.columns;++rt)et[rt]*=_e.get(tt,rt);return et}function productAll(_e){let et=1;for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)et*=_e.get(tt,rt);return et}function varianceByRow(_e,et,tt){const rt=_e.rows,nt=_e.columns,it=[];for(let ot=0;ot<rt;ot++){let at=0,st=0,lt=0;for(let ct=0;ct<nt;ct++)lt=_e.get(ot,ct)-tt[ot],at+=lt,st+=lt*lt;et?it.push((st-at*at/nt)/(nt-1)):it.push((st-at*at/nt)/nt)}return it}function varianceByColumn(_e,et,tt){const rt=_e.rows,nt=_e.columns,it=[];for(let ot=0;ot<nt;ot++){let at=0,st=0,lt=0;for(let ct=0;ct<rt;ct++)lt=_e.get(ct,ot)-tt[ot],at+=lt,st+=lt*lt;et?it.push((st-at*at/rt)/(rt-1)):it.push((st-at*at/rt)/rt)}return it}function varianceAll(_e,et,tt){const rt=_e.rows,nt=_e.columns,it=rt*nt;let ot=0,at=0,st=0;for(let lt=0;lt<rt;lt++)for(let ct=0;ct<nt;ct++)st=_e.get(lt,ct)-tt,ot+=st,at+=st*st;return et?(at-ot*ot/it)/(it-1):(at-ot*ot/it)/it}function centerByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)-et[tt])}function centerByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)-et[rt])}function centerAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)-et)}function getScaleByRow(_e){const et=[];for(let tt=0;tt<_e.rows;tt++){let rt=0;for(let nt=0;nt<_e.columns;nt++)rt+=Math.pow(_e.get(tt,nt),2)/(_e.columns-1);et.push(Math.sqrt(rt))}return et}function scaleByRow(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)/et[tt])}function getScaleByColumn(_e){const et=[];for(let tt=0;tt<_e.columns;tt++){let rt=0;for(let nt=0;nt<_e.rows;nt++)rt+=Math.pow(_e.get(nt,tt),2)/(_e.rows-1);et.push(Math.sqrt(rt))}return et}function scaleByColumn(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)/et[rt])}function getScaleAll(_e){const et=_e.size-1;let tt=0;for(let rt=0;rt<_e.columns;rt++)for(let nt=0;nt<_e.rows;nt++)tt+=Math.pow(_e.get(nt,rt),2)/et;return Math.sqrt(tt)}function scaleAll(_e,et){for(let tt=0;tt<_e.rows;tt++)for(let rt=0;rt<_e.columns;rt++)_e.set(tt,rt,_e.get(tt,rt)/et)}class AbstractMatrix{static from1DArray(et,tt,rt){if(et*tt!==rt.length)throw new RangeError("data length does not match given dimensions");let it=new Matrix$1(et,tt);for(let ot=0;ot<et;ot++)for(let at=0;at<tt;at++)it.set(ot,at,rt[ot*tt+at]);return it}static rowVector(et){let tt=new Matrix$1(1,et.length);for(let rt=0;rt<et.length;rt++)tt.set(0,rt,et[rt]);return tt}static columnVector(et){let tt=new Matrix$1(et.length,1);for(let rt=0;rt<et.length;rt++)tt.set(rt,0,et[rt]);return tt}static zeros(et,tt){return new Matrix$1(et,tt)}static ones(et,tt){return new Matrix$1(et,tt).fill(1)}static rand(et,tt,rt={}){if(typeof rt!="object")throw new TypeError("options must be an object");const{random:nt=Math.random}=rt;let it=new Matrix$1(et,tt);for(let ot=0;ot<et;ot++)for(let at=0;at<tt;at++)it.set(ot,at,nt());return it}static randInt(et,tt,rt={}){if(typeof rt!="object")throw new TypeError("options must be an object");const{min:nt=0,max:it=1e3,random:ot=Math.random}=rt;if(!Number.isInteger(nt))throw new TypeError("min must be an integer");if(!Number.isInteger(it))throw new TypeError("max must be an integer");if(nt>=it)throw new RangeError("min must be smaller than max");let at=it-nt,st=new Matrix$1(et,tt);for(let lt=0;lt<et;lt++)for(let ct=0;ct<tt;ct++){let ut=nt+Math.round(ot()*at);st.set(lt,ct,ut)}return st}static eye(et,tt,rt){tt===void 0&&(tt=et),rt===void 0&&(rt=1);let nt=Math.min(et,tt),it=this.zeros(et,tt);for(let ot=0;ot<nt;ot++)it.set(ot,ot,rt);return it}static diag(et,tt,rt){let nt=et.length;tt===void 0&&(tt=nt),rt===void 0&&(rt=tt);let it=Math.min(nt,tt,rt),ot=this.zeros(tt,rt);for(let at=0;at<it;at++)ot.set(at,at,et[at]);return ot}static min(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let rt=et.rows,nt=et.columns,it=new Matrix$1(rt,nt);for(let ot=0;ot<rt;ot++)for(let at=0;at<nt;at++)it.set(ot,at,Math.min(et.get(ot,at),tt.get(ot,at)));return it}static max(et,tt){et=this.checkMatrix(et),tt=this.checkMatrix(tt);let rt=et.rows,nt=et.columns,it=new this(rt,nt);for(let ot=0;ot<rt;ot++)for(let at=0;at<nt;at++)it.set(ot,at,Math.max(et.get(ot,at),tt.get(ot,at)));return it}static checkMatrix(et){return AbstractMatrix.isMatrix(et)?et:new Matrix$1(et)}static isMatrix(et){return et!=null&&et.klass==="Matrix"}get size(){return this.rows*this.columns}apply(et){if(typeof et!="function")throw new TypeError("callback must be a function");for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)et.call(this,tt,rt);return this}to1DArray(){let et=[];for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)et.push(this.get(tt,rt));return et}to2DArray(){let et=[];for(let tt=0;tt<this.rows;tt++){et.push([]);for(let rt=0;rt<this.columns;rt++)et[tt].push(this.get(tt,rt))}return et}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let et=0;et<this.rows;et++)for(let tt=0;tt<=et;tt++)if(this.get(et,tt)!==this.get(tt,et))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let et=0;et<this.rows;et++)if(this.get(et,et)!==0)return!1;return!0}isEchelonForm(){let et=0,tt=0,rt=-1,nt=!0,it=!1;for(;et<this.rows&&nt;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>rt?(it=!0,rt=tt):(nt=!1,it=!0);et++}return nt}isReducedEchelonForm(){let et=0,tt=0,rt=-1,nt=!0,it=!1;for(;et<this.rows&&nt;){for(tt=0,it=!1;tt<this.columns&&it===!1;)this.get(et,tt)===0?tt++:this.get(et,tt)===1&&tt>rt?(it=!0,rt=tt):(nt=!1,it=!0);for(let ot=tt+1;ot<this.rows;ot++)this.get(et,ot)!==0&&(nt=!1);et++}return nt}echelonForm(){let et=this.clone(),tt=0,rt=0;for(;tt<et.rows&&rt<et.columns;){let nt=tt;for(let it=tt;it<et.rows;it++)et.get(it,rt)>et.get(nt,rt)&&(nt=it);if(et.get(nt,rt)===0)rt++;else{et.swapRows(tt,nt);let it=et.get(tt,rt);for(let ot=rt;ot<et.columns;ot++)et.set(tt,ot,et.get(tt,ot)/it);for(let ot=tt+1;ot<et.rows;ot++){let at=et.get(ot,rt)/et.get(tt,rt);et.set(ot,rt,0);for(let st=rt+1;st<et.columns;st++)et.set(ot,st,et.get(ot,st)-et.get(tt,st)*at)}tt++,rt++}}return et}reducedEchelonForm(){let et=this.echelonForm(),tt=et.columns,rt=et.rows,nt=rt-1;for(;nt>=0;)if(et.maxRow(nt)===0)nt--;else{let it=0,ot=!1;for(;it<rt&&ot===!1;)et.get(nt,it)===1?ot=!0:it++;for(let at=0;at<nt;at++){let st=et.get(at,it);for(let lt=it;lt<tt;lt++){let ct=et.get(at,lt)-st*et.get(nt,lt);et.set(at,lt,ct)}}nt--}return et}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{rows:tt=1,columns:rt=1}=et;if(!Number.isInteger(tt)||tt<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(rt)||rt<=0)throw new TypeError("columns must be a positive integer");let nt=new Matrix$1(this.rows*tt,this.columns*rt);for(let it=0;it<tt;it++)for(let ot=0;ot<rt;ot++)nt.setSubMatrix(this,this.rows*it,this.columns*ot);return nt}fill(et){for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,et);return this}neg(){return this.mulS(-1)}getRow(et){checkRowIndex(this,et);let tt=[];for(let rt=0;rt<this.columns;rt++)tt.push(this.get(et,rt));return tt}getRowVector(et){return Matrix$1.rowVector(this.getRow(et))}setRow(et,tt){checkRowIndex(this,et),tt=checkRowVector(this,tt);for(let rt=0;rt<this.columns;rt++)this.set(et,rt,tt[rt]);return this}swapRows(et,tt){checkRowIndex(this,et),checkRowIndex(this,tt);for(let rt=0;rt<this.columns;rt++){let nt=this.get(et,rt);this.set(et,rt,this.get(tt,rt)),this.set(tt,rt,nt)}return this}getColumn(et){checkColumnIndex(this,et);let tt=[];for(let rt=0;rt<this.rows;rt++)tt.push(this.get(rt,et));return tt}getColumnVector(et){return Matrix$1.columnVector(this.getColumn(et))}setColumn(et,tt){checkColumnIndex(this,et),tt=checkColumnVector(this,tt);for(let rt=0;rt<this.rows;rt++)this.set(rt,et,tt[rt]);return this}swapColumns(et,tt){checkColumnIndex(this,et),checkColumnIndex(this,tt);for(let rt=0;rt<this.rows;rt++){let nt=this.get(rt,et);this.set(rt,et,this.get(rt,tt)),this.set(rt,tt,nt)}return this}addRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)+et[rt]);return this}subRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)-et[rt]);return this}mulRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)*et[rt]);return this}divRowVector(et){et=checkRowVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)/et[rt]);return this}addColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)+et[tt]);return this}subColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)-et[tt]);return this}mulColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)*et[tt]);return this}divColumnVector(et){et=checkColumnVector(this,et);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)this.set(tt,rt,this.get(tt,rt)/et[tt]);return this}mulRow(et,tt){checkRowIndex(this,et);for(let rt=0;rt<this.columns;rt++)this.set(et,rt,this.get(et,rt)*tt);return this}mulColumn(et,tt){checkColumnIndex(this,et);for(let rt=0;rt<this.rows;rt++)this.set(rt,et,this.get(rt,et)*tt);return this}max(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)>tt[rt]&&(tt[rt]=this.get(rt,nt));return tt}case"column":{const tt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)>tt[nt]&&(tt[nt]=this.get(rt,nt));return tt}case void 0:{let tt=this.get(0,0);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)>tt&&(tt=this.get(rt,nt));return tt}default:throw new Error(`invalid option: ${et}`)}}maxIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)>et&&(et=this.get(rt,nt),tt[0]=rt,tt[1]=nt);return tt}min(et){if(this.isEmpty())return NaN;switch(et){case"row":{const tt=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)<tt[rt]&&(tt[rt]=this.get(rt,nt));return tt}case"column":{const tt=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)<tt[nt]&&(tt[nt]=this.get(rt,nt));return tt}case void 0:{let tt=this.get(0,0);for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)<tt&&(tt=this.get(rt,nt));return tt}default:throw new Error(`invalid option: ${et}`)}}minIndex(){checkNonEmpty(this);let et=this.get(0,0),tt=[0,0];for(let rt=0;rt<this.rows;rt++)for(let nt=0;nt<this.columns;nt++)this.get(rt,nt)<et&&(et=this.get(rt,nt),tt[0]=rt,tt[1]=nt);return tt}maxRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let rt=1;rt<this.columns;rt++)this.get(et,rt)>tt&&(tt=this.get(et,rt));return tt}maxRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),rt=[et,0];for(let nt=1;nt<this.columns;nt++)this.get(et,nt)>tt&&(tt=this.get(et,nt),rt[1]=nt);return rt}minRow(et){if(checkRowIndex(this,et),this.isEmpty())return NaN;let tt=this.get(et,0);for(let rt=1;rt<this.columns;rt++)this.get(et,rt)<tt&&(tt=this.get(et,rt));return tt}minRowIndex(et){checkRowIndex(this,et),checkNonEmpty(this);let tt=this.get(et,0),rt=[et,0];for(let nt=1;nt<this.columns;nt++)this.get(et,nt)<tt&&(tt=this.get(et,nt),rt[1]=nt);return rt}maxColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let rt=1;rt<this.rows;rt++)this.get(rt,et)>tt&&(tt=this.get(rt,et));return tt}maxColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),rt=[0,et];for(let nt=1;nt<this.rows;nt++)this.get(nt,et)>tt&&(tt=this.get(nt,et),rt[0]=nt);return rt}minColumn(et){if(checkColumnIndex(this,et),this.isEmpty())return NaN;let tt=this.get(0,et);for(let rt=1;rt<this.rows;rt++)this.get(rt,et)<tt&&(tt=this.get(rt,et));return tt}minColumnIndex(et){checkColumnIndex(this,et),checkNonEmpty(this);let tt=this.get(0,et),rt=[0,et];for(let nt=1;nt<this.rows;nt++)this.get(nt,et)<tt&&(tt=this.get(nt,et),rt[0]=nt);return rt}diag(){let et=Math.min(this.rows,this.columns),tt=[];for(let rt=0;rt<et;rt++)tt.push(this.get(rt,rt));return tt}norm(et="frobenius"){switch(et){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${et}`)}}cumulativeSum(){let et=0;for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)et+=this.get(tt,rt),this.set(tt,rt,et);return this}dot(et){AbstractMatrix.isMatrix(et)&&(et=et.to1DArray());let tt=this.to1DArray();if(tt.length!==et.length)throw new RangeError("vectors do not have the same size");let rt=0;for(let nt=0;nt<tt.length;nt++)rt+=tt[nt]*et[nt];return rt}mmul(et){et=Matrix$1.checkMatrix(et);let tt=this.rows,rt=this.columns,nt=et.columns,it=new Matrix$1(tt,nt),ot=new Float64Array(rt);for(let at=0;at<nt;at++){for(let st=0;st<rt;st++)ot[st]=et.get(st,at);for(let st=0;st<tt;st++){let lt=0;for(let ct=0;ct<rt;ct++)lt+=this.get(st,ct)*ot[ct];it.set(st,at,lt)}}return it}strassen2x2(et){et=Matrix$1.checkMatrix(et);let tt=new Matrix$1(2,2);const rt=this.get(0,0),nt=et.get(0,0),it=this.get(0,1),ot=et.get(0,1),at=this.get(1,0),st=et.get(1,0),lt=this.get(1,1),ct=et.get(1,1),ut=(rt+lt)*(nt+ct),ft=(at+lt)*nt,dt=rt*(ot-ct),pt=lt*(st-nt),mt=(rt+it)*ct,vt=(at-rt)*(nt+ot),ht=(it-lt)*(st+ct),yt=ut+pt-mt+ht,gt=dt+mt,xt=ft+pt,_t=ut-ft+dt+vt;return tt.set(0,0,yt),tt.set(0,1,gt),tt.set(1,0,xt),tt.set(1,1,_t),tt}strassen3x3(et){et=Matrix$1.checkMatrix(et);let tt=new Matrix$1(3,3);const rt=this.get(0,0),nt=this.get(0,1),it=this.get(0,2),ot=this.get(1,0),at=this.get(1,1),st=this.get(1,2),lt=this.get(2,0),ct=this.get(2,1),ut=this.get(2,2),ft=et.get(0,0),dt=et.get(0,1),pt=et.get(0,2),mt=et.get(1,0),vt=et.get(1,1),ht=et.get(1,2),yt=et.get(2,0),gt=et.get(2,1),xt=et.get(2,2),_t=(rt+nt+it-ot-at-ct-ut)*vt,wt=(rt-ot)*(-dt+vt),Et=at*(-ft+dt+mt-vt-ht-yt+xt),St=(-rt+ot+at)*(ft-dt+vt),Ct=(ot+at)*(-ft+dt),bt=rt*ft,At=(-rt+lt+ct)*(ft-pt+ht),Tt=(-rt+lt)*(pt-ht),Ot=(lt+ct)*(-ft+pt),$t=(rt+nt+it-at-st-lt-ct)*ht,It=ct*(-ft+pt+mt-vt-ht-yt+gt),Nt=(-it+ct+ut)*(vt+yt-gt),jt=(it-ut)*(vt-gt),Bt=it*yt,Dt=(ct+ut)*(-yt+gt),zt=(-it+at+st)*(ht+yt-xt),Lt=(it-st)*(ht-xt),Ft=(at+st)*(-yt+xt),Xt=nt*mt,Wt=st*gt,Ht=ot*pt,nr=lt*dt,fr=ut*xt,dr=bt+Bt+Xt,Qt=_t+St+Ct+bt+Nt+Bt+Dt,sr=bt+At+Ot+$t+Bt+zt+Ft,ar=wt+Et+St+bt+Bt+zt+Lt,Jt=wt+St+Ct+bt+Wt,pr=Bt+zt+Lt+Ft+Ht,Rt=bt+At+Tt+It+Nt+jt+Bt,Ut=Nt+jt+Bt+Dt+nr,Gt=bt+At+Tt+Ot+fr;return tt.set(0,0,dr),tt.set(0,1,Qt),tt.set(0,2,sr),tt.set(1,0,ar),tt.set(1,1,Jt),tt.set(1,2,pr),tt.set(2,0,Rt),tt.set(2,1,Ut),tt.set(2,2,Gt),tt}mmulStrassen(et){et=Matrix$1.checkMatrix(et);let tt=this.clone(),rt=tt.rows,nt=tt.columns,it=et.rows,ot=et.columns;nt!==it&&console.warn(`Multiplying ${rt} x ${nt} and ${it} x ${ot} matrix: dimensions do not match.`);function at(ut,ft,dt){let pt=ut.rows,mt=ut.columns;if(pt===ft&&mt===dt)return ut;{let vt=AbstractMatrix.zeros(ft,dt);return vt=vt.setSubMatrix(ut,0,0),vt}}let st=Math.max(rt,it),lt=Math.max(nt,ot);tt=at(tt,st,lt),et=at(et,st,lt);function ct(ut,ft,dt,pt){if(dt<=512||pt<=512)return ut.mmul(ft);dt%2===1&&pt%2===1?(ut=at(ut,dt+1,pt+1),ft=at(ft,dt+1,pt+1)):dt%2===1?(ut=at(ut,dt+1,pt),ft=at(ft,dt+1,pt)):pt%2===1&&(ut=at(ut,dt,pt+1),ft=at(ft,dt,pt+1));let mt=parseInt(ut.rows/2,10),vt=parseInt(ut.columns/2,10),ht=ut.subMatrix(0,mt-1,0,vt-1),yt=ft.subMatrix(0,mt-1,0,vt-1),gt=ut.subMatrix(0,mt-1,vt,ut.columns-1),xt=ft.subMatrix(0,mt-1,vt,ft.columns-1),_t=ut.subMatrix(mt,ut.rows-1,0,vt-1),wt=ft.subMatrix(mt,ft.rows-1,0,vt-1),Et=ut.subMatrix(mt,ut.rows-1,vt,ut.columns-1),St=ft.subMatrix(mt,ft.rows-1,vt,ft.columns-1),Ct=ct(AbstractMatrix.add(ht,Et),AbstractMatrix.add(yt,St),mt,vt),bt=ct(AbstractMatrix.add(_t,Et),yt,mt,vt),At=ct(ht,AbstractMatrix.sub(xt,St),mt,vt),Tt=ct(Et,AbstractMatrix.sub(wt,yt),mt,vt),Ot=ct(AbstractMatrix.add(ht,gt),St,mt,vt),$t=ct(AbstractMatrix.sub(_t,ht),AbstractMatrix.add(yt,xt),mt,vt),It=ct(AbstractMatrix.sub(gt,Et),AbstractMatrix.add(wt,St),mt,vt),Nt=AbstractMatrix.add(Ct,Tt);Nt.sub(Ot),Nt.add(It);let jt=AbstractMatrix.add(At,Ot),Bt=AbstractMatrix.add(bt,Tt),Dt=AbstractMatrix.sub(Ct,bt);Dt.add(At),Dt.add($t);let zt=AbstractMatrix.zeros(2*Nt.rows,2*Nt.columns);return zt=zt.setSubMatrix(Nt,0,0),zt=zt.setSubMatrix(jt,Nt.rows,0),zt=zt.setSubMatrix(Bt,0,Nt.columns),zt=zt.setSubMatrix(Dt,Nt.rows,Nt.columns),zt.subMatrix(0,dt-1,0,pt-1)}return ct(tt,et,st,lt)}scaleRows(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:rt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(rt))throw new TypeError("max must be a number");if(tt>=rt)throw new RangeError("min must be smaller than max");let nt=new Matrix$1(this.rows,this.columns);for(let it=0;it<this.rows;it++){const ot=this.getRow(it);ot.length>0&&rescale(ot,{min:tt,max:rt,output:ot}),nt.setRow(it,ot)}return nt}scaleColumns(et={}){if(typeof et!="object")throw new TypeError("options must be an object");const{min:tt=0,max:rt=1}=et;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(rt))throw new TypeError("max must be a number");if(tt>=rt)throw new RangeError("min must be smaller than max");let nt=new Matrix$1(this.rows,this.columns);for(let it=0;it<this.columns;it++){const ot=this.getColumn(it);ot.length&&rescale(ot,{min:tt,max:rt,output:ot}),nt.setColumn(it,ot)}return nt}flipRows(){const et=Math.ceil(this.columns/2);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<et;rt++){let nt=this.get(tt,rt),it=this.get(tt,this.columns-1-rt);this.set(tt,rt,it),this.set(tt,this.columns-1-rt,nt)}return this}flipColumns(){const et=Math.ceil(this.rows/2);for(let tt=0;tt<this.columns;tt++)for(let rt=0;rt<et;rt++){let nt=this.get(rt,tt),it=this.get(this.rows-1-rt,tt);this.set(rt,tt,it),this.set(this.rows-1-rt,tt,nt)}return this}kroneckerProduct(et){et=Matrix$1.checkMatrix(et);let tt=this.rows,rt=this.columns,nt=et.rows,it=et.columns,ot=new Matrix$1(tt*nt,rt*it);for(let at=0;at<tt;at++)for(let st=0;st<rt;st++)for(let lt=0;lt<nt;lt++)for(let ct=0;ct<it;ct++)ot.set(nt*at+lt,it*st+ct,this.get(at,st)*et.get(lt,ct));return ot}kroneckerSum(et){if(et=Matrix$1.checkMatrix(et),!this.isSquare()||!et.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let tt=this.rows,rt=et.rows,nt=this.kroneckerProduct(Matrix$1.eye(rt,rt)),it=Matrix$1.eye(tt,tt).kroneckerProduct(et);return nt.add(it)}transpose(){let et=new Matrix$1(this.columns,this.rows);for(let tt=0;tt<this.rows;tt++)for(let rt=0;rt<this.columns;rt++)et.set(rt,tt,this.get(tt,rt));return et}sortRows(et=compareNumbers){for(let tt=0;tt<this.rows;tt++)this.setRow(tt,this.getRow(tt).sort(et));return this}sortColumns(et=compareNumbers){for(let tt=0;tt<this.columns;tt++)this.setColumn(tt,this.getColumn(tt).sort(et));return this}subMatrix(et,tt,rt,nt){checkRange$1(this,et,tt,rt,nt);let it=new Matrix$1(tt-et+1,nt-rt+1);for(let ot=et;ot<=tt;ot++)for(let at=rt;at<=nt;at++)it.set(ot-et,at-rt,this.get(ot,at));return it}subMatrixRow(et,tt,rt){if(tt===void 0&&(tt=0),rt===void 0&&(rt=this.columns-1),tt>rt||tt<0||tt>=this.columns||rt<0||rt>=this.columns)throw new RangeError("Argument out of range");let nt=new Matrix$1(et.length,rt-tt+1);for(let it=0;it<et.length;it++)for(let ot=tt;ot<=rt;ot++){if(et[it]<0||et[it]>=this.rows)throw new RangeError(`Row index out of range: ${et[it]}`);nt.set(it,ot-tt,this.get(et[it],ot))}return nt}subMatrixColumn(et,tt,rt){if(tt===void 0&&(tt=0),rt===void 0&&(rt=this.rows-1),tt>rt||tt<0||tt>=this.rows||rt<0||rt>=this.rows)throw new RangeError("Argument out of range");let nt=new Matrix$1(rt-tt+1,et.length);for(let it=0;it<et.length;it++)for(let ot=tt;ot<=rt;ot++){if(et[it]<0||et[it]>=this.columns)throw new RangeError(`Column index out of range: ${et[it]}`);nt.set(ot-tt,it,this.get(ot,et[it]))}return nt}setSubMatrix(et,tt,rt){if(et=Matrix$1.checkMatrix(et),et.isEmpty())return this;let nt=tt+et.rows-1,it=rt+et.columns-1;checkRange$1(this,tt,nt,rt,it);for(let ot=0;ot<et.rows;ot++)for(let at=0;at<et.columns;at++)this.set(tt+ot,rt+at,et.get(ot,at));return this}selection(et,tt){checkRowIndices(this,et),checkColumnIndices(this,tt);let rt=new Matrix$1(et.length,tt.length);for(let nt=0;nt<et.length;nt++){let it=et[nt];for(let ot=0;ot<tt.length;ot++){let at=tt[ot];rt.set(nt,ot,this.get(it,at))}}return rt}trace(){let et=Math.min(this.rows,this.columns),tt=0;for(let rt=0;rt<et;rt++)tt+=this.get(rt,rt);return tt}clone(){return this.constructor.copy(this,new Matrix$1(this.rows,this.columns))}static copy(et,tt){for(const[rt,nt,it]of et.entries())tt.set(rt,nt,it);return tt}sum(et){switch(et){case"row":return sumByRow(this);case"column":return sumByColumn(this);case void 0:return sumAll(this);default:throw new Error(`invalid option: ${et}`)}}product(et){switch(et){case"row":return productByRow(this);case"column":return productByColumn(this);case void 0:return productAll(this);default:throw new Error(`invalid option: ${et}`)}}mean(et){const tt=this.sum(et);switch(et){case"row":{for(let rt=0;rt<this.rows;rt++)tt[rt]/=this.columns;return tt}case"column":{for(let rt=0;rt<this.columns;rt++)tt[rt]/=this.rows;return tt}case void 0:return tt/this.size;default:throw new Error(`invalid option: ${et}`)}}variance(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{unbiased:rt=!0,mean:nt=this.mean(et)}=tt;if(typeof rt!="boolean")throw new TypeError("unbiased must be a boolean");switch(et){case"row":{if(!isAnyArray.isAnyArray(nt))throw new TypeError("mean must be an array");return varianceByRow(this,rt,nt)}case"column":{if(!isAnyArray.isAnyArray(nt))throw new TypeError("mean must be an array");return varianceByColumn(this,rt,nt)}case void 0:{if(typeof nt!="number")throw new TypeError("mean must be a number");return varianceAll(this,rt,nt)}default:throw new Error(`invalid option: ${et}`)}}standardDeviation(et,tt){typeof et=="object"&&(tt=et,et=void 0);const rt=this.variance(et,tt);if(et===void 0)return Math.sqrt(rt);for(let nt=0;nt<rt.length;nt++)rt[nt]=Math.sqrt(rt[nt]);return rt}center(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");const{center:rt=this.mean(et)}=tt;switch(et){case"row":{if(!isAnyArray.isAnyArray(rt))throw new TypeError("center must be an array");return centerByRow(this,rt),this}case"column":{if(!isAnyArray.isAnyArray(rt))throw new TypeError("center must be an array");return centerByColumn(this,rt),this}case void 0:{if(typeof rt!="number")throw new TypeError("center must be a number");return centerAll(this,rt),this}default:throw new Error(`invalid option: ${et}`)}}scale(et,tt={}){if(typeof et=="object"&&(tt=et,et=void 0),typeof tt!="object")throw new TypeError("options must be an object");let rt=tt.scale;switch(et){case"row":{if(rt===void 0)rt=getScaleByRow(this);else if(!isAnyArray.isAnyArray(rt))throw new TypeError("scale must be an array");return scaleByRow(this,rt),this}case"column":{if(rt===void 0)rt=getScaleByColumn(this);else if(!isAnyArray.isAnyArray(rt))throw new TypeError("scale must be an array");return scaleByColumn(this,rt),this}case void 0:{if(rt===void 0)rt=getScaleAll(this);else if(typeof rt!="number")throw new TypeError("scale must be a number");return scaleAll(this,rt),this}default:throw new Error(`invalid option: ${et}`)}}toString(et){return inspectMatrixWithOptions(this,et)}[Symbol.iterator](){return this.entries()}*entries(){for(let et=0;et<this.rows;et++)for(let tt=0;tt<this.columns;tt++)yield[et,tt,this.get(et,tt)]}*values(){for(let et=0;et<this.rows;et++)for(let tt=0;tt<this.columns;tt++)yield this.get(et,tt)}}AbstractMatrix.prototype.klass="Matrix";typeof Symbol<"u"&&(AbstractMatrix.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspectMatrix);function compareNumbers(_e,et){return _e-et}function isArrayOfNumbers(_e){return _e.every(et=>typeof et=="number")}AbstractMatrix.random=AbstractMatrix.rand;AbstractMatrix.randomInt=AbstractMatrix.randInt;AbstractMatrix.diagonal=AbstractMatrix.diag;AbstractMatrix.prototype.diagonal=AbstractMatrix.prototype.diag;AbstractMatrix.identity=AbstractMatrix.eye;AbstractMatrix.prototype.negate=AbstractMatrix.prototype.neg;AbstractMatrix.prototype.tensorProduct=AbstractMatrix.prototype.kroneckerProduct;var $n,Nn,vn;let Matrix$1=(vn=class extends AbstractMatrix{constructor(tt,rt){super();wr(this,$n);eo(this,"data");if(vn.isMatrix(tt))Cr(this,$n,Nn).call(this,tt.rows,tt.columns),vn.copy(tt,this);else if(Number.isInteger(tt)&&tt>=0)Cr(this,$n,Nn).call(this,tt,rt);else if(isAnyArray.isAnyArray(tt)){const nt=tt;if(tt=nt.length,rt=tt?nt[0].length:0,typeof rt!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let it=0;it<tt;it++){if(nt[it].length!==rt)throw new RangeError("Inconsistent array dimensions");if(!isArrayOfNumbers(nt[it]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(nt[it]))}this.rows=tt,this.columns=rt}else throw new TypeError("First argument must be a positive number or an array")}set(tt,rt,nt){return this.data[tt][rt]=nt,this}get(tt,rt){return this.data[tt][rt]}removeRow(tt){return checkRowIndex(this,tt),this.data.splice(tt,1),this.rows-=1,this}addRow(tt,rt){return rt===void 0&&(rt=tt,tt=this.rows),checkRowIndex(this,tt,!0),rt=Float64Array.from(checkRowVector(this,rt)),this.data.splice(tt,0,rt),this.rows+=1,this}removeColumn(tt){checkColumnIndex(this,tt);for(let rt=0;rt<this.rows;rt++){const nt=new Float64Array(this.columns-1);for(let it=0;it<tt;it++)nt[it]=this.data[rt][it];for(let it=tt+1;it<this.columns;it++)nt[it-1]=this.data[rt][it];this.data[rt]=nt}return this.columns-=1,this}addColumn(tt,rt){typeof rt>"u"&&(rt=tt,tt=this.columns),checkColumnIndex(this,tt,!0),rt=checkColumnVector(this,rt);for(let nt=0;nt<this.rows;nt++){const it=new Float64Array(this.columns+1);let ot=0;for(;ot<tt;ot++)it[ot]=this.data[nt][ot];for(it[ot++]=rt[nt];ot<this.columns+1;ot++)it[ot]=this.data[nt][ot-1];this.data[nt]=it}return this.columns+=1,this}},$n=new WeakSet,Nn=function(tt,rt){if(this.data=[],Number.isInteger(rt)&&rt>=0)for(let nt=0;nt<tt;nt++)this.data.push(new Float64Array(rt));else throw new TypeError("nColumns must be a positive integer");this.rows=tt,this.columns=rt},vn);installMathOperations(AbstractMatrix,Matrix$1);var Rr;const kn=class kn extends AbstractMatrix{constructor(tt){super();wr(this,Rr,void 0);if(Matrix$1.isMatrix(tt)){if(!tt.isSymmetric())throw new TypeError("not symmetric data");yr(this,Rr,Matrix$1.copy(tt,new Matrix$1(tt.rows,tt.rows)))}else if(Number.isInteger(tt)&&tt>=0)yr(this,Rr,new Matrix$1(tt,tt));else if(yr(this,Rr,new Matrix$1(tt)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return rr(this,Rr).size}get rows(){return rr(this,Rr).rows}get columns(){return rr(this,Rr).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(tt){return Matrix$1.isMatrix(tt)&&tt.klassType==="SymmetricMatrix"}static zeros(tt){return new this(tt)}static ones(tt){return new this(tt).fill(1)}clone(){const tt=new kn(this.diagonalSize);for(const[rt,nt,it]of this.upperRightEntries())tt.set(rt,nt,it);return tt}toMatrix(){return new Matrix$1(this)}get(tt,rt){return rr(this,Rr).get(tt,rt)}set(tt,rt,nt){return rr(this,Rr).set(tt,rt,nt),rr(this,Rr).set(rt,tt,nt),this}removeCross(tt){return rr(this,Rr).removeRow(tt),rr(this,Rr).removeColumn(tt),this}addCross(tt,rt){rt===void 0&&(rt=tt,tt=this.diagonalSize);const nt=rt.slice();return nt.splice(tt,1),rr(this,Rr).addRow(tt,nt),rr(this,Rr).addColumn(tt,rt),this}applyMask(tt){if(tt.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const rt=[];for(const[nt,it]of tt.entries())it||rt.push(nt);rt.reverse();for(const nt of rt)this.removeCross(nt);return this}toCompact(){const{diagonalSize:tt}=this,rt=new Array(tt*(tt+1)/2);for(let nt=0,it=0,ot=0;ot<rt.length;ot++)rt[ot]=this.get(it,nt),++nt>=tt&&(nt=++it);return rt}static fromCompact(tt){const rt=tt.length,nt=(Math.sqrt(8*rt+1)-1)/2;if(!Number.isInteger(nt))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(tt)}`);const it=new kn(nt);for(let ot=0,at=0,st=0;st<rt;st++)it.set(ot,at,tt[st]),++ot>=nt&&(ot=++at);return it}*upperRightEntries(){for(let tt=0,rt=0;tt<this.diagonalSize;void 0){const nt=this.get(tt,rt);yield[tt,rt,nt],++rt>=this.diagonalSize&&(rt=++tt)}}*upperRightValues(){for(let tt=0,rt=0;tt<this.diagonalSize;void 0)yield this.get(tt,rt),++rt>=this.diagonalSize&&(rt=++tt)}};Rr=new WeakMap;let SymmetricMatrix=kn;SymmetricMatrix.prototype.klassType="SymmetricMatrix";class DistanceMatrix extends SymmetricMatrix{static isDistanceMatrix(et){return SymmetricMatrix.isSymmetricMatrix(et)&&et.klassSubType==="DistanceMatrix"}constructor(et){if(super(et),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(et,tt,rt){return et===tt&&(rt=0),super.set(et,tt,rt)}addCross(et,tt){return tt===void 0&&(tt=et,et=this.diagonalSize),tt=tt.slice(),tt[et]=0,super.addCross(et,tt)}toSymmetricMatrix(){return new SymmetricMatrix(this)}clone(){const et=new DistanceMatrix(this.diagonalSize);for(const[tt,rt,nt]of this.upperRightEntries())tt!==rt&&et.set(tt,rt,nt);return et}toCompact(){const{diagonalSize:et}=this,tt=(et-1)*et/2,rt=new Array(tt);for(let nt=1,it=0,ot=0;ot<rt.length;ot++)rt[ot]=this.get(it,nt),++nt>=et&&(nt=++it+1);return rt}static fromCompact(et){const tt=et.length,rt=(Math.sqrt(8*tt+1)+1)/2;if(!Number.isInteger(rt))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(et)}`);const nt=new this(rt);for(let it=1,ot=0,at=0;at<tt;at++)nt.set(it,ot,et[at]),++it>=rt&&(it=++ot+1);return nt}}DistanceMatrix.prototype.klassSubType="DistanceMatrix";class BaseView extends AbstractMatrix{constructor(et,tt,rt){super(),this.matrix=et,this.rows=tt,this.columns=rt}}class MatrixColumnView extends BaseView{constructor(et,tt){checkColumnIndex(et,tt),super(et,et.rows,1),this.column=tt}set(et,tt,rt){return this.matrix.set(et,this.column,rt),this}get(et){return this.matrix.get(et,this.column)}}class MatrixColumnSelectionView extends BaseView{constructor(et,tt){checkColumnIndices(et,tt),super(et,et.rows,tt.length),this.columnIndices=tt}set(et,tt,rt){return this.matrix.set(et,this.columnIndices[tt],rt),this}get(et,tt){return this.matrix.get(et,this.columnIndices[tt])}}class MatrixFlipColumnView extends BaseView{constructor(et){super(et,et.rows,et.columns)}set(et,tt,rt){return this.matrix.set(et,this.columns-tt-1,rt),this}get(et,tt){return this.matrix.get(et,this.columns-tt-1)}}class MatrixFlipRowView extends BaseView{constructor(et){super(et,et.rows,et.columns)}set(et,tt,rt){return this.matrix.set(this.rows-et-1,tt,rt),this}get(et,tt){return this.matrix.get(this.rows-et-1,tt)}}class MatrixRowView extends BaseView{constructor(et,tt){checkRowIndex(et,tt),super(et,1,et.columns),this.row=tt}set(et,tt,rt){return this.matrix.set(this.row,tt,rt),this}get(et,tt){return this.matrix.get(this.row,tt)}}class MatrixRowSelectionView extends BaseView{constructor(et,tt){checkRowIndices(et,tt),super(et,tt.length,et.columns),this.rowIndices=tt}set(et,tt,rt){return this.matrix.set(this.rowIndices[et],tt,rt),this}get(et,tt){return this.matrix.get(this.rowIndices[et],tt)}}class MatrixSelectionView extends BaseView{constructor(et,tt,rt){checkRowIndices(et,tt),checkColumnIndices(et,rt),super(et,tt.length,rt.length),this.rowIndices=tt,this.columnIndices=rt}set(et,tt,rt){return this.matrix.set(this.rowIndices[et],this.columnIndices[tt],rt),this}get(et,tt){return this.matrix.get(this.rowIndices[et],this.columnIndices[tt])}}class MatrixSubView extends BaseView{constructor(et,tt,rt,nt,it){checkRange$1(et,tt,rt,nt,it),super(et,rt-tt+1,it-nt+1),this.startRow=tt,this.startColumn=nt}set(et,tt,rt){return this.matrix.set(this.startRow+et,this.startColumn+tt,rt),this}get(et,tt){return this.matrix.get(this.startRow+et,this.startColumn+tt)}}class MatrixTransposeView extends BaseView{constructor(et){super(et,et.columns,et.rows)}set(et,tt,rt){return this.matrix.set(tt,et,rt),this}get(et,tt){return this.matrix.get(tt,et)}}class WrapperMatrix1D extends AbstractMatrix{constructor(et,tt={}){const{rows:rt=1}=tt;if(et.length%rt!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=rt,this.columns=et.length/rt,this.data=et}set(et,tt,rt){let nt=this._calculateIndex(et,tt);return this.data[nt]=rt,this}get(et,tt){let rt=this._calculateIndex(et,tt);return this.data[rt]}_calculateIndex(et,tt){return et*this.columns+tt}}class WrapperMatrix2D extends AbstractMatrix{constructor(et){super(),this.data=et,this.rows=et.length,this.columns=et[0].length}set(et,tt,rt){return this.data[et][tt]=rt,this}get(et,tt){return this.data[et][tt]}}function wrap(_e,et){if(isAnyArray.isAnyArray(_e))return _e[0]&&isAnyArray.isAnyArray(_e[0])?new WrapperMatrix2D(_e):new WrapperMatrix1D(_e,et);throw new Error("the argument is not an array")}class LuDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),rt=tt.rows,nt=tt.columns,it=new Float64Array(rt),ot=1,at,st,lt,ct,ut,ft,dt,pt,mt;for(at=0;at<rt;at++)it[at]=at;for(pt=new Float64Array(rt),st=0;st<nt;st++){for(at=0;at<rt;at++)pt[at]=tt.get(at,st);for(at=0;at<rt;at++){for(mt=Math.min(at,st),ut=0,lt=0;lt<mt;lt++)ut+=tt.get(at,lt)*pt[lt];pt[at]-=ut,tt.set(at,st,pt[at])}for(ct=st,at=st+1;at<rt;at++)Math.abs(pt[at])>Math.abs(pt[ct])&&(ct=at);if(ct!==st){for(lt=0;lt<nt;lt++)ft=tt.get(ct,lt),tt.set(ct,lt,tt.get(st,lt)),tt.set(st,lt,ft);dt=it[ct],it[ct]=it[st],it[st]=dt,ot=-ot}if(st<rt&&tt.get(st,st)!==0)for(at=st+1;at<rt;at++)tt.set(at,st,tt.get(at,st)/tt.get(st,st))}this.LU=tt,this.pivotVector=it,this.pivotSign=ot}isSingular(){let et=this.LU,tt=et.columns;for(let rt=0;rt<tt;rt++)if(et.get(rt,rt)===0)return!0;return!1}solve(et){et=Matrix$1.checkMatrix(et);let tt=this.LU;if(tt.rows!==et.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let nt=et.columns,it=et.subMatrixRow(this.pivotVector,0,nt-1),ot=tt.columns,at,st,lt;for(lt=0;lt<ot;lt++)for(at=lt+1;at<ot;at++)for(st=0;st<nt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt));for(lt=ot-1;lt>=0;lt--){for(st=0;st<nt;st++)it.set(lt,st,it.get(lt,st)/tt.get(lt,lt));for(at=0;at<lt;at++)for(st=0;st<nt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt))}return it}get determinant(){let et=this.LU;if(!et.isSquare())throw new Error("Matrix must be square");let tt=this.pivotSign,rt=et.columns;for(let nt=0;nt<rt;nt++)tt*=et.get(nt,nt);return tt}get lowerTriangularMatrix(){let et=this.LU,tt=et.rows,rt=et.columns,nt=new Matrix$1(tt,rt);for(let it=0;it<tt;it++)for(let ot=0;ot<rt;ot++)it>ot?nt.set(it,ot,et.get(it,ot)):it===ot?nt.set(it,ot,1):nt.set(it,ot,0);return nt}get upperTriangularMatrix(){let et=this.LU,tt=et.rows,rt=et.columns,nt=new Matrix$1(tt,rt);for(let it=0;it<tt;it++)for(let ot=0;ot<rt;ot++)it<=ot?nt.set(it,ot,et.get(it,ot)):nt.set(it,ot,0);return nt}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function hypotenuse$1(_e,et){let tt=0;return Math.abs(_e)>Math.abs(et)?(tt=et/_e,Math.abs(_e)*Math.sqrt(1+tt*tt)):et!==0?(tt=_e/et,Math.abs(et)*Math.sqrt(1+tt*tt)):0}class QrDecomposition{constructor(et){et=WrapperMatrix2D.checkMatrix(et);let tt=et.clone(),rt=et.rows,nt=et.columns,it=new Float64Array(nt),ot,at,st,lt;for(st=0;st<nt;st++){let ct=0;for(ot=st;ot<rt;ot++)ct=hypotenuse$1(ct,tt.get(ot,st));if(ct!==0){for(tt.get(st,st)<0&&(ct=-ct),ot=st;ot<rt;ot++)tt.set(ot,st,tt.get(ot,st)/ct);for(tt.set(st,st,tt.get(st,st)+1),at=st+1;at<nt;at++){for(lt=0,ot=st;ot<rt;ot++)lt+=tt.get(ot,st)*tt.get(ot,at);for(lt=-lt/tt.get(st,st),ot=st;ot<rt;ot++)tt.set(ot,at,tt.get(ot,at)+lt*tt.get(ot,st))}}it[st]=-ct}this.QR=tt,this.Rdiag=it}solve(et){et=Matrix$1.checkMatrix(et);let tt=this.QR,rt=tt.rows;if(et.rows!==rt)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let nt=et.columns,it=et.clone(),ot=tt.columns,at,st,lt,ct;for(lt=0;lt<ot;lt++)for(st=0;st<nt;st++){for(ct=0,at=lt;at<rt;at++)ct+=tt.get(at,lt)*it.get(at,st);for(ct=-ct/tt.get(lt,lt),at=lt;at<rt;at++)it.set(at,st,it.get(at,st)+ct*tt.get(at,lt))}for(lt=ot-1;lt>=0;lt--){for(st=0;st<nt;st++)it.set(lt,st,it.get(lt,st)/this.Rdiag[lt]);for(at=0;at<lt;at++)for(st=0;st<nt;st++)it.set(at,st,it.get(at,st)-it.get(lt,st)*tt.get(at,lt))}return it.subMatrix(0,ot-1,0,nt-1)}isFullRank(){let et=this.QR.columns;for(let tt=0;tt<et;tt++)if(this.Rdiag[tt]===0)return!1;return!0}get upperTriangularMatrix(){let et=this.QR,tt=et.columns,rt=new Matrix$1(tt,tt),nt,it;for(nt=0;nt<tt;nt++)for(it=0;it<tt;it++)nt<it?rt.set(nt,it,et.get(nt,it)):nt===it?rt.set(nt,it,this.Rdiag[nt]):rt.set(nt,it,0);return rt}get orthogonalMatrix(){let et=this.QR,tt=et.rows,rt=et.columns,nt=new Matrix$1(tt,rt),it,ot,at,st;for(at=rt-1;at>=0;at--){for(it=0;it<tt;it++)nt.set(it,at,0);for(nt.set(at,at,1),ot=at;ot<rt;ot++)if(et.get(at,at)!==0){for(st=0,it=at;it<tt;it++)st+=et.get(it,at)*nt.get(it,ot);for(st=-st/et.get(at,at),it=at;it<tt;it++)nt.set(it,ot,nt.get(it,ot)+st*et.get(it,at))}}return nt}}class SingularValueDecomposition{constructor(et,tt={}){if(et=WrapperMatrix2D.checkMatrix(et),et.isEmpty())throw new Error("Matrix must be non-empty");let rt=et.rows,nt=et.columns;const{computeLeftSingularVectors:it=!0,computeRightSingularVectors:ot=!0,autoTranspose:at=!1}=tt;let st=!!it,lt=!!ot,ct=!1,ut;if(rt<nt)if(!at)ut=et.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ut=et.transpose(),rt=ut.rows,nt=ut.columns,ct=!0;let bt=st;st=lt,lt=bt}else ut=et.clone();let ft=Math.min(rt,nt),dt=Math.min(rt+1,nt),pt=new Float64Array(dt),mt=new Matrix$1(rt,ft),vt=new Matrix$1(nt,nt),ht=new Float64Array(nt),yt=new Float64Array(rt),gt=new Float64Array(dt);for(let bt=0;bt<dt;bt++)gt[bt]=bt;let xt=Math.min(rt-1,nt),_t=Math.max(0,Math.min(nt-2,rt)),wt=Math.max(xt,_t);for(let bt=0;bt<wt;bt++){if(bt<xt){pt[bt]=0;for(let At=bt;At<rt;At++)pt[bt]=hypotenuse$1(pt[bt],ut.get(At,bt));if(pt[bt]!==0){ut.get(bt,bt)<0&&(pt[bt]=-pt[bt]);for(let At=bt;At<rt;At++)ut.set(At,bt,ut.get(At,bt)/pt[bt]);ut.set(bt,bt,ut.get(bt,bt)+1)}pt[bt]=-pt[bt]}for(let At=bt+1;At<nt;At++){if(bt<xt&&pt[bt]!==0){let Tt=0;for(let Ot=bt;Ot<rt;Ot++)Tt+=ut.get(Ot,bt)*ut.get(Ot,At);Tt=-Tt/ut.get(bt,bt);for(let Ot=bt;Ot<rt;Ot++)ut.set(Ot,At,ut.get(Ot,At)+Tt*ut.get(Ot,bt))}ht[At]=ut.get(bt,At)}if(st&&bt<xt)for(let At=bt;At<rt;At++)mt.set(At,bt,ut.get(At,bt));if(bt<_t){ht[bt]=0;for(let At=bt+1;At<nt;At++)ht[bt]=hypotenuse$1(ht[bt],ht[At]);if(ht[bt]!==0){ht[bt+1]<0&&(ht[bt]=0-ht[bt]);for(let At=bt+1;At<nt;At++)ht[At]/=ht[bt];ht[bt+1]+=1}if(ht[bt]=-ht[bt],bt+1<rt&&ht[bt]!==0){for(let At=bt+1;At<rt;At++)yt[At]=0;for(let At=bt+1;At<rt;At++)for(let Tt=bt+1;Tt<nt;Tt++)yt[At]+=ht[Tt]*ut.get(At,Tt);for(let At=bt+1;At<nt;At++){let Tt=-ht[At]/ht[bt+1];for(let Ot=bt+1;Ot<rt;Ot++)ut.set(Ot,At,ut.get(Ot,At)+Tt*yt[Ot])}}if(lt)for(let At=bt+1;At<nt;At++)vt.set(At,bt,ht[At])}}let Et=Math.min(nt,rt+1);if(xt<nt&&(pt[xt]=ut.get(xt,xt)),rt<Et&&(pt[Et-1]=0),_t+1<Et&&(ht[_t]=ut.get(_t,Et-1)),ht[Et-1]=0,st){for(let bt=xt;bt<ft;bt++){for(let At=0;At<rt;At++)mt.set(At,bt,0);mt.set(bt,bt,1)}for(let bt=xt-1;bt>=0;bt--)if(pt[bt]!==0){for(let At=bt+1;At<ft;At++){let Tt=0;for(let Ot=bt;Ot<rt;Ot++)Tt+=mt.get(Ot,bt)*mt.get(Ot,At);Tt=-Tt/mt.get(bt,bt);for(let Ot=bt;Ot<rt;Ot++)mt.set(Ot,At,mt.get(Ot,At)+Tt*mt.get(Ot,bt))}for(let At=bt;At<rt;At++)mt.set(At,bt,-mt.get(At,bt));mt.set(bt,bt,1+mt.get(bt,bt));for(let At=0;At<bt-1;At++)mt.set(At,bt,0)}else{for(let At=0;At<rt;At++)mt.set(At,bt,0);mt.set(bt,bt,1)}}if(lt)for(let bt=nt-1;bt>=0;bt--){if(bt<_t&&ht[bt]!==0)for(let At=bt+1;At<nt;At++){let Tt=0;for(let Ot=bt+1;Ot<nt;Ot++)Tt+=vt.get(Ot,bt)*vt.get(Ot,At);Tt=-Tt/vt.get(bt+1,bt);for(let Ot=bt+1;Ot<nt;Ot++)vt.set(Ot,At,vt.get(Ot,At)+Tt*vt.get(Ot,bt))}for(let At=0;At<nt;At++)vt.set(At,bt,0);vt.set(bt,bt,1)}let St=Et-1,Ct=Number.EPSILON;for(;Et>0;){let bt,At;for(bt=Et-2;bt>=-1&&bt!==-1;bt--){const Tt=Number.MIN_VALUE+Ct*Math.abs(pt[bt]+Math.abs(pt[bt+1]));if(Math.abs(ht[bt])<=Tt||Number.isNaN(ht[bt])){ht[bt]=0;break}}if(bt===Et-2)At=4;else{let Tt;for(Tt=Et-1;Tt>=bt&&Tt!==bt;Tt--){let Ot=(Tt!==Et?Math.abs(ht[Tt]):0)+(Tt!==bt+1?Math.abs(ht[Tt-1]):0);if(Math.abs(pt[Tt])<=Ct*Ot){pt[Tt]=0;break}}Tt===bt?At=3:Tt===Et-1?At=1:(At=2,bt=Tt)}switch(bt++,At){case 1:{let Tt=ht[Et-2];ht[Et-2]=0;for(let Ot=Et-2;Ot>=bt;Ot--){let $t=hypotenuse$1(pt[Ot],Tt),It=pt[Ot]/$t,Nt=Tt/$t;if(pt[Ot]=$t,Ot!==bt&&(Tt=-Nt*ht[Ot-1],ht[Ot-1]=It*ht[Ot-1]),lt)for(let jt=0;jt<nt;jt++)$t=It*vt.get(jt,Ot)+Nt*vt.get(jt,Et-1),vt.set(jt,Et-1,-Nt*vt.get(jt,Ot)+It*vt.get(jt,Et-1)),vt.set(jt,Ot,$t)}break}case 2:{let Tt=ht[bt-1];ht[bt-1]=0;for(let Ot=bt;Ot<Et;Ot++){let $t=hypotenuse$1(pt[Ot],Tt),It=pt[Ot]/$t,Nt=Tt/$t;if(pt[Ot]=$t,Tt=-Nt*ht[Ot],ht[Ot]=It*ht[Ot],st)for(let jt=0;jt<rt;jt++)$t=It*mt.get(jt,Ot)+Nt*mt.get(jt,bt-1),mt.set(jt,bt-1,-Nt*mt.get(jt,Ot)+It*mt.get(jt,bt-1)),mt.set(jt,Ot,$t)}break}case 3:{const Tt=Math.max(Math.abs(pt[Et-1]),Math.abs(pt[Et-2]),Math.abs(ht[Et-2]),Math.abs(pt[bt]),Math.abs(ht[bt])),Ot=pt[Et-1]/Tt,$t=pt[Et-2]/Tt,It=ht[Et-2]/Tt,Nt=pt[bt]/Tt,jt=ht[bt]/Tt,Bt=(($t+Ot)*($t-Ot)+It*It)/2,Dt=Ot*It*(Ot*It);let zt=0;(Bt!==0||Dt!==0)&&(Bt<0?zt=0-Math.sqrt(Bt*Bt+Dt):zt=Math.sqrt(Bt*Bt+Dt),zt=Dt/(Bt+zt));let Lt=(Nt+Ot)*(Nt-Ot)+zt,Ft=Nt*jt;for(let Xt=bt;Xt<Et-1;Xt++){let Wt=hypotenuse$1(Lt,Ft);Wt===0&&(Wt=Number.MIN_VALUE);let Ht=Lt/Wt,nr=Ft/Wt;if(Xt!==bt&&(ht[Xt-1]=Wt),Lt=Ht*pt[Xt]+nr*ht[Xt],ht[Xt]=Ht*ht[Xt]-nr*pt[Xt],Ft=nr*pt[Xt+1],pt[Xt+1]=Ht*pt[Xt+1],lt)for(let fr=0;fr<nt;fr++)Wt=Ht*vt.get(fr,Xt)+nr*vt.get(fr,Xt+1),vt.set(fr,Xt+1,-nr*vt.get(fr,Xt)+Ht*vt.get(fr,Xt+1)),vt.set(fr,Xt,Wt);if(Wt=hypotenuse$1(Lt,Ft),Wt===0&&(Wt=Number.MIN_VALUE),Ht=Lt/Wt,nr=Ft/Wt,pt[Xt]=Wt,Lt=Ht*ht[Xt]+nr*pt[Xt+1],pt[Xt+1]=-nr*ht[Xt]+Ht*pt[Xt+1],Ft=nr*ht[Xt+1],ht[Xt+1]=Ht*ht[Xt+1],st&&Xt<rt-1)for(let fr=0;fr<rt;fr++)Wt=Ht*mt.get(fr,Xt)+nr*mt.get(fr,Xt+1),mt.set(fr,Xt+1,-nr*mt.get(fr,Xt)+Ht*mt.get(fr,Xt+1)),mt.set(fr,Xt,Wt)}ht[Et-2]=Lt;break}case 4:{if(pt[bt]<=0&&(pt[bt]=pt[bt]<0?-pt[bt]:0,lt))for(let Tt=0;Tt<=St;Tt++)vt.set(Tt,bt,-vt.get(Tt,bt));for(;bt<St&&!(pt[bt]>=pt[bt+1]);){let Tt=pt[bt];if(pt[bt]=pt[bt+1],pt[bt+1]=Tt,lt&&bt<nt-1)for(let Ot=0;Ot<nt;Ot++)Tt=vt.get(Ot,bt+1),vt.set(Ot,bt+1,vt.get(Ot,bt)),vt.set(Ot,bt,Tt);if(st&&bt<rt-1)for(let Ot=0;Ot<rt;Ot++)Tt=mt.get(Ot,bt+1),mt.set(Ot,bt+1,mt.get(Ot,bt)),mt.set(Ot,bt,Tt);bt++}Et--;break}}}if(ct){let bt=vt;vt=mt,mt=bt}this.m=rt,this.n=nt,this.s=pt,this.U=mt,this.V=vt}solve(et){let tt=et,rt=this.threshold,nt=this.s.length,it=Matrix$1.zeros(nt,nt);for(let ft=0;ft<nt;ft++)Math.abs(this.s[ft])<=rt?it.set(ft,ft,0):it.set(ft,ft,1/this.s[ft]);let ot=this.U,at=this.rightSingularVectors,st=at.mmul(it),lt=at.rows,ct=ot.rows,ut=Matrix$1.zeros(lt,ct);for(let ft=0;ft<lt;ft++)for(let dt=0;dt<ct;dt++){let pt=0;for(let mt=0;mt<nt;mt++)pt+=st.get(ft,mt)*ot.get(dt,mt);ut.set(ft,dt,pt)}return ut.mmul(tt)}solveForDiagonal(et){return this.solve(Matrix$1.diag(et))}inverse(){let et=this.V,tt=this.threshold,rt=et.rows,nt=et.columns,it=new Matrix$1(rt,this.s.length);for(let ct=0;ct<rt;ct++)for(let ut=0;ut<nt;ut++)Math.abs(this.s[ut])>tt&&it.set(ct,ut,et.get(ct,ut)/this.s[ut]);let ot=this.U,at=ot.rows,st=ot.columns,lt=new Matrix$1(rt,at);for(let ct=0;ct<rt;ct++)for(let ut=0;ut<at;ut++){let ft=0;for(let dt=0;dt<st;dt++)ft+=it.get(ct,dt)*ot.get(ut,dt);lt.set(ct,ut,ft)}return lt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let et=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,tt=0,rt=this.s;for(let nt=0,it=rt.length;nt<it;nt++)rt[nt]>et&&tt++;return tt}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Matrix$1.diag(this.s)}}function inverse$1(_e,et=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et?new SingularValueDecomposition(_e).inverse():solve(_e,Matrix$1.eye(_e.rows))}function solve(_e,et,tt=!1){return _e=WrapperMatrix2D.checkMatrix(_e),et=WrapperMatrix2D.checkMatrix(et),tt?new SingularValueDecomposition(_e).solve(et):_e.isSquare()?new LuDecomposition(_e).solve(et):new QrDecomposition(_e).solve(et)}function determinant(_e){if(_e=Matrix$1.checkMatrix(_e),_e.isSquare()){if(_e.columns===0)return 1;let et,tt,rt,nt;if(_e.columns===2)return et=_e.get(0,0),tt=_e.get(0,1),rt=_e.get(1,0),nt=_e.get(1,1),et*nt-tt*rt;if(_e.columns===3){let it,ot,at;return it=new MatrixSelectionView(_e,[1,2],[1,2]),ot=new MatrixSelectionView(_e,[1,2],[0,2]),at=new MatrixSelectionView(_e,[1,2],[0,1]),et=_e.get(0,0),tt=_e.get(0,1),rt=_e.get(0,2),et*determinant(it)-tt*determinant(ot)+rt*determinant(at)}else return new LuDecomposition(_e).determinant}else throw Error("determinant can only be calculated for a square matrix")}function xrange(_e,et){let tt=[];for(let rt=0;rt<_e;rt++)rt!==et&&tt.push(rt);return tt}function dependenciesOneRow(_e,et,tt,rt=1e-9,nt=1e-9){if(_e>nt)return new Array(et.rows+1).fill(0);{let it=et.addRow(tt,[0]);for(let ot=0;ot<it.rows;ot++)Math.abs(it.get(ot,0))<rt&&it.set(ot,0,0);return it.to1DArray()}}function linearDependencies(_e,et={}){const{thresholdValue:tt=1e-9,thresholdError:rt=1e-9}=et;_e=Matrix$1.checkMatrix(_e);let nt=_e.rows,it=new Matrix$1(nt,nt);for(let ot=0;ot<nt;ot++){let at=Matrix$1.columnVector(_e.getRow(ot)),st=_e.subMatrixRow(xrange(nt,ot)).transpose(),ct=new SingularValueDecomposition(st).solve(at),ut=Matrix$1.sub(at,st.mmul(ct)).abs().max();it.setRow(ot,dependenciesOneRow(ut,ct,ot,tt,rt))}return it}function pseudoInverse$1(_e,et=Number.EPSILON){if(_e=Matrix$1.checkMatrix(_e),_e.isEmpty())return _e.transpose();let tt=new SingularValueDecomposition(_e,{autoTranspose:!0}),rt=tt.leftSingularVectors,nt=tt.rightSingularVectors,it=tt.diagonal;for(let ot=0;ot<it.length;ot++)Math.abs(it[ot])>et?it[ot]=1/it[ot]:it[ot]=0;return nt.mmul(Matrix$1.diag(it).mmul(rt.transpose()))}function covariance(_e,et=_e,tt={}){_e=new Matrix$1(_e);let rt=!1;if(typeof et=="object"&&!Matrix$1.isMatrix(et)&&!isAnyArray.isAnyArray(et)?(tt=et,et=_e,rt=!0):et=new Matrix$1(et),_e.rows!==et.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:nt=!0}=tt;nt&&(_e=_e.center("column"),rt||(et=et.center("column")));const it=_e.transpose().mmul(et);for(let ot=0;ot<it.rows;ot++)for(let at=0;at<it.columns;at++)it.set(ot,at,it.get(ot,at)*(1/(_e.rows-1)));return it}function correlation(_e,et=_e,tt={}){_e=new Matrix$1(_e);let rt=!1;if(typeof et=="object"&&!Matrix$1.isMatrix(et)&&!isAnyArray.isAnyArray(et)?(tt=et,et=_e,rt=!0):et=new Matrix$1(et),_e.rows!==et.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:nt=!0,scale:it=!0}=tt;nt&&(_e.center("column"),rt||et.center("column")),it&&(_e.scale("column"),rt||et.scale("column"));const ot=_e.standardDeviation("column",{unbiased:!0}),at=rt?ot:et.standardDeviation("column",{unbiased:!0}),st=_e.transpose().mmul(et);for(let lt=0;lt<st.rows;lt++)for(let ct=0;ct<st.columns;ct++)st.set(lt,ct,st.get(lt,ct)*(1/(ot[lt]*at[ct]))*(1/(_e.rows-1)));return st}let EigenvalueDecomposition$1=class{constructor(et,tt={}){const{assumeSymmetric:rt=!1}=tt;if(et=WrapperMatrix2D.checkMatrix(et),!et.isSquare())throw new Error("Matrix is not a square matrix");if(et.isEmpty())throw new Error("Matrix must be non-empty");let nt=et.columns,it=new Matrix$1(nt,nt),ot=new Float64Array(nt),at=new Float64Array(nt),st=et,lt,ct,ut=!1;if(rt?ut=!0:ut=et.isSymmetric(),ut){for(lt=0;lt<nt;lt++)for(ct=0;ct<nt;ct++)it.set(lt,ct,st.get(lt,ct));tred2(nt,at,ot,it),tql2(nt,at,ot,it)}else{let ft=new Matrix$1(nt,nt),dt=new Float64Array(nt);for(ct=0;ct<nt;ct++)for(lt=0;lt<nt;lt++)ft.set(lt,ct,st.get(lt,ct));orthes(nt,ft,dt,it),hqr2(nt,at,ot,it,ft)}this.n=nt,this.e=at,this.d=ot,this.V=it}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let et=this.n,tt=this.e,rt=this.d,nt=new Matrix$1(et,et),it,ot;for(it=0;it<et;it++){for(ot=0;ot<et;ot++)nt.set(it,ot,0);nt.set(it,it,rt[it]),tt[it]>0?nt.set(it,it+1,tt[it]):tt[it]<0&&nt.set(it,it-1,tt[it])}return nt}};function tred2(_e,et,tt,rt){let nt,it,ot,at,st,lt,ct,ut;for(st=0;st<_e;st++)tt[st]=rt.get(_e-1,st);for(at=_e-1;at>0;at--){for(ut=0,ot=0,lt=0;lt<at;lt++)ut=ut+Math.abs(tt[lt]);if(ut===0)for(et[at]=tt[at-1],st=0;st<at;st++)tt[st]=rt.get(at-1,st),rt.set(at,st,0),rt.set(st,at,0);else{for(lt=0;lt<at;lt++)tt[lt]/=ut,ot+=tt[lt]*tt[lt];for(nt=tt[at-1],it=Math.sqrt(ot),nt>0&&(it=-it),et[at]=ut*it,ot=ot-nt*it,tt[at-1]=nt-it,st=0;st<at;st++)et[st]=0;for(st=0;st<at;st++){for(nt=tt[st],rt.set(st,at,nt),it=et[st]+rt.get(st,st)*nt,lt=st+1;lt<=at-1;lt++)it+=rt.get(lt,st)*tt[lt],et[lt]+=rt.get(lt,st)*nt;et[st]=it}for(nt=0,st=0;st<at;st++)et[st]/=ot,nt+=et[st]*tt[st];for(ct=nt/(ot+ot),st=0;st<at;st++)et[st]-=ct*tt[st];for(st=0;st<at;st++){for(nt=tt[st],it=et[st],lt=st;lt<=at-1;lt++)rt.set(lt,st,rt.get(lt,st)-(nt*et[lt]+it*tt[lt]));tt[st]=rt.get(at-1,st),rt.set(at,st,0)}}tt[at]=ot}for(at=0;at<_e-1;at++){if(rt.set(_e-1,at,rt.get(at,at)),rt.set(at,at,1),ot=tt[at+1],ot!==0){for(lt=0;lt<=at;lt++)tt[lt]=rt.get(lt,at+1)/ot;for(st=0;st<=at;st++){for(it=0,lt=0;lt<=at;lt++)it+=rt.get(lt,at+1)*rt.get(lt,st);for(lt=0;lt<=at;lt++)rt.set(lt,st,rt.get(lt,st)-it*tt[lt])}}for(lt=0;lt<=at;lt++)rt.set(lt,at+1,0)}for(st=0;st<_e;st++)tt[st]=rt.get(_e-1,st),rt.set(_e-1,st,0);rt.set(_e-1,_e-1,1),et[0]=0}function tql2(_e,et,tt,rt){let nt,it,ot,at,st,lt,ct,ut,ft,dt,pt,mt,vt,ht,yt,gt;for(ot=1;ot<_e;ot++)et[ot-1]=et[ot];et[_e-1]=0;let xt=0,_t=0,wt=Number.EPSILON;for(lt=0;lt<_e;lt++){for(_t=Math.max(_t,Math.abs(tt[lt])+Math.abs(et[lt])),ct=lt;ct<_e&&!(Math.abs(et[ct])<=wt*_t);)ct++;if(ct>lt)do{for(nt=tt[lt],ut=(tt[lt+1]-nt)/(2*et[lt]),ft=hypotenuse$1(ut,1),ut<0&&(ft=-ft),tt[lt]=et[lt]/(ut+ft),tt[lt+1]=et[lt]*(ut+ft),dt=tt[lt+1],it=nt-tt[lt],ot=lt+2;ot<_e;ot++)tt[ot]-=it;for(xt=xt+it,ut=tt[ct],pt=1,mt=pt,vt=pt,ht=et[lt+1],yt=0,gt=0,ot=ct-1;ot>=lt;ot--)for(vt=mt,mt=pt,gt=yt,nt=pt*et[ot],it=pt*ut,ft=hypotenuse$1(ut,et[ot]),et[ot+1]=yt*ft,yt=et[ot]/ft,pt=ut/ft,ut=pt*tt[ot]-yt*nt,tt[ot+1]=it+yt*(pt*nt+yt*tt[ot]),st=0;st<_e;st++)it=rt.get(st,ot+1),rt.set(st,ot+1,yt*rt.get(st,ot)+pt*it),rt.set(st,ot,pt*rt.get(st,ot)-yt*it);ut=-yt*gt*vt*ht*et[lt]/dt,et[lt]=yt*ut,tt[lt]=pt*ut}while(Math.abs(et[lt])>wt*_t);tt[lt]=tt[lt]+xt,et[lt]=0}for(ot=0;ot<_e-1;ot++){for(st=ot,ut=tt[ot],at=ot+1;at<_e;at++)tt[at]<ut&&(st=at,ut=tt[at]);if(st!==ot)for(tt[st]=tt[ot],tt[ot]=ut,at=0;at<_e;at++)ut=rt.get(at,ot),rt.set(at,ot,rt.get(at,st)),rt.set(at,st,ut)}}function orthes(_e,et,tt,rt){let nt=0,it=_e-1,ot,at,st,lt,ct,ut,ft;for(ut=nt+1;ut<=it-1;ut++){for(ft=0,lt=ut;lt<=it;lt++)ft=ft+Math.abs(et.get(lt,ut-1));if(ft!==0){for(st=0,lt=it;lt>=ut;lt--)tt[lt]=et.get(lt,ut-1)/ft,st+=tt[lt]*tt[lt];for(at=Math.sqrt(st),tt[ut]>0&&(at=-at),st=st-tt[ut]*at,tt[ut]=tt[ut]-at,ct=ut;ct<_e;ct++){for(ot=0,lt=it;lt>=ut;lt--)ot+=tt[lt]*et.get(lt,ct);for(ot=ot/st,lt=ut;lt<=it;lt++)et.set(lt,ct,et.get(lt,ct)-ot*tt[lt])}for(lt=0;lt<=it;lt++){for(ot=0,ct=it;ct>=ut;ct--)ot+=tt[ct]*et.get(lt,ct);for(ot=ot/st,ct=ut;ct<=it;ct++)et.set(lt,ct,et.get(lt,ct)-ot*tt[ct])}tt[ut]=ft*tt[ut],et.set(ut,ut-1,ft*at)}}for(lt=0;lt<_e;lt++)for(ct=0;ct<_e;ct++)rt.set(lt,ct,lt===ct?1:0);for(ut=it-1;ut>=nt+1;ut--)if(et.get(ut,ut-1)!==0){for(lt=ut+1;lt<=it;lt++)tt[lt]=et.get(lt,ut-1);for(ct=ut;ct<=it;ct++){for(at=0,lt=ut;lt<=it;lt++)at+=tt[lt]*rt.get(lt,ct);for(at=at/tt[ut]/et.get(ut,ut-1),lt=ut;lt<=it;lt++)rt.set(lt,ct,rt.get(lt,ct)+at*tt[lt])}}}function hqr2(_e,et,tt,rt,nt){let it=_e-1,ot=0,at=_e-1,st=Number.EPSILON,lt=0,ct=0,ut=0,ft=0,dt=0,pt=0,mt=0,vt=0,ht,yt,gt,xt,_t,wt,Et,St,Ct,bt,At,Tt,Ot,$t,It;for(ht=0;ht<_e;ht++)for((ht<ot||ht>at)&&(tt[ht]=nt.get(ht,ht),et[ht]=0),yt=Math.max(ht-1,0);yt<_e;yt++)ct=ct+Math.abs(nt.get(ht,yt));for(;it>=ot;){for(xt=it;xt>ot&&(pt=Math.abs(nt.get(xt-1,xt-1))+Math.abs(nt.get(xt,xt)),pt===0&&(pt=ct),!(Math.abs(nt.get(xt,xt-1))<st*pt));)xt--;if(xt===it)nt.set(it,it,nt.get(it,it)+lt),tt[it]=nt.get(it,it),et[it]=0,it--,vt=0;else if(xt===it-1){if(Et=nt.get(it,it-1)*nt.get(it-1,it),ut=(nt.get(it-1,it-1)-nt.get(it,it))/2,ft=ut*ut+Et,mt=Math.sqrt(Math.abs(ft)),nt.set(it,it,nt.get(it,it)+lt),nt.set(it-1,it-1,nt.get(it-1,it-1)+lt),St=nt.get(it,it),ft>=0){for(mt=ut>=0?ut+mt:ut-mt,tt[it-1]=St+mt,tt[it]=tt[it-1],mt!==0&&(tt[it]=St-Et/mt),et[it-1]=0,et[it]=0,St=nt.get(it,it-1),pt=Math.abs(St)+Math.abs(mt),ut=St/pt,ft=mt/pt,dt=Math.sqrt(ut*ut+ft*ft),ut=ut/dt,ft=ft/dt,yt=it-1;yt<_e;yt++)mt=nt.get(it-1,yt),nt.set(it-1,yt,ft*mt+ut*nt.get(it,yt)),nt.set(it,yt,ft*nt.get(it,yt)-ut*mt);for(ht=0;ht<=it;ht++)mt=nt.get(ht,it-1),nt.set(ht,it-1,ft*mt+ut*nt.get(ht,it)),nt.set(ht,it,ft*nt.get(ht,it)-ut*mt);for(ht=ot;ht<=at;ht++)mt=rt.get(ht,it-1),rt.set(ht,it-1,ft*mt+ut*rt.get(ht,it)),rt.set(ht,it,ft*rt.get(ht,it)-ut*mt)}else tt[it-1]=St+ut,tt[it]=St+ut,et[it-1]=mt,et[it]=-mt;it=it-2,vt=0}else{if(St=nt.get(it,it),Ct=0,Et=0,xt<it&&(Ct=nt.get(it-1,it-1),Et=nt.get(it,it-1)*nt.get(it-1,it)),vt===10){for(lt+=St,ht=ot;ht<=it;ht++)nt.set(ht,ht,nt.get(ht,ht)-St);pt=Math.abs(nt.get(it,it-1))+Math.abs(nt.get(it-1,it-2)),St=Ct=.75*pt,Et=-.4375*pt*pt}if(vt===30&&(pt=(Ct-St)/2,pt=pt*pt+Et,pt>0)){for(pt=Math.sqrt(pt),Ct<St&&(pt=-pt),pt=St-Et/((Ct-St)/2+pt),ht=ot;ht<=it;ht++)nt.set(ht,ht,nt.get(ht,ht)-pt);lt+=pt,St=Ct=Et=.964}for(vt=vt+1,_t=it-2;_t>=xt&&(mt=nt.get(_t,_t),dt=St-mt,pt=Ct-mt,ut=(dt*pt-Et)/nt.get(_t+1,_t)+nt.get(_t,_t+1),ft=nt.get(_t+1,_t+1)-mt-dt-pt,dt=nt.get(_t+2,_t+1),pt=Math.abs(ut)+Math.abs(ft)+Math.abs(dt),ut=ut/pt,ft=ft/pt,dt=dt/pt,!(_t===xt||Math.abs(nt.get(_t,_t-1))*(Math.abs(ft)+Math.abs(dt))<st*(Math.abs(ut)*(Math.abs(nt.get(_t-1,_t-1))+Math.abs(mt)+Math.abs(nt.get(_t+1,_t+1))))));)_t--;for(ht=_t+2;ht<=it;ht++)nt.set(ht,ht-2,0),ht>_t+2&&nt.set(ht,ht-3,0);for(gt=_t;gt<=it-1&&($t=gt!==it-1,gt!==_t&&(ut=nt.get(gt,gt-1),ft=nt.get(gt+1,gt-1),dt=$t?nt.get(gt+2,gt-1):0,St=Math.abs(ut)+Math.abs(ft)+Math.abs(dt),St!==0&&(ut=ut/St,ft=ft/St,dt=dt/St)),St!==0);gt++)if(pt=Math.sqrt(ut*ut+ft*ft+dt*dt),ut<0&&(pt=-pt),pt!==0){for(gt!==_t?nt.set(gt,gt-1,-pt*St):xt!==_t&&nt.set(gt,gt-1,-nt.get(gt,gt-1)),ut=ut+pt,St=ut/pt,Ct=ft/pt,mt=dt/pt,ft=ft/ut,dt=dt/ut,yt=gt;yt<_e;yt++)ut=nt.get(gt,yt)+ft*nt.get(gt+1,yt),$t&&(ut=ut+dt*nt.get(gt+2,yt),nt.set(gt+2,yt,nt.get(gt+2,yt)-ut*mt)),nt.set(gt,yt,nt.get(gt,yt)-ut*St),nt.set(gt+1,yt,nt.get(gt+1,yt)-ut*Ct);for(ht=0;ht<=Math.min(it,gt+3);ht++)ut=St*nt.get(ht,gt)+Ct*nt.get(ht,gt+1),$t&&(ut=ut+mt*nt.get(ht,gt+2),nt.set(ht,gt+2,nt.get(ht,gt+2)-ut*dt)),nt.set(ht,gt,nt.get(ht,gt)-ut),nt.set(ht,gt+1,nt.get(ht,gt+1)-ut*ft);for(ht=ot;ht<=at;ht++)ut=St*rt.get(ht,gt)+Ct*rt.get(ht,gt+1),$t&&(ut=ut+mt*rt.get(ht,gt+2),rt.set(ht,gt+2,rt.get(ht,gt+2)-ut*dt)),rt.set(ht,gt,rt.get(ht,gt)-ut),rt.set(ht,gt+1,rt.get(ht,gt+1)-ut*ft)}}}if(ct!==0){for(it=_e-1;it>=0;it--)if(ut=tt[it],ft=et[it],ft===0)for(xt=it,nt.set(it,it,1),ht=it-1;ht>=0;ht--){for(Et=nt.get(ht,ht)-ut,dt=0,yt=xt;yt<=it;yt++)dt=dt+nt.get(ht,yt)*nt.get(yt,it);if(et[ht]<0)mt=Et,pt=dt;else if(xt=ht,et[ht]===0?nt.set(ht,it,Et!==0?-dt/Et:-dt/(st*ct)):(St=nt.get(ht,ht+1),Ct=nt.get(ht+1,ht),ft=(tt[ht]-ut)*(tt[ht]-ut)+et[ht]*et[ht],wt=(St*pt-mt*dt)/ft,nt.set(ht,it,wt),nt.set(ht+1,it,Math.abs(St)>Math.abs(mt)?(-dt-Et*wt)/St:(-pt-Ct*wt)/mt)),wt=Math.abs(nt.get(ht,it)),st*wt*wt>1)for(yt=ht;yt<=it;yt++)nt.set(yt,it,nt.get(yt,it)/wt)}else if(ft<0)for(xt=it-1,Math.abs(nt.get(it,it-1))>Math.abs(nt.get(it-1,it))?(nt.set(it-1,it-1,ft/nt.get(it,it-1)),nt.set(it-1,it,-(nt.get(it,it)-ut)/nt.get(it,it-1))):(It=cdiv(0,-nt.get(it-1,it),nt.get(it-1,it-1)-ut,ft),nt.set(it-1,it-1,It[0]),nt.set(it-1,it,It[1])),nt.set(it,it-1,0),nt.set(it,it,1),ht=it-2;ht>=0;ht--){for(bt=0,At=0,yt=xt;yt<=it;yt++)bt=bt+nt.get(ht,yt)*nt.get(yt,it-1),At=At+nt.get(ht,yt)*nt.get(yt,it);if(Et=nt.get(ht,ht)-ut,et[ht]<0)mt=Et,dt=bt,pt=At;else if(xt=ht,et[ht]===0?(It=cdiv(-bt,-At,Et,ft),nt.set(ht,it-1,It[0]),nt.set(ht,it,It[1])):(St=nt.get(ht,ht+1),Ct=nt.get(ht+1,ht),Tt=(tt[ht]-ut)*(tt[ht]-ut)+et[ht]*et[ht]-ft*ft,Ot=(tt[ht]-ut)*2*ft,Tt===0&&Ot===0&&(Tt=st*ct*(Math.abs(Et)+Math.abs(ft)+Math.abs(St)+Math.abs(Ct)+Math.abs(mt))),It=cdiv(St*dt-mt*bt+ft*At,St*pt-mt*At-ft*bt,Tt,Ot),nt.set(ht,it-1,It[0]),nt.set(ht,it,It[1]),Math.abs(St)>Math.abs(mt)+Math.abs(ft)?(nt.set(ht+1,it-1,(-bt-Et*nt.get(ht,it-1)+ft*nt.get(ht,it))/St),nt.set(ht+1,it,(-At-Et*nt.get(ht,it)-ft*nt.get(ht,it-1))/St)):(It=cdiv(-dt-Ct*nt.get(ht,it-1),-pt-Ct*nt.get(ht,it),mt,ft),nt.set(ht+1,it-1,It[0]),nt.set(ht+1,it,It[1]))),wt=Math.max(Math.abs(nt.get(ht,it-1)),Math.abs(nt.get(ht,it))),st*wt*wt>1)for(yt=ht;yt<=it;yt++)nt.set(yt,it-1,nt.get(yt,it-1)/wt),nt.set(yt,it,nt.get(yt,it)/wt)}for(ht=0;ht<_e;ht++)if(ht<ot||ht>at)for(yt=ht;yt<_e;yt++)rt.set(ht,yt,nt.get(ht,yt));for(yt=_e-1;yt>=ot;yt--)for(ht=ot;ht<=at;ht++){for(mt=0,gt=ot;gt<=Math.min(yt,at);gt++)mt=mt+rt.get(ht,gt)*nt.get(gt,yt);rt.set(ht,yt,mt)}}}function cdiv(_e,et,tt,rt){let nt,it;return Math.abs(tt)>Math.abs(rt)?(nt=rt/tt,it=tt+nt*rt,[(_e+nt*et)/it,(et-nt*_e)/it]):(nt=tt/rt,it=rt+nt*tt,[(nt*_e+et)/it,(nt*et-_e)/it])}class CholeskyDecomposition{constructor(et){if(et=WrapperMatrix2D.checkMatrix(et),!et.isSymmetric())throw new Error("Matrix is not symmetric");let tt=et,rt=tt.rows,nt=new Matrix$1(rt,rt),it=!0,ot,at,st;for(at=0;at<rt;at++){let lt=0;for(st=0;st<at;st++){let ct=0;for(ot=0;ot<st;ot++)ct+=nt.get(st,ot)*nt.get(at,ot);ct=(tt.get(at,st)-ct)/nt.get(st,st),nt.set(at,st,ct),lt=lt+ct*ct}for(lt=tt.get(at,at)-lt,it&=lt>0,nt.set(at,at,Math.sqrt(Math.max(lt,0))),st=at+1;st<rt;st++)nt.set(at,st,0)}this.L=nt,this.positiveDefinite=!!it}isPositiveDefinite(){return this.positiveDefinite}solve(et){et=WrapperMatrix2D.checkMatrix(et);let tt=this.L,rt=tt.rows;if(et.rows!==rt)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let nt=et.columns,it=et.clone(),ot,at,st;for(st=0;st<rt;st++)for(at=0;at<nt;at++){for(ot=0;ot<st;ot++)it.set(st,at,it.get(st,at)-it.get(ot,at)*tt.get(st,ot));it.set(st,at,it.get(st,at)/tt.get(st,st))}for(st=rt-1;st>=0;st--)for(at=0;at<nt;at++){for(ot=st+1;ot<rt;ot++)it.set(st,at,it.get(st,at)-it.get(ot,at)*tt.get(ot,st));it.set(st,at,it.get(st,at)/tt.get(st,st))}return it}get lowerTriangularMatrix(){return this.L}}class nipals{constructor(et,tt={}){et=WrapperMatrix2D.checkMatrix(et);let{Y:rt}=tt;const{scaleScores:nt=!1,maxIterations:it=1e3,terminationCriteria:ot=1e-10}=tt;let at;if(rt){if(isAnyArray.isAnyArray(rt)&&typeof rt[0]=="number"?rt=Matrix$1.columnVector(rt):rt=WrapperMatrix2D.checkMatrix(rt),rt.rows!==et.rows)throw new Error("Y should have the same number of rows as X");at=rt.getColumnVector(0)}else at=et.getColumnVector(0);let st=1,lt,ct,ut,ft;for(let dt=0;dt<it&&st>ot;dt++)ut=et.transpose().mmul(at).div(at.transpose().mmul(at).get(0,0)),ut=ut.div(ut.norm()),lt=et.mmul(ut).div(ut.transpose().mmul(ut).get(0,0)),dt>0&&(st=lt.clone().sub(ft).pow(2).sum()),ft=lt.clone(),rt?(ct=rt.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0)),ct=ct.div(ct.norm()),at=rt.mmul(ct).div(ct.transpose().mmul(ct).get(0,0))):at=lt;if(rt){let dt=et.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0));dt=dt.div(dt.norm());let pt=et.clone().sub(lt.clone().mmul(dt.transpose())),mt=at.transpose().mmul(lt).div(lt.transpose().mmul(lt).get(0,0)),vt=rt.clone().sub(lt.clone().mulS(mt.get(0,0)).mmul(ct.transpose()));this.t=lt,this.p=dt.transpose(),this.w=ut.transpose(),this.q=ct,this.u=at,this.s=lt.transpose().mmul(lt),this.xResidual=pt,this.yResidual=vt,this.betas=mt}else this.w=ut.transpose(),this.s=lt.transpose().mmul(lt).sqrt(),nt?this.t=lt.clone().div(this.s.get(0,0)):this.t=lt,this.xResidual=et.sub(lt.mmul(ut.transpose()))}}matrix.AbstractMatrix=AbstractMatrix;matrix.CHO=CholeskyDecomposition;matrix.CholeskyDecomposition=CholeskyDecomposition;matrix.DistanceMatrix=DistanceMatrix;matrix.EVD=EigenvalueDecomposition$1;var EigenvalueDecomposition_1=matrix.EigenvalueDecomposition=EigenvalueDecomposition$1;matrix.LU=LuDecomposition;matrix.LuDecomposition=LuDecomposition;var Matrix_1=matrix.Matrix=Matrix$1;matrix.MatrixColumnSelectionView=MatrixColumnSelectionView;matrix.MatrixColumnView=MatrixColumnView;matrix.MatrixFlipColumnView=MatrixFlipColumnView;matrix.MatrixFlipRowView=MatrixFlipRowView;matrix.MatrixRowSelectionView=MatrixRowSelectionView;matrix.MatrixRowView=MatrixRowView;matrix.MatrixSelectionView=MatrixSelectionView;matrix.MatrixSubView=MatrixSubView;matrix.MatrixTransposeView=MatrixTransposeView;matrix.NIPALS=nipals;matrix.Nipals=nipals;matrix.QR=QrDecomposition;matrix.QrDecomposition=QrDecomposition;var SVD$1=matrix.SVD=SingularValueDecomposition;matrix.SingularValueDecomposition=SingularValueDecomposition;matrix.SymmetricMatrix=SymmetricMatrix;matrix.WrapperMatrix1D=WrapperMatrix1D;matrix.WrapperMatrix2D=WrapperMatrix2D;matrix.correlation=correlation;matrix.covariance=covariance;var _default=matrix.default=Matrix$1;matrix.determinant=determinant;var inverse_1=matrix.inverse=inverse$1;matrix.linearDependencies=linearDependencies;var pseudoInverse_1=matrix.pseudoInverse=pseudoInverse$1;matrix.solve=solve;matrix.wrap=wrap;const EigenvalueDecomposition=EigenvalueDecomposition_1,Matrix=Matrix_1,SVD=SVD$1;_default.Matrix&&_default.Matrix;const inverse=inverse_1,pseudoInverse=pseudoInverse_1;var medianQuickselect_min={exports:{}};(function(_e){(function(){function et(nt){for(var it=0,ot=nt.length-1,at=void 0,st=void 0,lt=void 0,ct=rt(it,ot);;){if(ot<=it)return nt[ct];if(ot==it+1)return nt[it]>nt[ot]&&tt(nt,it,ot),nt[ct];for(at=rt(it,ot),nt[at]>nt[ot]&&tt(nt,at,ot),nt[it]>nt[ot]&&tt(nt,it,ot),nt[at]>nt[it]&&tt(nt,at,it),tt(nt,at,it+1),st=it+1,lt=ot;;){do st++;while(nt[it]>nt[st]);do lt--;while(nt[lt]>nt[it]);if(lt<st)break;tt(nt,st,lt)}tt(nt,it,lt),lt<=ct&&(it=st),lt>=ct&&(ot=lt-1)}}var tt=function(it,ot,at){var st;return st=[it[at],it[ot]],it[ot]=st[0],it[at]=st[1],st},rt=function(it,ot){return~~((it+ot)/2)};_e.exports?_e.exports=et:window.median=et})()})(medianQuickselect_min);var medianQuickselect_minExports=medianQuickselect_min.exports;const quickMedian=getDefaultExportFromCjs(medianQuickselect_minExports),formatter=new Intl.ListFormat("en",{type:"disjunction"});function checkProcessable(_e,et={}){let{bitDepth:tt,alpha:rt,colorModel:nt,components:it,channels:ot}=et;if(tt&&(Array.isArray(tt)||(tt=[tt]),!tt.includes(_e.bitDepth)))throw new RangeError(`image bitDepth must be ${format$2(tt)} to apply this algorithm`);if(rt&&(Array.isArray(rt)||(rt=[rt]),!rt.includes(_e.alpha)))throw new RangeError(`image alpha must be ${format$2(rt)} to apply this algorithm`);if(nt&&(Array.isArray(nt)||(nt=[nt]),!nt.includes(_e.colorModel)))throw new RangeError(`image colorModel must be ${format$2(nt)} to apply this algorithm`);if(it&&(Array.isArray(it)||(it=[it]),!it.includes(_e.components))){const at=`image components must be ${format$2(it)} to apply this algorithm`;throw it.length===1&&it[0]===1?new RangeError(`${at}. The image can be converted using "image.grey()"`):new RangeError(at)}if(ot&&(Array.isArray(ot)||(ot=[ot]),!ot.includes(_e.channels)))throw new RangeError(`image channels must be ${format$2(ot)} to apply this algorithm`)}function format$2(_e){return formatter.format(_e.map(String))}function difference(_e,et){return{column:_e.column-et.column,row:_e.row-et.row}}function normalize$1(_e){const et=Math.hypot(_e.column,_e.row);return{column:_e.column/et,row:_e.row/et}}function rotate$1(_e,et){const tt=[],rt=Math.cos(_e),nt=Math.sin(_e);for(const it of et)tt.push({column:rt*it.column-nt*it.row,row:nt*it.column+rt*it.row});return tt}function xMedian(_e){if(!isAnyArray$1(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");const et=_e.slice();let tt=0,rt=et.length-1,nt=0,it=0,ot=0;const at=calcMiddle(tt,rt);for(;;){if(rt<=tt)return et[at];if(rt===tt+1)return et[tt]>et[rt]&&swap(et,tt,rt),et[at];for(nt=calcMiddle(tt,rt),et[nt]>et[rt]&&swap(et,nt,rt),et[tt]>et[rt]&&swap(et,tt,rt),et[nt]>et[tt]&&swap(et,nt,tt),swap(et,nt,tt+1),it=tt+1,ot=rt;;){do it++;while(et[tt]>et[it]);do ot--;while(et[ot]>et[tt]);if(ot<it)break;swap(et,it,ot)}swap(et,tt,ot),ot<=at&&(tt=it),ot>=at&&(rt=ot-1)}}function swap(_e,et,tt){const rt=_e[tt];_e[tt]=_e[et],_e[et]=rt}function calcMiddle(_e,et){return Math.floor((_e+et)/2)}function xCheck(_e,et={}){const{minLength:tt}=et;if(!isAnyArray$1(_e))throw new TypeError("input must be an array");if(_e.length===0)throw new TypeError("input must not be empty");if(typeof _e[0]!="number")throw new TypeError("input must contain numbers");if(tt&&_e.length<tt)throw new Error(`input must have a length of at least ${tt}`)}function xFindClosestIndex(_e,et,tt={}){const{sorted:rt=!0}=tt;if(rt){let nt=0,it=_e.length-1,ot=0;for(;it-nt>1;)if(ot=nt+(it-nt>>1),_e[ot]<et)nt=ot;else if(_e[ot]>et)it=ot;else return ot;return nt<_e.length-1?Math.abs(et-_e[nt])<Math.abs(_e[nt+1]-et)?nt:nt+1:nt}else{let nt=0,it=Number.POSITIVE_INFINITY;for(let ot=0;ot<_e.length;ot++){const at=Math.abs(_e[ot]-et);at<it&&(it=at,nt=ot)}return nt}}function xGetFromToIndex(_e,et={}){let{fromIndex:tt,toIndex:rt}=et;const{from:nt,to:it}=et;return typeof tt>"u"&&(typeof nt<"u"?tt=xFindClosestIndex(_e,nt):tt=0),typeof rt>"u"&&(typeof it<"u"?rt=xFindClosestIndex(_e,it):rt=_e.length-1),tt<0&&(tt=0),rt<0&&(rt=0),tt>=_e.length&&(tt=_e.length-1),rt>=_e.length&&(rt=_e.length-1),tt>rt&&([tt,rt]=[rt,tt]),{fromIndex:tt,toIndex:rt}}function FFT(_e){if(this.size=_e|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=_e<<1;for(var et=new Array(this.size*2),tt=0;tt<et.length;tt+=2){const st=Math.PI*tt/this.size;et[tt]=Math.cos(st),et[tt+1]=-Math.sin(st)}this.table=et;for(var rt=0,nt=1;this.size>nt;nt<<=1)rt++;this._width=rt%2===0?rt-1:rt,this._bitrev=new Array(1<<this._width);for(var it=0;it<this._bitrev.length;it++){this._bitrev[it]=0;for(var ot=0;ot<this._width;ot+=2){var at=this._width-ot-2;this._bitrev[it]|=(it>>>ot&3)<<at}}this._out=null,this._data=null,this._inv=0}FFT.prototype.fromComplexArray=function(et,tt){for(var rt=tt||new Array(et.length>>>1),nt=0;nt<et.length;nt+=2)rt[nt>>>1]=et[nt];return rt};FFT.prototype.createComplexArray=function(){const et=new Array(this._csize);for(var tt=0;tt<et.length;tt++)et[tt]=0;return et};FFT.prototype.toComplexArray=function(et,tt){for(var rt=tt||this.createComplexArray(),nt=0;nt<rt.length;nt+=2)rt[nt]=et[nt>>>1],rt[nt+1]=0;return rt};FFT.prototype.completeSpectrum=function(et){for(var tt=this._csize,rt=tt>>>1,nt=2;nt<rt;nt+=2)et[tt-nt]=et[nt],et[tt-nt+1]=-et[nt+1]};FFT.prototype.transform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=0,this._transform4(),this._out=null,this._data=null};FFT.prototype.realTransform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=0,this._realTransform4(),this._out=null,this._data=null};FFT.prototype.inverseTransform=function(et,tt){if(et===tt)throw new Error("Input and output buffers must be different");this._out=et,this._data=tt,this._inv=1,this._transform4();for(var rt=0;rt<et.length;rt++)et[rt]/=this.size;this._out=null,this._data=null};FFT.prototype._transform4=function(){var et=this._out,tt=this._csize,rt=this._width,nt=1<<rt,it=tt/nt<<1,ot,at,st=this._bitrev;if(it===4)for(ot=0,at=0;ot<tt;ot+=it,at++){const mt=st[at];this._singleTransform2(ot,mt,nt)}else for(ot=0,at=0;ot<tt;ot+=it,at++){const mt=st[at];this._singleTransform4(ot,mt,nt)}var lt=this._inv?-1:1,ct=this.table;for(nt>>=2;nt>=2;nt>>=2){it=tt/nt<<1;var ut=it>>>2;for(ot=0;ot<tt;ot+=it)for(var ft=ot+ut,dt=ot,pt=0;dt<ft;dt+=2,pt+=nt){const mt=dt,vt=mt+ut,ht=vt+ut,yt=ht+ut,gt=et[mt],xt=et[mt+1],_t=et[vt],wt=et[vt+1],Et=et[ht],St=et[ht+1],Ct=et[yt],bt=et[yt+1],At=gt,Tt=xt,Ot=ct[pt],$t=lt*ct[pt+1],It=_t*Ot-wt*$t,Nt=_t*$t+wt*Ot,jt=ct[2*pt],Bt=lt*ct[2*pt+1],Dt=Et*jt-St*Bt,zt=Et*Bt+St*jt,Lt=ct[3*pt],Ft=lt*ct[3*pt+1],Xt=Ct*Lt-bt*Ft,Wt=Ct*Ft+bt*Lt,Ht=At+Dt,nr=Tt+zt,fr=At-Dt,dr=Tt-zt,Qt=It+Xt,sr=Nt+Wt,ar=lt*(It-Xt),Jt=lt*(Nt-Wt),pr=Ht+Qt,Rt=nr+sr,Ut=Ht-Qt,Gt=nr-sr,Mt=fr+Jt,kt=dr-ar,Pt=fr-Jt,Kt=dr+ar;et[mt]=pr,et[mt+1]=Rt,et[vt]=Mt,et[vt+1]=kt,et[ht]=Ut,et[ht+1]=Gt,et[yt]=Pt,et[yt+1]=Kt}}};FFT.prototype._singleTransform2=function(et,tt,rt){const nt=this._out,it=this._data,ot=it[tt],at=it[tt+1],st=it[tt+rt],lt=it[tt+rt+1],ct=ot+st,ut=at+lt,ft=ot-st,dt=at-lt;nt[et]=ct,nt[et+1]=ut,nt[et+2]=ft,nt[et+3]=dt};FFT.prototype._singleTransform4=function(et,tt,rt){const nt=this._out,it=this._data,ot=this._inv?-1:1,at=rt*2,st=rt*3,lt=it[tt],ct=it[tt+1],ut=it[tt+rt],ft=it[tt+rt+1],dt=it[tt+at],pt=it[tt+at+1],mt=it[tt+st],vt=it[tt+st+1],ht=lt+dt,yt=ct+pt,gt=lt-dt,xt=ct-pt,_t=ut+mt,wt=ft+vt,Et=ot*(ut-mt),St=ot*(ft-vt),Ct=ht+_t,bt=yt+wt,At=gt+St,Tt=xt-Et,Ot=ht-_t,$t=yt-wt,It=gt-St,Nt=xt+Et;nt[et]=Ct,nt[et+1]=bt,nt[et+2]=At,nt[et+3]=Tt,nt[et+4]=Ot,nt[et+5]=$t,nt[et+6]=It,nt[et+7]=Nt};FFT.prototype._realTransform4=function(){var et=this._out,tt=this._csize,rt=this._width,nt=1<<rt,it=tt/nt<<1,ot,at,st=this._bitrev;if(it===4)for(ot=0,at=0;ot<tt;ot+=it,at++){const mr=st[at];this._singleRealTransform2(ot,mr>>>1,nt>>>1)}else for(ot=0,at=0;ot<tt;ot+=it,at++){const mr=st[at];this._singleRealTransform4(ot,mr>>>1,nt>>>1)}var lt=this._inv?-1:1,ct=this.table;for(nt>>=2;nt>=2;nt>>=2){it=tt/nt<<1;var ut=it>>>1,ft=ut>>>1,dt=ft>>>1;for(ot=0;ot<tt;ot+=it)for(var pt=0,mt=0;pt<=dt;pt+=2,mt+=nt){var vt=ot+pt,ht=vt+ft,yt=ht+ft,gt=yt+ft,xt=et[vt],_t=et[vt+1],wt=et[ht],Et=et[ht+1],St=et[yt],Ct=et[yt+1],bt=et[gt],At=et[gt+1],Tt=xt,Ot=_t,$t=ct[mt],It=lt*ct[mt+1],Nt=wt*$t-Et*It,jt=wt*It+Et*$t,Bt=ct[2*mt],Dt=lt*ct[2*mt+1],zt=St*Bt-Ct*Dt,Lt=St*Dt+Ct*Bt,Ft=ct[3*mt],Xt=lt*ct[3*mt+1],Wt=bt*Ft-At*Xt,Ht=bt*Xt+At*Ft,nr=Tt+zt,fr=Ot+Lt,dr=Tt-zt,Qt=Ot-Lt,sr=Nt+Wt,ar=jt+Ht,Jt=lt*(Nt-Wt),pr=lt*(jt-Ht),Rt=nr+sr,Ut=fr+ar,Gt=dr+pr,Mt=Qt-Jt;if(et[vt]=Rt,et[vt+1]=Ut,et[ht]=Gt,et[ht+1]=Mt,pt===0){var kt=nr-sr,Pt=fr-ar;et[yt]=kt,et[yt+1]=Pt;continue}if(pt!==dt){var Kt=dr,qt=-Qt,Vt=nr,tr=-fr,Yt=-lt*pr,Zt=-lt*Jt,er=-lt*ar,lr=-lt*sr,ur=Kt+Yt,hr=qt+Zt,gr=Vt+lr,vr=tr-er,ir=ot+ft-pt,cr=ot+ut-pt;et[ir]=ur,et[ir+1]=hr,et[cr]=gr,et[cr+1]=vr}}}};FFT.prototype._singleRealTransform2=function(et,tt,rt){const nt=this._out,it=this._data,ot=it[tt],at=it[tt+rt],st=ot+at,lt=ot-at;nt[et]=st,nt[et+1]=0,nt[et+2]=lt,nt[et+3]=0};FFT.prototype._singleRealTransform4=function(et,tt,rt){const nt=this._out,it=this._data,ot=this._inv?-1:1,at=rt*2,st=rt*3,lt=it[tt],ct=it[tt+rt],ut=it[tt+at],ft=it[tt+st],dt=lt+ut,pt=lt-ut,mt=ct+ft,vt=ot*(ct-ft),ht=dt+mt,yt=pt,gt=-vt,xt=dt-mt,_t=pt,wt=vt;nt[et]=ht,nt[et+1]=0,nt[et+2]=yt,nt[et+3]=gt,nt[et+4]=xt,nt[et+5]=0,nt[et+6]=_t,nt[et+7]=wt};globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;function xMean(_e,et={}){xCheck(_e);const{fromIndex:tt,toIndex:rt}=xGetFromToIndex(_e,et);let nt=_e[tt];for(let it=tt+1;it<=rt;it++)nt+=_e[it];return nt/(rt-tt+1)}function ascending$1(_e,et){return _e<et?-1:_e>et?1:_e>=et?0:NaN}function bisector$1(_e){return _e.length===1&&(_e=ascendingComparator(_e)),{left:function(et,tt,rt,nt){for(rt==null&&(rt=0),nt==null&&(nt=et.length);rt<nt;){var it=rt+nt>>>1;_e(et[it],tt)<0?rt=it+1:nt=it}return rt},right:function(et,tt,rt,nt){for(rt==null&&(rt=0),nt==null&&(nt=et.length);rt<nt;){var it=rt+nt>>>1;_e(et[it],tt)>0?nt=it:rt=it+1}return rt}}}function ascendingComparator(_e){return function(et,tt){return ascending$1(_e(et),tt)}}bisector$1(ascending$1);function xVariance(_e,et={}){if(!isAnyArray$1(_e))throw new TypeError("input must be an array");const{unbiased:tt=!0,mean:rt=xMean(_e)}=et;let nt=0;for(let it=0;it<_e.length;it++){const ot=_e[it]-rt;nt+=ot*ot}return tt?nt/(_e.length-1):nt/_e.length}function xyCovariance(_e,et={}){const{x:tt,y:rt}=_e,{unbiased:nt=!0}=et,it=xMean(tt),ot=xMean(rt);let at=0;for(let st=0;st<tt.length;st++)at+=(tt[st]-it)*(rt[st]-ot);return nt?at/(tt.length-1):at/tt.length}function assert$1(_e,et){if(!_e)throw new Error(et||"unreachable")}function assertUnreachable$1(_e){throw new Error(`unreachable: ${String(_e)}`)}function getClamp(_e){return _e.maxValue===255?clamp255:(assert$1(_e.maxValue===65535),clamp65535)}function clamp255(_e){return Math.min(Math.max(_e,0),255)}function clamp65535(_e){return Math.min(Math.max(_e,0),65535)}function getRadius(_e){if(_e%2!==1||_e<0)throw new RangeError("size must be positive and odd");return(_e-1)/2}function line$1(_e,et,tt,rt,nt){for(var it=Math.abs(tt-_e),ot=_e<tt?1:-1,at=-Math.abs(rt-et),st=et<rt?1:-1,lt=it+at,ct;;){if(nt(_e,et),ct=2*lt,ct>=at){if(_e===tt)break;lt+=at,_e+=ot}if(ct<=it){if(et===rt)break;lt+=it,et+=st}}}function circle(_e,et,tt,rt){var nt=-tt,it=0,ot=2-2*tt;do rt(_e-nt,et+it),rt(_e-it,et-nt),rt(_e+nt,et-it),rt(_e+it,et+nt),tt=ot,tt<=it&&(ot+=++it*2+1),(tt>nt||ot>it)&&(ot+=++nt*2+1);while(nt<0)}function deleteDuplicates(_e){const et=[];for(let tt=0;tt<_e.length;tt++)_e[tt].column===_e[(tt+1)%_e.length].column&&_e[tt].row===_e[(tt+1)%_e.length].row||et.push(_e[tt]);return et}function getIndex(_e,et,tt,rt=0){return(et*tt.width+_e)*tt.channels+rt}const SOBEL_X=[[-1,0,1],[-2,0,2],[-1,0,1]],SOBEL_Y=[[-1,-2,-1],[0,0,0],[1,2,1]],SCHARR_X=[[3,0,-3],[10,0,-10],[3,0,-3]],SCHARR_Y=[[3,10,3],[0,0,0],[-3,-10,-3]],PREWITT_X=[[1,0,-1],[1,0,-1],[1,0,-1]],PREWITT_Y=[[1,1,1],[0,0,0],[-1,-1,-1]];function getAngle(_e,et){const tt=difference(et,_e),rt=normalize$1(tt),nt=Math.acos(rt.column);return rt.row<0?-nt:nt}function toDegrees(_e){return _e*180/Math.PI}var ssim_web={exports:{}};(function(_e,et){(function(tt,rt){_e.exports=rt()})(self,function(){return(()=>{var tt={132:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.bezkrovnySsim=void 0;var at=ot(490),st=ot(971);function lt(ct,ut,ft){var dt=ct.data,pt=ut.data,mt=ft.bitDepth,vt=ft.k1,ht=ft.k2,yt=Math.pow(2,mt)-1,gt=Math.pow(vt*yt,2),xt=Math.pow(ht*yt,2),_t=at.average(dt),wt=at.average(pt),Et=at.variance(dt,_t),St=at.variance(pt,wt);return(2*_t*wt+gt)*(2*at.covariance(dt,pt,_t,wt)+xt)/((Math.pow(_t,2)+Math.pow(wt,2)+gt)*(Et+St+xt))}it.bezkrovnySsim=function(ct,ut,ft){for(var dt=ft.windowSize,pt=Math.ceil(ct.width/dt),mt=Math.ceil(ct.height/dt),vt=new Array(pt*mt),ht=0,yt=0;yt<ct.height;yt+=dt)for(var gt=0;gt<ct.width;gt+=dt){var xt=Math.min(dt,ct.width-gt),_t=Math.min(dt,ct.height-yt),wt=st.sub(ct,gt,_t,yt,xt),Et=st.sub(ut,gt,_t,yt,xt);vt[ht++]=lt(wt,Et,ft)}return{data:vt,width:pt,height:mt}}},63:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.defaults=void 0,it.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.downsample=void 0;var at=ot(490),st=ot(971);function lt(ct,ut,ft){var dt=st.imfilter(ct,ut,"symmetric","same");return st.skip2d(dt,[0,ft,dt.height],[0,ft,dt.width])}it.downsample=function(ct,ut){return ut.downsample==="original"?function(ft,dt,pt){pt===void 0&&(pt=256);var mt=Math.min(ft.width,dt.height)/pt,vt=Math.round(mt);if(vt>1){var ht=st.ones(vt);ft=lt(ft,ht=at.divide2d(ht,at.sum2d(ht)),vt),dt=lt(dt,ht,vt)}return[ft,dt]}(ct[0],ct[1],ut.maxSize):ct}},607:function(nt,it,ot){var at=this&&this.__assign||function(){return(at=Object.assign||function(gt){for(var xt,_t=1,wt=arguments.length;_t<wt;_t++)for(var Et in xt=arguments[_t])Object.prototype.hasOwnProperty.call(xt,Et)&&(gt[Et]=xt[Et]);return gt}).apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=it.getOptions=void 0;var st=ot(971),lt=ot(490),ct=ot(773),ut=ot(595),ft=ot(132),dt=ot(441),pt=ot(63),mt=ot(535),vt={fast:ct.ssim,original:ut.originalSsim,bezkrovny:ft.bezkrovnySsim,weber:mt.weberSsim};function ht(gt){var xt=at(at({},pt.defaults),gt);return function(_t){if(Object.keys(_t).forEach(function(wt){if(!(wt in pt.defaults))throw new Error('"'+wt+'" is not a valid option')}),"k1"in _t&&(typeof _t.k1!="number"||_t.k1<0))throw new Error("Invalid k1 value. Default is "+pt.defaults.k1);if("k2"in _t&&(typeof _t.k2!="number"||_t.k2<0))throw new Error("Invalid k2 value. Default is "+pt.defaults.k2);if(!(_t.ssim in vt))throw new Error("Invalid ssim option (use: "+Object.keys(vt).join(", ")+")")}(xt),xt}function yt(gt,xt,_t){var wt,Et,St,Ct,bt=new Date().getTime(),At=function(Tt){var Ot=Tt[0],$t=Tt[1],It=Tt[2];return vt[It.ssim](Ot,$t,It)}(function(Tt){var Ot=Tt[0],$t=Tt[1],It=Tt[2],Nt=dt.downsample([Ot,$t],It);return[Nt[0],Nt[1],It]}((wt=function(Tt){var Ot=Tt[0],$t=Tt[1],It=Tt[2];if(Ot.width!==$t.width||Ot.height!==$t.height)throw new Error("Image dimensions do not match");return[Ot,$t,It]}([gt,xt,ht(_t)]),Et=wt[0],St=wt[1],(Ct=wt[2]).rgb2grayVersion==="original"?[st.rgb2gray(Et),st.rgb2gray(St),Ct]:[st.rgb2grayInteger(Et),st.rgb2grayInteger(St),Ct])));return{mssim:At.mssim!==void 0?At.mssim:lt.mean2d(At),ssim_map:At,performance:new Date().getTime()-bt}}it.getOptions=ht,it.ssim=yt,it.default=yt},490:(nt,it)=>{function ot(ut){return at(ut)/ut.length}function at(ut){for(var ft=0,dt=0;dt<ut.length;dt++)ft+=ut[dt];return ft}function st(ut){for(var ft=ut.data,dt=0,pt=0;pt<ft.length;pt++)dt+=ft[pt];return dt}function lt(ut,ft){for(var dt=ut.data,pt=ut.width,mt=ut.height,vt=new Array(dt.length),ht=0;ht<dt.length;ht++)vt[ht]=dt[ht]+ft;return{data:vt,width:pt,height:mt}}function ct(ut,ft){return typeof ft=="number"?function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=new Array(mt.length),gt=0;gt<mt.length;gt++)yt[gt]=mt[gt]*pt;return{data:yt,width:vt,height:ht}}(ut,ft):function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=pt.data,gt=new Array(mt.length),xt=0;xt<mt.length;xt++)gt[xt]=mt[xt]*yt[xt];return{data:gt,width:vt,height:ht}}(ut,ft)}Object.defineProperty(it,"__esModule",{value:!0}),it.covariance=it.variance=it.mean2d=it.square2d=it.multiply2d=it.divide2d=it.subtract2d=it.add2d=it.sum2d=it.floor=it.sum=it.average=void 0,it.average=ot,it.sum=at,it.floor=function(ut){for(var ft=new Array(ut.length),dt=0;dt<ut.length;dt++)ft[dt]=Math.floor(ut[dt]);return ft},it.sum2d=st,it.add2d=function(ut,ft){return typeof ft=="number"?lt(ut,ft):function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=pt.data,gt=new Array(mt.length),xt=0;xt<ht;xt++)for(var _t=xt*vt,wt=0;wt<vt;wt++)gt[_t+wt]=mt[_t+wt]+yt[_t+wt];return{data:gt,width:vt,height:ht}}(ut,ft)},it.subtract2d=function(ut,ft){return typeof ft=="number"?lt(ut,-ft):function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=pt.data,gt=new Array(mt.length),xt=0;xt<ht;xt++)for(var _t=xt*vt,wt=0;wt<vt;wt++)gt[_t+wt]=mt[_t+wt]-yt[_t+wt];return{data:gt,width:vt,height:ht}}(ut,ft)},it.divide2d=function(ut,ft){return typeof ft=="number"?function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=new Array(mt.length),gt=0;gt<mt.length;gt++)yt[gt]=mt[gt]/pt;return{data:yt,width:vt,height:ht}}(ut,ft):function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=pt.data,gt=new Array(mt.length),xt=0;xt<mt.length;xt++)gt[xt]=mt[xt]/yt[xt];return{data:gt,width:vt,height:ht}}(ut,ft)},it.multiply2d=ct,it.square2d=function(ut){return ct(ut,ut)},it.mean2d=function(ut){return st(ut)/ut.data.length},it.variance=function(ut,ft){ft===void 0&&(ft=ot(ut));for(var dt=0,pt=ut.length;pt--;)dt+=Math.pow(ut[pt]-ft,2);return dt/ut.length},it.covariance=function(ut,ft,dt,pt){dt===void 0&&(dt=ot(ut)),pt===void 0&&(pt=ot(ft));for(var mt=0,vt=ut.length;vt--;)mt+=(ut[vt]-dt)*(ft[vt]-pt);return mt/ut.length}},687:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.conv2=void 0;var at=ot(490),st=ot(298),lt=ot(118),ct=ot(799);function ut(vt,ht,yt){var gt=vt.data,xt=vt.width,_t=vt.height;yt===void 0&&(yt="full");for(var wt=xt+ht.width-1,Et=_t+ht.height-1,St=ct.zeros(Et,wt).data,Ct=0;Ct<ht.height;Ct++)for(var bt=0;bt<ht.width;bt++){var At=ht.data[Ct*ht.width+bt];if(At)for(var Tt=0;Tt<_t;Tt++)for(var Ot=0;Ot<xt;Ot++)St[(Tt+Ct)*wt+Ot+bt]+=gt[Tt*xt+Ot]*At}return mt({data:St,width:wt,height:Et},yt,_t,ht.height,xt,ht.width)}function ft(vt,ht,yt){var gt=ht.data,xt=ht.width,_t=ht.height;yt===void 0&&(yt="full");var wt=pt(vt,st.ones(_t,1),st.ones(1,xt),yt);return at.multiply2d(wt,gt[0])}function dt(vt){for(var ht=vt.data,yt=ht[0],gt=1;gt<ht.length;gt++)if(ht[gt]!==yt)return!1;return!0}function pt(vt,ht,yt,gt){gt===void 0&&(gt="full");var xt=Math.max(ht.height,ht.width),_t=Math.max(yt.height,yt.width),wt=ut(vt,ht,"full");return mt(ut(wt,yt,"full"),gt,vt.height,xt,vt.width,_t)}function mt(vt,ht,yt,gt,xt,_t){if(ht==="full")return vt;if(ht==="same"){var wt=Math.ceil((vt.height-yt)/2),Et=Math.ceil((vt.width-xt)/2);return lt.sub(vt,wt,yt,Et,xt)}return lt.sub(vt,gt-1,yt-gt+1,_t-1,xt-_t+1)}it.conv2=function(){for(var vt=[],ht=0;ht<arguments.length;ht++)vt[ht]=arguments[ht];return vt[2]&&vt[2].data?pt.apply(void 0,vt):dt(vt[1])?ft.apply(void 0,vt):ut.apply(void 0,vt)}},346:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.filter2=void 0;var at=ot(687);it.filter2=function(st,lt,ct){return ct===void 0&&(ct="same"),at.conv2(lt,function(ut){for(var ft=ut.data,dt=ut.width,pt=ut.height,mt=new Array(ft.length),vt=0;vt<pt;vt++)for(var ht=0;ht<dt;ht++)mt[vt*dt+ht]=ft[(pt-1-vt)*dt+dt-1-ht];return{data:mt,width:dt,height:pt}}(st),ct)}},470:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.fspecial=void 0;var at=ot(490);it.fspecial=function(st,lt,ct){lt===void 0&&(lt=3),ct===void 0&&(ct=1.5);var ut=function(dt,pt){for(var mt=dt.data,vt=dt.width,ht=dt.height,yt=new Array(mt.length),gt=0;gt<mt.length;gt++)yt[gt]=Math.exp(-mt[gt]/(2*Math.pow(pt,2)));return{data:yt,width:vt,height:ht}}(function(dt){for(var pt=2*dt+1,mt=new Array(Math.pow(pt,2)),vt=0;vt<pt;vt++)for(var ht=0;ht<pt;ht++)mt[vt*pt+ht]=Math.pow(vt-dt,2)+Math.pow(ht-dt,2);return{data:mt,width:pt,height:pt}}(lt=(lt-1)/2),ct),ft=at.sum2d(ut);return at.divide2d(ut,ft)}},521:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.imfilter=void 0;var at=ot(20),st=ot(389),lt=ot(490),ct=ot(346);it.imfilter=function(ut,ft,dt,pt){return dt===void 0&&(dt="symmetric"),pt===void 0&&(pt="same"),ut=function(mt,vt,ht,yt){if(mt=st.padarray(mt,lt.floor([vt/2,ht/2]),yt),at.mod(vt,2)===0&&(mt.data=mt.data.slice(0,-mt.width),mt.height--),at.mod(ht,2)===0){for(var gt=[],xt=0;xt<mt.data.length;xt++)(xt+1)%mt.width!=0&&gt.push(mt.data[xt]);mt.data=gt,mt.width--}return mt}(ut,ft.width,ft.height,dt),pt=function(mt){return mt==="same"&&(mt="valid"),mt}(pt),ct.filter2(ft,ut,pt)}},971:function(nt,it,ot){var at=this&&this.__createBinding||(Object.create?function(lt,ct,ut,ft){ft===void 0&&(ft=ut),Object.defineProperty(lt,ft,{enumerable:!0,get:function(){return ct[ut]}})}:function(lt,ct,ut,ft){ft===void 0&&(ft=ut),lt[ft]=ct[ut]}),st=this&&this.__exportStar||function(lt,ct){for(var ut in lt)ut==="default"||Object.prototype.hasOwnProperty.call(ct,ut)||at(ct,lt,ut)};Object.defineProperty(it,"__esModule",{value:!0}),st(ot(687),it),st(ot(346),it),st(ot(470),it),st(ot(521),it),st(ot(150),it),st(ot(298),it),st(ot(389),it),st(ot(582),it),st(ot(439),it),st(ot(118),it),st(ot(240),it),st(ot(799),it)},928:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.numbers=void 0,it.numbers=function(ot,at,st){for(var lt=at*ot,ct=new Array(lt),ut=0;ut<lt;ut++)ct[ut]=st;return{data:ct,width:at,height:ot}}},20:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.mod=void 0,it.mod=function(ot,at){return ot-at*Math.floor(ot/at)}},150:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.normpdf=void 0,it.normpdf=function(ot,at,st){var lt=ot.data,ct=ot.width,ut=ot.height;at===void 0&&(at=0),st===void 0&&(st=1);for(var ft=new Array(lt.length),dt=0;dt<lt.length;dt++){var pt=(lt[dt]-at)/st;ft[dt]=Math.exp(-Math.pow(pt,2)/2)/(2.5066282746310007*st)}return{data:ft,width:ct,height:ut}}},298:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ones=void 0;var at=ot(928);it.ones=function(st,lt){return lt===void 0&&(lt=st),at.numbers(st,lt,1)}},389:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.padarray=void 0;var at=ot(20);it.padarray=function(st,lt,ct,ut){var ft=lt[0],dt=lt[1];return st.height>=ft&&st.width>=dt?function(pt,mt){for(var vt=mt[0],ht=mt[1],yt=pt.width+2*ht,gt=pt.height+2*vt,xt=new Array(yt*gt),_t=-vt;_t<0;_t++){for(var wt=-ht;wt<0;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(Math.abs(_t)-1)*pt.width+Math.abs(wt)-1];for(wt=0;wt<pt.width;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(Math.abs(_t)-1)*pt.width+wt];for(wt=pt.width;wt<pt.width+ht;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(Math.abs(_t)-1)*pt.width+2*pt.width-wt-1]}for(_t=0;_t<pt.height;_t++){for(wt=-ht;wt<0;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[_t*pt.width+Math.abs(wt)-1];for(wt=0;wt<pt.width;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[_t*pt.width+wt];for(wt=pt.width;wt<pt.width+ht;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[_t*pt.width+2*pt.width-wt-1]}for(_t=pt.height;_t<pt.height+vt;_t++){for(wt=-ht;wt<0;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(2*pt.height-_t-1)*pt.width+Math.abs(wt)-1];for(wt=0;wt<pt.width;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(2*pt.height-_t-1)*pt.width+wt];for(wt=pt.width;wt<pt.width+ht;wt++)xt[(_t+vt)*yt+wt+ht]=pt.data[(2*pt.height-_t-1)*pt.width+2*pt.width-wt-1]}return{data:xt,width:yt,height:gt}}(st,[ft,dt]):function(pt,mt){for(var vt=function(_t,wt){return{data:_t.data.concat(wt.data),height:_t.height+wt.height,width:_t.width}}(pt,function(_t){for(var wt=_t.data,Et=_t.width,St=_t.height,Ct=new Array(wt.length),bt=0;bt<St;bt++)for(var At=0;At<Et;At++)Ct[bt*Et+At]=wt[(St-1-bt)*Et+At];return{data:Ct,width:Et,height:St}}(pt)),ht=pt.height+2*mt,yt=new Array(pt.width*ht),gt=-mt;gt<pt.height+mt;gt++)for(var xt=0;xt<pt.width;xt++)yt[(gt+mt)*pt.width+xt]=vt.data[at.mod(gt,vt.height)*pt.width+xt];return{data:yt,width:pt.width,height:ht}}(function(pt,mt){for(var vt=pt.width+2*mt,ht=new Array(vt*pt.height),yt=function(_t,wt){for(var Et=_t.width+wt.width,St=new Array(_t.height*Et),Ct=0;Ct<_t.height;Ct++){for(var bt=0;bt<_t.width;bt++)St[Ct*Et+bt]=_t.data[Ct*_t.width+bt];for(bt=0;bt<wt.width;bt++)St[Ct*Et+bt+_t.width]=wt.data[Ct*wt.width+bt]}return{data:St,width:Et,height:_t.height}}(pt,function(_t){for(var wt=_t.data,Et=_t.width,St=_t.height,Ct=new Array(wt.length),bt=0;bt<St;bt++)for(var At=0;At<Et;At++)Ct[bt*Et+At]=wt[bt*Et+Et-1-At];return{data:Ct,width:Et,height:St}}(pt)),gt=0;gt<pt.height;gt++)for(var xt=-mt;xt<pt.width+mt;xt++)ht[gt*vt+xt+mt]=yt.data[gt*yt.width+at.mod(xt,yt.width)];return{data:ht,width:vt,height:pt.height}}(st,dt),ft)}},582:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.rgb2grayInteger=it.rgb2gray=void 0,it.rgb2gray=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ct=new Uint8Array(st*lt),ut=0;ut<at.length;ut+=4)ct[ut/4]=.29894*at[ut]+.58704*at[ut+1]+.11402*at[ut+2]+.5;return{data:Array.from(ct),width:st,height:lt}},it.rgb2grayInteger=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ct=new Array(st*lt),ut=0;ut<at.length;ut+=4)ct[ut/4]=77*at[ut]+150*at[ut+1]+29*at[ut+2]+128>>8;return{data:ct,width:st,height:lt}}},439:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.skip2d=void 0,it.skip2d=function(ot,at,st){for(var lt=at[0],ct=at[1],ut=at[2],ft=st[0],dt=st[1],pt=st[2],mt=Math.ceil((pt-ft)/dt),vt=Math.ceil((ut-lt)/ct),ht=new Array(mt*vt),yt=0;yt<vt;yt++)for(var gt=0;gt<mt;gt++){var xt=lt+yt*ct,_t=ft+gt*dt;ht[yt*mt+gt]=ot.data[xt*ot.width+_t]}return{data:ht,width:mt,height:vt}}},118:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.sub=void 0,it.sub=function(ot,at,st,lt,ct){for(var ut=ot.data,ft=ot.width,dt=new Array(ct*st),pt=0;pt<st;pt++)for(var mt=0;mt<ct;mt++)dt[pt*ct+mt]=ut[(lt+pt)*ft+at+mt];return{data:dt,width:ct,height:st}}},240:(nt,it)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.transpose=void 0,it.transpose=function(ot){for(var at=ot.data,st=ot.width,lt=ot.height,ct=new Array(st*lt),ut=0;ut<lt;ut++)for(var ft=0;ft<st;ft++)ct[ft*lt+ut]=at[ut*st+ft];return{data:ct,height:st,width:lt}}},799:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.zeros=void 0;var at=ot(928);it.zeros=function(st,lt){return lt===void 0&&(lt=st),at.numbers(st,lt,0)}},595:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.originalSsim=void 0;var at=ot(490),st=ot(971);it.originalSsim=function(lt,ct,ut){var ft=st.fspecial("gaussian",ut.windowSize,1.5),dt=Math.pow(2,ut.bitDepth)-1,pt=Math.pow(ut.k1*dt,2),mt=Math.pow(ut.k2*dt,2);ft=at.divide2d(ft,at.sum2d(ft));var vt=st.filter2(ft,lt,"valid"),ht=st.filter2(ft,ct,"valid"),yt=at.square2d(vt),gt=at.square2d(ht),xt=at.multiply2d(vt,ht),_t=at.square2d(lt),wt=at.square2d(ct),Et=at.subtract2d(st.filter2(ft,_t,"valid"),yt),St=at.subtract2d(st.filter2(ft,wt,"valid"),gt),Ct=at.subtract2d(st.filter2(ft,at.multiply2d(lt,ct),"valid"),xt);if(pt>0&&mt>0){var bt=at.add2d(at.multiply2d(xt,2),pt),At=at.add2d(at.multiply2d(Ct,2),mt),Tt=at.add2d(at.add2d(yt,gt),pt),Ot=at.add2d(at.add2d(Et,St),mt);return at.divide2d(at.multiply2d(bt,At),at.multiply2d(Tt,Ot))}var $t=at.multiply2d(xt,2),It=at.multiply2d(Ct,2),Nt=at.add2d(yt,gt),jt=at.add2d(Et,St);return at.divide2d(at.multiply2d($t,It),at.multiply2d(Nt,jt))}},773:(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0}),it.ssim=void 0;var at=ot(490),st=ot(971);it.ssim=function(lt,ct,ut){var ft=st.normpdf(function(At){for(var Tt=Math.floor(At/2),Ot=new Array(2*Tt+1),$t=-Tt;$t<=Tt;$t++)Ot[$t+Tt]=Math.abs($t);return{data:Ot,width:Ot.length,height:1}}(ut.windowSize),0,1.5),dt=Math.pow(2,ut.bitDepth)-1,pt=Math.pow(ut.k1*dt,2),mt=Math.pow(ut.k2*dt,2);ft=at.divide2d(ft,at.sum2d(ft));var vt=st.transpose(ft),ht=st.conv2(lt,ft,vt,"valid"),yt=st.conv2(ct,ft,vt,"valid"),gt=at.square2d(ht),xt=at.square2d(yt),_t=at.multiply2d(ht,yt),wt=at.square2d(lt),Et=at.square2d(ct),St=at.subtract2d(st.conv2(wt,ft,vt,"valid"),gt),Ct=at.subtract2d(st.conv2(Et,ft,vt,"valid"),xt),bt=at.subtract2d(st.conv2(at.multiply2d(lt,ct),ft,vt,"valid"),_t);return pt>0&&mt>0?function(At,Tt,Ot,$t,It,Nt,jt,Bt){var Dt=at.add2d(at.multiply2d(At,2),jt),zt=at.add2d(at.multiply2d(Tt,2),Bt),Lt=at.add2d(at.add2d(Ot,$t),jt),Ft=at.add2d(at.add2d(It,Nt),Bt);return at.divide2d(at.multiply2d(Dt,zt),at.multiply2d(Lt,Ft))}(_t,bt,gt,xt,St,Ct,pt,mt):function(At,Tt,Ot,$t,It,Nt){var jt=at.multiply2d(At,2),Bt=at.multiply2d(Tt,2),Dt=at.add2d(Ot,$t),zt=at.add2d(It,Nt);return at.divide2d(at.multiply2d(jt,Bt),at.multiply2d(Dt,zt))}(_t,bt,gt,xt,St,Ct)}},535:function(nt,it){var ot=this&&this.__assign||function(){return(ot=Object.assign||function(pt){for(var mt,vt=1,ht=arguments.length;vt<ht;vt++)for(var yt in mt=arguments[vt])Object.prototype.hasOwnProperty.call(mt,yt)&&(pt[yt]=mt[yt]);return pt}).apply(this,arguments)};function at(pt,mt,vt,ht){return{rightEdge:vt[mt*ht+pt+1],bottomEdge:vt[(mt+1)*ht+pt],bottomRightEdge:vt[(mt+1)*ht+pt+1]}}function st(pt,mt){for(var vt=pt.width,ht=pt.height,yt=pt.data,gt=vt+1,xt=ht+1,_t=new Int32Array(gt*xt),wt=ht-1;wt>=0;--wt)for(var Et=vt-1;Et>=0;--Et){var St=at(Et,wt,_t,gt),Ct=St.rightEdge,bt=St.bottomEdge,At=St.bottomRightEdge;_t[wt*gt+Et]=mt(yt[wt*vt+Et],Et,wt)+Ct+bt-At}return{data:_t,height:xt,width:gt}}function lt(pt,mt,vt){for(var ht=pt.width,yt=pt.height,gt=pt.data,xt=mt.data,_t=ht+1,wt=yt+1,Et=new Int32Array(_t*wt),St=yt-1;St>=0;--St)for(var Ct=ht-1;Ct>=0;--Ct){var bt=at(Ct,St,Et,_t),At=bt.rightEdge,Tt=bt.bottomEdge,Ot=bt.bottomRightEdge,$t=St*ht+Ct;Et[St*_t+Ct]=vt(gt[$t],xt[$t],Ct,St)+At+Tt-Ot}return{data:Et,height:wt,width:_t}}function ct(pt,mt,vt){for(var ht=pt.width,yt=pt.height,gt=pt.data,xt=ht-1,_t=yt-1,wt=xt-mt+1,Et=_t-mt+1,St=new Int32Array(wt*Et),Ct=0;Ct<_t;++Ct)for(var bt=0;bt<xt;++bt)if(bt<wt&&Ct<Et){var At=gt[ht*Ct+bt]-gt[ht*Ct+bt+mt]-gt[ht*(Ct+mt)+bt]+gt[ht*(Ct+mt)+bt+mt];St[Ct*wt+bt]=At/vt}return{height:Et,width:wt,data:St}}function ut(pt,mt){return ct(st(pt,function(vt){return vt}),mt,1)}function ft(pt,mt,vt){for(var ht=vt*vt,yt=ct(st(pt,function(Et){return Et*Et}),vt,1),gt=0;gt<mt.data.length;++gt){var xt=mt.data[gt]/ht,_t=yt.data[gt]/ht,wt=xt*xt;yt.data[gt]=1024*(_t-wt)}return yt}function dt(pt,mt,vt,ht,yt){for(var gt=yt*yt,xt=ct(lt(pt,mt,function(wt,Et){return wt*Et}),yt,1),_t=0;_t<vt.data.length;++_t)xt.data[_t]=1024*(xt.data[_t]/gt-vt.data[_t]/gt*(ht.data[_t]/gt));return xt}Object.defineProperty(it,"__esModule",{value:!0}),it.weberSsim=it.windowCovariance=it.windowVariance=it.windowSums=it.windowMatrix=it.partialSumMatrix2=it.partialSumMatrix1=void 0,it.partialSumMatrix1=st,it.partialSumMatrix2=lt,it.windowMatrix=ct,it.windowSums=ut,it.windowVariance=ft,it.windowCovariance=dt,it.weberSsim=function(pt,mt,vt){for(var ht=vt.bitDepth,yt=vt.k1,gt=vt.k2,xt=vt.windowSize,_t=Math.pow(2,ht)-1,wt=yt*_t*(yt*_t),Et=gt*_t*(gt*_t),St=xt*xt,Ct=ot(ot({},pt),{data:Int32Array.from(pt.data,function(Ht){return Ht+.5})}),bt=ot(ot({},mt),{data:Int32Array.from(mt.data,function(Ht){return Ht+.5})}),At=ut(Ct,xt),Tt=ft(Ct,At,xt),Ot=ut(bt,xt),$t=ft(bt,Ot,xt),It=dt(Ct,bt,At,Ot,xt),Nt=At.data.length,jt=0,Bt=new Array(Nt),Dt=0;Dt<Nt;++Dt){var zt=At.data[Dt]/St,Lt=Ot.data[Dt]/St,Ft=Tt.data[Dt]/1024,Xt=$t.data[Dt]/1024,Wt=(2*zt*Lt+wt)*(It.data[Dt]/1024*2+Et)/(zt*zt+Lt*Lt+wt)/(Ft+Xt+Et);Bt[Dt]=Wt,Dt==0?jt=Wt:jt+=(Wt-jt)/(Dt+1)}return{data:Bt,width:At.width,height:At.height,mssim:jt}}}},rt={};return function nt(it){if(rt[it])return rt[it].exports;var ot=rt[it]={exports:{}};return tt[it].call(ot.exports,ot,ot.exports,nt),ot.exports}(607)})()})})(ssim_web);function validateChannels(_e,et){for(const tt of _e)validateChannel(tt,et)}function validateChannel(_e,et){if(!Number.isInteger(_e)||_e>=et.channels||_e<0)throw new RangeError(`invalid channel: ${_e}. It must be a positive integer smaller than ${et.channels}`)}function validateValues(_e,et){for(const tt of _e)validateValue(tt,et)}function validateValue(_e,et){if(_e>et.maxValue||_e<0)throw new RangeError(`invalid value: ${_e}. It must be a positive value smaller than ${et.maxValue+1}`)}function validateForComparison(_e,et){if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both images must have the same size");if(_e.alpha!==et.alpha||_e.bitDepth!==et.bitDepth)throw new RangeError("both images must have the same alpha and bitDepth");if(_e.channels!==et.channels)throw new RangeError("both images must have the same number of channels")}function validateColor(_e,et){validateChannel(_e.length-1,et),validateValues(_e,et)}function subtract(_e,et,tt={}){const{absolute:rt=!1}=tt;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:[1,3],alpha:!1}),validateForComparison(_e,et);const nt=_e.clone();if(nt instanceof Image$1)for(let it=0;it<_e.size;it++)for(let ot=0;ot<_e.channels;ot++){const at=_e.getValueByIndex(it,ot)-et.getValueByIndex(it,ot);rt?at<0?nt.setValueByIndex(it,ot,-at):nt.setValueByIndex(it,ot,at):at<0?nt.setValueByIndex(it,ot,0):nt.setValueByIndex(it,ot,at)}else if(_e instanceof Mask&&et instanceof Mask)for(let it=0;it<_e.size;it++){const ot=_e.getBitByIndex(it)-et.getBitByIndex(it);rt?nt.setBitByIndex(it,ot?1:0):nt.setBitByIndex(it,ot>0?1:0)}return nt}function add(_e,et){_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[8,16],components:[1,3],alpha:!1}),validateForComparison(_e,et);const tt=_e.clone(),rt=getClamp(_e);for(let nt=0;nt<_e.size;nt++)for(let it=0;it<_e.channels;it++){const ot=_e.getValueByIndex(nt,it)+et.getValueByIndex(nt,it);tt.setValueByIndex(nt,it,rt(ot))}return tt}function mean$1(_e){const et=new Array(_e.channels).fill(0);for(let tt=0;tt<_e.height;tt++)for(let rt=0;rt<_e.width;rt++)for(let nt=0;nt<_e.channels;nt++)et[nt]+=_e.getValue(rt,tt,nt);return et.map(tt=>tt/_e.size)}function histogram(_e,et={}){let{channel:tt}=et;const{slots:rt=2**_e.bitDepth}=et;if(!(rt!==0&&!(rt&rt-1)))throw new RangeError("slots must be a power of 2, for example: 64, 256, 1024");if(typeof tt!="number"){if(_e.channels!==1)throw new TypeError("channel option is mandatory for multi-channel images");tt=0}validateChannel(tt,_e);const nt=new Uint32Array(rt);let it=0;const ot=Math.log2(rt);it=_e.bitDepth-ot;for(let at=0;at<_e.size;at++)nt[_e.getValueByIndex(at,tt)>>it]++;return nt}function median(_e){const et=new Array(_e.channels).fill(0);for(let tt=0;tt<_e.channels;tt++){const rt=_e.getChannel(tt);et[tt]=quickMedian(rt)}return et}function variance(_e){const et=_e.mean(),tt=new Array(_e.channels).fill(0);for(let nt=0;nt<_e.size;nt++)for(let it=0;it<_e.channels;it++)tt[it]+=(_e.getValueByIndex(nt,it)-et[it])**2;const rt=_e.size*_e.channels;return tt.map(nt=>nt/rt)}class MultivariateLinearRegression{constructor(et,tt,rt={}){const{intercept:nt=!0,statistics:it=!0}=rt;if(this.statistics=it,et===!0)this.weights=tt.weights,this.inputs=tt.inputs,this.outputs=tt.outputs,this.intercept=tt.intercept;else{et=new Matrix(et),tt=new Matrix(tt),nt&&et.addColumn(new Array(et.rows).fill(1));let ot=et.transpose();const at=ot.mmul(et),st=ot.mmul(tt),lt=new SVD(at).inverse(),ct=st.transpose().mmul(lt).transpose();if(this.weights=ct.to2DArray(),this.inputs=et.columns,this.outputs=tt.columns,nt&&this.inputs--,this.intercept=nt,it){const ut=et.mmul(ct),dt=tt.clone().addM(ut.neg()).to2DArray().map(pt=>Math.pow(pt[0],2)).reduce((pt,mt)=>pt+mt)/(tt.rows-et.columns);this.stdError=Math.sqrt(dt),this.stdErrorMatrix=pseudoInverse(at).mul(dt),this.stdErrors=this.stdErrorMatrix.diagonal().map(pt=>Math.sqrt(pt)),this.tStats=this.weights.map((pt,mt)=>this.stdErrors[mt]===0?0:pt[0]/this.stdErrors[mt])}}}predict(et){if(Array.isArray(et)){if(typeof et[0]=="number")return this._predict(et);if(Array.isArray(et[0])){const tt=new Array(et.length);for(let rt=0;rt<et.length;rt++)tt[rt]=this._predict(et[rt]);return tt}}else if(Matrix.isMatrix(et)){const tt=new Matrix(et.rows,this.outputs);for(let rt=0;rt<et.rows;rt++)tt.setRow(rt,this._predict(et.getRow(rt)));return tt}throw new TypeError("x must be a matrix or array of numbers")}_predict(et){const tt=new Array(this.outputs);if(this.intercept)for(let rt=0;rt<this.outputs;rt++)tt[rt]=this.weights[this.inputs][rt];else tt.fill(0);for(let rt=0;rt<this.inputs;rt++)for(let nt=0;nt<this.outputs;nt++)tt[nt]+=this.weights[rt][nt]*et[rt];return tt}score(){throw new Error("score method is not implemented yet")}toJSON(){return{name:"multivariateLinearRegression",weights:this.weights,inputs:this.inputs,outputs:this.outputs,intercept:this.intercept,summary:this.statistics?{regressionStatistics:{standardError:this.stdError,observations:this.outputs},variables:this.weights.map((et,tt)=>({label:tt===this.weights.length-1?"Intercept":`X Variable ${tt+1}`,coefficients:et,standardError:this.stdErrors[tt],tStat:this.tStats[tt]}))}:void 0}}static load(et){if(et.name!=="multivariateLinearRegression")throw new Error("not a MLR model");return new MultivariateLinearRegression(!0,et)}}var r$2={grad:.9,turn:360,rad:360/(2*Math.PI)},t$2=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$2=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},e$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},u$2=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a$2=function(_e){return{r:e$1(_e.r,0,255),g:e$1(_e.g,0,255),b:e$1(_e.b,0,255),a:e$1(_e.a)}},o$2=function(_e){return{r:n$2(_e.r),g:n$2(_e.g),b:n$2(_e.b),a:n$2(_e.a,3)}},i$2=/^#([0-9a-f]{3,8})$/i,s$1=function(_e){var et=_e.toString(16);return et.length<2?"0"+et:et},h$2=function(_e){var et=_e.r,tt=_e.g,rt=_e.b,nt=_e.a,it=Math.max(et,tt,rt),ot=it-Math.min(et,tt,rt),at=ot?it===et?(tt-rt)/ot:it===tt?2+(rt-et)/ot:4+(et-tt)/ot:0;return{h:60*(at<0?at+6:at),s:it?ot/it*100:0,v:it/255*100,a:nt}},b$2=function(_e){var et=_e.h,tt=_e.s,rt=_e.v,nt=_e.a;et=et/360*6,tt/=100,rt/=100;var it=Math.floor(et),ot=rt*(1-tt),at=rt*(1-(et-it)*tt),st=rt*(1-(1-et+it)*tt),lt=it%6;return{r:255*[rt,at,ot,ot,st,rt][lt],g:255*[st,rt,rt,at,ot,ot][lt],b:255*[ot,ot,st,rt,rt,at][lt],a:nt}},g$1=function(_e){return{h:u$2(_e.h),s:e$1(_e.s,0,100),l:e$1(_e.l,0,100),a:e$1(_e.a)}},d$1=function(_e){return{h:n$2(_e.h),s:n$2(_e.s),l:n$2(_e.l),a:n$2(_e.a,3)}},f$1=function(_e){return b$2((tt=(et=_e).s,{h:et.h,s:(tt*=((rt=et.l)<50?rt:100-rt)/100)>0?2*tt/(rt+tt)*100:0,v:rt+tt,a:et.a}));var et,tt,rt},c$1=function(_e){return{h:(et=h$2(_e)).h,s:(nt=(200-(tt=et.s))*(rt=et.v)/100)>0&&nt<200?tt*rt/100/(nt<=100?nt:200-nt)*100:0,l:nt/2,a:et.a};var et,tt,rt,nt},l$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$2={string:[[function(_e){var et=i$2.exec(_e);return et?(_e=et[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$2(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$2(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var et=v$1.exec(_e)||m.exec(_e);return et?et[2]!==et[4]||et[4]!==et[6]?null:a$2({r:Number(et[1])/(et[2]?100/255:1),g:Number(et[3])/(et[4]?100/255:1),b:Number(et[5])/(et[6]?100/255:1),a:et[7]===void 0?1:Number(et[7])/(et[8]?100:1)}):null},"rgb"],[function(_e){var et=l$2.exec(_e)||p$2.exec(_e);if(!et)return null;var tt,rt,nt=g$1({h:(tt=et[1],rt=et[2],rt===void 0&&(rt="deg"),Number(tt)*(r$2[rt]||1)),s:Number(et[3]),l:Number(et[4]),a:et[5]===void 0?1:Number(et[5])/(et[6]?100:1)});return f$1(nt)},"hsl"]],object:[[function(_e){var et=_e.r,tt=_e.g,rt=_e.b,nt=_e.a,it=nt===void 0?1:nt;return t$2(et)&&t$2(tt)&&t$2(rt)?a$2({r:Number(et),g:Number(tt),b:Number(rt),a:Number(it)}):null},"rgb"],[function(_e){var et=_e.h,tt=_e.s,rt=_e.l,nt=_e.a,it=nt===void 0?1:nt;if(!t$2(et)||!t$2(tt)||!t$2(rt))return null;var ot=g$1({h:Number(et),s:Number(tt),l:Number(rt),a:Number(it)});return f$1(ot)},"hsl"],[function(_e){var et=_e.h,tt=_e.s,rt=_e.v,nt=_e.a,it=nt===void 0?1:nt;if(!t$2(et)||!t$2(tt)||!t$2(rt))return null;var ot=function(at){return{h:u$2(at.h),s:e$1(at.s,0,100),v:e$1(at.v,0,100),a:e$1(at.a)}}({h:Number(et),s:Number(tt),v:Number(rt),a:Number(it)});return b$2(ot)},"hsv"]]},N$1=function(_e,et){for(var tt=0;tt<et.length;tt++){var rt=et[tt][0](_e);if(rt)return[rt,et[tt][1]]}return[null,void 0]},x$2=function(_e){return typeof _e=="string"?N$1(_e.trim(),y$2.string):typeof _e=="object"&&_e!==null?N$1(_e,y$2.object):[null,void 0]},M$2=function(_e,et){var tt=c$1(_e);return{h:tt.h,s:e$1(tt.s+100*et,0,100),l:tt.l,a:tt.a}},H$1=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$=function(_e,et){var tt=c$1(_e);return{h:tt.h,s:tt.s,l:e$1(tt.l+100*et,0,100),a:tt.a}},j$1=function(){function _e(et){this.parsed=x$2(et)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$2(H$1(this.rgba),2)},_e.prototype.isDark=function(){return H$1(this.rgba)<.5},_e.prototype.isLight=function(){return H$1(this.rgba)>=.5},_e.prototype.toHex=function(){return et=o$2(this.rgba),tt=et.r,rt=et.g,nt=et.b,ot=(it=et.a)<1?s$1(n$2(255*it)):"","#"+s$1(tt)+s$1(rt)+s$1(nt)+ot;var et,tt,rt,nt,it,ot},_e.prototype.toRgb=function(){return o$2(this.rgba)},_e.prototype.toRgbString=function(){return et=o$2(this.rgba),tt=et.r,rt=et.g,nt=et.b,(it=et.a)<1?"rgba("+tt+", "+rt+", "+nt+", "+it+")":"rgb("+tt+", "+rt+", "+nt+")";var et,tt,rt,nt,it},_e.prototype.toHsl=function(){return d$1(c$1(this.rgba))},_e.prototype.toHslString=function(){return et=d$1(c$1(this.rgba)),tt=et.h,rt=et.s,nt=et.l,(it=et.a)<1?"hsla("+tt+", "+rt+"%, "+nt+"%, "+it+")":"hsl("+tt+", "+rt+"%, "+nt+"%)";var et,tt,rt,nt,it},_e.prototype.toHsv=function(){return et=h$2(this.rgba),{h:n$2(et.h),s:n$2(et.s),v:n$2(et.v),a:n$2(et.a,3)};var et},_e.prototype.invert=function(){return w$2({r:255-(et=this.rgba).r,g:255-et.g,b:255-et.b,a:et.a});var et},_e.prototype.saturate=function(et){return et===void 0&&(et=.1),w$2(M$2(this.rgba,et))},_e.prototype.desaturate=function(et){return et===void 0&&(et=.1),w$2(M$2(this.rgba,-et))},_e.prototype.grayscale=function(){return w$2(M$2(this.rgba,-1))},_e.prototype.lighten=function(et){return et===void 0&&(et=.1),w$2($(this.rgba,et))},_e.prototype.darken=function(et){return et===void 0&&(et=.1),w$2($(this.rgba,-et))},_e.prototype.rotate=function(et){return et===void 0&&(et=15),this.hue(this.hue()+et)},_e.prototype.alpha=function(et){return typeof et=="number"?w$2({r:(tt=this.rgba).r,g:tt.g,b:tt.b,a:et}):n$2(this.rgba.a,3);var tt},_e.prototype.hue=function(et){var tt=c$1(this.rgba);return typeof et=="number"?w$2({h:et,s:tt.s,l:tt.l,a:tt.a}):n$2(tt.h)},_e.prototype.isEqual=function(et){return this.toHex()===w$2(et).toHex()},_e}(),w$2=function(_e){return _e instanceof j$1?_e:new j$1(_e)},S$1=[],k$1=function(_e){_e.forEach(function(et){S$1.indexOf(et)<0&&(et(j$1,y$2),S$1.push(et))})},a$1=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},t$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=Math.pow(10,et)),Math.round(tt*_e)/tt+0},o$1=function(_e,et,tt){return et===void 0&&(et=0),tt===void 0&&(tt=1),_e>tt?tt:_e>et?_e:et},r$1=function(_e){var et=_e/255;return et<.04045?et/12.92:Math.pow((et+.055)/1.055,2.4)},h$1=function(_e){return 255*(_e>.0031308?1.055*Math.pow(_e,1/2.4)-.055:12.92*_e)},n$1=96.422,p$1=100,M$1=82.521,u$1=function(_e){var et,tt,rt={x:.9555766*(et=_e).x+-.0230393*et.y+.0631636*et.z,y:-.0282895*et.x+1.0099416*et.y+.0210077*et.z,z:.0122982*et.x+-.020483*et.y+1.3299098*et.z};return tt={r:h$1(.032404542*rt.x-.015371385*rt.y-.004985314*rt.z),g:h$1(-.00969266*rt.x+.018760108*rt.y+41556e-8*rt.z),b:h$1(556434e-9*rt.x-.002040259*rt.y+.010572252*rt.z),a:_e.a},{r:o$1(tt.r,0,255),g:o$1(tt.g,0,255),b:o$1(tt.b,0,255),a:o$1(tt.a)}},e=function(_e){var et=r$1(_e.r),tt=r$1(_e.g),rt=r$1(_e.b);return function(nt){return{x:o$1(nt.x,0,n$1),y:o$1(nt.y,0,p$1),z:o$1(nt.z,0,M$1),a:o$1(nt.a)}}(function(nt){return{x:1.0478112*nt.x+.0228866*nt.y+-.050127*nt.z,y:.0295424*nt.x+.9904844*nt.y+-.0170491*nt.z,z:-.0092345*nt.x+.0150436*nt.y+.7521316*nt.z,a:nt.a}}({x:100*(.4124564*et+.3575761*tt+.1804375*rt),y:100*(.2126729*et+.7151522*tt+.072175*rt),z:100*(.0193339*et+.119192*tt+.9503041*rt),a:_e.a}))},w$1=216/24389,b$1=24389/27,i$1=function(_e){var et=_e.l,tt=_e.a,rt=_e.b,nt=_e.alpha,it=nt===void 0?1:nt;if(!a$1(et)||!a$1(tt)||!a$1(rt))return null;var ot=function(at){return{l:o$1(at.l,0,400),a:at.a,b:at.b,alpha:o$1(at.alpha)}}({l:Number(et),a:Number(tt),b:Number(rt),alpha:Number(it)});return l$1(ot)},l$1=function(_e){var et=(_e.l+16)/116,tt=_e.a/500+et,rt=et-_e.b/200;return u$1({x:(Math.pow(tt,3)>w$1?Math.pow(tt,3):(116*tt-16)/b$1)*n$1,y:(_e.l>8?Math.pow((_e.l+16)/116,3):_e.l/b$1)*p$1,z:(Math.pow(rt,3)>w$1?Math.pow(rt,3):(116*rt-16)/b$1)*M$1,a:_e.alpha})};function labPlugin(_e,et){_e.prototype.toLab=function(){return rt=e(this.rgba),it=rt.y/p$1,ot=rt.z/M$1,nt=(nt=rt.x/n$1)>w$1?Math.cbrt(nt):(b$1*nt+16)/116,tt={l:116*(it=it>w$1?Math.cbrt(it):(b$1*it+16)/116)-16,a:500*(nt-it),b:200*(it-(ot=ot>w$1?Math.cbrt(ot):(b$1*ot+16)/116)),alpha:rt.a},{l:t$1(tt.l,2),a:t$1(tt.a,2),b:t$1(tt.b,2),alpha:t$1(tt.alpha,3)};var tt,rt,nt,it,ot},_e.prototype.delta=function(tt){tt===void 0&&(tt="#FFF");var rt=tt instanceof _e?tt:new _e(tt),nt=function(it,ot){var at=it.l,st=it.a,lt=it.b,ct=ot.l,ut=ot.a,ft=ot.b,dt=180/Math.PI,pt=Math.PI/180,mt=Math.pow(Math.pow(st,2)+Math.pow(lt,2),.5),vt=Math.pow(Math.pow(ut,2)+Math.pow(ft,2),.5),ht=(at+ct)/2,yt=Math.pow((mt+vt)/2,7),gt=.5*(1-Math.pow(yt/(yt+Math.pow(25,7)),.5)),xt=st*(1+gt),_t=ut*(1+gt),wt=Math.pow(Math.pow(xt,2)+Math.pow(lt,2),.5),Et=Math.pow(Math.pow(_t,2)+Math.pow(ft,2),.5),St=(wt+Et)/2,Ct=xt===0&&lt===0?0:Math.atan2(lt,xt)*dt,bt=_t===0&&ft===0?0:Math.atan2(ft,_t)*dt;Ct<0&&(Ct+=360),bt<0&&(bt+=360);var At=bt-Ct,Tt=Math.abs(bt-Ct);Tt>180&&bt<=Ct?At+=360:Tt>180&&bt>Ct&&(At-=360);var Ot=Ct+bt;Tt<=180?Ot/=2:Ot=(Ct+bt<360?Ot+360:Ot-360)/2;var $t=1-.17*Math.cos(pt*(Ot-30))+.24*Math.cos(2*pt*Ot)+.32*Math.cos(pt*(3*Ot+6))-.2*Math.cos(pt*(4*Ot-63)),It=ct-at,Nt=Et-wt,jt=2*Math.sin(pt*At/2)*Math.pow(wt*Et,.5),Bt=1+.015*Math.pow(ht-50,2)/Math.pow(20+Math.pow(ht-50,2),.5),Dt=1+.045*St,zt=1+.015*St*$t,Lt=30*Math.exp(-1*Math.pow((Ot-275)/25,2)),Ft=-2*Math.pow(yt/(yt+Math.pow(25,7)),.5)*Math.sin(2*pt*Lt);return Math.pow(Math.pow(It/1/Bt,2)+Math.pow(Nt/1/Dt,2)+Math.pow(jt/1/zt,2)+Ft*Nt*jt/(1*Dt*1*zt),.5)}(this.toLab(),rt.toLab())/100;return o$1(t$1(nt,3))},et.object.push([i$1,"lab"])}k$1([labPlugin]);function formatReferenceForMlr(_e,et){const tt={r:[],g:[],b:[]};for(const rt of _e)tt.r.push([rt.r/et]),tt.g.push([rt.g/et]),tt.b.push([rt.b/et]);return tt}function formatInputForMlr(_e,et){const tt=[];for(const rt of _e)tt.push(getRegressionVariables(rt.r,rt.g,rt.b,et));return tt}function correctColor(_e,et,tt){if(checkProcessable(_e,{colorModel:["RGB","RGBA"]}),et.length!==tt.length)throw new RangeError("number of measured colors and reference colors must be the same");const rt=formatInputForMlr(et,_e.maxValue),nt=formatReferenceForMlr(tt,_e.maxValue),it=new MultivariateLinearRegression(rt,nt.r),ot=new MultivariateLinearRegression(rt,nt.g),at=new MultivariateLinearRegression(rt,nt.b),st=Image$1.createFrom(_e);for(let lt=0;lt<_e.height;lt++)for(let ct=0;ct<_e.width;ct++){const ut=_e.getPixel(ct,lt),ft=getRegressionVariables(ut[0],ut[1],ut[2],_e.maxValue),dt=getClamp(_e),pt=[0,0,0],mt=it.predict(ft)[0]*_e.maxValue,vt=ot.predict(ft)[0]*_e.maxValue,ht=at.predict(ft)[0]*_e.maxValue;pt[0]=dt(mt),pt[1]=dt(vt),pt[2]=dt(ht),_e.alpha&&(pt[3]=_e.getValue(ct,lt,3)),st.setPixel(ct,lt,pt)}return st}function getRegressionVariables(_e,et,tt,rt){return _e/=rt,et/=rt,tt/=rt,[_e,et,tt,_e**2,et**2,tt**2,_e**3,et**3,tt**3,_e*et,_e*tt,tt*et]}function getDefaultColor(_e){switch(_e.colorModel){case"GREY":return[0];case"GREYA":return[0,_e.maxValue];case"RGB":return[0,0,0];case"RGBA":return[0,0,0,_e.maxValue];case"BINARY":return[1];default:assert$1(!1,`invalid image color model: ${_e.colorModel}`)}}function roundPoint(_e){return{row:Math.round(_e.row),column:Math.round(_e.column)}}function drawCircleOnImage(_e,et,tt,rt={}){const nt=getOutputImage(_e,rt,{clone:!0}),{color:it=getDefaultColor(nt),fill:ot}=rt;if(validateColor(it,nt),checkProcessable(nt,{bitDepth:[8,16]}),tt<0)throw new RangeError("circle radius must be positive");return et=roundPoint(et),tt=Math.round(tt),tt===0?(nt.setVisiblePixel(et.column,et.row,it),nt):(ot?(tt===1&&nt.setVisiblePixel(et.column,et.row,ot),circle(et.column,et.row,tt,(at,st)=>{nt.setVisiblePixel(at,st,it),at-1>et.column?nt.drawLine({row:st,column:at-1},{row:st,column:et.column},{strokeColor:ot,out:nt}):at+1<et.column&&nt.drawLine({row:st,column:at+1},{row:st,column:et.column},{strokeColor:ot,out:nt})})):circle(et.column,et.row,tt,(at,st)=>{nt.setVisiblePixel(at,st,it)}),nt)}function drawLineOnImage(_e,et,tt,rt={}){const nt=getOutputImage(_e,rt,{clone:!0}),{strokeColor:it=getDefaultColor(nt),origin:ot={column:0,row:0}}=rt;return validateColor(it,nt),checkProcessable(nt,{bitDepth:[8,16]}),line$1(Math.round(ot.column+et.column),Math.round(ot.row+et.row),Math.round(ot.column+tt.column),Math.round(ot.row+tt.row),(at,st)=>{nt.setVisiblePixel(at,st,it)}),nt}function drawLineOnMask(_e,et,tt,rt={}){const{origin:nt={column:0,row:0}}=rt,it=maskToOutputMask(_e,rt,{clone:!0});return line$1(Math.round(nt.column+et.column),Math.round(nt.row+et.row),Math.round(nt.column+tt.column),Math.round(nt.row+tt.row),(ot,at)=>{it.setVisiblePixel(ot,at,[1])}),it}function drawPolylineOnImage(_e,et,tt={}){const{strokeColor:rt=getDefaultColor(_e),origin:nt={column:0,row:0}}=tt;checkProcessable(_e,{bitDepth:[8,16]});const it=getOutputImage(_e,tt,{clone:!0});validateColor(rt,it);for(let ot=0;ot<et.length-1;ot++){const at=et[ot],st=et[ot+1];it.drawLine(at,st,{out:it,strokeColor:rt,origin:nt})}return it}function drawPolylineOnMask(_e,et,tt={}){const rt=maskToOutputMask(_e,tt,{clone:!0});for(let nt=0;nt<et.length-1;nt++){const it=et[nt],ot=et[nt+1];rt.drawLine(it,ot,{out:rt,origin:tt.origin})}return rt}var orientation={exports:{}},twoProduct_1=twoProduct$1,SPLITTER=+(Math.pow(2,27)+1);function twoProduct$1(_e,et,tt){var rt=_e*et,nt=SPLITTER*_e,it=nt-_e,ot=nt-it,at=_e-ot,st=SPLITTER*et,lt=st-et,ct=st-lt,ut=et-ct,ft=rt-ot*ct,dt=ft-at*ct,pt=dt-ot*ut,mt=at*ut-pt;return tt?(tt[0]=mt,tt[1]=rt,tt):[mt,rt]}var robustSum=linearExpansionSum;function scalarScalar$1(_e,et){var tt=_e+et,rt=tt-_e,nt=tt-rt,it=et-rt,ot=_e-nt,at=ot+it;return at?[at,tt]:[tt]}function linearExpansionSum(_e,et){var tt=_e.length|0,rt=et.length|0;if(tt===1&&rt===1)return scalarScalar$1(_e[0],et[0]);var nt=tt+rt,it=new Array(nt),ot=0,at=0,st=0,lt=Math.abs,ct=_e[at],ut=lt(ct),ft=et[st],dt=lt(ft),pt,mt;ut<dt?(mt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(mt=ft,st+=1,st<rt&&(ft=et[st],dt=lt(ft))),at<tt&&ut<dt||st>=rt?(pt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(pt=ft,st+=1,st<rt&&(ft=et[st],dt=lt(ft)));for(var vt=pt+mt,ht=vt-pt,yt=mt-ht,gt=yt,xt=vt,_t,wt,Et,St,Ct;at<tt&&st<rt;)ut<dt?(pt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(pt=ft,st+=1,st<rt&&(ft=et[st],dt=lt(ft))),mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t;for(;at<tt;)pt=ct,mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t,at+=1,at<tt&&(ct=_e[at]);for(;st<rt;)pt=ft,mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t,st+=1,st<rt&&(ft=et[st]);return gt&&(it[ot++]=gt),xt&&(it[ot++]=xt),ot||(it[ot++]=0),it.length=ot,it}var twoSum$1=fastTwoSum;function fastTwoSum(_e,et,tt){var rt=_e+et,nt=rt-_e,it=rt-nt,ot=et-nt,at=_e-it;return tt?(tt[0]=at+ot,tt[1]=rt,tt):[at+ot,rt]}var twoProduct=twoProduct_1,twoSum=twoSum$1,robustScale=scaleLinearExpansion;function scaleLinearExpansion(_e,et){var tt=_e.length;if(tt===1){var rt=twoProduct(_e[0],et);return rt[0]?rt:[rt[1]]}var nt=new Array(2*tt),it=[.1,.1],ot=[.1,.1],at=0;twoProduct(_e[0],et,it),it[0]&&(nt[at++]=it[0]);for(var st=1;st<tt;++st){twoProduct(_e[st],et,ot);var lt=it[1];twoSum(lt,ot[0],it),it[0]&&(nt[at++]=it[0]);var ct=ot[1],ut=it[1],ft=ct+ut,dt=ft-ct,pt=ut-dt;it[1]=ft,pt&&(nt[at++]=pt)}return it[1]&&(nt[at++]=it[1]),at===0&&(nt[at++]=0),nt.length=at,nt}var robustDiff=robustSubtract;function scalarScalar(_e,et){var tt=_e+et,rt=tt-_e,nt=tt-rt,it=et-rt,ot=_e-nt,at=ot+it;return at?[at,tt]:[tt]}function robustSubtract(_e,et){var tt=_e.length|0,rt=et.length|0;if(tt===1&&rt===1)return scalarScalar(_e[0],-et[0]);var nt=tt+rt,it=new Array(nt),ot=0,at=0,st=0,lt=Math.abs,ct=_e[at],ut=lt(ct),ft=-et[st],dt=lt(ft),pt,mt;ut<dt?(mt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(mt=ft,st+=1,st<rt&&(ft=-et[st],dt=lt(ft))),at<tt&&ut<dt||st>=rt?(pt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(pt=ft,st+=1,st<rt&&(ft=-et[st],dt=lt(ft)));for(var vt=pt+mt,ht=vt-pt,yt=mt-ht,gt=yt,xt=vt,_t,wt,Et,St,Ct;at<tt&&st<rt;)ut<dt?(pt=ct,at+=1,at<tt&&(ct=_e[at],ut=lt(ct))):(pt=ft,st+=1,st<rt&&(ft=-et[st],dt=lt(ft))),mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t;for(;at<tt;)pt=ct,mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t,at+=1,at<tt&&(ct=_e[at]);for(;st<rt;)pt=ft,mt=gt,vt=pt+mt,ht=vt-pt,yt=mt-ht,yt&&(it[ot++]=yt),_t=xt+vt,wt=_t-xt,Et=_t-wt,St=vt-wt,Ct=xt-Et,gt=Ct+St,xt=_t,st+=1,st<rt&&(ft=-et[st]);return gt&&(it[ot++]=gt),xt&&(it[ot++]=xt),ot||(it[ot++]=0),it.length=ot,it}(function(_e){var et=twoProduct_1,tt=robustSum,rt=robustScale,nt=robustDiff,it=5,ot=11102230246251565e-32,at=(3+16*ot)*ot,st=(7+56*ot)*ot;function lt(gt,xt,_t,wt){return function(St,Ct,bt){var At=gt(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0]))),Tt=gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),Ot=wt(At,Tt);return Ot[Ot.length-1]}}function ct(gt,xt,_t,wt){return function(St,Ct,bt,At){var Tt=gt(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),Ct[2]),gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),-bt[2]),_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),At[2]))),gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),At[2])))),Ot=gt(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-bt[2]),_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),At[2]))),gt(_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),bt[2])))),$t=wt(Tt,Ot);return $t[$t.length-1]}}function ut(gt,xt,_t,wt){return function(St,Ct,bt,At,Tt){var Ot=gt(gt(gt(_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),bt[2]),gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),-At[2]),_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),Tt[2]))),Ct[3]),gt(_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Ct[2]),gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),-At[2]),_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),Tt[2]))),-bt[3]),_t(gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),Ct[2]),gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),-bt[2]),_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),Tt[2]))),At[3]))),gt(_t(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),Ct[2]),gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),-bt[2]),_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),At[2]))),-Tt[3]),gt(_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),Ct[2]),gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),-At[2]),_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),Tt[2]))),St[3]),_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-At[2]),_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),Tt[2]))),-Ct[3])))),gt(gt(_t(gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),Tt[2]))),At[3]),gt(_t(gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),At[2]))),-Tt[3]),_t(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),Ct[2]),gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),-bt[2]),_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),At[2]))),St[3]))),gt(_t(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-bt[2]),_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),At[2]))),-Ct[3]),gt(_t(gt(_t(gt(xt(Ct[1],At[0]),xt(-At[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),At[2]))),bt[3]),_t(gt(_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),bt[2]))),-At[3]))))),$t=gt(gt(gt(_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),bt[2]),gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),-At[2]),_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),Tt[2]))),St[3]),_t(gt(_t(gt(xt(At[1],Tt[0]),xt(-Tt[1],At[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-At[2]),_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),Tt[2]))),-bt[3])),gt(_t(gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-bt[2]),_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),Tt[2]))),At[3]),_t(gt(_t(gt(xt(bt[1],At[0]),xt(-At[1],bt[0])),St[2]),gt(_t(gt(xt(St[1],At[0]),xt(-At[1],St[0])),-bt[2]),_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),At[2]))),-Tt[3]))),gt(gt(_t(gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),Ct[2]),gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),-bt[2]),_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),Tt[2]))),St[3]),_t(gt(_t(gt(xt(bt[1],Tt[0]),xt(-Tt[1],bt[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-bt[2]),_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),Tt[2]))),-Ct[3])),gt(_t(gt(_t(gt(xt(Ct[1],Tt[0]),xt(-Tt[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],Tt[0]),xt(-Tt[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),Tt[2]))),bt[3]),_t(gt(_t(gt(xt(Ct[1],bt[0]),xt(-bt[1],Ct[0])),St[2]),gt(_t(gt(xt(St[1],bt[0]),xt(-bt[1],St[0])),-Ct[2]),_t(gt(xt(St[1],Ct[0]),xt(-Ct[1],St[0])),bt[2]))),-Tt[3])))),It=wt(Ot,$t);return It[It.length-1]}}function ft(gt){var xt=gt===3?lt:gt===4?ct:ut;return xt(tt,et,rt,nt)}var dt=ft(3),pt=ft(4),mt=[function(){return 0},function(){return 0},function(xt,_t){return _t[0]-xt[0]},function(xt,_t,wt){var Et=(xt[1]-wt[1])*(_t[0]-wt[0]),St=(xt[0]-wt[0])*(_t[1]-wt[1]),Ct=Et-St,bt;if(Et>0){if(St<=0)return Ct;bt=Et+St}else if(Et<0){if(St>=0)return Ct;bt=-(Et+St)}else return Ct;var At=at*bt;return Ct>=At||Ct<=-At?Ct:dt(xt,_t,wt)},function(xt,_t,wt,Et){var St=xt[0]-Et[0],Ct=_t[0]-Et[0],bt=wt[0]-Et[0],At=xt[1]-Et[1],Tt=_t[1]-Et[1],Ot=wt[1]-Et[1],$t=xt[2]-Et[2],It=_t[2]-Et[2],Nt=wt[2]-Et[2],jt=Ct*Ot,Bt=bt*Tt,Dt=bt*At,zt=St*Ot,Lt=St*Tt,Ft=Ct*At,Xt=$t*(jt-Bt)+It*(Dt-zt)+Nt*(Lt-Ft),Wt=(Math.abs(jt)+Math.abs(Bt))*Math.abs($t)+(Math.abs(Dt)+Math.abs(zt))*Math.abs(It)+(Math.abs(Lt)+Math.abs(Ft))*Math.abs(Nt),Ht=st*Wt;return Xt>Ht||-Xt>Ht?Xt:pt(xt,_t,wt,Et)}];function vt(gt){var xt=mt[gt.length];return xt||(xt=mt[gt.length]=ft(gt.length)),xt.apply(void 0,gt)}function ht(gt,xt,_t,wt,Et,St,Ct){return function(At,Tt,Ot,$t,It){switch(arguments.length){case 0:case 1:return 0;case 2:return wt(At,Tt);case 3:return Et(At,Tt,Ot);case 4:return St(At,Tt,Ot,$t);case 5:return Ct(At,Tt,Ot,$t,It)}for(var Nt=new Array(arguments.length),jt=0;jt<arguments.length;++jt)Nt[jt]=arguments[jt];return gt(Nt)}}function yt(){for(;mt.length<=it;)mt.push(ft(mt.length));_e.exports=ht.apply(void 0,[vt].concat(mt));for(var gt=0;gt<=it;++gt)_e.exports[gt]=mt[gt]}yt()})(orientation);var orientationExports=orientation.exports,robustPnp=robustPointInPolygon,orient=orientationExports;function robustPointInPolygon(_e,et){for(var tt=et[0],rt=et[1],nt=_e.length,it=1,ot=nt,at=0,st=nt-1;at<ot;st=at++){var lt=_e[at],ct=_e[st],ut=lt[1],ft=ct[1];if(ft<ut){if(ft<rt&&rt<ut){var dt=orient(lt,ct,et);if(dt===0)return 0;it^=0<dt|0}else if(rt===ut){var pt=_e[(at+1)%nt],mt=pt[1];if(ut<mt){var dt=orient(lt,ct,et);if(dt===0)return 0;it^=0<dt|0}}}else if(ut<ft){if(ut<rt&&rt<ft){var dt=orient(lt,ct,et);if(dt===0)return 0;it^=dt<0|0}else if(rt===ut){var pt=_e[(at+1)%nt],mt=pt[1];if(mt<ut){var dt=orient(lt,ct,et);if(dt===0)return 0;it^=dt<0|0}}}else if(rt===ut){var vt=Math.min(lt[0],ct[0]),ht=Math.max(lt[0],ct[0]);if(at===0){for(;st>0;){var yt=(st+nt-1)%nt,gt=_e[yt];if(gt[1]!==rt)break;var xt=gt[0];vt=Math.min(vt,xt),ht=Math.max(ht,xt),st=yt}if(st===0)return vt<=tt&&tt<=ht?0:1;ot=st+1}for(var _t=_e[(st+nt-1)%nt][1];at+1<ot;){var gt=_e[at+1];if(gt[1]!==rt)break;var xt=gt[0];vt=Math.min(vt,xt),ht=Math.max(ht,xt),at+=1}if(vt<=tt&&tt<=ht)return 0;var wt=_e[(at+1)%nt][1];tt<vt&&_t<rt!=wt<rt&&(it^=1)}}return 2*it-1}const robustPointInPolygon$1=getDefaultExportFromCjs(robustPnp);function arrayPointsToObjects(_e){const et=[];for(const tt of _e)et.push([tt.column,tt.row]);return et}function drawPolygonOnImage(_e,et,tt={}){const{fillColor:rt,origin:nt={column:0,row:0},...it}=tt;checkProcessable(_e,{bitDepth:[8,16]});const ot=getOutputImage(_e,tt,{clone:!0});if(rt===void 0)return ot.drawPolyline([...et,et[0]],{origin:nt,...it});{validateColor(rt,ot);const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let lt=0;lt<ot.height;lt++)for(let ct=0;ct<ot.width;ct++)robustPointInPolygon$1(st,[ct,lt])===-1&&ot.setPixel(Math.round(nt.column)+ct,Math.round(nt.row)+lt,rt)}return ot.drawPolyline([...et,et[0]],{origin:nt,...it})}function drawPolygonOnMask(_e,et,tt={}){const{filled:rt=!1,origin:nt={column:0,row:0},...it}=tt,ot=maskToOutputMask(_e,tt,{clone:!0});if(!rt)return ot.drawPolyline([...et,et[0]],{origin:nt,...it});const at=deleteDuplicates(et),st=arrayPointsToObjects(at);for(let lt=0;lt<ot.height;lt++)for(let ct=0;ct<ot.width;ct++)robustPointInPolygon$1(st,[ct,lt])===-1&&ot.setBit(Math.round(nt.column)+ct,Math.round(nt.row)+lt,1);return ot.drawPolyline([...et,et[0]],{origin:nt,...it})}function drawRectangle(_e,et={}){const{width:tt=_e.width,height:rt=_e.height,origin:nt={column:0,row:0},strokeColor:it=getDefaultColor(_e),fillColor:ot="none"}=et,at=Math.round(tt),st=Math.round(rt),lt=Math.round(nt.column),ct=Math.round(nt.row);let ut;if(_e instanceof Image$1?(checkProcessable(_e,{bitDepth:[8,16]}),ut=getOutputImage(_e,et,{clone:!0})):ut=maskToOutputMask(_e,et,{clone:!0}),it!=="none"){for(let ft=lt;ft<lt+at;ft++)ut.setVisiblePixel(ft,ct,it),ut.setVisiblePixel(ft,ct+st-1,it);for(let ft=ct+1;ft<ct+st-1;ft++)ut.setVisiblePixel(lt,ft,it),ut.setVisiblePixel(lt+at-1,ft,it)}if(ot!=="none")for(let ft=ct+1;ft<ct+st-1;ft++)for(let dt=lt+1;dt<lt+at-1;dt++)ut.setVisiblePixel(dt,ft,ot),ut.setVisiblePixel(dt,ft,ot);return ut}function drawPoints(_e,et,tt={}){const{color:rt=getDefaultColor(_e),origin:nt={row:0,column:0}}=tt;let it;_e instanceof Image$1?(it=getOutputImage(_e,tt,{clone:!0}),validateColor(rt,it)):it=maskToOutputMask(_e,tt,{clone:!0}),checkProcessable(it,{bitDepth:[1,8,16]});for(const ot of et)it.setVisiblePixel(Math.round(nt.column+ot.column),Math.round(nt.row+ot.row),rt);return it}function drawMarker(_e,et,tt){const rt=getOutputImage(_e,tt,{clone:!0}),{color:nt=getDefaultColor(rt),filled:it=!1,shape:ot="cross",size:at=1}=tt,st=Math.round(at);if(validateColor(nt,rt),checkProcessable(rt,{bitDepth:[8,16]}),ot==="circle"&&rt.drawCircle(et,st,{color:nt,fill:it?nt:void 0,out:rt}),ot==="triangle"){const lt=[{row:et.row-st,column:et.column},{row:et.row,column:et.column+st},{row:et.row,column:et.column-st}];rt.drawPolygon(lt,{strokeColor:nt,fillColor:it?nt:void 0,out:rt})}if(ot==="cross"&&(rt.drawLine({row:et.row-st,column:et.column},{row:et.row+st,column:et.column},{strokeColor:nt,out:rt}),rt.drawLine({row:et.row,column:et.column-st},{row:et.row,column:et.column+st},{strokeColor:nt,out:rt})),ot==="square"){const lt={row:et.row-(st-1)/2,column:et.column-(st-1)/2};rt.drawRectangle({origin:lt,width:st,height:st,strokeColor:nt,fillColor:it?nt:void 0,out:rt})}return rt}function drawMarkers(_e,et,tt={}){const rt=getOutputImage(_e,tt,{clone:!0});for(const nt of et)drawMarker(rt,nt,{...tt,out:rt});return rt}function and(_e,et,tt){const rt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both masks must have the same size");for(let nt=0;nt<rt.size;nt++)_e.getBitByIndex(nt)&&et.getBitByIndex(nt)?rt.setBitByIndex(nt,1):rt.setBitByIndex(nt,0);return rt}function checkSize(_e){if(!Number.isInteger(_e)||_e<1)throw new TypeError(`size must be a positive integer. Got ${_e}`)}function checkKernel$1(_e){if(_e.length===0||_e.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${_e.length}`)}function checkBorderType(_e){if(_e!=="CONSTANT"&&_e!=="CUT")throw new RangeError(`unexpected border type: ${_e}`)}function checkInputLength(_e,et){if(_e!==et)throw new RangeError(`input length (${_e}) does not match setup size (${et})`)}function createArray(_e){const et=[];for(var tt=0;tt<_e;tt++)et.push(0);return et}class DirectConvolution{constructor(et,tt,rt="CONSTANT"){checkSize(et),checkKernel$1(tt),checkBorderType(rt),this.size=et,this.kernelOffset=(tt.length-1)/2,this.outputSize=rt==="CONSTANT"?et:et-2*this.kernelOffset,this.output=createArray(this.outputSize),this.kernel=tt,this.kernelSize=tt.length,this.borderType=rt}convolve(et){return checkInputLength(et.length,this.size),this.output.fill(0),this.borderType==="CONSTANT"?this._convolutionBorder0(et):this._convolutionBorderCut(et),this.output}_convolutionBorder0(et){for(let tt=0;tt<this.size;tt++)for(let rt=0;rt<this.kernelSize;rt++)this.output[tt]+=interpolateInput(et,tt-this.kernelOffset+rt)*this.kernel[rt]}_convolutionBorderCut(et){for(let tt=this.kernelOffset;tt<this.size-this.kernelOffset;tt++){const rt=tt-this.kernelOffset;for(let nt=0;nt<this.kernelSize;nt++)this.output[rt]+=et[rt+nt]*this.kernel[nt]}}}function interpolateInput(_e,et){return et<0||et>=_e.length?0:_e[et]}const BorderType$1={CONSTANT:"CONSTANT",CUT:"CUT"},BorderType={CONSTANT:"constant",REPLICATE:"replicate",REFLECT:"reflect",WRAP:"wrap",REFLECT_101:"reflect101"};function getBorderInterpolation(_e,et){switch(_e){case"constant":return getInterpolateConstant(et);case"replicate":return interpolateReplicate;case"reflect":return interpolateReflect;case"reflect101":return interpolateReflect101;case"wrap":return interpolateWrap;default:throw new RangeError(`invalid border type: ${_e}`)}}function checkRange(_e,et){if(_e<=0-et||_e>=et+et-1)throw new RangeError("border must be smaller than the original image")}function getInterpolateConstant(_e){return function(tt,rt,nt,it){const ot=interpolateConstantPoint(tt,it.width),at=interpolateConstantPoint(rt,it.height);return ot===-1||at===-1?_e:it.getValue(ot,at,nt)}}function interpolateConstantPoint(_e,et){return _e>=0&&_e<et?_e:-1}function interpolateReplicate(_e,et,tt,rt){return rt.getValue(interpolateReplicatePoint(_e,rt.width),interpolateReplicatePoint(et,rt.height),tt)}function interpolateReplicatePoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0:et-1)}function interpolateReflect(_e,et,tt,rt){return rt.getValue(interpolateReflectPoint(_e,rt.width),interpolateReflectPoint(et,rt.height),tt)}function interpolateReflectPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?-1-_e:et+et-1-_e)}function interpolateWrap(_e,et,tt,rt){return rt.getValue(interpolateWrapPoint(_e,rt.width),interpolateWrapPoint(et,rt.height),tt)}function interpolateWrapPoint(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?et+_e:_e-et)}function interpolateReflect101(_e,et,tt,rt){return rt.getValue(interpolateReflect101Point(_e,rt.width),interpolateReflect101Point(et,rt.height),tt)}function interpolateReflect101Point(_e,et){return _e>=0&&_e<et?_e:(checkRange(_e,et),_e<0?0-_e:et+et-2-_e)}function extendBorders(_e,et){const{horizontal:tt,vertical:rt,borderType:nt="reflect101",borderValue:it=0}=et,ot=getBorderInterpolation(nt,it),at=Image$1.createFrom(_e,{width:_e.width+2*tt,height:_e.height+2*rt});_e.copyTo(at,{origin:{column:tt,row:rt},out:at});for(let st=0;st<rt;st++)for(let lt=0;lt<at.width;lt++)for(let ct=0;ct<_e.channels;ct++){const ut=ot(lt-tt,st-rt,ct,_e);at.setValue(lt,st,ct,ut)}for(let st=at.height-rt;st<at.height;st++)for(let lt=0;lt<at.width;lt++)for(let ct=0;ct<_e.channels;ct++){const ut=ot(lt-tt,st-rt,ct,_e);at.setValue(lt,st,ct,ut)}for(let st=rt;st<at.height-rt;st++)for(let lt=0;lt<tt;lt++)for(let ct=0;ct<_e.channels;ct++){const ut=ot(lt-tt,st-rt,ct,_e);at.setValue(lt,st,ct,ut)}for(let st=rt;st<at.height-rt;st++)for(let lt=at.width-tt;lt<at.width;lt++)for(let ct=0;ct<_e.channels;ct++){const ut=ot(lt-tt,st-rt,ct,_e);at.setValue(lt,st,ct,ut)}return at}function round(_e){const et=Math.trunc(_e),tt=_e-et;return tt<.5?et:tt>.5?et+1:et%2===0?et:et+1}function directConvolution(_e,et,tt={}){const{borderType:rt="reflect101",borderValue:nt=0}=tt,it=rawDirectConvolution(_e,et,{borderType:rt,borderValue:nt}),ot=getOutputImage(_e,tt),at=getClamp(ot);for(let st=0;st<_e.size;st++)for(let lt=0;lt<_e.channels;lt++){const ct=st*_e.channels+lt,ut=round(at(it[ct]));ot.setValueByIndex(st,lt,ut)}return ot}function rawDirectConvolution(_e,et,tt={}){const{borderType:rt="reflect101",borderValue:nt=0}=tt,it=getBorderInterpolation(rt,nt),ot=new Float64Array(_e.size*_e.channels);for(let at=0;at<_e.channels;at++)for(let st=0;st<_e.height;st++)for(let lt=0;lt<_e.width;lt++){const ct=getIndex(lt,st,_e,at);ot[ct]=computeConvolutionValue(lt,st,at,_e,et,it,{returnRawValue:!0})}return ot}function separableConvolution(_e,et,tt,rt={}){const{normalize:nt,borderType:it="reflect101",borderValue:ot=0}=rt;nt&&([et,tt]=normalizeSeparatedKernel(et,tt));const st=(et.length-1)/2,ct=(tt.length-1)/2,ut=extendBorders(_e,{horizontal:st,vertical:ct,borderType:it,borderValue:ot}),ft=Image$1.createFrom(_e),dt=getClamp(ft),pt=new DirectConvolution(ut.width,et,BorderType$1.CUT),mt=new DirectConvolution(ut.height,tt,BorderType$1.CUT),vt=new Float64Array(ut.width),ht=new Float64Array(ut.height),yt=new Float64Array(_e.width*ut.height);for(let gt=0;gt<ut.channels;gt++){for(let xt=0;xt<ut.height;xt++){for(let wt=0;wt<ut.width;wt++)vt[wt]=ut.getValue(wt,xt,gt);const _t=pt.convolve(vt);for(let wt=0;wt<_e.width;wt++)yt[xt*_e.width+wt]=_t[wt]}for(let xt=0;xt<_e.width;xt++){for(let wt=0;wt<ut.height;wt++)ht[wt]=yt[wt*_e.width+xt];const _t=mt.convolve(ht);for(let wt=0;wt<_e.height;wt++)ft.setValue(xt,wt,gt,round(dt(_t[wt])))}}return ft}function computeConvolutionValue(_e,et,tt,rt,nt,it,ot={}){let{clamp:at}=ot;const{returnRawValue:st=!1}=ot;st&&(at=void 0);let lt=0;const ct=nt[0].length,ut=nt.length,ft=(ct-1)/2,dt=(ut-1)/2;for(let pt=0;pt<ut;pt++)for(let mt=0;mt<ct;mt++){const vt=nt[pt][mt];lt+=vt*it(_e+mt-ft,et+pt-dt,tt,rt)}return at?round(at(lt)):lt}function normalizeSeparatedKernel(_e,et){const tt=_e.reduce((ot,at)=>ot+at,0),rt=et.reduce((ot,at)=>ot+at,0),nt=tt*rt;if(nt<0)throw new RangeError("this separated kernel cannot be normalized");const it=1/Math.sqrt(Math.abs(nt));return[_e.map(ot=>ot*it),et.map(ot=>ot*it)]}function blur(_e,et){const{width:tt,height:rt}=et,nt=new Array(tt).fill(1),it=new Array(rt).fill(1);return separableConvolution(_e,nt,it,{normalize:!0,...et})}function derivativeFilter(_e,et={}){const{filter:tt="sobel"}=et;let rt=SOBEL_X,nt=SOBEL_Y;switch(tt){case"sobel":break;case"scharr":rt=SCHARR_X,nt=SCHARR_Y;break;case"prewitt":rt=PREWITT_X,nt=PREWITT_Y;break;default:throw new RangeError(`invalid derivative filter: ${tt}`)}return _e.gradientFilter({kernelX:rt,kernelY:nt,...et})}const ImageColorModel={GREY:"GREY",GREYA:"GREYA",RGB:"RGB",RGBA:"RGBA",BINARY:"BINARY"},colorModels={GREY:{components:1,alpha:!1,channels:1},GREYA:{components:1,alpha:!0,channels:2},RGB:{components:3,alpha:!1,channels:3},RGBA:{components:3,alpha:!0,channels:4},BINARY:{components:1,alpha:!1,channels:1}};function increaseContrast(_e,et={}){const{uniform:tt=!1}=et;checkProcessable(_e,{bitDepth:[8,16]});const rt=_e.minMax();let nt=rt.min,it=rt.max;if(tt){let at=-1,st=-1;for(let lt=0;lt<rt.max.length;lt++){const ct=rt.max[lt]-rt.min[lt];ct>st&&(at=lt,st=ct)}nt=rt.min[at],it=rt.max[at]}let ot=new Array(_e.components).fill(0).map((at,st)=>st);return _e.colorModel===ImageColorModel.GREYA?ot=[0]:_e.colorModel===ImageColorModel.RGBA&&(ot=[0,1,2]),_e.level({inputMin:nt,inputMax:it,outputMin:0,outputMax:_e.maxValue,channels:ot,...et})}function gaussianBlur(_e,et){if("sigma"in et){const{sigma:tt,size:rt=getSize$1(tt),borderType:nt}=et,it=getRadius(rt),ot=getKernel(it,tt);return separableConvolution(_e,ot,ot,{borderType:nt})}else if("sigmaX"in et&&"sigmaY"in et){const{sigmaX:tt,sigmaY:rt,sizeX:nt=getSize$1(tt),sizeY:it=getSize$1(rt),borderType:ot}=et,at=getRadius(nt),st=getRadius(it),lt=getKernel(at,tt),ct=getKernel(st,rt);return separableConvolution(_e,lt,ct,{borderType:ot})}else throw new TypeError("you must either define sigma or sigmaX and sigmaY in the options argument")}function getKernel(_e,et){const tt=_e*2+1,rt=new Array(tt),nt=et||((tt-1)*.5-1)*.3+.8,it=-.5/(nt*nt);let ot=0;for(let at=0;at<tt;at++){const st=at-_e,lt=Math.exp(it*st*st);rt[at]=lt,ot+=lt}for(let at=0;at<tt;at++)rt[at]/=ot;return rt}function getSize$1(_e){return 2*Math.ceil(2*_e)+1}function gradientFilter(_e,et){const{borderType:tt="replicate",borderValue:rt=0}=et;if(checkProcessable(_e,{bitDepth:[8,16],colorModel:"GREY"}),"kernelX"in et&&"kernelY"in et){const{kernelX:nt,kernelY:it}=et,ot=_e.rawDirectConvolution(nt,{borderType:tt,borderValue:rt}),at=_e.rawDirectConvolution(it,{borderType:tt,borderValue:rt}),st=new Image$1(_e.width,_e.height,{colorModel:"GREY"});for(let lt=0;lt<_e.size;lt++)st.setValueByIndex(lt,0,Math.hypot(ot[lt],at[lt]));return st}else{if("kernelX"in et)return _e.directConvolution(et.kernelX,{borderType:tt,borderValue:rt});if("kernelY"in et)return _e.directConvolution(et.kernelY,{borderType:tt,borderValue:rt});throw new TypeError("kernelX and KernelY are not defined")}}function hypotenuse(_e,et,tt={}){const{channels:rt=new Array(_e.components).fill(0).map((it,ot)=>ot)}=tt;if(checkProcessable(_e,{bitDepth:[8,16]}),_e.width!==et.width||_e.height!==et.height)throw new RangeError("both images must have the same size");if(_e.alpha!==et.alpha||_e.bitDepth!==et.bitDepth)throw new RangeError("both images must have the same alpha and bitDepth");if(_e.channels!==et.channels)throw new RangeError("both images must have the same number of channels");validateChannels(rt,_e);const nt=getOutputImage(_e,{},{clone:!0});for(const it of rt)for(let ot=0;ot<_e.size;ot++){const at=Math.hypot(_e.getValueByIndex(ot,it),et.getValueByIndex(ot,it));nt.setValueByIndex(ot,it,at>nt.maxValue?nt.maxValue:at)}return nt}function invert(_e,et){if(_e instanceof Image$1){const tt=getOutputImage(_e,et);_e.alpha&&copyAlpha(_e,tt);const{maxValue:rt,size:nt}=tt;for(let it=0;it<nt;it++)for(let ot=0;ot<_e.components;ot++)tt.setValueByIndex(it,ot,rt-_e.getValueByIndex(it,ot));return tt}else{const tt=maskToOutputMask(_e,et);for(let rt=0;rt<tt.size;rt++)tt.setBitByIndex(rt,!_e.getBitByIndex(rt));return tt}}function level(_e,et={}){const tt=_e.minMax();let{inputMin:rt=tt.min,inputMax:nt=tt.max,outputMin:it=0,outputMax:ot=_e.maxValue,gamma:at=1}=et;const{channels:st=new Array(_e.components).fill(0).map((ut,ft)=>ft)}=et;validateChannels(st,_e),checkProcessable(_e,{bitDepth:[8,16]});const lt=getOutputImage(_e,et,{clone:!0}),ct=getClamp(_e);rt=getValueArray(rt,_e.channels),nt=getValueArray(nt,_e.channels),it=getValueArray(it,_e.channels),ot=getValueArray(ot,_e.channels),at=getValueArray(at,_e.channels);for(let ut=0;ut<_e.height;ut++)for(let ft=0;ft<_e.width;ft++)for(const dt of st){const pt=_e.getValue(ft,ut,dt),mt=Math.max(Math.min(pt,nt[dt]),rt[dt]);let vt=ct((mt-rt[dt])/(nt[dt]-rt[dt]));Number.isNaN(vt)&&(vt=0);const ht=ct(vt**(1/at[dt])*(ot[dt]-it[dt])+it[dt]);lt.setValue(ft,ut,dt,ht)}return lt}function getValueArray(_e,et){if(Array.isArray(_e)){if(_e.length===et)return _e;throw new RangeError("array length is not compatible with channel option")}else return new Array(et).fill(_e)}function or(_e,et,tt){const rt=maskToOutputMask(_e,tt);if(_e.width!==et.width||_e.height!==et.height)throw new RangeError("both masks must have the same size");for(let nt=0;nt<rt.size;nt++)_e.getBitByIndex(nt)||et.getBitByIndex(nt)?rt.setBitByIndex(nt,1):rt.setBitByIndex(nt,0);return rt}function flipX(_e){checkProcessable(_e,{bitDepth:[8,16]});for(let et=0;et<_e.height;et++)for(let tt=0;tt<Math.floor(_e.width/2);tt++){const rt=tt,nt=_e.width-tt-1;for(let it=0;it<_e.channels;it++){const ot=_e.getValue(rt,et,it);_e.setValue(rt,et,it,_e.getValue(nt,et,it)),_e.setValue(nt,et,it,ot)}}return _e}function flipY(_e){checkProcessable(_e,{bitDepth:[8,16]});for(let et=0;et<Math.floor(_e.height/2);et++)for(let tt=0;tt<_e.width;tt++){const rt=et,nt=_e.height-et-1;for(let it=0;it<_e.channels;it++){const ot=_e.getValue(tt,rt,it);_e.setValue(tt,rt,it,_e.getValue(tt,nt,it)),_e.setValue(tt,nt,it,ot)}}return _e}function flip(_e,et={}){const{axis:tt="horizontal"}=et,rt=getOutputImage(_e,et,{clone:!0});return tt==="horizontal"?flipX(rt):flipY(tt==="vertical"?rt:flipX(rt))}function medianFilter(_e,et){const{cellSize:tt=3,borderType:rt="reflect101",borderValue:nt}=et;if(checkProcessable(_e,{bitDepth:[8,16]}),tt<1)throw new RangeError("cellSize must be greater than 0");if(tt%2===0)throw new RangeError("cellSize must be an odd number");const it=getBorderInterpolation(rt,nt),ot=Image$1.createFrom(_e),at=tt**2,st=new Uint16Array(at),lt=(tt-1)/2;for(let ct=0;ct<_e.channels;ct++)for(let ut=0;ut<_e.height;ut++)for(let ft=0;ft<_e.width;ft++){let dt=0;for(let pt=-lt;pt<=lt;pt++)for(let mt=-lt;mt<=lt;mt++)st[dt++]=it(ft+mt,ut+pt,ct,_e);ot.setValue(ft,ut,ct,xMedian(st))}return ot}function pixelate(_e,et){const{cellSize:tt,algorithm:rt="center"}=et;if(!Number.isInteger(tt))throw new TypeError("cellSize must be an integer");if(tt<2)throw new RangeError("cellSize must be greater than 1");const nt=getOutputImage(_e,et),it=getCellValueFunction(rt);for(let ot=0;ot<_e.channels;ot++)for(let at=0;at<_e.width;at+=tt)for(let st=0;st<_e.height;st+=tt){const lt=Math.min(tt,_e.width-at),ct=Math.min(tt,_e.height-st),ut=it(_e,ot,{width:lt,height:ct,origin:{column:at,row:st}});for(let ft=at;ft<at+lt;ft++)for(let dt=st;dt<st+ct;dt++)nt.setValue(ft,dt,ot,ut)}return nt}function getCellCenter(_e,et,tt){const rt={column:Math.floor((tt.origin.column+tt.origin.column+tt.width-1)/2),row:Math.floor((tt.origin.row+tt.origin.row+tt.height-1)/2)};return _e.getValue(rt.column,rt.row,et)}function getCellMean(_e,et,tt){let rt=0;for(let nt=tt.origin.column;nt<tt.origin.column+tt.width;nt++)for(let it=tt.origin.row;it<tt.origin.row+tt.height;it++)rt+=_e.getValue(nt,it,et);return Math.round(rt/(tt.width*tt.height))}function getCellMedian(_e,et,tt){const rt=[];for(let nt=tt.origin.column;nt<tt.origin.column+tt.width;nt++)for(let it=tt.origin.row;it<tt.origin.row+tt.height;it++)rt.push(_e.getValue(nt,it,et));return xMedian(rt)}function getCellValueFunction(_e){switch(_e){case"mean":return getCellMean;case"median":return getCellMedian;case"center":return getCellCenter;default:assertUnreachable$1(_e);break}}const InterpolationType={NEAREST:"nearest",BILINEAR:"bilinear",BICUBIC:"bicubic"};function getInterpolationFunction(_e){switch(_e){case"nearest":return interpolateNearest;case"bilinear":return interpolateBilinear;case"bicubic":return interpolateBicubic;default:throw new RangeError(`invalid interpolationType: ${_e}`)}}function interpolateNearest(_e,et,tt,rt,nt){return et=Math.round(et),tt=Math.round(tt),nt(et,tt,rt,_e)}function interpolateBilinear(_e,et,tt,rt,nt){const it=Math.floor(et),ot=Math.floor(tt),at=it+1,st=ot+1;if(at<_e.width&&st<_e.height&&it>=0&&ot>=0){const lt=_e.getValue(it,ot,rt),ct=_e.getValue(at,ot,rt),ut=_e.getValue(it,st,rt),ft=_e.getValue(at,st,rt),dt=(at-et)*lt+(et-it)*ct,pt=(at-et)*ut+(et-it)*ft;return round((st-tt)*dt+(tt-ot)*pt)}else{const lt=nt(it,ot,rt,_e),ct=nt(at,ot,rt,_e),ut=nt(it,st,rt,_e),ft=nt(at,st,rt,_e),dt=(at-et)*lt+(et-it)*ct,pt=(at-et)*ut+(et-it)*ft;return round((st-tt)*dt+(tt-ot)*pt)}}function interpolateBicubic(_e,et,tt,rt,nt,it){const ot=Math.floor(et),at=Math.floor(tt);if(ot===et&&at===tt)return nt(ot,at,rt,_e);const st=et-ot,lt=tt-at,ct=nt(ot-1,at-1,rt,_e),ut=nt(ot,at-1,rt,_e),ft=nt(ot+1,at-1,rt,_e),dt=nt(ot+2,at-1,rt,_e),pt=cubic(ct,ut,ft,dt,st),mt=nt(ot-1,at,rt,_e),vt=nt(ot,at,rt,_e),ht=nt(ot+1,at,rt,_e),yt=nt(ot+2,at,rt,_e),gt=cubic(mt,vt,ht,yt,st),xt=nt(ot-1,at+1,rt,_e),_t=nt(ot,at+1,rt,_e),wt=nt(ot+1,at+1,rt,_e),Et=nt(ot+2,at+1,rt,_e),St=cubic(xt,_t,wt,Et,st),Ct=nt(ot-1,at+2,rt,_e),bt=nt(ot,at+2,rt,_e),At=nt(ot+1,at+2,rt,_e),Tt=nt(ot+2,at+2,rt,_e),Ot=cubic(Ct,bt,At,Tt,st);return round(it(cubic(pt,gt,St,Ot,lt)))}function cubic(_e,et,tt,rt,nt){return et+.5*nt*(tt-_e+nt*(2*_e-5*et+4*tt-rt+nt*(3*(et-tt)+rt-_e)))}function resize$1(_e,et){const{interpolationType:tt="bilinear",borderType:rt="constant",borderValue:nt=0}=et,{width:it,height:ot}=checkOptions(_e,et),at=Image$1.createFrom(_e,{width:it,height:ot}),st=getInterpolationFunction(tt),lt=getBorderInterpolation(rt,nt),ct=getClamp(at),ut=(_e.width-1)/(it-1),ft=(_e.height-1)/(ot-1);for(let dt=0;dt<at.height;dt++)for(let pt=0;pt<at.width;pt++){const mt=pt*ut,vt=dt*ft;for(let ht=0;ht<at.channels;ht++){const yt=st(_e,mt,vt,ht,lt,ct);at.setValue(pt,dt,ht,yt)}}return at}function checkOptions(_e,et){const{width:tt,height:rt,xFactor:nt,yFactor:it,preserveAspectRatio:ot=!0}=et;if(tt===void 0&&rt===void 0&&nt===void 0&&it===void 0)throw new TypeError("at least one of the width, height, xFactor or yFactor options must be passed");let at,st;const lt=getSize(tt,nt,_e.width,ot),ct=getSize(rt,it,_e.height,ot);return lt===void 0?(assert$1(ct!==void 0),at=Math.round(ct*(_e.width/_e.height))):at=lt,ct===void 0?(assert$1(lt!==void 0),st=Math.round(lt*(_e.height/_e.width))):st=ct,{width:at,height:st,xFactor:nt??at/_e.width,yFactor:it??st/_e.height}}function getSize(_e,et,tt,rt){if(_e===void 0){if(et!==void 0)return Math.round(tt*et);if(!rt)return tt}else{if(et!==void 0)throw new TypeError("factor and size cannot be passed together");return _e}}function rotate(_e,et){const tt=et%180===0?_e.width:_e.height,rt=et%180===0?_e.height:_e.width,nt=Image$1.createFrom(_e,{width:tt,height:rt});if(et===90||et===-270)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)nt.setValue(nt.width-ot-1,it,at,_e.getValue(it,ot,at));else if(et===180||et===-180)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)nt.setValue(nt.width-it-1,nt.height-ot-1,at,_e.getValue(it,ot,at));else if(et===270||et===-90)for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.height;ot++)for(let at=0;at<_e.channels;at++)nt.setValue(ot,nt.height-it-1,at,_e.getValue(it,ot,at));else throw new RangeError(`invalid angle: ${et}`);return nt}function transform(_e,et,tt={}){const{borderType:rt="constant",borderValue:nt=0,interpolationType:it="bilinear",fullImage:ot}=tt;let{width:at=_e.width,height:st=_e.height}=tt;if(ot){et=et.map(bt=>bt.slice()),et[0][2]=0,et[1][2]=0;const dt=[_e.getCoordinates("top-left"),_e.getCoordinates("top-right"),_e.getCoordinates("bottom-right"),_e.getCoordinates("bottom-left")];dt[1].column+=1,dt[2].column+=1,dt[2].row+=1,dt[3].row+=1;const pt=dt.map(bt=>[transformPoint(et[0],bt.column,bt.row),transformPoint(et[1],bt.column,bt.row)]),mt=pt.map(bt=>bt[0]),vt=pt.map(bt=>bt[1]),ht=Math.max(...mt),yt=Math.max(...vt),gt=Math.min(...mt),xt=Math.min(...vt),_t=[(_e.width-1)/2,(_e.height-1)/2];at=ht-gt,st=yt-xt;const wt=transformPoint(et[0],_t[0],_t[1]),Et=transformPoint(et[1],_t[0],_t[1]),St=(at-1)/2-wt,Ct=(st-1)/2-Et;et[0][2]=St,et[1][2]=Ct,at=Math.round(at),st=Math.round(st)}if(et.length!==2||et[0].length!==3||et[1].length!==3)throw new TypeError(`transformation matrix must be 2x3. Received ${et.length}x${et[1].length}`);tt.inverse||(et=[et[0],et[1],[0,0,1]],et=inverse(new Matrix(et)).to2DArray());const lt=Image$1.createFrom(_e,{width:at,height:st}),ct=getBorderInterpolation(rt,nt),ut=getClamp(lt),ft=getInterpolationFunction(it);for(let dt=0;dt<lt.height;dt++)for(let pt=0;pt<lt.width;pt++){const mt=transformPoint(et[0],pt,dt),vt=transformPoint(et[1],pt,dt);for(let ht=0;ht<lt.channels;ht++){const yt=ft(_e,mt,vt,ht,ct,ut);lt.setValue(pt,dt,ht,yt)}}return lt}function transformPoint(_e,et,tt){return _e[0]*et+_e[1]*tt+_e[2]}function transformRotate(_e,et,tt={}){const{center:rt="center",scale:nt=1,...it}=tt;let ot;typeof rt=="string"?ot=_e.getCoordinates(rt):ot=rt;const at=getRotationMatrix(et,ot,nt);return transform(_e,at,it)}function getRotationMatrix(_e,et,tt){const rt=_e*Math.PI/180,nt=tt*Math.cos(rt),it=tt*Math.sin(rt);return[[nt,it,(1-nt)*et.column-it*et.row],[-it,nt,it*et.column+(1-nt)*et.row]]}function checkKernel(_e){if(_e.length%2===0||_e[0].length%2===0)throw new TypeError("the number of rows and columns of the kernel must be odd")}function erode(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);const{kernel:rt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(rt);let it=!0;if(!tt){e:for(const at of rt)for(const st of at)if(st!==1){it=!1;break e}}let ot=_e;for(let at=0;at<nt;at++)if(ot instanceof Mask)if(it){const st=ot.clone();ot=erodeMaskOnlyOnes(ot,st,rt[0].length,rt.length)}else{const st=Mask.createFrom(_e);ot=erodeMask(ot,st,rt)}else if(it){const st=Image$1.createFrom(_e);ot=erodeGreyOnlyOnes(ot,st,rt[0].length,rt.length)}else{const st=Image$1.createFrom(_e);ot=erodeGrey(ot,st,rt)}return ot}function erodeGrey(_e,et,tt){const rt=tt[0].length,nt=tt.length,it=(rt-1)/2,ot=(nt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ct=0;ct<nt;ct++)for(let ut=0;ut<rt;ut++){if(tt[ct][ut]!==1)continue;const ft=ut-it+st,dt=ct-ot+at;if(ft<0||dt<0||ft>=_e.width||dt>=_e.height)continue;const pt=_e.getValue(ft,dt,0);pt<lt&&(lt=pt)}et.setValue(st,at,0,lt)}return et}function erodeGreyOnlyOnes(_e,et,tt,rt){const nt=(tt-1)/2,it=(rt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ct=Math.max(0,at-it);ct<Math.min(_e.height,at+it+1);ct++){const ut=_e.getValue(st,ct,0);ut<lt&&(lt=ut)}ot[st]=lt}for(let st=0;st<_e.width;st++){let lt=_e.maxValue;for(let ct=Math.max(0,st-nt);ct<Math.min(_e.width,st+nt+1);ct++)ot[ct]<lt&&(lt=ot[ct]);et.setValue(st,at,0,lt)}}return et}function erodeMask(_e,et,tt){const rt=tt[0].length,nt=tt.length,it=(rt-1)/2,ot=(nt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=1;for(let ct=0;ct<nt;ct++)for(let ut=0;ut<rt;ut++){if(tt[ct][ut]!==1)continue;const ft=ut-it+st,dt=ct-ot+at;if(dt<0||ft<0||ft>=_e.width||dt>=_e.height)continue;if(_e.getBit(ft,dt)===0){lt=0;break}}lt===1&&et.setBit(st,at,1)}return et}function erodeMaskOnlyOnes(_e,et,tt,rt){const nt=(tt-1)/2,it=(rt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){ot[st]=1;for(let lt=Math.max(0,at-it);lt<Math.min(_e.height,at+it+1);lt++)if(_e.getBit(st,lt)===0){ot[st]=0;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==0){for(let lt=Math.max(0,st-nt);lt<Math.min(_e.width,st+nt+1);lt++)if(ot[lt]===0){et.setBit(st,at,0);break}}}return et}function dilate(_e,et={}){let tt=!1;et.kernel===void 0&&(tt=!0);const{kernel:rt=[[1,1,1],[1,1,1],[1,1,1]],iterations:nt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(rt);let it=!0;if(!tt){e:for(const at of rt)for(const st of at)if(st!==1){it=!1;break e}}let ot=_e;for(let at=0;at<nt;at++)if(ot instanceof Mask)if(it){const st=ot.clone();ot=dilatMaskOnlyOnes(ot,st,rt[0].length,rt.length)}else{const st=Mask.createFrom(ot);ot=dilateMask(ot,st,rt)}else if(it){const st=Image$1.createFrom(ot);ot=dilateGreyOnlyOnes(ot,st,rt[0].length,rt.length)}else{const st=Image$1.createFrom(ot);ot=dilateGrey(ot,st,rt)}return ot}function dilateGrey(_e,et,tt){const rt=tt[0].length,nt=tt.length,it=(rt-1)/2,ot=(nt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=0;for(let ct=0;ct<nt;ct++)for(let ut=0;ut<rt;ut++){if(tt[ct][ut]!==1)continue;const ft=ut-it+st,dt=ct-ot+at;if(ft<0||dt<0||ft>=_e.width||dt>=_e.height)continue;const pt=_e.getValue(ft,dt,0);pt>lt&&(lt=pt)}et.setValue(st,at,0,lt)}return et}function dilateGreyOnlyOnes(_e,et,tt,rt){const nt=(tt-1)/2,it=(rt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(0);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){let lt=0;for(let ct=Math.max(0,at-it);ct<Math.min(_e.height,at+it+1);ct++){const ut=_e.getValue(st,ct,0);ut>lt&&(lt=ut)}ot[st]=lt}for(let st=0;st<_e.width;st++){let lt=0;for(let ct=Math.max(0,st-nt);ct<Math.min(_e.width,st+nt+1);ct++)ot[ct]>lt&&(lt=ot[ct]);et.setValue(st,at,0,lt)}}return et}function dilateMask(_e,et,tt){const rt=tt[0].length,nt=tt.length,it=(rt-1)/2,ot=(nt-1)/2;for(let at=0;at<_e.height;at++)for(let st=0;st<_e.width;st++){let lt=0;for(let ct=0;ct<nt;ct++)for(let ut=0;ut<rt;ut++){if(tt[ct][ut]!==1)continue;const ft=ut-it+st,dt=ct-ot+at;if(dt<0||ft<0||ft>=_e.width||dt>=_e.height)continue;if(_e.getBit(ft,dt)===1){lt=1;break}}lt===1&&et.setBit(st,at,1)}return et}function dilatMaskOnlyOnes(_e,et,tt,rt){const nt=(tt-1)/2,it=(rt-1)/2,ot=[];for(let at=0;at<_e.width;at++)ot.push(1);for(let at=0;at<_e.height;at++){for(let st=0;st<_e.width;st++){ot[st]=0;for(let lt=Math.max(0,at-it);lt<Math.min(_e.height,at+it+1);lt++)if(_e.getBit(st,lt)===1){ot[st]=1;break}}for(let st=0;st<_e.width;st++)if(et.getBit(st,at)!==1){for(let lt=Math.max(0,st-nt);lt<Math.min(_e.width,st+nt+1);lt++)if(ot[lt]===1){et.setBit(st,at,1);break}}}return et}function open(_e,et={}){const{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(tt);let nt=_e;for(let it=0;it<rt;it++)nt=nt.erode({kernel:tt}),nt=nt.dilate({kernel:tt});return nt}function close(_e,et={}){const{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(tt);let nt=_e;for(let it=0;it<rt;it++)nt=nt.dilate({kernel:tt}).erode({kernel:tt});return nt}function topHat(_e,et={}){const{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(tt);let nt=_e;for(let it=0;it<rt;it++){const ot=nt.open({kernel:tt});nt=subtract(ot,nt,{absolute:!0})}return nt}function bottomHat(_e,et={}){const{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(tt);let nt=_e;for(let it=0;it<rt;it++){const ot=nt.close({kernel:tt});nt=subtract(ot,nt,{absolute:!0})}return nt}function morphologicalGradient(_e,et={}){const{kernel:tt=[[1,1,1],[1,1,1],[1,1,1]],iterations:rt=1}=et;_e instanceof Image$1&&checkProcessable(_e,{bitDepth:[1,8,16],components:1,alpha:!1}),checkKernel(tt);let nt=_e;for(let it=0;it<rt;it++){const ot=nt.dilate({kernel:tt}),at=nt.erode({kernel:tt});nt=subtract(ot,at,{absolute:!0})}return nt}function*borderIterator(_e){for(let et=0;et<_e.width;et++)yield et;for(let et=2;et<_e.height;et++)yield et*_e.width-1;for(let et=0;et<_e.width;et++)yield _e.width*_e.height-et-1;for(let et=_e.height-2;et>=1;et--)yield et*_e.width}const MAX_ARRAY=65536,toProcess=new Uint32Array(MAX_ARRAY);function multipleFloodFill(_e,et={}){const{startPixels:tt=[0],startPixelValue:rt=0,newPixelValue:nt=1,allowCorners:it=!1}=et,ot=maskToOutputMask(_e,et,{clone:!0}),at=Mask.createFrom(_e);let st=0,lt=0;for(const ut of tt)ot.getBitByIndex(ut)===rt&&(toProcess[lt++%MAX_ARRAY]=ut,at.setBitByIndex(ut,1),ot.setBitByIndex(ut,nt));for(;st<lt;){assert$1(lt-st<=MAX_ARRAY);const ut=toProcess[st++%MAX_ARRAY];ot.setBitByIndex(ut,nt);const ft=ut<_e.width,dt=ut%_e.width===0,pt=ut%_e.width===_e.width-1,mt=ut>_e.size-_e.width;if(!mt){const vt=ut+_e.width;ct(vt)}if(!dt){const vt=ut-1;ct(vt)}if(!ft){const vt=ut-_e.width;ct(vt)}if(!pt){const vt=ut+1;ct(vt)}if(it){if(!ft){if(!dt){const vt=ut-_e.width-1;ct(vt)}if(!pt){const vt=ut-_e.width+1;ct(vt)}}if(!mt){if(!dt){const vt=ut+_e.width-1;ct(vt)}if(!pt){const vt=ut+_e.width+1;ct(vt)}}}}function ct(ut){at.getBitByIndex(ut)||ot.getBitByIndex(ut)===rt&&(toProcess[lt++%MAX_ARRAY]=ut,at.setBitByIndex(ut,1))}return ot}function clearBorder(_e,et={}){const{allowCorners:tt=!1,out:rt,color:nt="white"}=et;return multipleFloodFill(_e,{startPixels:borderIterator(_e),startPixelValue:nt==="white"?1:0,newPixelValue:nt==="white"?0:1,allowCorners:tt,out:rt})}const kernelX=[[-1,0,1],[-2,0,2],[-1,0,1]],kernelY=[[-1,-2,-1],[0,0,0],[1,2,1]];function cannyEdgeDetector(_e,et={}){const{hysteresis:tt=!0,lowThreshold:rt=.04,highThreshold:nt=.1,gaussianBlurOptions:it={sigma:1}}=et,ot=rt*_e.maxValue,at=nt*_e.maxValue;checkProcessable(_e,{colorModel:"GREY"});const st=_e.width,lt=_e.height,ct=_e.gaussianBlur(it),ut=ct.rawDirectConvolution(kernelY),ft=ct.rawDirectConvolution(kernelX),dt=new Float64Array(_e.size);for(let ht=0;ht<_e.size;ht++)dt[ht]=Math.hypot(ut[ht],ft[ht]);const pt=new Float64Array(_e.size),mt=new Float64Array(_e.size),vt=imageToOutputMask(_e,et);for(let ht=1;ht<st-1;ht++)for(let yt=1;yt<lt-1;yt++){const gt=ut[getIndex(ht,yt,_e,0)],xt=ft[getIndex(ht,yt,_e,0)],_t=getDirection(gt,xt),wt=dt[getIndex(ht,yt,_e,0)];(_t===0&&wt>=dt[getIndex(ht,yt-1,_e,0)]&&wt>=dt[getIndex(ht,yt+1,_e,0)]||_t===1&&wt>=dt[getIndex(ht-1,yt-1,_e,0)]&&wt>=dt[getIndex(ht+1,yt+1,_e,0)]||_t===2&&wt>=dt[getIndex(ht-1,yt,_e,0)]&&wt>=dt[getIndex(ht+1,yt,_e,0)]||_t===3&&wt>=dt[getIndex(ht-1,yt+1,_e,0)]&&wt>=dt[getIndex(ht+1,yt-1,_e,0)])&&(pt[getIndex(ht,yt,_e,0)]=wt)}for(let ht=0;ht<st*lt;++ht){const yt=pt[ht];let gt=0;yt>at&&(gt++,vt.setBitByIndex(ht,1)),yt>ot&&gt++,mt[ht]=gt}if(tt){let ht=[];for(let yt=1;yt<st-1;++yt)for(let gt=1;gt<lt-1;++gt)if(mt[getIndex(yt,gt,_e,0)]===1){e:for(let xt=yt-1;xt<yt+2;++xt)for(let _t=gt-1;_t<gt+2;++_t)if(mt[getIndex(xt,_t,_e,0)]===2){ht.push([yt,gt]),vt.setValue(yt,gt,0,1);break e}}for(;ht.length>0;){const yt=[];for(const gt of ht)for(let xt=-1;xt<2;++xt)for(let _t=-1;_t<2;++_t){if(xt===0&&_t===0)continue;const wt=gt[0]+xt,Et=gt[1]+_t;mt[getIndex(Et,wt,_e,0)]===1&&vt.getValue(Et,wt,0)===0&&(yt.push([wt,Et]),vt.setValue(Et,wt,0,1))}ht=yt}}return vt}function getDirection(_e,et){return(Math.round(Math.atan2(et,_e)*(4/Math.PI))+4)%4}function floodFill(_e,et={}){const{origin:tt={row:0,column:0},allowCorners:rt=!1,out:nt}=et,it=getIndex(tt.column,tt.row,_e);return multipleFloodFill(_e,{startPixels:[it],allowCorners:rt,out:nt})}function solidFill(_e,et={}){const{allowCorners:tt=!1}=et,rt=maskToOutputMask(_e,et,{clone:!0}),it=_e.invert().clearBorder({allowCorners:tt});return rt.or(it,{out:rt})}function convertColor(_e,et,tt={}){const rt=new Map([["GREY",["GREYA","RGB","RGBA"]],["GREYA",["GREY","RGB","RGBA"]],["RGB",["GREY","GREYA","RGBA"]],["RGBA",["GREY","GREYA","RGB"]],["BINARY",["GREY","RGB","RGBA"]]]);if(_e.colorModel===et)throw new TypeError(`cannot convert color, image is already ${et}`);const nt=rt.get(_e.colorModel);if(!(nt!=null&&nt.includes(et)))throw new RangeError(`conversion from ${_e.colorModel} to ${et} not implemented`);if(_e instanceof Image$1){const it=getOutputImage(_e,tt,{newParameters:{colorModel:et}});return(_e.colorModel==="GREY"||_e.colorModel==="GREYA")&&convertGreyToAny(_e,it),(_e.colorModel==="RGB"||_e.colorModel==="RGBA")&&(et==="RGB"||et==="RGBA"?convertRgbToRgb(_e,it):convertRgbToGrey(_e,it)),!_e.alpha&&it.alpha&&it.fillAlpha(it.maxValue),_e.alpha&&it.alpha&&copyAlpha(_e,it),it}else if(et==="GREY"){const it=maskToOutputImage(_e,tt);return convertBinaryToGrey(_e,it),it}else{const it=new Image$1(_e.width,_e.height,{colorModel:et});return convertBinaryToRgb(_e,it),it}}function copyAlpha(_e,et){if(_e.size!==et.size)throw new RangeError("source and destination have different sizes");if(!_e.alpha)throw new RangeError("source image does not have alpha");if(!et.alpha)throw new RangeError("destination does not have alpha");for(let tt=0;tt<et.size;tt++)et.setValueByIndex(tt,et.channels-1,_e.getValueByIndex(tt,_e.channels-1))}function convertGreyToAny(_e,et){for(let tt=0;tt<_e.size;tt++)for(let rt=0;rt<et.components;rt++)et.setValueByIndex(tt,rt,_e.getValueByIndex(tt,0))}function convertRgbToRgb(_e,et){for(let tt=0;tt<_e.size;tt++)for(let rt=0;rt<3;rt++)et.setValueByIndex(tt,rt,_e.getValueByIndex(tt,rt))}function convertRgbToGrey(_e,et){for(let tt=0;tt<_e.size;tt++){const rt=_e.getValueByIndex(tt,0),nt=_e.getValueByIndex(tt,1),it=_e.getValueByIndex(tt,2);et.setValueByIndex(tt,0,Math.round(.299*rt+.587*nt+.114*it))}}function convertBinaryToGrey(_e,et){for(let tt=0;tt<_e.size;tt++)et.setValueByIndex(tt,0,_e.getBitByIndex(tt)?et.maxValue:0)}function convertBinaryToRgb(_e,et){const tt=new Array(et.components).fill(0),rt=new Array(et.components).fill(et.maxValue);et.alpha&&(tt.push(et.maxValue),rt.push(et.maxValue));for(let nt=0;nt<_e.size;nt++)et.setPixelByIndex(nt,_e.getBitByIndex(nt)?rt:tt)}function convertBitDepth(_e,et){if(_e.bitDepth===et)throw new RangeError("cannot convert image to same bitDepth");return et===16?convertToUint16(_e):convertToUint8(_e)}function convertToUint16(_e){const et=new Image$1(_e.width,_e.height,{bitDepth:16,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let rt=0;rt<et.channels;rt++)et.setValueByIndex(tt,rt,_e.getValueByIndex(tt,rt)<<8);return et}function convertToUint8(_e){const et=new Image$1(_e.width,_e.height,{bitDepth:8,colorModel:_e.colorModel,origin:_e.origin});for(let tt=0;tt<_e.size;tt++)for(let rt=0;rt<et.channels;rt++)et.setValueByIndex(tt,rt,_e.getValueByIndex(tt,rt)>>8);return et}function checkPointIsInteger(_e,et="Point"){if(!Number.isInteger(_e.row)||!Number.isInteger(_e.column))throw new TypeError(`${et} row and column must be integers`)}function extract(_e,et,tt={}){const{origin:rt={row:0,column:0}}=tt,{row:nt,column:it}=rt;assert$1(nt<_e.height&&it<_e.width&&nt+et.width>0&&it+et.height>0,"extract: image and mask have no overlap"),checkPointIsInteger(rt,"Origin");const ot=Math.min(_e.width,et.width+it)-Math.max(0,it),at=Math.min(_e.height,et.height+nt)-Math.max(0,nt);let st=new Image$1(ot,at,{colorModel:_e.colorModel,origin:rt});st.alpha&&(st=st.fillAlpha(0));const lt=Math.max(0,nt),ct=Math.max(0,it),ut=nt<0?-nt:0,ft=it<0?-it:0;for(let dt=0;dt<at;dt++)for(let pt=0;pt<ot;pt++)et.getBit(ft+pt,ut+dt)&&st.setPixel(pt,dt,_e.getPixel(ct+pt,lt+dt));return st}function split(_e){const et=[];for(let tt=0;tt<_e.channels;tt++){const rt=Image$1.createFrom(_e,{colorModel:"GREY"});for(let nt=0;nt<rt.size;nt++)rt.setValueByIndex(nt,0,_e.getValueByIndex(nt,tt));et.push(rt)}return et}function huang(_e){let et=0;for(let ct=0;ct<_e.length;ct++)if(_e[ct]!==0){et=ct;break}let tt=_e.length-1;for(let ct=_e.length-1;ct>=et;ct--)if(_e[ct]!==0){tt=ct;break}const rt=1/(tt-et),nt=new Array(_e.length);let it=0,ot=0;for(let ct=et;ct<_e.length;ct++)it+=ct*_e[ct],ot+=_e[ct],nt[ct]=it/ot;const at=new Array(_e.length);it=0,ot=0;for(let ct=tt;ct>0;ct--)it+=ct*_e[ct],ot+=_e[ct],at[ct-1]=it/ot;let st=-1,lt=Number.MAX_VALUE;for(let ct=0;ct<_e.length;ct++){let ut=0,ft;for(let dt=0;dt<=ct;dt++)ft=1/(1+rt*Math.abs(dt-nt[ct])),ft<1e-6||ft>.999999||(ut+=_e[dt]*(-ft*Math.log(ft)-(1-ft)*Math.log(1-ft)));for(let dt=ct+1;dt<_e.length;dt++)ft=1/(1+rt*Math.abs(dt-at[ct])),ft<1e-6||ft>.999999||(ut+=_e[dt]*(-ft*Math.log(ft)-(1-ft)*Math.log(1-ft)));ut<lt&&(lt=ut,st=ct)}return st}function intermodes(_e){const et=_e.slice();let tt=0;for(;!bimodalTest$1(et);){let nt=0,it=0,ot=et[0];for(let at=0;at<_e.length-1;at++)nt=it,it=ot,ot=et[at+1],et[at]=(nt+it+ot)/3;et[_e.length-1]=(it+ot)/3,tt++,assert$1(tt<1e3,"Intermodes threshold not found after 1000 iterations")}let rt=0;for(let nt=1;nt<_e.length-1;nt++)et[nt-1]<et[nt]&&et[nt+1]<et[nt]&&(rt+=nt);return Math.floor(rt/2)}function bimodalTest$1(_e){let et=!1,tt=0;for(let rt=1;rt<_e.length-1;rt++)if(_e[rt-1]<_e[rt]&&_e[rt+1]<_e[rt]&&(tt++,tt>2))return!1;return tt===2&&(et=!0),et}function isodata(_e){let et,tt,rt,nt,it=0;for(let ot=1;ot<_e.length;ot++)if(_e[ot]>0){it=ot+1;break}for(;;){et=0,rt=0;for(let ot=0;ot<it;ot++)rt=rt+_e[ot],et=et+_e[ot]*ot;nt=0,tt=0;for(let ot=it+1;ot<_e.length;ot++)tt+=_e[ot],nt+=_e[ot]*ot;if(rt>0&&tt>0&&(et/=rt,nt/=tt,it===Math.round((et+nt)/2)))break;it++,assert$1(it<=_e.length-2,"Threshold not found")}return it}function li(_e,et){let tt,rt,nt,it,ot,at,st,lt,ct,ut,dt;ut=0;for(let pt=0;pt<_e.length;pt++)ut+=pt*_e[pt];ut/=et,st=ut;do{at=st,tt=at+.5|0,rt=0,it=0;for(let pt=0;pt<=tt;pt++)rt+=pt*_e[pt],it+=_e[pt];lt=it===0?0:rt/it,nt=0,ot=0;for(let pt=tt+1;pt<_e.length;pt++)nt+=pt*_e[pt],ot+=_e[pt];ct=ot===0?0:nt/ot,dt=(lt-ct)/(Math.log(lt)-Math.log(ct)),dt<-Number.EPSILON?st=dt-.5|0:st=dt+.5|0}while(Math.abs(st-at)>.5);return tt}function maxEntropy(_e,et){const tt=new Array(_e.length);for(let ft=0;ft<_e.length;ft++)tt[ft]=_e[ft]/et;const rt=new Array(_e.length),nt=new Array(_e.length);rt[0]=tt[0],nt[0]=1-rt[0];for(let ft=1;ft<_e.length;ft++)rt[ft]=rt[ft-1]+tt[ft],nt[ft]=1-rt[ft];let it=0;for(let ft=0;ft<_e.length;ft++)if(Math.abs(rt[ft])>=Number.EPSILON){it=ft;break}let ot=_e.length-1;for(let ft=_e.length-1;ft>=it;ft--)if(Math.abs(nt[ft])>=Number.EPSILON){ot=ft;break}let at=-1,st,lt=Number.MIN_VALUE,ct,ut;for(let ft=it;ft<=ot;ft++){ct=0;for(let dt=0;dt<=ft;dt++)_e[dt]!==0&&(ct-=tt[dt]/rt[ft]*Math.log(tt[dt]/rt[ft]));ut=0;for(let dt=ft+1;dt<_e.length;dt++)_e[dt]!==0&&(ut-=tt[dt]/nt[ft]*Math.log(tt[dt]/nt[ft]));st=ct+ut,lt<st&&(lt=st,at=ft)}return at}function mean(_e,et){let tt=0;for(let rt=0;rt<_e.length;rt++)tt+=rt*_e[rt];return Math.floor(tt/et)}function minError(_e,et){let tt,rt=-2,nt,it,ot,at,st,lt,ct,ut,ft,dt,pt,mt=0;for(let vt=0;vt<_e.length;vt++)mt+=vt*_e[vt];for(mt/=et,tt=mt;tt!==rt;){const vt=sumA(_e,tt),ht=sumA(_e,_e.length-1),yt=sumB(_e,tt),gt=sumB(_e,_e.length-1),xt=sumC(_e,tt),_t=sumC(_e,_e.length-1);if(nt=yt/vt,it=(gt-yt)/(ht-vt),ot=vt/ht,at=(ht-vt)/ht,st=xt/vt-nt*nt,lt=(_t-xt)/(ht-vt)-it*it,ct=1/st-1/lt,ut=nt/st-it/lt,ft=nt*nt/st-it*it/lt+Math.log10(st*(at*at)/(lt*(ot*ot))),dt=ut*ut-ct*ft,dt<0)return tt;rt=tt,pt=(ut+Math.sqrt(dt))/ct,Number.isNaN(pt)?tt=rt:tt=Math.floor(pt)}return tt}function sumA(_e,et){let tt=0;for(let rt=0;rt<=et;rt++)tt+=_e[rt];return tt}function sumB(_e,et){let tt=0;for(let rt=0;rt<=et;rt++)tt+=rt*_e[rt];return tt}function sumC(_e,et){let tt=0;for(let rt=0;rt<=et;rt++)tt+=rt*rt*_e[rt];return tt}function minimum(_e){if(_e.length<2)return 0;let et=0,tt=-1,rt=-1,nt=new Array(_e.length);for(let it=0;it<_e.length;it++)nt[it]=_e[it],_e[it]>0&&(rt=it);for(;!bimodalTest(nt);)if(nt=smoothed(nt),et++,et>1e4)return tt;for(let it=1;it<rt;it++)if(nt[it-1]>nt[it]&&nt[it+1]>=nt[it]){tt=it;break}return tt}function smoothed(_e){const et=new Array(_e.length);for(let tt=1;tt<_e.length-1;tt++)et[tt]=(_e[tt-1]+_e[tt]+_e[tt+1])/3;return et[0]=(_e[0]+_e[1])/3,et[_e.length-1]=(_e.at(-2)+_e.at(-1))/3,et}function bimodalTest(_e){const et=_e.length;let tt=!1,rt=0;for(let nt=1;nt<et-1;nt++)if(_e[nt-1]<_e[nt]&&_e[nt+1]<_e[nt]&&(rt++,rt>2))return!1;return rt===2&&(tt=!0),tt}function moments(_e,et){let rt=0,nt=0,it=0,ot=0,at=-1;const st=_e.length,lt=[];for(let vt=0;vt<st;vt++)lt.push(_e[vt]/et);for(let vt=0;vt<st;vt++)rt+=vt*lt[vt],nt+=vt*vt*lt[vt],it+=vt*vt*vt*lt[vt];const ct=1*nt-rt*rt,ut=(-nt*nt+rt*it)/ct,ft=(1*-it+nt*rt)/ct,dt=.5*(-ft-Math.sqrt(ft*ft-4*ut)),pt=.5*(-ft+Math.sqrt(ft*ft-4*ut)),mt=(pt-rt)/(pt-dt);for(let vt=0;vt<st;vt++)if(ot+=lt[vt],ot>mt){at=vt;break}return at}function otsu(_e,et){let tt=0,rt=0,nt=0,it=0,ot=0;for(let at=0;at<_e.length;at++)ot+=at*_e[at];for(let at=0;at<_e.length;at++){rt=rt+_e[at];const st=et-rt;if(rt===0||st===0)continue;tt=tt+at*_e[at];const lt=(ot-tt)/st,ct=rt*st*(tt/rt-lt)*(tt/rt-lt);ct>=nt&&(it=at,nt=ct)}return it}function percentile(_e){let et=-1;const tt=.5,rt=new Array(_e.length),nt=partialSum(_e,_e.length-1);let it=1;for(let ot=0;ot<_e.length;ot++)rt[ot]=Math.abs(partialSum(_e,ot)/nt-tt),rt[ot]<it&&(it=rt[ot],et=ot);return et}function partialSum(_e,et){let tt=0;for(let rt=0;rt<=et;rt++)tt+=_e[rt];return tt}function renyiEntropy(_e,et){let tt,rt;const nt=new Array(_e.length),it=new Array(_e.length),ot=new Array(_e.length);let at=0,st=0,lt=0,ct=0,ut=0,ft=0;const pt=1/(1-.5),vt=1/(1-2);for(let _t=0;_t<_e.length;_t++)nt[_t]=_e[_t]/et;it[0]=nt[0],ot[0]=1-it[0];for(let _t=1;_t<_e.length;_t++)it[_t]=it[_t-1]+nt[_t],ot[_t]=1-it[_t];tt=0;for(let _t=0;_t<_e.length;_t++)if(Math.abs(it[_t])>=Number.EPSILON){tt=_t;break}rt=_e.length-1;for(let _t=_e.length-1;_t>=tt;_t--)if(Math.abs(ot[_t])>=Number.EPSILON){rt=_t;break}for(let _t=tt;_t<=rt;_t++){let wt=0,Et=0,St=0;for(let It=0;It<=_t;It++)_e[It]!==0&&(wt-=nt[It]/it[_t]*Math.log(nt[It]/it[_t])),Et+=Math.sqrt(nt[It]/it[_t]),St+=nt[It]*nt[It]/(it[_t]*it[_t]);let Ct=0,bt=0,At=0;for(let It=_t+1;It<_e.length;It++)_e[It]!==0&&(Ct-=nt[It]/ot[_t]*Math.log(nt[It]/ot[_t])),bt+=Math.sqrt(nt[It]/ot[_t]),At+=nt[It]*nt[It]/(ot[_t]*ot[_t]);const Tt=wt+Ct,Ot=pt*(Et*bt>0?Math.log(Et*bt):0),$t=vt*(St*At>0?Math.log(St*At):0);Tt>ct&&(ct=Tt,at=_t),Ot>ut&&(ut=Ot,st=_t),$t>ft&&(ft=$t,lt=_t)}const ht=new Uint32Array([at,st,lt]);ht.sort();let yt;Math.abs(ht[0]-ht[1])<=5?Math.abs(ht[1]-ht[2])<=5?yt=[1,2,1]:yt=[0,1,3]:Math.abs(ht[1]-ht[2])<=5?yt=[3,1,0]:yt=[1,2,1];const gt=it[ht[2]]-it[ht[0]];return Math.round(ht[0]*(it[ht[0]]+.25*gt*yt[0])+.25*ht[1]*gt*yt[1]+ht[2]*(ot[ht[2]]+.25*gt*yt[2]))}function shanbhag(_e,et){const tt=new Array(_e.length);for(let dt=0;dt<_e.length;dt++)tt[dt]=_e[dt]/et;const rt=new Array(_e.length),nt=new Array(_e.length);rt[0]=tt[0],nt[0]=1-rt[0];for(let dt=1;dt<_e.length;dt++)rt[dt]=rt[dt-1]+tt[dt],nt[dt]=1-rt[dt];let it=0;for(let dt=0;dt<_e.length;dt++)if(Math.abs(rt[dt])>=Number.EPSILON){it=dt;break}let ot=_e.length-1;for(let dt=_e.length-1;dt>=it;dt--)if(Math.abs(nt[dt])>=Number.EPSILON){ot=dt;break}let at=-1,st=Number.MAX_VALUE,lt,ct,ut,ft;for(let dt=it;dt<=ot;dt++){ut=0,lt=.5/rt[dt];for(let pt=1;pt<=dt;pt++)ut-=tt[pt]*Math.log(1-lt*rt[pt-1]);ut*=lt,ft=0,lt=.5/nt[dt];for(let pt=dt+1;pt<_e.length;pt++)ft-=tt[pt]*Math.log(1-lt*nt[pt]);ft*=lt,ct=Math.abs(ut-ft),ct<st&&(st=ct,at=dt)}return at}function triangle(_e){let et=0,tt=0,rt=0,nt=0;for(let ut=0;ut<_e.length;ut++)if(_e[ut]>0){et=ut;break}et>0&&et--;for(let ut=_e.length-1;ut>0;ut--)if(_e[ut]>0){nt=ut;break}nt<_e.length-1&&nt++;for(let ut=0;ut<_e.length;ut++)_e[ut]>tt&&(rt=ut,tt=_e[ut]);let it=!1;if(rt-et<nt-rt){it=!0;let ut=0,ft=_e.length-1;for(;ut<ft;){const dt=_e[ut];_e[ut]=_e[ft],_e[ft]=dt,ut++,ft--}et=_e.length-1-nt,rt=_e.length-1-rt}if(et===rt)return et;let ot,at,st;ot=_e[rt],at=et-rt,st=Math.hypot(ot,at),ot/=st,at/=st,st=ot*et+at*_e[et];let lt=et,ct=0;for(let ut=et+1;ut<=rt;ut++){const ft=ot*ut+at*_e[ut]-st;ft>ct&&(lt=ut,ct=ft)}if(lt--,it){let ut=0,ft=_e.length-1;for(;ut<ft;){const dt=_e[ut];_e[ut]=_e[ft],_e[ft]=dt,ut++,ft--}return _e.length-1-lt}else return lt}function yen(_e,et){const tt=new Array(_e.length);for(let lt=0;lt<_e.length;lt++)tt[lt]=_e[lt]/et;const rt=new Array(_e.length);rt[0]=tt[0];for(let lt=1;lt<_e.length;lt++)rt[lt]=rt[lt-1]+tt[lt];const nt=new Array(_e.length);nt[0]=tt[0]*tt[0];for(let lt=1;lt<_e.length;lt++)nt[lt]=nt[lt-1]+tt[lt]*tt[lt];const it=new Array(_e.length);it[_e.length-1]=0;for(let lt=_e.length-2;lt>=0;lt--)it[lt]=it[lt+1]+tt[lt+1]*tt[lt+1];let ot=-1,at=Number.MIN_VALUE,st;for(let lt=0;lt<_e.length;lt++)st=-1*(nt[lt]*it[lt]>0?Math.log(nt[lt]*it[lt]):0)+2*(rt[lt]*(1-rt[lt])>0?Math.log(rt[lt]*(1-rt[lt])):0),st>at&&(at=st,ot=lt);return ot}const ThresholdAlgorithm={HUANG:"huang",INTERMODES:"intermodes",ISODATA:"isodata",LI:"li",MAX_ENTROPY:"maxEntropy",MEAN:"mean",MIN_ERROR:"minError",MINIMUM:"minimum",MOMENTS:"moments",OTSU:"otsu",PERCENTILE:"percentile",RENYI_ENTROPY:"renyiEntropy",SHANBHAG:"shanbhag",TRIANGLE:"triangle",YEN:"yen"};function computeThreshold(_e,et={}){const{algorithm:tt="otsu",slots:rt}=et;if(_e.channels!==1)throw new TypeError("threshold can only be computed on images with one channel");const nt=_e.histogram({slots:rt}),it=rt?2**_e.bitDepth/rt:1;switch(tt){case"huang":return huang(nt)*it;case"intermodes":return intermodes(nt)*it;case"isodata":return isodata(nt)*it;case"li":return li(nt,_e.size)*it;case"maxEntropy":return maxEntropy(nt,_e.size)*it;case"mean":return mean(nt,_e.size)*it;case"minimum":return minimum(nt)*it;case"minError":return minError(nt,_e.size)*it;case"moments":return moments(nt,_e.size)*it;case"otsu":return otsu(nt,_e.size)*it;case"percentile":return percentile(nt)*it;case"renyiEntropy":return renyiEntropy(nt,_e.size)*it;case"shanbhag":return shanbhag(nt,_e.size)*it;case"triangle":return triangle(nt)*it;case"yen":return yen(nt,_e.size)*it;default:throw new RangeError(`invalid threshold algorithm: ${tt}`)}}function threshold(_e,et={}){let tt;if("threshold"in et){const nt=et.threshold;if(nt<0||nt>1)throw new RangeError("threshold must be a value between 0 and 1");tt=nt*_e.maxValue}else tt=computeThreshold(_e,et);const rt=imageToOutputMask(_e,et);for(let nt=0;nt<_e.size;nt++)rt.setBitByIndex(nt,_e.getValueByIndex(nt,0)>tt?1:0);return rt}function luma709(_e,et,tt){return _e*6966+et*23436+tt*2366>>15}function luma601(_e,et,tt){return _e*9798+et*19235+tt*3735>>15}function max$1(_e,et,tt){return Math.max(_e,et,tt)}function min$1(_e,et,tt){return Math.min(_e,et,tt)}function average(_e,et,tt){return(_e+et+tt)/3>>0}function minmax(_e,et,tt){return(Math.max(_e,et,tt)+Math.min(_e,et,tt))/2}function red(_e){return _e}function green(_e,et){return et}function blue(_e,et,tt){return tt}function black(_e,et,tt,rt){return Math.min(rt.maxValue-_e,rt.maxValue-et,rt.maxValue-tt)}function cyan(_e,et,tt,rt){const nt=black(_e,et,tt,rt);return(rt.maxValue-_e-nt)/(1-nt/rt.maxValue)>>0}function magenta(_e,et,tt,rt){const nt=black(_e,et,tt,rt);return(rt.maxValue-et-nt)/(1-nt/rt.maxValue)>>0}function yellow(_e,et,tt,rt){const nt=black(_e,et,tt,rt);return(rt.maxValue-tt-nt)/(1-nt/rt.maxValue)>>0}function hue(_e,et,tt,rt){const nt=min$1(_e,et,tt),it=max$1(_e,et,tt);if(it===nt)return 0;let ot=0;const at=it-nt;return it===_e?ot=(et-tt)/at+(et<tt?6:0):it===et?ot=(tt-_e)/at+2:(assert$1(it===tt),ot=(_e-et)/at+4),ot/6*rt.maxValue>>0}function saturation(_e,et,tt,rt){const nt=min$1(_e,et,tt),it=max$1(_e,et,tt),ot=it-nt;return it===0?0:ot/it*rt.maxValue}function lightness(_e,et,tt){const rt=min$1(_e,et,tt);return(max$1(_e,et,tt)+rt)/2}const greyAlgorithms=Object.freeze(Object.defineProperty({__proto__:null,average,black,blue,cyan,green,hue,lightness,luma601,luma709,magenta,max:max$1,min:min$1,minmax,red,saturation,yellow},Symbol.toStringTag,{value:"Module"})),GreyAlgorithm={LUMA_709:"luma709",LUMA_601:"luma601",MAX:"max",MIN:"min",AVERAGE:"average",MINMAX:"minmax",RED:"red",GREEN:"green",BLUE:"blue",BLACK:"black",CYAN:"cyan",MAGENTA:"magenta",YELLOW:"yellow",HUE:"hue",SATURATION:"saturation",LIGHTNESS:"lightness"};{const _e=new Set(Object.values(GreyAlgorithm));for(const et of Object.keys(greyAlgorithms))assert$1(_e.has(et),`Grey algorithm ${et} is missing in the GreyAlgorithm enum`)}function grey(_e,et={}){let{keepAlpha:tt=!1,mergeAlpha:rt=!0}=et;const{algorithm:nt="luma709"}=et;checkProcessable(_e,{colorModel:["RGB","RGBA"]}),tt=tt&&_e.alpha,rt=rt&&_e.alpha,tt&&(rt=!1);const ot=getOutputImage(_e,et,{newParameters:{colorModel:tt?"GREYA":"GREY"}});let at;typeof nt=="function"?at=nt:at=greyAlgorithms[nt];const st=getClamp(ot);for(let lt=0;lt<_e.size;lt++){const ct=_e.getValueByIndex(lt,0),ut=_e.getValueByIndex(lt,1),ft=_e.getValueByIndex(lt,2);let dt;if(rt){const pt=_e.getValueByIndex(lt,3);dt=st(at(ct,ut,ft,_e)*pt/_e.maxValue)}else if(dt=st(at(ct,ut,ft,_e)),tt){const pt=_e.getValueByIndex(lt,3);ot.setValueByIndex(lt,1,pt)}ot.setValueByIndex(lt,0,dt)}return ot}function setBlendedPixel(_e,et,tt,rt={}){const{color:nt=getDefaultColor(_e)}=rt;if(!_e.alpha)_e.setPixel(et,tt,nt);else{assert$1(_e instanceof Image$1);const it=nt.at(-1);if(it===_e.maxValue){_e.setPixel(et,tt,nt);return}const ot=_e.getValue(et,tt,_e.channels-1),at=it+ot*(1-it/_e.maxValue);_e.setValue(et,tt,_e.channels-1,at);for(let st=0;st<_e.components;st++){const lt=nt[st],ct=_e.getValue(et,tt,st),ut=(lt*it+ct*ot*(1-it/_e.maxValue))/at;_e.setValue(et,tt,st,ut)}}}function copyTo(_e,et,tt={}){const{origin:rt={column:0,row:0}}=tt,{column:nt,row:it}=rt;if(_e.colorModel!==et.colorModel)throw new RangeError("source and target must have the same color model");checkPointIsInteger(rt,"Origin");let ot;et instanceof Image$1?ot=getOutputImage(et,tt,{clone:!0}):ot=maskToOutputMask(et,tt,{clone:!0});for(let at=Math.max(it,0);at<Math.min(_e.height+it,et.height);at++)for(let st=Math.max(nt,0);st<Math.min(_e.width+nt,et.width);st++){const lt=_e.getPixel(st-nt,at-it);setBlendedPixel(ot,st,at,{color:lt})}return ot}function crop(_e,et={}){const{origin:tt={row:0,column:0},width:rt=_e.width-tt.column,height:nt=_e.height-tt.row}=et,{column:it,row:ot}=tt;if(checkProcessable(_e,{bitDepth:[8,16]}),checkPointIsInteger(tt,"Origin"),!Number.isInteger(rt)||!Number.isInteger(nt))throw new RangeError(`Width and height (width:${rt}; height:${nt}) must be integers`);if(ot>_e.height-1||it>_e.width-1)throw new RangeError(`Origin (row:${ot}, column:${it}) out of range (${_e.width-1}; ${_e.height-1})`);if(rt<=0||nt<=0)throw new RangeError(`Width and height (width:${rt}; height:${nt}) must be positive numbers`);if(ot<0||it<0)throw new RangeError(`Row and column (row:${ot}, column:${it}) must be positive numbers`);if(rt>_e.width-it||nt>_e.height-ot)throw new RangeError(`Size is out of range (row:${ot}, column:${it}, width:${rt}, height:${nt})`);const at=Image$1.createFrom(_e,{width:rt,height:nt});for(let st=0;st<nt;st++)for(let lt=0;lt<rt;lt++)at.setPixel(lt,st,_e.getPixel(it+lt,ot+st));return at}function cropAlpha(_e,et={}){checkProcessable(_e,{alpha:!0});const{threshold:tt=_e.maxValue}=et,rt=findLeft(_e,tt,_e.components);if(rt===-1)throw new RangeError(`could not find new dimensions. Threshold may be too high: ${tt}`);const nt=findTop(_e,tt,_e.components,rt),it=findBottom(_e,tt,_e.components,rt),ot=findRight(_e,tt,_e.components,rt,nt,it);return _e.crop({origin:{column:rt,row:nt},width:ot-rt+1,height:it-nt+1})}function findLeft(_e,et,tt){for(let rt=0;rt<_e.width;rt++)for(let nt=0;nt<_e.height;nt++)if(_e.getValue(rt,nt,tt)>=et)return rt;return-1}function findTop(_e,et,tt,rt){for(let nt=0;nt<_e.height;nt++)for(let it=rt;it<_e.width;it++)if(_e.getValue(it,nt,tt)>=et)return nt;return-1}function findBottom(_e,et,tt,rt){for(let nt=_e.height-1;nt>=0;nt--)for(let it=rt;it<_e.width;it++)if(_e.getValue(it,nt,tt)>=et)return nt;return-1}function findRight(_e,et,tt,rt,nt,it){for(let ot=_e.width-1;ot>=rt;ot--)for(let at=nt;at<=it;at++)if(_e.getValue(ot,at,tt)>=et)return ot;return-1}function rotatePoint(_e,et,tt){const rt=Math.cos(tt),nt=Math.sin(tt),it=_e.column*rt-_e.row*nt+(1-rt)*et.column+et.row*nt,ot=_e.column*nt+_e.row*rt+(1-rt)*et.row-et.column*nt;return{column:it,row:ot}}function cropRectangle(_e,et,tt){if(et.length!==4)throw new Error("The points array must contain 4 points");const rt=getSmallestAngle(et),nt={row:(et[0].row+et[2].row)/2,column:(et[0].column+et[2].column)/2},it=et.map(yt=>rotatePoint(yt,nt,rt)),[ot,at,st]=it,lt=Math.max(Math.abs(ot.column-at.column),Math.abs(at.column-st.column)),ct=Math.max(Math.abs(ot.row-at.row),Math.abs(at.row-st.row)),ut=Math.min(Math.ceil(lt),Math.ceil(lt-1e-10)),ft=Math.min(Math.ceil(ct),Math.ceil(ct-1e-10)),dt={row:Math.min(...it.map(yt=>yt.row))-(ft-ct)/2,column:Math.min(...it.map(yt=>yt.column))-(ut-lt)/2},pt=rotatePoint(dt,nt,-rt),mt=Math.cos(-rt),vt=Math.sin(-rt),ht=[[mt,-vt,pt.column],[vt,mt,pt.row]];return transform(_e,ht,{inverse:!0,width:ut,height:ft,...tt})}function getSmallestAngle(_e){let et=-getAngle(_e[1],_e[0]);et>Math.PI/2?et-=Math.PI:et<-Math.PI/2&&(et+=Math.PI);let tt=et;return Math.abs(et)>Math.PI/4&&(tt=et>0?-Math.PI/2+et:Math.PI/2+et),tt}function paintMaskOnImage(_e,et,tt={}){const{origin:rt={row:0,column:0},color:nt=getDefaultColor(_e),blend:it=!0}=tt,{column:ot,row:at}=rt;if(nt.length!==_e.channels)throw new RangeError("the given color is not compatible with the image");checkPointIsInteger(rt,"Origin");const st=getOutputImage(_e,tt,{clone:!0});if(it){checkColorIsNumberArray(nt);for(let lt=Math.max(at,0);lt<Math.min(et.height+at,_e.height);lt++)for(let ct=Math.max(ot,0);ct<Math.min(et.width+ot,_e.width);ct++)et.getBit(ct-ot,lt-at)&&setBlendedPixel(st,ct,lt,{color:nt})}else for(let lt=Math.max(at,0);lt<Math.min(et.height+at,_e.height);lt++)for(let ct=Math.max(ot,0);ct<Math.min(et.width+ot,_e.width);ct++)if(et.getBit(ct-ot,lt-at))for(let ut=0;ut<_e.channels;ut++){const ft=nt[ut];typeof ft=="number"&&st.setValue(ct,lt,ut,ft)}return st}function checkColorIsNumberArray(_e){for(const et of _e)if(typeof et!="number")throw new TypeError("cannot have null channels in color if blend is true")}function paintMaskOnMask(_e,et,tt={}){const{origin:rt={row:0,column:0},value:nt=1}=tt,{column:it,row:ot}=rt;checkPointIsInteger(rt,"Origin");const at=maskToOutputMask(_e,tt,{clone:!0});for(let st=Math.max(ot,0);st<Math.min(et.height+ot,_e.height);st++)for(let lt=Math.max(it,0);lt<Math.min(et.width+it,_e.width);lt++)et.getBit(lt-it,st-ot)&&at.setBit(lt,st,nt);return at}function getMinMax(_e){const et=new Array(_e.channels).fill(_e.maxValue),tt=new Array(_e.channels).fill(0);for(let rt=0;rt<_e.height;rt++)for(let nt=0;nt<_e.width;nt++)for(let it=0;it<_e.channels;it++){const ot=_e.getValue(nt,rt,it);ot<et[it]&&(et[it]=ot),ot>tt[it]&&(tt[it]=ot)}return{min:et,max:tt}}let Image$1=class On{constructor(et,tt,rt={}){const{bitDepth:nt=8,data:it,colorModel:ot="RGB",origin:at={row:0,column:0},meta:st}=rt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.bitDepth=nt,this.colorModel=ot,this.origin=at,this.meta=st;const lt=colorModels[ot];if(this.components=lt.components,this.alpha=lt.alpha,this.channels=lt.channels,this.maxValue=2**nt-1,it===void 0)this.data=createPixelArray(this.size,this.channels,this.alpha,this.bitDepth,this.maxValue);else{if(nt===8&&it instanceof Uint16Array)throw new RangeError(`bitDepth is ${nt} but data is Uint16Array`);if(nt===16&&it instanceof Uint8Array)throw new RangeError(`bitDepth is ${nt} but data is Uint8Array`);const ct=this.size*this.channels;if(it.length!==ct)throw new RangeError(`incorrect data size: ${it.length}. Expected ${ct}`);this.data=it}}static createFrom(et,tt={}){const{width:rt=et.width,height:nt=et.height}=tt;let it;return et instanceof On?it=et.bitDepth:it=8,new On(rt,nt,{bitDepth:it,colorModel:et.colorModel,origin:et.origin,...tt})}getPixel(et,tt){const rt=[],nt=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)rt.push(this.data[nt+it]);return rt}getColumn(et){const tt=[];for(let rt=0;rt<this.channels;rt++){const nt=[];for(let it=0;it<this.height;it++)nt.push(this.getValue(et,it,rt));tt.push(nt)}return tt}getRow(et){const tt=[];for(let rt=0;rt<this.channels;rt++){const nt=[];for(let it=0;it<this.width;it++)nt.push(this.getValue(it,et,rt));tt.push(nt)}return tt}setPixel(et,tt,rt){const nt=(tt*this.width+et)*this.channels;for(let it=0;it<this.channels;it++)this.data[nt+it]=rt[it]}setVisiblePixel(et,tt,rt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,rt)}getPixelByIndex(et){const tt=[],rt=et*this.channels;for(let nt=0;nt<this.channels;nt++)tt.push(this.data[rt+nt]);return tt}setPixelByIndex(et,tt){const rt=et*this.channels;for(let nt=0;nt<this.channels;nt++)this.data[rt+nt]=tt[nt]}getValue(et,tt,rt){return this.data[(tt*this.width+et)*this.channels+rt]}setValue(et,tt,rt,nt){this.data[(tt*this.width+et)*this.channels+rt]=nt}setClampedValue(et,tt,rt,nt){nt<0?nt=0:nt>this.maxValue&&(nt=this.maxValue),this.data[(tt*this.width+et)*this.channels+rt]=nt}getValueByIndex(et,tt){return this.data[et*this.channels+tt]}setValueByIndex(et,tt,rt){this.data[et*this.channels+tt]=rt}setClampedValueByIndex(et,tt,rt){rt<0?rt=0:rt>this.maxValue&&(rt=this.maxValue),this.data[et*this.channels+tt]=rt}getValueByPoint(et,tt){return this.getValue(et.column,et.row,tt)}setValueByPoint(et,tt,rt){this.setValue(et.column,et.row,tt,rt)}minMax(){return getMinMax(this)}getRawImage(){return{width:this.width,height:this.height,data:this.data,channels:this.channels,bitDepth:this.bitDepth}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData$1(this),`Image {
  width: ${this.width}
  height: ${this.height}
  bitDepth: ${this.bitDepth}
  colorModel: ${this.colorModel}
  channels: ${this.channels}
  data: ${et}
}`}fill(et){if(typeof et=="number")return validateValue(et,this),this.data.fill(et),this;if(et.length!==this.channels)throw new RangeError(`the size of value must match the number of channels (${this.channels}). Received ${et.length}`);for(const tt of et)validateValue(tt,this);for(let tt=0;tt<this.data.length;tt+=this.channels)for(let rt=0;rt<=this.channels;rt++)this.data[tt+rt]=et[rt];return this}fillChannel(et,tt){validateChannel(et,this),validateValue(tt,this);for(let rt=et;rt<this.data.length;rt+=this.channels)this.data[rt]=tt;return this}getChannel(et){validateChannel(et,this);const tt=new Array(this.size);for(let rt=0;rt<this.size;rt++)tt[rt]=this.data[et+rt*this.channels];return tt}fillAlpha(et){if(validateValue(et,this),!this.alpha)throw new TypeError("fillAlpha can only be called if the image has an alpha channel");const tt=this.channels-1;return this.fillChannel(tt,et)}clone(){return On.createFrom(this,{data:this.data.slice()})}changeEach(et){for(let tt=0;tt<this.data.length;tt++)this.data[tt]=et(this.data[tt])}getCoordinates(et,tt=!1){switch(et){case"center":{const rt=(this.width-1)/2,nt=(this.height-1)/2;return tt?{column:Math.round(rt),row:Math.round(nt)}:{column:rt,row:nt}}case"top-left":return{column:0,row:0};case"top-right":return{column:this.width-1,row:0};case"bottom-left":return{column:0,row:this.height-1};case"bottom-right":return{column:this.width-1,row:this.height-1};default:throw new RangeError(`invalid image coordinates: ${et}`)}}subtract(et,tt={}){return subtract(this,et,tt)}add(et){return add(this,et)}histogram(et){return histogram(this,et)}mean(){return mean$1(this)}median(){return median(this)}variance(){return variance(this)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,rt={}){return drawLineOnImage(this,et,tt,rt)}drawRectangle(et={}){return drawRectangle(this,et)}drawPolyline(et,tt={}){return drawPolylineOnImage(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnImage(this,et,tt)}drawCircle(et,tt,rt={}){return drawCircleOnImage(this,et,tt,rt)}drawMarker(et,tt={}){return drawMarker(this,et,tt)}drawMarkers(et,tt={}){return drawMarkers(this,et,tt)}split(){return split(this)}convertColor(et,tt){return convertColor(this,et,tt)}convertBitDepth(et){return convertBitDepth(this,et)}grey(et){return grey(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}threshold(et={}){return threshold(this,et)}crop(et){return crop(this,et)}cropRectangle(et,tt){return cropRectangle(this,et,tt)}cropAlpha(et={}){return cropAlpha(this,et)}extract(et,tt){return extract(this,et,tt)}paintMask(et,tt){return paintMaskOnImage(this,et,tt)}blur(et){return blur(this,et)}pixelate(et){return pixelate(this,et)}directConvolution(et,tt){return directConvolution(this,et,tt)}rawDirectConvolution(et,tt){return rawDirectConvolution(this,et,tt)}separableConvolution(et,tt,rt){return separableConvolution(this,et,tt,rt)}gaussianBlur(et){return gaussianBlur(this,et)}flip(et){return flip(this,et)}invert(et){return invert(this,et)}hypotenuse(et,tt){return hypotenuse(this,et,tt)}gradientFilter(et){return gradientFilter(this,et)}derivativeFilter(et){return derivativeFilter(this,et)}level(et){return level(this,et)}increaseContrast(et={}){return increaseContrast(this,et)}correctColor(et,tt){return correctColor(this,et,tt)}medianFilter(et){return medianFilter(this,et)}resize(et){return resize$1(this,et)}rotate(et){return rotate(this,et)}transform(et,tt){return transform(this,et,tt)}transformRotate(et,tt){return transformRotate(this,et,tt)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}cannyEdgeDetector(et){return cannyEdgeDetector(this,et)}};function createPixelArray(_e,et,tt,rt,nt){const it=et*_e;let ot;switch(rt){case 8:ot=new Uint8Array(it);break;case 16:ot=new Uint16Array(it);break;default:throw new RangeError(`invalid bitDepth: ${rt}`)}if(tt)for(let at=et-1;at<it;at+=et)ot[at]=nt;return ot}function printData$1(_e){const et=[],tt=_e.bitDepth===8?3:5;for(let rt=0;rt<_e.height;rt++){const nt=[];for(let it=0;it<_e.width;it++)for(let ot=0;ot<_e.channels;ot++)nt.push(String(_e.getValue(it,rt,ot)).padStart(tt," "));et.push(`[${nt.join(" ")}]`)}return`{
    [
     ${et.join(`
     `)}
    ]
  }`}function getBorderPoints$1(_e,et={}){const{innerBorders:tt=!1,allowCorners:rt=!1}=et;tt||(_e=_e.solidFill());const nt=[];for(let it=0;it<_e.width;it++)_e.getBit(it,0)&&nt.push({column:it,row:0}),_e.getBit(it,_e.height-1)&&nt.push({column:it,row:_e.height-1});for(let it=0;it<_e.height;it++)_e.getBit(0,it)&&nt.push({column:0,row:it}),_e.getBit(_e.width-1,it)&&nt.push({column:_e.width-1,row:it});for(let it=1;it<_e.height-1;it++)for(let ot=1;ot<_e.width-1;ot++)_e.getBit(ot,it)&&((_e.getBit(ot-1,it)===0||_e.getBit(ot,it-1)===0||_e.getBit(ot+1,it)===0||_e.getBit(ot,it+1)===0)&&nt.push({column:ot,row:it}),rt&&(_e.getBit(ot-1,it-1)===0||_e.getBit(ot-1,it+1)===0||_e.getBit(ot+1,it-1)===0||_e.getBit(ot+1,it+1)===0)&&nt.push({column:ot,row:it}));return nt}function getLineLength(_e,et){return Math.hypot(_e.column-et.column,_e.row-et.row)}function getPolygonPerimeter(_e){let et=0;for(let tt=0;tt<_e.length;tt++)et+=getLineLength(_e[(tt+1)%_e.length],_e[tt]);return et}function getPolygonArea(_e){let et=0;for(let tt=0;tt<_e.length;tt++){const rt=(tt+1)%_e.length;et+=_e[tt].column*_e[rt].row,et-=_e[tt].row*_e[rt].column}return Math.abs(et/2)}function getExtendedBorderPoints(_e){const et=_e.getBorderPoints({allowCorners:!0,innerBorders:!1}),tt=[];for(const rt of et)tt.push(rt,{column:rt.column+1,row:rt.row},{column:rt.column+1,row:rt.row+1},{column:rt.column,row:rt.row+1});return tt}function monotoneChainConvexHull(_e,et={}){const{sorted:tt=!1}=et;tt||(_e=_e.slice().sort(byXThenY));const rt=_e.length,nt=new Array(rt*2);let it=0;for(let at=0;at<rt;at++){const st=_e[at];for(;it>=2&&cw(nt[it-2],nt[it-1],st)<=0;)it--;nt[it++]=st}const ot=it+1;for(let at=rt-2;at>=0;at--){const st=_e[at];for(;it>=ot&&cw(nt[it-2],nt[it-1],st)<=0;)it--;nt[it++]=st}return nt.slice(0,it-1)}function cw(_e,et,tt){return(et.row-_e.row)*(tt.column-_e.column)-(et.column-_e.column)*(tt.row-_e.row)}function byXThenY(_e,et){return _e.column===et.column?_e.row-et.row:_e.column-et.column}function getConvexHull(_e){const et=getExtendedBorderPoints(_e);if(et.length===0)return{points:[],surface:0,perimeter:0};const tt=monotoneChainConvexHull(et),rt=getPolygonPerimeter(tt),nt=getPolygonArea(tt);return{points:tt,perimeter:rt,surface:nt}}function getFeret(_e){const et=_e.getConvexHull(),tt=et.points;if(et.surface===0)return{minDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},maxDiameter:{length:0,points:[{column:0,row:0},{column:0,row:0}],angle:0,calliperLines:[[{column:0,row:0},{column:0,row:0}],[{column:0,row:0},{column:0,row:0}]]},aspectRatio:1};let rt=Number.POSITIVE_INFINITY,nt=0,it=[],ot;for(let ht=0;ht<tt.length;ht++){const yt=getAngle(tt[ht],tt[(ht+1)%tt.length]),gt=rotate$1(-yt,tt);let xt=0,_t=[];for(let wt=0;wt<tt.length;wt++){const Et=Math.abs(gt[ht].row-gt[wt].row);Et>xt&&(xt=Et,_t=[gt[ht],gt[wt]])}if(xt<rt){rt=xt,nt=yt,it=_t;const{minIndex:wt,maxIndex:Et}=findPointIndexesOfExtremeColumns(gt);ot=getMinLines(nt,wt,Et,gt,it)}}const at={points:rotate$1(nt,it),length:rt,angle:toDegrees(nt),calliperLines:ot};let st=[],lt=0,ct=[];for(let ht=0;ht<tt.length-1;ht++)for(let yt=ht+1;yt<tt.length;yt++){const gt=(tt[ht].column-tt[yt].column)**2+(tt[ht].row-tt[yt].row)**2;gt>lt&&(lt=gt,st=[tt[ht],tt[yt]],ct=[ht,yt])}const ut=getAngle(st[0],st[1]),ft=rotate$1(-ut,tt),{minIndex:dt,maxIndex:pt}=findPointsIndexesOfExtremeRows(ft),mt=getMaxLines(ut,dt,pt,ft,ct),vt={length:Math.sqrt(lt),angle:toDegrees(getAngle(st[0],st[1])),points:st,calliperLines:mt};return{minDiameter:at,maxDiameter:vt,aspectRatio:at.length/vt.length}}function findPointIndexesOfExtremeColumns(_e){let et=0,tt=0;for(let rt=0;rt<_e.length;rt++)_e[rt].column>_e[et].column&&(et=rt),_e[rt].column<_e[tt].column&&(tt=rt);return{minIndex:tt,maxIndex:et}}function findPointsIndexesOfExtremeRows(_e){let et=0,tt=0;for(let rt=0;rt<_e.length;rt++)_e[rt].row>_e[et].row&&(et=rt),_e[rt].row<_e[tt].row&&(tt=rt);return{minIndex:tt,maxIndex:et}}function getMinLines(_e,et,tt,rt,nt){const it=[{column:rt[et].column,row:nt[0].row},{column:rt[tt].column,row:nt[0].row}],ot=[{column:rt[et].column,row:nt[1].row},{column:rt[tt].column,row:nt[1].row}];return[rotate$1(_e,it),rotate$1(_e,ot)]}function getMaxLines(_e,et,tt,rt,nt){const it=[{column:rt[nt[0]].column,row:rt[et].row},{column:rt[nt[0]].column,row:rt[tt].row}],ot=[{column:rt[nt[1]].column,row:rt[et].row},{column:rt[nt[1]].column,row:rt[tt].row}];return[rotate$1(_e,it),rotate$1(_e,ot)]}const leftFirst=(_e,et)=>_e.column<=et.column?-1:1,topFirst=(_e,et)=>_e.row>=et.row?-1:1;function getMbrAngle(_e){const et=_e.slice().sort(leftFirst),tt=et.slice(0,2),rt=et.slice(2,4);tt.sort(topFirst),rt.sort(topFirst);const nt=tt[0],it=rt[0];return-toDegrees(getAngle(nt,it))}function getMbrFromPoints(_e){if(_e.length===0)return{points:[],angle:0,width:0,height:0,surface:0,perimeter:0,aspectRatio:0};if(_e.length===1)return{points:[_e[0],_e[0],_e[0],_e[0]],perimeter:0,surface:0,angle:0,width:0,height:0,aspectRatio:1};let et=[],tt=Number.POSITIVE_INFINITY,rt=0,nt=[];for(let ut=0;ut<_e.length;ut++){const ft=getAngle(_e[ut],_e[(ut+1)%_e.length]);et=rotate$1(-ft,_e);const dt=et[ut].column,pt=et[ut].row,mt=et[(ut+1)%et.length].column,vt=et[(ut+1)%et.length].row;let ht=!0,yt=0,gt=0,xt=0;for(const St of et){const Ct=St.column,bt=St.row,At=(Ct-dt)/(mt-dt);ht?(ht=!1,yt=At,gt=At):(At<yt&&(yt=At),At>gt&&(gt=At));const Tt=(-(mt-dt)*bt+mt*pt-vt*dt)/(mt-dt);Math.abs(Tt)>Math.abs(xt)&&(xt=Tt)}const _t={column:dt+yt*(mt-dt),row:pt},wt={column:dt+gt*(mt-dt),row:pt},Et=Math.abs(xt*(yt-gt)*(mt-dt));Et<tt&&(rt=ft,tt=Et,nt=[wt,_t,{column:_t.column,row:_t.row-xt},{column:wt.column,row:wt.row-xt}])}const it=rotate$1(rt,nt),ot=[Math.hypot(nt[0].column-nt[1].column,nt[0].row-nt[1].row),Math.hypot(nt[0].column-nt[3].column,nt[0].row-nt[3].row)],at=Math.max(...ot),st=Math.min(...ot),lt=getMbrAngle(it),ct=st/at;return{points:it,surface:tt,angle:lt,width:at,height:st,perimeter:2*at+2*st,aspectRatio:ct}}function getMbr(_e){const et=monotoneChainConvexHull(getExtendedBorderPoints(_e));return getMbrFromPoints(et)}function boolToNumber(_e){let et;return typeof _e=="boolean"?et=_e?1:0:et=_e,et}class Mask{constructor(et,tt,rt={}){const{data:nt,origin:it={row:0,column:0}}=rt;if(et<1||!Number.isInteger(et))throw new RangeError(`width must be an integer and at least 1. Received ${et}`);if(tt<1||!Number.isInteger(tt))throw new RangeError(`height must be an integer and at least 1. Received ${tt}`);this.width=et,this.height=tt,this.size=et*tt,this.bitDepth=1,this.colorModel="BINARY",this.origin=it;const ot=colorModels[this.colorModel];if(this.components=ot.components,this.alpha=ot.alpha,this.channels=ot.channels,this.maxValue=1,nt===void 0)this.data=new Uint8Array(this.size);else{const at=this.size*this.channels;if(nt.length!==at)throw new RangeError(`incorrect data size: ${nt.length}. Expected ${at}`);this.data=nt}}static createFrom(et,tt={}){const{width:rt=et.width,height:nt=et.height,origin:it=et.origin}=tt;return new Mask(rt,nt,{origin:it,...tt})}getPixel(et,tt){const rt=[],nt=tt*this.width+et;return rt.push(this.data[nt]),rt}setPixel(et,tt,rt){const nt=tt*this.width+et;this.data[nt]=rt[0]}setVisiblePixel(et,tt,rt){et>=0&&et<this.width&&tt>=0&&tt<this.height&&this.setPixel(et,tt,rt)}getPixelByIndex(et){return[this.data[et]]}setPixelByIndex(et,tt){this.data[et]=tt[0]}static fromPoints(et,tt,rt){const nt=new Mask(et,tt);for(const it of rt)nt.setBit(it.column,it.row,1);return nt}clone(){return Mask.createFrom(this,{data:this.data.slice()})}getBit(et,tt){const rt=tt*this.width+et;return this.data[rt]}setBit(et,tt,rt){const nt=tt*this.width+et;this.data[nt]=rt}getBitByIndex(et){return this.data[et*this.channels]}setBitByIndex(et,tt){this.data[et*this.channels]=boolToNumber(tt)}getNbNonZeroPixels(){let et=0;for(const tt of this.data)tt&&et++;return et}getValue(et,tt,rt){return checkChannel(rt),this.getBit(et,tt)}setValue(et,tt,rt,nt){checkChannel(rt),this.setBit(et,tt,nt)}getValueByIndex(et,tt){return checkChannel(tt),this.getBitByIndex(et)}setValueByIndex(et,tt,rt){checkChannel(tt),this.setBitByIndex(et,rt)}getValueByPoint(et){return this.getValue(et.column,et.row,0)}setValueByPoint(et,tt){this.setValue(et.column,et.row,0,tt)}getRawImage(){return{width:this.width,height:this.height,data:this.data}}[Symbol.for("nodejs.util.inspect.custom")](){let et;return this.height>20||this.width>20?et="[...]":et=printData(this),`Mask {
  width: ${this.width}
  height: ${this.height}
  data: ${et}
}`}fill(et){const tt=boolToNumber(et);return this.data.fill(tt),this}convertColor(et){return convertColor(this,et)}invert(et){return invert(this,et)}subtract(et,tt){return subtract(this,et,tt)}and(et,tt){return and(this,et,tt)}or(et,tt){return or(this,et,tt)}getBorderPoints(et){return getBorderPoints$1(this,et)}getConvexHull(){return getConvexHull(this)}getMbr(){return getMbr(this)}getFeret(){return getFeret(this)}erode(et){return erode(this,et)}dilate(et){return dilate(this,et)}open(et){return open(this,et)}close(et){return close(this,et)}topHat(et){return topHat(this,et)}bottomHat(et){return bottomHat(this,et)}morphologicalGradient(et){return morphologicalGradient(this,et)}clearBorder(et){return clearBorder(this,et)}floodFill(et){return floodFill(this,et)}solidFill(et){return solidFill(this,et)}drawPoints(et,tt={}){return drawPoints(this,et,tt)}drawLine(et,tt,rt={}){return drawLineOnMask(this,et,tt,rt)}drawPolyline(et,tt={}){return drawPolylineOnMask(this,et,tt)}drawPolygon(et,tt={}){return drawPolygonOnMask(this,et,tt)}drawRectangle(et={}){return drawRectangle(this,et)}copyTo(et,tt={}){return copyTo(this,et,tt)}paintMask(et,tt){return paintMaskOnMask(this,et,tt)}}function printData(_e){const et=[];for(let tt=0;tt<_e.height;tt++){const rt=[];for(let nt=0;nt<_e.width;nt++)rt.push(String(_e.getBit(nt,tt)));et.push(`[${rt.join(" ")}]`)}return et.join(`
        `)}function checkChannel(_e){if(_e!==0)throw new RangeError(`channel value must be 0 on type Mask. Received ${_e}`)}function copyData(_e,et){if(et.width!==_e.width||et.height!==_e.height||et.colorModel!==_e.colorModel)throw new RangeError("images width, height or color model is different");et.data=_e.data.slice()}function getOutputImage(_e,et={},tt={}){const{out:rt}=et,{newParameters:nt,clone:it}=tt;if(rt===void 0)return it?_e.clone():Image$1.createFrom(_e,nt);{if(!(rt instanceof Image$1))throw new TypeError("out must be an Image");const ot={width:_e.width,height:_e.height,bitDepth:_e.bitDepth,colorModel:_e.colorModel,...nt};return checkRequirements(ot,rt),it&&_e!==rt&&copyData(_e,rt),rt}}function maskToOutputImage(_e,et={}){const{out:tt}=et;if(tt===void 0)return Image$1.createFrom(_e,{colorModel:"GREY"});{if(!(tt instanceof Image$1))throw new TypeError("out must be an Image");const rt={width:_e.width,height:_e.height,bitDepth:8,colorModel:"GREY"};return checkRequirements(rt,tt),tt}}function imageToOutputMask(_e,et={}){const{out:tt}=et;if(tt===void 0)return Mask.createFrom(_e);{if(!(tt instanceof Mask))throw new TypeError("out must be a Mask");const rt={width:_e.width,height:_e.height,bitDepth:1,colorModel:"BINARY"};return checkRequirements(rt,tt),tt}}function checkRequirements(_e,et){for(const tt in _e){const rt=tt;if(et[rt]!==_e[rt])throw new RangeError(`cannot use out image. Its ${tt} property must be ${_e[rt]}. Received ${et[rt]}`)}}function maskToOutputMask(_e,et={},tt={}){const{out:rt}=et,{newParameters:nt,clone:it}=tt;if(rt===void 0)return it?_e.clone():Mask.createFrom(_e,nt);{if(!(rt instanceof Mask))throw new TypeError("out must be a Mask");const ot={width:_e.width,height:_e.height,bitDepth:1,colorModel:"BINARY"};return checkRequirements(ot,rt),it&&_e!==rt&&copyData(_e,rt),rt}}var imageType$2={exports:{}},fileType$1={exports:{}};(function(module){const toBytes=_e=>[..._e].map(et=>et.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(_e,et=0){let tt=_e[et],rt=1,nt=0;for(;++nt<8;)rt*=256,tt+=_e[et+nt]*rt;return tt}const fileType=_e=>{if(!(_e instanceof Uint8Array||_e instanceof ArrayBuffer||Buffer.isBuffer(_e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof _e}\``);const et=_e instanceof Uint8Array?_e:new Uint8Array(_e);if(!(et&&et.length>1))return null;const tt=(nt,it)=>{it=Object.assign({offset:0},it);for(let ot=0;ot<nt.length;ot++)if(it.mask){if(nt[ot]!==(it.mask[ot]&et[ot+it.offset]))return!1}else if(nt[ot]!==et[ot+it.offset])return!1;return!0},rt=(nt,it)=>tt(toBytes(nt),it);if(tt([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(tt([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(tt([71,73,70]))return{ext:"gif",mime:"image/gif"};if(tt([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(tt([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((tt([73,73,42,0])||tt([77,77,0,42]))&&tt([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(tt([73,73,42,0])||tt([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(tt([66,77]))return{ext:"bmp",mime:"image/bmp"};if(tt([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(tt([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(tt([80,75,3,4])){if(tt([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(tt(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(rt("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(rt("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(rt("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const nt=(st,lt=0)=>st.findIndex((ct,ut,ft)=>ut>=lt&&ft[ut]===80&&ft[ut+1]===75&&ft[ut+2]===3&&ft[ut+3]===4);let it=0,ot=!1,at=null;do{const st=it+30;if(ot||(ot=tt(oxmlContentTypes,{offset:st})||tt(oxmlRels,{offset:st})),at||(rt("word/",{offset:st})?at={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:rt("ppt/",{offset:st})?at={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:rt("xl/",{offset:st})&&(at={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),ot&&at)return at;it=nt(et,st)}while(it>=0);if(at)return at}if(tt([80,75])&&(et[2]===3||et[2]===5||et[2]===7)&&(et[3]===4||et[3]===6||et[3]===8))return{ext:"zip",mime:"application/zip"};if(tt([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(tt([82,97,114,33,26,7])&&(et[6]===0||et[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(tt([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(tt([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(tt([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(tt([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(tt([51,103,112,53])||tt([0,0,0])&&tt([102,116,121,112],{offset:4})&&(tt([109,112,52,49],{offset:8})||tt([109,112,52,50],{offset:8})||tt([105,115,111,109],{offset:8})||tt([105,115,111,50],{offset:8})||tt([109,109,112,52],{offset:8})||tt([77,52,86],{offset:8})||tt([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(tt([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(tt([26,69,223,163])){const nt=et.subarray(4,4100),it=nt.findIndex((ot,at,st)=>st[at]===66&&st[at+1]===130);if(it!==-1){const ot=it+3,at=st=>[...st].every((lt,ct)=>nt[ot+ct]===lt.charCodeAt(0));if(at("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(at("webm"))return{ext:"webm",mime:"video/webm"}}}if(tt([0,0,0,20,102,116,121,112,113,116,32,32])||tt([102,114,101,101],{offset:4})||tt([102,116,121,112,113,116,32,32],{offset:4})||tt([109,100,97,116],{offset:4})||tt([109,111,111,118],{offset:4})||tt([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(tt([82,73,70,70])){if(tt([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(tt([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(tt([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(tt([48,38,178,117,142,102,207,17,166,217])){let nt=30;do{const it=readUInt64LE(et,nt+16);if(tt([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:nt})){if(tt([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:nt+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(tt([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:nt+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}nt+=it}while(nt+24<=et.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(tt([0,0,1,186])||tt([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(tt([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let nt=0;nt<2&&nt<et.length-16;nt++){if(tt([73,68,51],{offset:nt})||tt([255,226],{offset:nt,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(tt([255,228],{offset:nt,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,248],{offset:nt,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(tt([255,240],{offset:nt,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(tt([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(tt([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(tt([79,103,103,83]))return tt([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:tt([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:tt([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:tt([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:tt([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(tt([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(tt([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(tt([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(tt([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(tt([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(tt([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((et[0]===67||et[0]===70)&&tt([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(tt([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(tt([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(tt([119,79,70,70])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(tt([119,79,70,50])&&(tt([0,1,0,0],{offset:4})||tt([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(tt([76,80],{offset:34})&&(tt([0,0,1],{offset:8})||tt([1,0,2],{offset:8})||tt([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(tt([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(tt([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(tt([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(tt([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(tt([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(tt([37,33]))return{ext:"ps",mime:"application/postscript"};if(tt([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(tt([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(tt([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(tt([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(tt([77,83,67,70])||tt([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(tt([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(tt([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(tt([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(tt([31,160])||tt([31,157]))return{ext:"Z",mime:"application/x-compress"};if(tt([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(tt([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(tt([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(tt([71],{offset:4})&&(tt([71],{offset:192})||tt([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(tt([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(tt([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(tt([0,0,0,12,106,80,32,32,13,10,135,10])){if(tt([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(tt([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(tt([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(tt([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(tt([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(rt("<?xml "))return{ext:"xml",mime:"application/xml"};if(tt([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(tt([102,116,121,112],{offset:4})){if(tt([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(tt([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(tt([104,101,105,99],{offset:8})||tt([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(tt([104,101,118,99],{offset:8})||tt([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return tt([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:tt([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:tt([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:tt([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:tt([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:tt([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:tt([212,195,178,161])||tt([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const _e=new stream.PassThrough,et=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{_e.fileType=fileType(et)}catch(tt){reject(tt)}readableStream.unshift(et),stream.pipeline?resolve(stream.pipeline(readableStream,_e,()=>{})):resolve(readableStream.pipe(_e))})})})(fileType$1);var fileTypeExports=fileType$1.exports;const fileType=fileTypeExports,imageExts=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),imageType=_e=>{const et=fileType(_e);return imageExts.has(et&&et.ext)?et:null};imageType$2.exports=imageType;imageType$2.exports.default=imageType;Object.defineProperty(imageType,"minimumBytes",{value:fileType.minimumBytes});var imageTypeExports=imageType$2.exports;const imageType$1=getDefaultExportFromCjs(imageTypeExports);(function(_e){if(_e.TextEncoder&&_e.TextDecoder)return!1;function et(rt="utf-8"){if(rt!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${rt}') is invalid.`)}Object.defineProperty(et.prototype,"encoding",{value:"utf-8"}),et.prototype.encode=function(rt,nt={stream:!1}){if(nt.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let it=0;const ot=rt.length;let at=0,st=Math.max(32,ot+(ot>>1)+7),lt=new Uint8Array(st>>3<<3);for(;it<ot;){let ct=rt.charCodeAt(it++);if(ct>=55296&&ct<=56319){if(it<ot){const ut=rt.charCodeAt(it);(ut&64512)===56320&&(++it,ct=((ct&1023)<<10)+(ut&1023)+65536)}if(ct>=55296&&ct<=56319)continue}if(at+4>lt.length){st+=8,st*=1+it/rt.length*2,st=st>>3<<3;const ut=new Uint8Array(st);ut.set(lt),lt=ut}if(ct&4294967168)if(!(ct&4294965248))lt[at++]=ct>>6&31|192;else if(!(ct&4294901760))lt[at++]=ct>>12&15|224,lt[at++]=ct>>6&63|128;else if(!(ct&4292870144))lt[at++]=ct>>18&7|240,lt[at++]=ct>>12&63|128,lt[at++]=ct>>6&63|128;else continue;else{lt[at++]=ct;continue}lt[at++]=ct&63|128}return lt.slice(0,at)};function tt(rt="utf-8",nt={fatal:!1}){if(rt!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${rt}') is invalid.`);if(nt.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(tt.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(tt.prototype,"fatal",{value:!1}),Object.defineProperty(tt.prototype,"ignoreBOM",{value:!1}),tt.prototype.decode=function(rt,nt={stream:!1}){if(nt.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const it=new Uint8Array(rt);let ot=0;const at=it.length,st=[];for(;ot<at;){const lt=it[ot++];if(lt===0)break;if(!(lt&128))st.push(lt);else if((lt&224)===192){const ct=it[ot++]&63;st.push((lt&31)<<6|ct)}else if((lt&240)===224){const ct=it[ot++]&63,ut=it[ot++]&63;st.push((lt&31)<<12|ct<<6|ut)}else if((lt&248)===240){const ct=it[ot++]&63,ut=it[ot++]&63,ft=it[ot++]&63;let dt=(lt&7)<<18|ct<<12|ut<<6|ft;dt>65535&&(dt-=65536,st.push(dt>>>10&1023|55296),dt=56320|dt&1023),st.push(dt)}}return String.fromCharCode.apply(null,st)},_e.TextEncoder=et,_e.TextDecoder=tt})(typeof window<"u"?window:typeof self<"u"?self:globalThis);function decode$3(_e,et="utf8"){return new TextDecoder(et).decode(_e)}const encoder$1=new TextEncoder;function encode$2(_e){return encoder$1.encode(_e)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const _e=new Uint8Array(4),et=new Uint32Array(_e.buffer);return!((et[0]=1)&_e[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(et=defaultByteLength,tt={}){let rt=!1;typeof et=="number"?et=new ArrayBuffer(et):(rt=!0,this.lastWrittenByte=et.byteLength);const nt=tt.offset?tt.offset>>>0:0,it=et.byteLength-nt;let ot=nt;(ArrayBuffer.isView(et)||et instanceof IOBuffer)&&(et.byteLength!==et.buffer.byteLength&&(ot=et.byteOffset+nt),et=et.buffer),rt?this.lastWrittenByte=it:this.lastWrittenByte=0,this.buffer=et,this.length=it,this.byteLength=it,this.byteOffset=ot,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ot,it),this._mark=0,this._marks=[]}available(et=1){return this.offset+et<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(et=1){return this.offset+=et,this}back(et=1){return this.offset-=et,this}seek(et){return this.offset=et,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const et=this._marks.pop();if(et===void 0)throw new Error("Mark stack empty");return this.seek(et),this}rewind(){return this.offset=0,this}ensureAvailable(et=1){if(!this.available(et)){const rt=(this.offset+et)*2,nt=new Uint8Array(rt);nt.set(new Uint8Array(this.buffer)),this.buffer=nt.buffer,this.length=this.byteLength=rt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(et=1){return this.readArray(et,"uint8")}readArray(et,tt){const rt=typedArrays[tt].BYTES_PER_ELEMENT*et,nt=this.byteOffset+this.offset,it=this.buffer.slice(nt,nt+rt);if(this.littleEndian===hostBigEndian&&tt!=="uint8"&&tt!=="int8"){const at=new Uint8Array(this.buffer.slice(nt,nt+rt));at.reverse();const st=new typedArrays[tt](at.buffer);return this.offset+=rt,st.reverse(),st}const ot=new typedArrays[tt](it);return this.offset+=rt,ot}readInt16(){const et=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,et}readUint16(){const et=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,et}readInt32(){const et=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,et}readUint32(){const et=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat32(){const et=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,et}readFloat64(){const et=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,et}readBigInt64(){const et=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,et}readBigUint64(){const et=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,et}readChar(){return String.fromCharCode(this.readInt8())}readChars(et=1){let tt="";for(let rt=0;rt<et;rt++)tt+=this.readChar();return tt}readUtf8(et=1){return decode$3(this.readBytes(et))}decodeText(et=1,tt="utf-8"){return decode$3(this.readBytes(et),tt)}writeBoolean(et){return this.writeUint8(et?255:0),this}writeInt8(et){return this.ensureAvailable(1),this._data.setInt8(this.offset++,et),this._updateLastWrittenByte(),this}writeUint8(et){return this.ensureAvailable(1),this._data.setUint8(this.offset++,et),this._updateLastWrittenByte(),this}writeByte(et){return this.writeUint8(et)}writeBytes(et){this.ensureAvailable(et.length);for(let tt=0;tt<et.length;tt++)this._data.setUint8(this.offset++,et[tt]);return this._updateLastWrittenByte(),this}writeInt16(et){return this.ensureAvailable(2),this._data.setInt16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(et){return this.ensureAvailable(2),this._data.setUint16(this.offset,et,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(et){return this.ensureAvailable(4),this._data.setInt32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(et){return this.ensureAvailable(4),this._data.setUint32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(et){return this.ensureAvailable(4),this._data.setFloat32(this.offset,et,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(et){return this.ensureAvailable(8),this._data.setFloat64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(et){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(et){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,et,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(et){return this.writeUint8(et.charCodeAt(0))}writeChars(et){for(let tt=0;tt<et.length;tt++)this.writeUint8(et.charCodeAt(tt));return this}writeUtf8(et){return this.writeBytes(encode$2(et))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function guessStripByteCounts(_e){if(_e.compression!==1)throw new Error("missing mandatory StripByteCounts field in compressed image");const et=_e.rowsPerStrip*_e.width*_e.samplesPerPixel*(_e.bitsPerSample/8);return new Array(_e.stripOffsets.length).fill(et)}function applyHorizontalDifferencing8Bit(_e,et,tt){let rt=0;for(;rt<_e.length;){for(let nt=tt;nt<et*tt;nt+=tt)for(let it=0;it<tt;it++)_e[rt+nt+it]=_e[rt+nt+it]+_e[rt+nt-(tt-it)]&255;rt+=et*tt}}function applyHorizontalDifferencing16Bit(_e,et,tt){let rt=0;for(;rt<_e.length;){for(let nt=tt;nt<et*tt;nt+=tt)for(let it=0;it<tt;it++)_e[rt+nt+it]=_e[rt+nt+it]+_e[rt+nt-(tt-it)]&65535;rt+=et*tt}}const tagsById$2={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},tagsByName$2={};for(const _e in tagsById$2)tagsByName$2[tagsById$2[_e]]=Number(_e);const exif=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$2,tagsByName:tagsByName$2},Symbol.toStringTag,{value:"Module"})),tagsById$1={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},tagsByName$1={};for(const _e in tagsById$1)tagsByName$1[tagsById$1[_e]]=Number(_e);const gps=Object.freeze(Object.defineProperty({__proto__:null,tagsById:tagsById$1,tagsByName:tagsByName$1},Symbol.toStringTag,{value:"Module"})),tagsById={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},tagsByName={};for(const _e in tagsById)tagsByName[tagsById[_e]]=Number(_e);const standard=Object.freeze(Object.defineProperty({__proto__:null,tagsById,tagsByName},Symbol.toStringTag,{value:"Module"})),tags={standard,exif,gps};class IFD{constructor(et){if(!et)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=et,this._hasMap=!1,this._map={}}get(et){if(typeof et=="number")return this.fields.get(et);if(typeof et=="string")return this.fields.get(tags[this.kind].tagsByName[et]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const et=tags[this.kind].tagsById;for(const tt of this.fields.keys())et[tt]&&(this._map[et[tt]]=this.fields.get(tt));this._hasMap=!0}return this._map}}const types=new Map([[1,[1,readByte]],[2,[1,readASCII]],[3,[2,readShort]],[4,[4,readLong]],[5,[8,readRational]],[6,[1,readSByte]],[7,[1,readByte]],[8,[2,readSShort]],[9,[4,readSLong]],[10,[8,readSRational]],[11,[4,readFloat]],[12,[8,readDouble]]]);function getByteLength(_e,et){const tt=types.get(_e);if(!tt)throw new Error(`type not found: ${_e}`);return tt[0]*et}function readData(_e,et,tt){const rt=types.get(et);if(!rt)throw new Error(`type not found: ${et}`);return rt[1](_e,tt)}function readByte(_e,et){if(et===1)return _e.readUint8();const tt=new Uint8Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readUint8();return tt}function readASCII(_e,et){const tt=[];let rt="";for(let nt=0;nt<et;nt++){const it=String.fromCharCode(_e.readUint8());it==="\0"?(tt.push(rt),rt=""):rt+=it}return tt.length===1?tt[0]:tt}function readShort(_e,et){if(et===1)return _e.readUint16();const tt=new Uint16Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readUint16();return tt}function readLong(_e,et){if(et===1)return _e.readUint32();const tt=new Uint32Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readUint32();return tt}function readRational(_e,et){if(et===1)return _e.readUint32()/_e.readUint32();const tt=new Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readUint32()/_e.readUint32();return tt}function readSByte(_e,et){if(et===1)return _e.readInt8();const tt=new Int8Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readInt8();return tt}function readSShort(_e,et){if(et===1)return _e.readInt16();const tt=new Int16Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readInt16();return tt}function readSLong(_e,et){if(et===1)return _e.readInt32();const tt=new Int32Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readInt32();return tt}function readSRational(_e,et){if(et===1)return _e.readInt32()/_e.readInt32();const tt=new Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readInt32()/_e.readInt32();return tt}function readFloat(_e,et){if(et===1)return _e.readFloat32();const tt=new Float32Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readFloat32();return tt}function readDouble(_e,et){if(et===1)return _e.readFloat64();const tt=new Float64Array(et);for(let rt=0;rt<et;rt++)tt[rt]=_e.readFloat64();return tt}const CLEAR_CODE=256,EOI_CODE=257,TABLE_START=258,MIN_BIT_LENGTH=9;let stringTable=[];function initializeStringTable(){if(stringTable.length===0){for(let et=0;et<256;et++)stringTable.push([et]);const _e=[];for(let et=256;et<4096;et++)stringTable.push(_e)}}const andTable=[511,1023,2047,4095],bitJumps=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class LzwDecoder{constructor(et){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH,this.stripArray=new Uint8Array(et.buffer,et.byteOffset,et.byteLength),this.outData=new IOBuffer(et.byteLength),this.initializeTable()}decode(){let et=0,tt=0;for(;(et=this.getNextCode())!==EOI_CODE;)if(et===CLEAR_CODE){if(this.initializeTable(),et=this.getNextCode(),et===EOI_CODE)break;this.writeString(this.stringFromCode(et)),tt=et}else if(this.isInTable(et))this.writeString(this.stringFromCode(et)),this.addStringToTable(this.stringFromCode(tt).concat(this.stringFromCode(et)[0])),tt=et;else{const nt=this.stringFromCode(tt).concat(this.stringFromCode(tt)[0]);this.writeString(nt),this.addStringToTable(nt),tt=et}const rt=this.outData.toArray();return new DataView(rt.buffer,rt.byteOffset,rt.byteLength)}initializeTable(){initializeStringTable(),this.tableLength=TABLE_START,this.currentBitLength=MIN_BIT_LENGTH}writeString(et){this.outData.writeBytes(et)}stringFromCode(et){return stringTable[et]}isInTable(et){return et<this.tableLength}addStringToTable(et){if(stringTable[this.tableLength++]=et,stringTable.length>4096)throw stringTable=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===bitJumps[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|this.stripArray[this.bytePointer++]&255,this.nextBits+=8);const et=this.nextData>>this.nextBits-this.currentBitLength&andTable[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:et}}function decompressLzw(_e){return new LzwDecoder(_e).decode()}const dateTimeRegex=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class TiffIfd extends IFD{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){const et=new Date,tt=dateTimeRegex.exec(this.dateTime);if(tt===null)throw new Error(`invalid dateTime: ${this.dateTime}`);return et.setFullYear(Number(tt[1]),Number(tt[2])-1,Number(tt[3])),et.setHours(Number(tt[4]),Number(tt[5]),Number(tt[6])),et}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const et=this.get("BitsPerSample");return et&&typeof et!="number"?et[0]:et}get alpha(){const et=this.extraSamples;return et?et[0]!==0:!1}get associatedAlpha(){const et=this.extraSamples;return et?et[0]===1:!1}get extraSamples(){return alwaysArray(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return alwaysArray(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return alwaysArray(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||2**this.bitsPerSample-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return alwaysArray(this.get("SampleFormat")||1)[0]}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const et=2**this.bitsPerSample,tt=this.get("ColorMap");if(!tt)return;if(tt.length!==3*et)throw new Error(`ColorMap size must be ${et}`);const rt=[];for(let nt=0;nt<et;nt++)rt.push([tt[nt],tt[nt+et],tt[nt+2*et]]);return rt}}function alwaysArray(_e){return typeof _e=="number"?[_e]:_e}function decompressZlib(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=inflate_1(et);return new DataView(tt.buffer,tt.byteOffset,tt.byteLength)}const defaultOptions={ignoreImageData:!1};class TIFFDecoder extends IOBuffer{constructor(et){super(et),this._nextIFD=0}get isMultiPage(){let et=0;for(this.decodeHeader();this._nextIFD;)if(et++,this.decodeIFD({ignoreImageData:!0},!0),et===2)return!0;if(et===1)return!1;throw unsupported("ifdCount",et)}get pageCount(){let et=0;for(this.decodeHeader();this._nextIFD;)et++,this.decodeIFD({ignoreImageData:!0},!0);if(et>0)return et;throw unsupported("ifdCount",et)}decode(et={}){const{pages:tt}=et;checkPages(tt);const rt=tt?Math.max(...tt):1/0;et={...defaultOptions,...et};const nt=[];this.decodeHeader();let it=0;for(;this._nextIFD;){if(tt){if(tt.includes(it)?nt.push(this.decodeIFD(et,!0)):this.decodeIFD({ignoreImageData:!0},!0),it===rt)break}else nt.push(this.decodeIFD(et,!0));it++}if(it<rt&&rt!==1/0)throw new RangeError(`Index ${rt} is out of bounds. The stack only contains ${it} images.`);return nt}decodeHeader(){const et=this.readUint16();if(et===18761)this.setLittleEndian();else if(et===19789)this.setBigEndian();else throw new Error(`invalid byte order: 0x${et.toString(16)}`);if(this.readUint16()!==42)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(et,tt){this.seek(this._nextIFD);let rt;if(tt)rt=new TiffIfd;else{if(!et.kind)throw new Error("kind is missing");rt=new IFD(et.kind)}const nt=this.readUint16();for(let it=0;it<nt;it++)this.decodeIFDEntry(rt);if(!et.ignoreImageData){if(!(rt instanceof TiffIfd))throw new Error("must be a tiff ifd");this.decodeImageData(rt)}return this._nextIFD=this.readUint32(),rt}decodeIFDEntry(et){const tt=this.offset,rt=this.readUint16(),nt=this.readUint16(),it=this.readUint32();if(nt<1||nt>12){this.skip(4);return}getByteLength(nt,it)>4&&this.seek(this.readUint32());const at=readData(this,nt,it);if(et.fields.set(rt,at),rt===34665||rt===34853){const st=this.offset;let lt="exif";rt===34665?lt="exif":rt===34853&&(lt="gps"),this._nextIFD=at,et[lt]=this.decodeIFD({kind:lt,ignoreImageData:!0},!1),this.offset=st}this.seek(tt),this.skip(12)}decodeImageData(et){const tt=et.orientation;if(tt&&tt!==1)throw unsupported("orientation",tt);switch(et.type){case 0:case 1:case 2:case 3:this.readStripData(et);break;default:throw unsupported("image type",et.type)}if(this.applyPredictor(et),this.convertAlpha(et),et.type===0){const nt=2**et.bitsPerSample-1;for(let it=0;it<et.data.length;it++)et.data[it]=nt-et.data[it]}}readStripData(et){const tt=et.width,rt=et.height,nt=et.bitsPerSample,it=et.sampleFormat,ot=tt*rt*et.samplesPerPixel,at=getDataArray(ot,nt,it),lt=et.rowsPerStrip*tt*et.samplesPerPixel,ct=et.stripOffsets,ut=et.stripByteCounts||guessStripByteCounts(et);let ft=ot,dt=0;for(let pt=0;pt<ct.length;pt++){const mt=new DataView(this.buffer,this.byteOffset+ct[pt],ut[pt]),vt=ft>lt?lt:ft;ft-=vt;let ht=mt;switch(et.compression){case 1:break;case 5:{ht=decompressLzw(mt);break}case 8:{ht=decompressZlib(mt);break}case 2:throw unsupported("Compression","CCITT Group 3");case 32773:throw unsupported("Compression","PackBits");default:throw unsupported("Compression",et.compression)}dt=this.fillUncompressed(nt,it,at,ht,dt,vt)}et.data=at}fillUncompressed(et,tt,rt,nt,it,ot){if(et===8)return fill8bit(rt,nt,it,ot);if(et===16)return fill16bit(rt,nt,it,ot,this.isLittleEndian());if(et===32&&tt===3)return fillFloat32(rt,nt,it,ot,this.isLittleEndian());throw unsupported("bitDepth",et)}applyPredictor(et){const tt=et.bitsPerSample;switch(et.predictor){case 1:break;case 2:{if(tt===8)applyHorizontalDifferencing8Bit(et.data,et.width,et.components);else if(tt===16)applyHorizontalDifferencing16Bit(et.data,et.width,et.components);else throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${tt}`);break}default:throw new Error(`invalid predictor: ${et.predictor}`)}}convertAlpha(et){if(et.alpha&&et.associatedAlpha){const{data:tt,components:rt,maxSampleValue:nt}=et;for(let it=0;it<tt.length;it+=rt){const ot=tt[it+rt-1];for(let at=0;at<rt-1;at++)tt[it+at]=Math.round(tt[it+at]*nt/ot)}}}}function getDataArray(_e,et,tt){if(et===8)return new Uint8Array(_e);if(et===16)return new Uint16Array(_e);if(et===32&&tt===3)return new Float32Array(_e);throw unsupported("bit depth / sample format",`${et} / ${tt}`)}function fill8bit(_e,et,tt,rt){for(let nt=0;nt<rt;nt++)_e[tt++]=et.getUint8(nt);return tt}function fill16bit(_e,et,tt,rt,nt){for(let it=0;it<rt*2;it+=2)_e[tt++]=et.getUint16(it,nt);return tt}function fillFloat32(_e,et,tt,rt,nt){for(let it=0;it<rt*4;it+=4)_e[tt++]=et.getFloat32(it,nt);return tt}function unsupported(_e,et){return new Error(`Unsupported ${_e}: ${et}`)}function checkPages(_e){if(_e){for(const et of _e)if(et<0||!Number.isInteger(et))throw new RangeError(`Index ${et} is invalid. Must be a positive integer.`)}}function decodeTIFF(_e,et){return new TIFFDecoder(_e).decode(et)}function decode$2(_e){const et=new IOBuffer(_e),tt={};if(et.setBigEndian(),et.readUint16()!==65496)throw new Error("SOI marker not found. Not a valid JPEG file");if(et.readUint16()===65505){et.skip(2);const it=et.readBytes(6);it[0]===69&&it[1]===120&&it[2]===105&&it[3]===102&&it[4]===0&&it[5]===0&&(tt.exif=decodeTIFF(new Uint8Array(et.buffer,et.byteOffset+12,et.byteLength-12),{pages:[0],ignoreImageData:!0}))}return tt}var encoder={exports:{}};(function(_e){function et(rt){var nt=Math.floor,it=new Array(64),ot=new Array(64),at=new Array(64),st=new Array(64),lt,ct,ut,ft,dt=new Array(65535),pt=new Array(65535),mt=new Array(64),vt=new Array(64),ht=[],yt=0,gt=7,xt=new Array(64),_t=new Array(64),wt=new Array(64),Et=new Array(256),St=new Array(2048),Ct,bt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],At=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Tt=[0,1,2,3,4,5,6,7,8,9,10,11],Ot=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$t=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],It=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Nt=[0,1,2,3,4,5,6,7,8,9,10,11],jt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Bt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Dt(Pt){for(var Kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],qt=0;qt<64;qt++){var Vt=nt((Kt[qt]*Pt+50)/100);Vt<1?Vt=1:Vt>255&&(Vt=255),it[bt[qt]]=Vt}for(var tr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Yt=0;Yt<64;Yt++){var Zt=nt((tr[Yt]*Pt+50)/100);Zt<1?Zt=1:Zt>255&&(Zt=255),ot[bt[Yt]]=Zt}for(var er=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],lr=0,ur=0;ur<8;ur++)for(var hr=0;hr<8;hr++)at[lr]=1/(it[bt[lr]]*er[ur]*er[hr]*8),st[lr]=1/(ot[bt[lr]]*er[ur]*er[hr]*8),lr++}function zt(Pt,Kt){for(var qt=0,Vt=0,tr=new Array,Yt=1;Yt<=16;Yt++){for(var Zt=1;Zt<=Pt[Yt];Zt++)tr[Kt[Vt]]=[],tr[Kt[Vt]][0]=qt,tr[Kt[Vt]][1]=Yt,Vt++,qt++;qt*=2}return tr}function Lt(){lt=zt(At,Tt),ct=zt(It,Nt),ut=zt(Ot,$t),ft=zt(jt,Bt)}function Ft(){for(var Pt=1,Kt=2,qt=1;qt<=15;qt++){for(var Vt=Pt;Vt<Kt;Vt++)pt[32767+Vt]=qt,dt[32767+Vt]=[],dt[32767+Vt][1]=qt,dt[32767+Vt][0]=Vt;for(var tr=-(Kt-1);tr<=-Pt;tr++)pt[32767+tr]=qt,dt[32767+tr]=[],dt[32767+tr][1]=qt,dt[32767+tr][0]=Kt-1+tr;Pt<<=1,Kt<<=1}}function Xt(){for(var Pt=0;Pt<256;Pt++)St[Pt]=19595*Pt,St[Pt+256>>0]=38470*Pt,St[Pt+512>>0]=7471*Pt+32768,St[Pt+768>>0]=-11059*Pt,St[Pt+1024>>0]=-21709*Pt,St[Pt+1280>>0]=32768*Pt+8421375,St[Pt+1536>>0]=-27439*Pt,St[Pt+1792>>0]=-5329*Pt}function Wt(Pt){for(var Kt=Pt[0],qt=Pt[1]-1;qt>=0;)Kt&1<<qt&&(yt|=1<<gt),qt--,gt--,gt<0&&(yt==255?(Ht(255),Ht(0)):Ht(yt),gt=7,yt=0)}function Ht(Pt){ht.push(Pt)}function nr(Pt){Ht(Pt>>8&255),Ht(Pt&255)}function fr(Pt,Kt){var qt,Vt,tr,Yt,Zt,er,lr,ur,hr=0,gr,vr=8,ir=64;for(gr=0;gr<vr;++gr){qt=Pt[hr],Vt=Pt[hr+1],tr=Pt[hr+2],Yt=Pt[hr+3],Zt=Pt[hr+4],er=Pt[hr+5],lr=Pt[hr+6],ur=Pt[hr+7];var cr=qt+ur,mr=qt-ur,xr=Vt+lr,_r=Vt-lr,br=tr+er,Er=tr-er,Br=Yt+Zt,yn=Yt-Zt,Pr=cr+Br,Ir=cr-Br,Mr=xr+br,Kr=xr-br;Pt[hr]=Pr+Mr,Pt[hr+4]=Pr-Mr;var xn=(Kr+Ir)*.707106781;Pt[hr+2]=Ir+xn,Pt[hr+6]=Ir-xn,Pr=yn+Er,Mr=Er+_r,Kr=_r+mr;var _n=(Pr-Kr)*.382683433,wn=.5411961*Pr+_n,Ln=1.306562965*Kr+_n,jn=Mr*.707106781,Fn=mr+jn,Bn=mr-jn;Pt[hr+5]=Bn+wn,Pt[hr+3]=Bn-wn,Pt[hr+1]=Fn+Ln,Pt[hr+7]=Fn-Ln,hr+=8}for(hr=0,gr=0;gr<vr;++gr){qt=Pt[hr],Vt=Pt[hr+8],tr=Pt[hr+16],Yt=Pt[hr+24],Zt=Pt[hr+32],er=Pt[hr+40],lr=Pt[hr+48],ur=Pt[hr+56];var zn=qt+ur,Pn=qt-ur,Un=Vt+lr,Vn=Vt-lr,Hn=tr+er,Gn=tr-er,Wn=Yt+Zt,uo=Yt-Zt,bn=zn+Wn,Mn=zn-Wn,Rn=Un+Hn,Tn=Un-Hn;Pt[hr]=bn+Rn,Pt[hr+32]=bn-Rn;var Kn=(Tn+Mn)*.707106781;Pt[hr+16]=Mn+Kn,Pt[hr+48]=Mn-Kn,bn=uo+Gn,Rn=Gn+Vn,Tn=Vn+Pn;var Yn=(bn-Tn)*.382683433,Zn=.5411961*bn+Yn,Xn=1.306562965*Tn+Yn,qn=Rn*.707106781,Qn=Pn+qn,Jn=Pn-qn;Pt[hr+40]=Jn+Zn,Pt[hr+24]=Jn-Zn,Pt[hr+8]=Qn+Xn,Pt[hr+56]=Qn-Xn,hr++}var An;for(gr=0;gr<ir;++gr)An=Pt[gr]*Kt[gr],mt[gr]=An>0?An+.5|0:An-.5|0;return mt}function dr(){nr(65504),nr(16),Ht(74),Ht(70),Ht(73),Ht(70),Ht(0),Ht(1),Ht(1),Ht(0),nr(1),nr(1),Ht(0),Ht(0)}function Qt(Pt){if(Pt){nr(65505),Pt[0]===69&&Pt[1]===120&&Pt[2]===105&&Pt[3]===102?nr(Pt.length+2):(nr(Pt.length+5+2),Ht(69),Ht(120),Ht(105),Ht(102),Ht(0));for(var Kt=0;Kt<Pt.length;Kt++)Ht(Pt[Kt])}}function sr(Pt,Kt){nr(65472),nr(17),Ht(8),nr(Kt),nr(Pt),Ht(3),Ht(1),Ht(17),Ht(0),Ht(2),Ht(17),Ht(1),Ht(3),Ht(17),Ht(1)}function ar(){nr(65499),nr(132),Ht(0);for(var Pt=0;Pt<64;Pt++)Ht(it[Pt]);Ht(1);for(var Kt=0;Kt<64;Kt++)Ht(ot[Kt])}function Jt(){nr(65476),nr(418),Ht(0);for(var Pt=0;Pt<16;Pt++)Ht(At[Pt+1]);for(var Kt=0;Kt<=11;Kt++)Ht(Tt[Kt]);Ht(16);for(var qt=0;qt<16;qt++)Ht(Ot[qt+1]);for(var Vt=0;Vt<=161;Vt++)Ht($t[Vt]);Ht(1);for(var tr=0;tr<16;tr++)Ht(It[tr+1]);for(var Yt=0;Yt<=11;Yt++)Ht(Nt[Yt]);Ht(17);for(var Zt=0;Zt<16;Zt++)Ht(jt[Zt+1]);for(var er=0;er<=161;er++)Ht(Bt[er])}function pr(Pt){typeof Pt>"u"||Pt.constructor!==Array||Pt.forEach(Kt=>{if(typeof Kt=="string"){nr(65534);var qt=Kt.length;nr(qt+2);var Vt;for(Vt=0;Vt<qt;Vt++)Ht(Kt.charCodeAt(Vt))}})}function Rt(){nr(65498),nr(12),Ht(3),Ht(1),Ht(0),Ht(2),Ht(17),Ht(3),Ht(17),Ht(0),Ht(63),Ht(0)}function Ut(Pt,Kt,qt,Vt,tr){for(var Yt=tr[0],Zt=tr[240],er,lr=16,ur=63,hr=64,gr=fr(Pt,Kt),vr=0;vr<hr;++vr)vt[bt[vr]]=gr[vr];var ir=vt[0]-qt;qt=vt[0],ir==0?Wt(Vt[0]):(er=32767+ir,Wt(Vt[pt[er]]),Wt(dt[er]));for(var cr=63;cr>0&&vt[cr]==0;cr--);if(cr==0)return Wt(Yt),qt;for(var mr=1,xr;mr<=cr;){for(var _r=mr;vt[mr]==0&&mr<=cr;++mr);var br=mr-_r;if(br>=lr){xr=br>>4;for(var Er=1;Er<=xr;++Er)Wt(Zt);br=br&15}er=32767+vt[mr],Wt(tr[(br<<4)+pt[er]]),Wt(dt[er]),mr++}return cr!=ur&&Wt(Yt),qt}function Gt(){for(var Pt=String.fromCharCode,Kt=0;Kt<256;Kt++)Et[Kt]=Pt(Kt)}this.encode=function(Pt,Kt){new Date().getTime(),Kt&&Mt(Kt),ht=new Array,yt=0,gt=7,nr(65496),dr(),pr(Pt.comments),Qt(Pt.exifBuffer),ar(),sr(Pt.width,Pt.height),Jt(),Rt();var qt=0,Vt=0,tr=0;yt=0,gt=7,this.encode.displayName="_encode_";for(var Yt=Pt.data,Zt=Pt.width,er=Pt.height,lr=Zt*4,ur,hr=0,gr,vr,ir,cr,mr,xr,_r,br;hr<er;){for(ur=0;ur<lr;){for(cr=lr*hr+ur,mr=cr,xr=-1,_r=0,br=0;br<64;br++)_r=br>>3,xr=(br&7)*4,mr=cr+_r*lr+xr,hr+_r>=er&&(mr-=lr*(hr+1+_r-er)),ur+xr>=lr&&(mr-=ur+xr-lr+4),gr=Yt[mr++],vr=Yt[mr++],ir=Yt[mr++],xt[br]=(St[gr]+St[vr+256>>0]+St[ir+512>>0]>>16)-128,_t[br]=(St[gr+768>>0]+St[vr+1024>>0]+St[ir+1280>>0]>>16)-128,wt[br]=(St[gr+1280>>0]+St[vr+1536>>0]+St[ir+1792>>0]>>16)-128;qt=Ut(xt,at,qt,lt,ut),Vt=Ut(_t,st,Vt,ct,ft),tr=Ut(wt,st,tr,ct,ft),ur+=32}hr+=8}if(gt>=0){var Er=[];Er[1]=gt+1,Er[0]=(1<<gt+1)-1,Wt(Er)}return nr(65497),Buffer.from(ht)};function Mt(Pt){if(Pt<=0&&(Pt=1),Pt>100&&(Pt=100),Ct!=Pt){var Kt=0;Pt<50?Kt=Math.floor(5e3/Pt):Kt=Math.floor(200-Pt*2),Dt(Kt),Ct=Pt}}function kt(){var Pt=new Date().getTime();rt||(rt=50),Gt(),Lt(),Ft(),Xt(),Mt(rt),new Date().getTime()-Pt}kt()}_e.exports=tt;function tt(rt,nt){typeof nt>"u"&&(nt=50);var it=new et(nt),ot=it.encode(rt,nt);return{data:ot,width:rt.width,height:rt.height}}})(encoder);var encoderExports=encoder.exports,decoder={exports:{}};(function(_e){var et=function(){var nt=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),it=4017,ot=799,at=3406,st=2276,lt=1567,ct=3784,ut=5793,ft=2896;function dt(){}function pt(_t,wt){for(var Et=0,St=[],Ct,bt,At=16;At>0&&!_t[At-1];)At--;St.push({children:[],index:0});var Tt=St[0],Ot;for(Ct=0;Ct<At;Ct++){for(bt=0;bt<_t[Ct];bt++){for(Tt=St.pop(),Tt.children[Tt.index]=wt[Et];Tt.index>0;){if(St.length===0)throw new Error("Could not recreate Huffman Table");Tt=St.pop()}for(Tt.index++,St.push(Tt);St.length<=Ct;)St.push(Ot={children:[],index:0}),Tt.children[Tt.index]=Ot.children,Tt=Ot;Et++}Ct+1<At&&(St.push(Ot={children:[],index:0}),Tt.children[Tt.index]=Ot.children,Tt=Ot)}return St[0].children}function mt(_t,wt,Et,St,Ct,bt,At,Tt,Ot,$t){Et.precision,Et.samplesPerLine,Et.scanLines;var It=Et.mcusPerLine,Nt=Et.progressive;Et.maxH,Et.maxV;var jt=wt,Bt=0,Dt=0;function zt(){if(Dt>0)return Dt--,Bt>>Dt&1;if(Bt=_t[wt++],Bt==255){var er=_t[wt++];if(er)throw new Error("unexpected marker: "+(Bt<<8|er).toString(16))}return Dt=7,Bt>>>7}function Lt(er){for(var lr=er,ur;(ur=zt())!==null;){if(lr=lr[ur],typeof lr=="number")return lr;if(typeof lr!="object")throw new Error("invalid huffman sequence")}return null}function Ft(er){for(var lr=0;er>0;){var ur=zt();if(ur===null)return;lr=lr<<1|ur,er--}return lr}function Xt(er){var lr=Ft(er);return lr>=1<<er-1?lr:lr+(-1<<er)+1}function Wt(er,lr){var ur=Lt(er.huffmanTableDC),hr=ur===0?0:Xt(ur);lr[0]=er.pred+=hr;for(var gr=1;gr<64;){var vr=Lt(er.huffmanTableAC),ir=vr&15,cr=vr>>4;if(ir===0){if(cr<15)break;gr+=16;continue}gr+=cr;var mr=nt[gr];lr[mr]=Xt(ir),gr++}}function Ht(er,lr){var ur=Lt(er.huffmanTableDC),hr=ur===0?0:Xt(ur)<<Ot;lr[0]=er.pred+=hr}function nr(er,lr){lr[0]|=zt()<<Ot}var fr=0;function dr(er,lr){if(fr>0){fr--;return}for(var ur=bt,hr=At;ur<=hr;){var gr=Lt(er.huffmanTableAC),vr=gr&15,ir=gr>>4;if(vr===0){if(ir<15){fr=Ft(ir)+(1<<ir)-1;break}ur+=16;continue}ur+=ir;var cr=nt[ur];lr[cr]=Xt(vr)*(1<<Ot),ur++}}var Qt=0,sr;function ar(er,lr){for(var ur=bt,hr=At,gr=0;ur<=hr;){var vr=nt[ur],ir=lr[vr]<0?-1:1;switch(Qt){case 0:var cr=Lt(er.huffmanTableAC),mr=cr&15,gr=cr>>4;if(mr===0)gr<15?(fr=Ft(gr)+(1<<gr),Qt=4):(gr=16,Qt=1);else{if(mr!==1)throw new Error("invalid ACn encoding");sr=Xt(mr),Qt=gr?2:3}continue;case 1:case 2:lr[vr]?lr[vr]+=(zt()<<Ot)*ir:(gr--,gr===0&&(Qt=Qt==2?3:0));break;case 3:lr[vr]?lr[vr]+=(zt()<<Ot)*ir:(lr[vr]=sr<<Ot,Qt=0);break;case 4:lr[vr]&&(lr[vr]+=(zt()<<Ot)*ir);break}ur++}Qt===4&&(fr--,fr===0&&(Qt=0))}function Jt(er,lr,ur,hr,gr){var vr=ur/It|0,ir=ur%It,cr=vr*er.v+hr,mr=ir*er.h+gr;er.blocks[cr]===void 0&&$t.tolerantDecoding||lr(er,er.blocks[cr][mr])}function pr(er,lr,ur){var hr=ur/er.blocksPerLine|0,gr=ur%er.blocksPerLine;er.blocks[hr]===void 0&&$t.tolerantDecoding||lr(er,er.blocks[hr][gr])}var Rt=St.length,Ut,Gt,Mt,kt,Pt,Kt;Nt?bt===0?Kt=Tt===0?Ht:nr:Kt=Tt===0?dr:ar:Kt=Wt;var qt=0,Vt,tr;Rt==1?tr=St[0].blocksPerLine*St[0].blocksPerColumn:tr=It*Et.mcusPerColumn,Ct||(Ct=tr);for(var Yt,Zt;qt<tr;){for(Gt=0;Gt<Rt;Gt++)St[Gt].pred=0;if(fr=0,Rt==1)for(Ut=St[0],Pt=0;Pt<Ct;Pt++)pr(Ut,Kt,qt),qt++;else for(Pt=0;Pt<Ct;Pt++){for(Gt=0;Gt<Rt;Gt++)for(Ut=St[Gt],Yt=Ut.h,Zt=Ut.v,Mt=0;Mt<Zt;Mt++)for(kt=0;kt<Yt;kt++)Jt(Ut,Kt,qt,Mt,kt);if(qt++,qt===tr)break}if(qt===tr)do{if(_t[wt]===255&&_t[wt+1]!==0)break;wt+=1}while(wt<_t.length-2);if(Dt=0,Vt=_t[wt]<<8|_t[wt+1],Vt<65280)throw new Error("marker was not found");if(Vt>=65488&&Vt<=65495)wt+=2;else break}return wt-jt}function vt(_t,wt){var Et=[],St=wt.blocksPerLine,Ct=wt.blocksPerColumn,bt=St<<3,At=new Int32Array(64),Tt=new Uint8Array(64);function Ot(Ft,Xt,Wt){var Ht=wt.quantizationTable,nr,fr,dr,Qt,sr,ar,Jt,pr,Rt,Ut=Wt,Gt;for(Gt=0;Gt<64;Gt++)Ut[Gt]=Ft[Gt]*Ht[Gt];for(Gt=0;Gt<8;++Gt){var Mt=8*Gt;if(Ut[1+Mt]==0&&Ut[2+Mt]==0&&Ut[3+Mt]==0&&Ut[4+Mt]==0&&Ut[5+Mt]==0&&Ut[6+Mt]==0&&Ut[7+Mt]==0){Rt=ut*Ut[0+Mt]+512>>10,Ut[0+Mt]=Rt,Ut[1+Mt]=Rt,Ut[2+Mt]=Rt,Ut[3+Mt]=Rt,Ut[4+Mt]=Rt,Ut[5+Mt]=Rt,Ut[6+Mt]=Rt,Ut[7+Mt]=Rt;continue}nr=ut*Ut[0+Mt]+128>>8,fr=ut*Ut[4+Mt]+128>>8,dr=Ut[2+Mt],Qt=Ut[6+Mt],sr=ft*(Ut[1+Mt]-Ut[7+Mt])+128>>8,pr=ft*(Ut[1+Mt]+Ut[7+Mt])+128>>8,ar=Ut[3+Mt]<<4,Jt=Ut[5+Mt]<<4,Rt=nr-fr+1>>1,nr=nr+fr+1>>1,fr=Rt,Rt=dr*ct+Qt*lt+128>>8,dr=dr*lt-Qt*ct+128>>8,Qt=Rt,Rt=sr-Jt+1>>1,sr=sr+Jt+1>>1,Jt=Rt,Rt=pr+ar+1>>1,ar=pr-ar+1>>1,pr=Rt,Rt=nr-Qt+1>>1,nr=nr+Qt+1>>1,Qt=Rt,Rt=fr-dr+1>>1,fr=fr+dr+1>>1,dr=Rt,Rt=sr*st+pr*at+2048>>12,sr=sr*at-pr*st+2048>>12,pr=Rt,Rt=ar*ot+Jt*it+2048>>12,ar=ar*it-Jt*ot+2048>>12,Jt=Rt,Ut[0+Mt]=nr+pr,Ut[7+Mt]=nr-pr,Ut[1+Mt]=fr+Jt,Ut[6+Mt]=fr-Jt,Ut[2+Mt]=dr+ar,Ut[5+Mt]=dr-ar,Ut[3+Mt]=Qt+sr,Ut[4+Mt]=Qt-sr}for(Gt=0;Gt<8;++Gt){var kt=Gt;if(Ut[8+kt]==0&&Ut[16+kt]==0&&Ut[24+kt]==0&&Ut[32+kt]==0&&Ut[40+kt]==0&&Ut[48+kt]==0&&Ut[56+kt]==0){Rt=ut*Wt[Gt+0]+8192>>14,Ut[0+kt]=Rt,Ut[8+kt]=Rt,Ut[16+kt]=Rt,Ut[24+kt]=Rt,Ut[32+kt]=Rt,Ut[40+kt]=Rt,Ut[48+kt]=Rt,Ut[56+kt]=Rt;continue}nr=ut*Ut[0+kt]+2048>>12,fr=ut*Ut[32+kt]+2048>>12,dr=Ut[16+kt],Qt=Ut[48+kt],sr=ft*(Ut[8+kt]-Ut[56+kt])+2048>>12,pr=ft*(Ut[8+kt]+Ut[56+kt])+2048>>12,ar=Ut[24+kt],Jt=Ut[40+kt],Rt=nr-fr+1>>1,nr=nr+fr+1>>1,fr=Rt,Rt=dr*ct+Qt*lt+2048>>12,dr=dr*lt-Qt*ct+2048>>12,Qt=Rt,Rt=sr-Jt+1>>1,sr=sr+Jt+1>>1,Jt=Rt,Rt=pr+ar+1>>1,ar=pr-ar+1>>1,pr=Rt,Rt=nr-Qt+1>>1,nr=nr+Qt+1>>1,Qt=Rt,Rt=fr-dr+1>>1,fr=fr+dr+1>>1,dr=Rt,Rt=sr*st+pr*at+2048>>12,sr=sr*at-pr*st+2048>>12,pr=Rt,Rt=ar*ot+Jt*it+2048>>12,ar=ar*it-Jt*ot+2048>>12,Jt=Rt,Ut[0+kt]=nr+pr,Ut[56+kt]=nr-pr,Ut[8+kt]=fr+Jt,Ut[48+kt]=fr-Jt,Ut[16+kt]=dr+ar,Ut[40+kt]=dr-ar,Ut[24+kt]=Qt+sr,Ut[32+kt]=Qt-sr}for(Gt=0;Gt<64;++Gt){var Pt=128+(Ut[Gt]+8>>4);Xt[Gt]=Pt<0?0:Pt>255?255:Pt}}xt(bt*Ct*8);for(var $t,It,Nt=0;Nt<Ct;Nt++){var jt=Nt<<3;for($t=0;$t<8;$t++)Et.push(new Uint8Array(bt));for(var Bt=0;Bt<St;Bt++){Ot(wt.blocks[Nt][Bt],Tt,At);var Dt=0,zt=Bt<<3;for(It=0;It<8;It++){var Lt=Et[jt+It];for($t=0;$t<8;$t++)Lt[zt+$t]=Tt[Dt++]}}}return Et}function ht(_t){return _t<0?0:_t>255?255:_t}dt.prototype={load:function(wt){var Et=new XMLHttpRequest;Et.open("GET",wt,!0),Et.responseType="arraybuffer",Et.onload=(function(){var St=new Uint8Array(Et.response||Et.mozResponseArrayBuffer);this.parse(St),this.onload&&this.onload()}).bind(this),Et.send(null)},parse:function(wt){var Et=this.opts.maxResolutionInMP*1e3*1e3,St=0;wt.length;function Ct(){var ir=wt[St]<<8|wt[St+1];return St+=2,ir}function bt(){var ir=Ct(),cr=wt.subarray(St,St+ir-2);return St+=cr.length,cr}function At(ir){var cr=1,mr=1,xr,_r;for(_r in ir.components)ir.components.hasOwnProperty(_r)&&(xr=ir.components[_r],cr<xr.h&&(cr=xr.h),mr<xr.v&&(mr=xr.v));var br=Math.ceil(ir.samplesPerLine/8/cr),Er=Math.ceil(ir.scanLines/8/mr);for(_r in ir.components)if(ir.components.hasOwnProperty(_r)){xr=ir.components[_r];var Br=Math.ceil(Math.ceil(ir.samplesPerLine/8)*xr.h/cr),yn=Math.ceil(Math.ceil(ir.scanLines/8)*xr.v/mr),Pr=br*xr.h,Ir=Er*xr.v,Mr=Ir*Pr,Kr=[];xt(Mr*256);for(var xn=0;xn<Ir;xn++){for(var _n=[],wn=0;wn<Pr;wn++)_n.push(new Int32Array(64));Kr.push(_n)}xr.blocksPerLine=Br,xr.blocksPerColumn=yn,xr.blocks=Kr}ir.maxH=cr,ir.maxV=mr,ir.mcusPerLine=br,ir.mcusPerColumn=Er}var Tt=null,Ot=null,$t,It,Nt=[],jt=[],Bt=[],Dt=[],zt=Ct(),Lt=-1;if(this.comments=[],zt!=65496)throw new Error("SOI not found");for(zt=Ct();zt!=65497;){var Ft,Xt;switch(zt){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Wt=bt();if(zt===65534){var Ht=String.fromCharCode.apply(null,Wt);this.comments.push(Ht)}zt===65504&&Wt[0]===74&&Wt[1]===70&&Wt[2]===73&&Wt[3]===70&&Wt[4]===0&&(Tt={version:{major:Wt[5],minor:Wt[6]},densityUnits:Wt[7],xDensity:Wt[8]<<8|Wt[9],yDensity:Wt[10]<<8|Wt[11],thumbWidth:Wt[12],thumbHeight:Wt[13],thumbData:Wt.subarray(14,14+3*Wt[12]*Wt[13])}),zt===65505&&Wt[0]===69&&Wt[1]===120&&Wt[2]===105&&Wt[3]===102&&Wt[4]===0&&(this.exifBuffer=Wt.subarray(5,Wt.length)),zt===65518&&Wt[0]===65&&Wt[1]===100&&Wt[2]===111&&Wt[3]===98&&Wt[4]===101&&Wt[5]===0&&(Ot={version:Wt[6],flags0:Wt[7]<<8|Wt[8],flags1:Wt[9]<<8|Wt[10],transformCode:Wt[11]});break;case 65499:for(var nr=Ct(),fr=nr+St-2;St<fr;){var dr=wt[St++];xt(256);var Qt=new Int32Array(64);if(dr>>4)if(dr>>4===1)for(Xt=0;Xt<64;Xt++){var sr=nt[Xt];Qt[sr]=Ct()}else throw new Error("DQT: invalid table spec");else for(Xt=0;Xt<64;Xt++){var sr=nt[Xt];Qt[sr]=wt[St++]}Nt[dr&15]=Qt}break;case 65472:case 65473:case 65474:Ct(),$t={},$t.extended=zt===65473,$t.progressive=zt===65474,$t.precision=wt[St++],$t.scanLines=Ct(),$t.samplesPerLine=Ct(),$t.components={},$t.componentsOrder=[];var ar=$t.scanLines*$t.samplesPerLine;if(ar>Et){var Jt=Math.ceil((ar-Et)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Jt}MP`)}var pr=wt[St++],Rt;for(Ft=0;Ft<pr;Ft++){Rt=wt[St];var Ut=wt[St+1]>>4,Gt=wt[St+1]&15,Mt=wt[St+2];if(Ut<=0||Gt<=0)throw new Error("Invalid sampling factor, expected values above 0");$t.componentsOrder.push(Rt),$t.components[Rt]={h:Ut,v:Gt,quantizationIdx:Mt},St+=3}At($t),jt.push($t);break;case 65476:var kt=Ct();for(Ft=2;Ft<kt;){var Pt=wt[St++],Kt=new Uint8Array(16),qt=0;for(Xt=0;Xt<16;Xt++,St++)qt+=Kt[Xt]=wt[St];xt(16+qt);var Vt=new Uint8Array(qt);for(Xt=0;Xt<qt;Xt++,St++)Vt[Xt]=wt[St];Ft+=17+qt,(Pt>>4?Bt:Dt)[Pt&15]=pt(Kt,Vt)}break;case 65501:Ct(),It=Ct();break;case 65500:Ct(),Ct();break;case 65498:Ct();var tr=wt[St++],Yt=[],Zt;for(Ft=0;Ft<tr;Ft++){Zt=$t.components[wt[St++]];var er=wt[St++];Zt.huffmanTableDC=Dt[er>>4],Zt.huffmanTableAC=Bt[er&15],Yt.push(Zt)}var lr=wt[St++],ur=wt[St++],hr=wt[St++],gr=mt(wt,St,$t,Yt,It,lr,ur,hr>>4,hr&15,this.opts);St+=gr;break;case 65535:wt[St]!==255&&St--;break;default:if(wt[St-3]==255&&wt[St-2]>=192&&wt[St-2]<=254){St-=3;break}else if(zt===224||zt==225){if(Lt!==-1)throw new Error(`first unknown JPEG marker at offset ${Lt.toString(16)}, second unknown JPEG marker ${zt.toString(16)} at offset ${(St-1).toString(16)}`);Lt=St-1;const ir=Ct();if(wt[St+ir-2]===255){St+=ir-2;break}}throw new Error("unknown JPEG marker "+zt.toString(16))}zt=Ct()}if(jt.length!=1)throw new Error("only single frame JPEGs supported");for(var Ft=0;Ft<jt.length;Ft++){var vr=jt[Ft].components;for(var Xt in vr)vr[Xt].quantizationTable=Nt[vr[Xt].quantizationIdx],delete vr[Xt].quantizationIdx}this.width=$t.samplesPerLine,this.height=$t.scanLines,this.jfif=Tt,this.adobe=Ot,this.components=[];for(var Ft=0;Ft<$t.componentsOrder.length;Ft++){var Zt=$t.components[$t.componentsOrder[Ft]];this.components.push({lines:vt($t,Zt),scaleX:Zt.h/$t.maxH,scaleY:Zt.v/$t.maxV})}},getData:function(wt,Et){var St=this.width/wt,Ct=this.height/Et,bt,At,Tt,Ot,$t,It,Nt,jt,Bt,Dt,zt=0,Lt,Ft,Xt,Wt,Ht,nr,fr,dr,Qt,sr,ar,Jt=wt*Et*this.components.length;xt(Jt);var pr=new Uint8Array(Jt);switch(this.components.length){case 1:for(bt=this.components[0],Dt=0;Dt<Et;Dt++)for($t=bt.lines[0|Dt*bt.scaleY*Ct],Bt=0;Bt<wt;Bt++)Lt=$t[0|Bt*bt.scaleX*St],pr[zt++]=Lt;break;case 2:for(bt=this.components[0],At=this.components[1],Dt=0;Dt<Et;Dt++)for($t=bt.lines[0|Dt*bt.scaleY*Ct],It=At.lines[0|Dt*At.scaleY*Ct],Bt=0;Bt<wt;Bt++)Lt=$t[0|Bt*bt.scaleX*St],pr[zt++]=Lt,Lt=It[0|Bt*At.scaleX*St],pr[zt++]=Lt;break;case 3:for(ar=!0,this.adobe&&this.adobe.transformCode?ar=!0:typeof this.opts.colorTransform<"u"&&(ar=!!this.opts.colorTransform),bt=this.components[0],At=this.components[1],Tt=this.components[2],Dt=0;Dt<Et;Dt++)for($t=bt.lines[0|Dt*bt.scaleY*Ct],It=At.lines[0|Dt*At.scaleY*Ct],Nt=Tt.lines[0|Dt*Tt.scaleY*Ct],Bt=0;Bt<wt;Bt++)ar?(Lt=$t[0|Bt*bt.scaleX*St],Ft=It[0|Bt*At.scaleX*St],Xt=Nt[0|Bt*Tt.scaleX*St],dr=ht(Lt+1.402*(Xt-128)),Qt=ht(Lt-.3441363*(Ft-128)-.71413636*(Xt-128)),sr=ht(Lt+1.772*(Ft-128))):(dr=$t[0|Bt*bt.scaleX*St],Qt=It[0|Bt*At.scaleX*St],sr=Nt[0|Bt*Tt.scaleX*St]),pr[zt++]=dr,pr[zt++]=Qt,pr[zt++]=sr;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ar=!1,this.adobe&&this.adobe.transformCode?ar=!0:typeof this.opts.colorTransform<"u"&&(ar=!!this.opts.colorTransform),bt=this.components[0],At=this.components[1],Tt=this.components[2],Ot=this.components[3],Dt=0;Dt<Et;Dt++)for($t=bt.lines[0|Dt*bt.scaleY*Ct],It=At.lines[0|Dt*At.scaleY*Ct],Nt=Tt.lines[0|Dt*Tt.scaleY*Ct],jt=Ot.lines[0|Dt*Ot.scaleY*Ct],Bt=0;Bt<wt;Bt++)ar?(Lt=$t[0|Bt*bt.scaleX*St],Ft=It[0|Bt*At.scaleX*St],Xt=Nt[0|Bt*Tt.scaleX*St],Wt=jt[0|Bt*Ot.scaleX*St],Ht=255-ht(Lt+1.402*(Xt-128)),nr=255-ht(Lt-.3441363*(Ft-128)-.71413636*(Xt-128)),fr=255-ht(Lt+1.772*(Ft-128))):(Ht=$t[0|Bt*bt.scaleX*St],nr=It[0|Bt*At.scaleX*St],fr=Nt[0|Bt*Tt.scaleX*St],Wt=jt[0|Bt*Ot.scaleX*St]),pr[zt++]=255-Ht,pr[zt++]=255-nr,pr[zt++]=255-fr,pr[zt++]=255-Wt;break;default:throw new Error("Unsupported color mode")}return pr},copyToImageData:function(wt,Et){var St=wt.width,Ct=wt.height,bt=wt.data,At=this.getData(St,Ct),Tt=0,Ot=0,$t,It,Nt,jt,Bt,Dt,zt,Lt,Ft;switch(this.components.length){case 1:for(It=0;It<Ct;It++)for($t=0;$t<St;$t++)Nt=At[Tt++],bt[Ot++]=Nt,bt[Ot++]=Nt,bt[Ot++]=Nt,Et&&(bt[Ot++]=255);break;case 3:for(It=0;It<Ct;It++)for($t=0;$t<St;$t++)zt=At[Tt++],Lt=At[Tt++],Ft=At[Tt++],bt[Ot++]=zt,bt[Ot++]=Lt,bt[Ot++]=Ft,Et&&(bt[Ot++]=255);break;case 4:for(It=0;It<Ct;It++)for($t=0;$t<St;$t++)Bt=At[Tt++],Dt=At[Tt++],Nt=At[Tt++],jt=At[Tt++],zt=255-ht(Bt*(1-jt/255)+jt),Lt=255-ht(Dt*(1-jt/255)+jt),Ft=255-ht(Nt*(1-jt/255)+jt),bt[Ot++]=zt,bt[Ot++]=Lt,bt[Ot++]=Ft,Et&&(bt[Ot++]=255);break;default:throw new Error("Unsupported color mode")}}};var yt=0,gt=0;function xt(_t=0){var wt=yt+_t;if(wt>gt){var Et=Math.ceil((wt-gt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Et}MB`)}yt=wt}return dt.resetMaxMemoryUsage=function(_t){yt=0,gt=_t},dt.getBytesAllocated=function(){return yt},dt.requestMemoryAllocation=xt,dt}();_e.exports=tt;function tt(rt,nt={}){var it={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},ot={...it,...nt},at=new Uint8Array(rt),st=new et;st.opts=ot,et.resetMaxMemoryUsage(ot.maxMemoryUsageInMB*1024*1024),st.parse(at);var lt=ot.formatAsRGBA?4:3,ct=st.width*st.height*lt;try{et.requestMemoryAllocation(ct);var ut={width:st.width,height:st.height,exifBuffer:st.exifBuffer,data:ot.useTArray?new Uint8Array(ct):Buffer.alloc(ct)};st.comments.length>0&&(ut.comments=st.comments)}catch(ft){throw ft instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+ct):ft instanceof ReferenceError&&ft.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ft}return st.copyToImageData(ut,ot.formatAsRGBA),ut}})(decoder);var decoderExports=decoder.exports,encode$1=encoderExports,decode$1=decoderExports,jpegJs={encode:encode$1,decode:decode$1};function getMetadata(_e){return{tiff:{fields:_e.fields,tags:_e.map},exif:_e.exif}}function decodeJpeg(_e){var nt;const et=jpegJs.decode(_e,{useTArray:!0,maxMemoryUsageInMB:Number.POSITIVE_INFINITY,maxResolutionInMP:Number.POSITIVE_INFINITY}),tt=decode$2(_e),rt=(nt=tt.exif)!=null&&nt[0]?getMetadata(tt.exif[0]):void 0;return new Image$1(et.width,et.height,{data:et.data,colorModel:"RGBA",meta:rt})}const pngSignature=[137,80,78,71,13,10,26,10],crcTable=[];for(let _e=0;_e<256;_e++){let et=_e;for(let tt=0;tt<8;tt++)et&1?et=3988292384^et>>>1:et=et>>>1;crcTable[_e]=et}const initialCrc=4294967295;function updateCrc(_e,et,tt){let rt=_e;for(let nt=0;nt<tt;nt++)rt=crcTable[(rt^et[nt])&255]^rt>>>8;return rt}function crc(_e,et){return(updateCrc(initialCrc,_e,et)^initialCrc)>>>0}var ColorType;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.GREYSCALE=0]="GREYSCALE",_e[_e.TRUECOLOUR=2]="TRUECOLOUR",_e[_e.INDEXED_COLOUR=3]="INDEXED_COLOUR",_e[_e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",_e[_e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(ColorType||(ColorType={}));var CompressionMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.DEFLATE=0]="DEFLATE"})(CompressionMethod||(CompressionMethod={}));var FilterMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.ADAPTIVE=0]="ADAPTIVE"})(FilterMethod||(FilterMethod={}));var InterlaceMethod;(function(_e){_e[_e.UNKNOWN=-1]="UNKNOWN",_e[_e.NO_INTERLACE=0]="NO_INTERLACE",_e[_e.ADAM7=1]="ADAM7"})(InterlaceMethod||(InterlaceMethod={}));const empty=new Uint8Array(0),NULL="\0",uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255;class PngDecoder extends IOBuffer{constructor(et,tt={}){super(et);const{checkCrc:rt=!1}=tt;this._checkCrc=rt,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let et=0;et<pngSignature.length;et++)if(this.readUint8()!==pngSignature[et])throw new Error(`wrong PNG signature. Byte at ${et} should be ${pngSignature[et]}.`)}decodeChunk(){const et=this.readUint32(),tt=this.readChars(4),rt=this.offset;switch(tt){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(et);break;case"IDAT":this.decodeIDAT(et);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(et);break;case"iCCP":this.decodeiCCP(et);break;case"tEXt":this.decodetEXt(et);break;case"pHYs":this.decodepHYs();break;default:this.skip(et);break}if(this.offset-rt!==et)throw new Error(`Length mismatch while decoding chunk ${tt}`);if(this._checkCrc){const nt=this.readUint32(),it=et+4,ot=crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-it-4,it),it);if(ot!==nt)throw new Error(`CRC mismatch for chunk ${tt}. Expected ${nt}, found ${ot}`)}else this.skip(4)}decodeIHDR(){const et=this._png;et.width=this.readUint32(),et.height=this.readUint32(),et.depth=checkBitDepth(this.readUint8());const tt=this.readUint8();this._colorType=tt;let rt;switch(tt){case ColorType.GREYSCALE:rt=1;break;case ColorType.TRUECOLOUR:rt=3;break;case ColorType.INDEXED_COLOUR:rt=1;break;case ColorType.GREYSCALE_ALPHA:rt=2;break;case ColorType.TRUECOLOUR_ALPHA:rt=4;break;default:throw new Error(`Unknown color type: ${tt}`)}if(this._png.channels=rt,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(et){if(et%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${et}`);const tt=et/3;this._hasPalette=!0;const rt=[];this._palette=rt;for(let nt=0;nt<tt;nt++)rt.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(et){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,et)),this.skip(et)}decodetRNS(et){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(et%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${et}`);if(et/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${et/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(et/2);for(let tt=0;tt<et/2;tt++)this._transparency[tt]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(et>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${et} vs ${this._palette.length})`);let tt=0;for(;tt<et;tt++){const rt=this.readByte();this._palette[tt].push(rt)}for(;tt<this._palette.length;tt++)this._palette[tt].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(et){let tt="",rt;for(;(rt=this.readChar())!==NULL;)tt+=rt;const nt=this.readUint8();if(nt!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${nt}`);const it=this.readBytes(et-tt.length-2);this._png.iccEmbeddedProfile={name:tt,profile:inflate_1(it)}}decodetEXt(et){let tt="",rt;for(;(rt=this.readChar())!==NULL;)tt+=rt;this._png.text[tt]=this.readChars(et-tt.length-1)}decodepHYs(){const et=this.readUint32(),tt=this.readUint32(),rt=this.readByte();this._png.resolution={x:et,y:tt,unit:rt}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const et=this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this.decodeInterlaceNull(et);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(et){const tt=this._png.height,rt=this._png.channels*this._png.depth/8,nt=this._png.width*rt,it=new Uint8Array(this._png.height*nt);let ot=empty,at=0,st,lt;for(let ct=0;ct<tt;ct++){switch(st=et.subarray(at+1,at+1+nt),lt=it.subarray(ct*nt,(ct+1)*nt),et[at]){case 0:unfilterNone(st,lt,nt);break;case 1:unfilterSub(st,lt,nt,rt);break;case 2:unfilterUp(st,lt,ot,nt);break;case 3:unfilterAverage(st,lt,ot,nt,rt);break;case 4:unfilterPaeth(st,lt,ot,nt,rt);break;default:throw new Error(`Unsupported filter: ${et[at]}`)}ot=lt,at+=nt+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){const ct=new Uint16Array(it.buffer);if(osIsLittleEndian)for(let ut=0;ut<ct.length;ut++)ct[ut]=swap16(ct[ut]);this._png.data=ct}else this._png.data=it}}function unfilterNone(_e,et,tt){for(let rt=0;rt<tt;rt++)et[rt]=_e[rt]}function unfilterSub(_e,et,tt,rt){let nt=0;for(;nt<rt;nt++)et[nt]=_e[nt];for(;nt<tt;nt++)et[nt]=_e[nt]+et[nt-rt]&255}function unfilterUp(_e,et,tt,rt){let nt=0;if(tt.length===0)for(;nt<rt;nt++)et[nt]=_e[nt];else for(;nt<rt;nt++)et[nt]=_e[nt]+tt[nt]&255}function unfilterAverage(_e,et,tt,rt,nt){let it=0;if(tt.length===0){for(;it<nt;it++)et[it]=_e[it];for(;it<rt;it++)et[it]=_e[it]+(et[it-nt]>>1)&255}else{for(;it<nt;it++)et[it]=_e[it]+(tt[it]>>1)&255;for(;it<rt;it++)et[it]=_e[it]+(et[it-nt]+tt[it]>>1)&255}}function unfilterPaeth(_e,et,tt,rt,nt){let it=0;if(tt.length===0){for(;it<nt;it++)et[it]=_e[it];for(;it<rt;it++)et[it]=_e[it]+et[it-nt]&255}else{for(;it<nt;it++)et[it]=_e[it]+tt[it]&255;for(;it<rt;it++)et[it]=_e[it]+paethPredictor(et[it-nt],tt[it],tt[it-nt])&255}}function paethPredictor(_e,et,tt){const rt=_e+et-tt,nt=Math.abs(rt-_e),it=Math.abs(rt-et),ot=Math.abs(rt-tt);return nt<=it&&nt<=ot?_e:it<=ot?et:tt}function swap16(_e){return(_e&255)<<8|_e>>8&255}function checkBitDepth(_e){if(_e!==1&&_e!==2&&_e!==4&&_e!==8&&_e!==16)throw new Error(`invalid bit depth: ${_e}`);return _e}const defaultZlibOptions={level:3};class PngEncoder extends IOBuffer{constructor(et,tt={}){super(),this._colorType=ColorType.UNKNOWN,this._zlibOptions={...defaultZlibOptions,...tt.zlib},this._png=this._checkData(et),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(pngSignature)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(CompressionMethod.DEFLATE),this.writeByte(FilterMethod.ADAPTIVE),this.writeByte(InterlaceMethod.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(et){this.writeUint32(et.length),this.writeChars("IDAT"),this.writeBytes(et),this.writeCrc(et.length+4)}encodeData(){const{width:et,height:tt,channels:rt,depth:nt,data:it}=this._png,ot=rt*et,at=new IOBuffer().setBigEndian();let st=0;for(let ut=0;ut<tt;ut++)if(at.writeByte(0),nt===8)st=writeDataBytes(it,at,ot,st);else if(nt===16)st=writeDataUint16(it,at,ot,st);else throw new Error("unreachable");const lt=at.toArray(),ct=deflate_1(lt,this._zlibOptions);this.encodeIDAT(ct)}_checkData(et){const{colorType:tt,channels:rt,depth:nt}=getColorType(et),it={width:checkInteger(et.width,"width"),height:checkInteger(et.height,"height"),channels:rt,data:et.data,depth:nt,text:{}};this._colorType=tt;const ot=it.width*it.height*rt;if(it.data.length!==ot)throw new RangeError(`wrong data size. Found ${it.data.length}, expected ${ot}`);return it}writeCrc(et){this.writeUint32(crc(new Uint8Array(this.buffer,this.byteOffset+this.offset-et,et),et))}}function checkInteger(_e,et){if(Number.isInteger(_e)&&_e>0)return _e;throw new TypeError(`${et} must be a positive integer`)}function getColorType(_e){const{channels:et=4,depth:tt=8}=_e;if(et!==4&&et!==3&&et!==2&&et!==1)throw new RangeError(`unsupported number of channels: ${et}`);if(tt!==8&&tt!==16)throw new RangeError(`unsupported bit depth: ${tt}`);const rt={channels:et,depth:tt,colorType:ColorType.UNKNOWN};switch(et){case 4:rt.colorType=ColorType.TRUECOLOUR_ALPHA;break;case 3:rt.colorType=ColorType.TRUECOLOUR;break;case 1:rt.colorType=ColorType.GREYSCALE;break;case 2:rt.colorType=ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return rt}function writeDataBytes(_e,et,tt,rt){for(let nt=0;nt<tt;nt++)et.writeByte(_e[rt++]);return rt}function writeDataUint16(_e,et,tt,rt){for(let nt=0;nt<tt;nt++)et.writeUint16(_e[rt++]);return rt}var ResolutionUnitSpecifier;(function(_e){_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng$1(_e,et){return new PngDecoder(_e,et).decode()}function encodePng$1(_e,et){return new PngEncoder(_e,et).encode()}function decodePng(_e){const et=decodePng$1(_e);let tt;const rt=et.depth===16?16:8;if(et.palette)return loadPalettePng(et);switch(et.channels){case 1:tt="GREY";break;case 2:tt="GREYA";break;case 3:tt="RGB";break;case 4:tt="RGBA";break;default:throw new RangeError(`invalid number of channels: ${et.channels}`)}return new Image$1(et.width,et.height,{colorModel:tt,bitDepth:rt,data:et.data})}function loadPalettePng(_e){assert$1(_e.palette);const et=_e.width*_e.height,tt=new Uint8Array(et*3),rt=8/_e.depth,nt=_e.depth<8?rt:1,it=Number.parseInt("1".repeat(_e.depth),2);let ot=0;for(let at=0;at<et;at++){const st=Math.floor(at/nt);let lt=_e.data[st];_e.depth<8&&(lt=lt>>>_e.depth*(rt-1-at%rt)&it);const ct=_e.palette[lt];tt[ot++]=ct[0],tt[ot++]=ct[1],tt[ot++]=ct[2]}return new Image$1(_e.width,_e.height,{data:tt})}function decodeTiff(_e){const et=decodeTIFF(_e);return getImageFromIFD(et[0])}function getImageFromIFD(_e){if(_e.type===3){const et=new Uint16Array(3*_e.width*_e.height),tt=_e.palette;let rt=0;for(const nt of _e.data){const it=tt[nt];et[rt++]=it[0],et[rt++]=it[1],et[rt++]=it[2]}return new Image$1(_e.width,_e.height,{data:et,colorModel:_e.alpha?"RGBA":"RGB",bitDepth:16,meta:getMetadata(_e)})}else return new Image$1(_e.width,_e.height,{data:_e.data,bitDepth:_e.bitsPerSample,colorModel:_e.type===2?_e.alpha?"RGBA":"RGB":_e.alpha?"GREYA":"GREY",meta:getMetadata(_e)})}function decode(_e){const et=new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength),tt=imageType$1(et);switch(tt==null?void 0:tt.mime){case"image/png":return decodePng(et);case"image/jpeg":return decodeJpeg(et);case"image/tiff":return decodeTiff(et);default:throw new RangeError(`invalid data format: ${tt==null?void 0:tt.mime}`)}}function readCanvas(_e){const et=_e.getContext("2d");assert$1(et);const tt=et.getImageData(0,0,_e.width,_e.height);return new Image$1(tt.width,tt.height,{data:new Uint8Array(tt.data.buffer,tt.data.byteOffset,tt.data.byteLength),colorModel:"RGBA"})}function readImg(_e){const et=document.createElement("canvas");et.width=_e.width,et.height=_e.height;const tt=et.getContext("2d");return assert$1(tt),tt.drawImage(_e,0,0),readCanvas(et)}function getBorderPoints(_e,et={}){return _e.getMask().getBorderPoints(et)}function getMask(_e,et={}){const{solidFill:tt=!1}=et,rt=new Mask(_e.width,_e.height,{origin:_e.origin});for(let nt=0;nt<_e.height;nt++)for(let it=0;it<_e.width;it++)_e.getMapValue(_e.origin.column+it,_e.origin.row+nt)===_e.id?rt.setBit(it,nt,1):rt.setBit(it,nt,0);return tt&&rt.solidFill({out:rt}),rt}function getEllipse(_e){const et=_e.centroid.column,tt=_e.centroid.row,rt=_e.points.map(Et=>Et[0]-et),nt=_e.points.map(Et=>Et[1]-tt),it=xVariance(rt,{unbiased:!1}),ot=xVariance(nt,{unbiased:!1}),at=xyCovariance({x:rt,y:nt},{unbiased:!1}),st=[[it,at],[at,ot]],lt=new EigenvalueDecomposition(st),ct=lt.realEigenvalues,ut=lt.eigenvectorMatrix;assert$1(ct[0]<=ct[1]);let ft=Math.sqrt(ct[1]),dt=Math.sqrt(ct[0]);const pt=ut.getColumn(1),mt=ut.getColumn(0);let vt={column:et+ft*pt[0],row:tt+ft*pt[1]},ht={column:et-ft*pt[0],row:tt-ft*pt[1]},yt={column:et+dt*mt[0],row:tt+dt*mt[1]},gt={column:et-dt*mt[0],row:tt-dt*mt[1]},xt=Math.hypot(vt.column-ht.column,vt.row-ht.row),_t=Math.hypot(yt.column-ht.column,yt.row-gt.row),wt=_t/2*xt/2*Math.PI;if(wt!==_e.surface){const Et=Math.sqrt(_e.surface/wt);ft*=Et,dt*=Et,vt={column:et+ft*pt[0],row:tt+ft*pt[1]},ht={column:et-ft*pt[0],row:tt-ft*pt[1]},yt={column:et+dt*mt[0],row:tt+dt*mt[1]},gt={column:et-dt*mt[0],row:tt-dt*mt[1]},xt*=Et,_t*=Et,wt*=Et**2}return{center:{column:et,row:tt},majorAxis:{points:[vt,ht],length:xt,angle:toDegrees(getAngle(vt,ht))},minorAxis:{points:[yt,gt],length:_t,angle:toDegrees(getAngle(yt,gt))},surface:wt}}var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(_e,et,tt,rt,nt){if(rt==="m")throw new TypeError("Private method is not writable");if(rt==="a"&&!nt)throw new TypeError("Private accessor was defined without a setter");if(typeof et=="function"?_e!==et||!nt:!et.has(_e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return rt==="a"?nt.call(_e,tt):nt?nt.value=tt:et.set(_e,tt),tt},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(_e,et,tt,rt){if(tt==="a"&&!rt)throw new TypeError("Private accessor was defined without a getter");if(typeof et=="function"?_e!==et||!rt:!et.has(_e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tt==="m"?rt:tt==="a"?rt.call(_e):rt?rt.value:et.get(_e)},_Roi_instances,_Roi_computed,_Roi_getComputed,_Roi_computeIndex;class Roi{constructor(et,tt,rt,nt,it,ot){_Roi_instances.add(this),_Roi_computed.set(this,void 0),this.map=et,this.id=tt,this.origin=it,this.width=rt,this.height=nt,this.surface=ot,__classPrivateFieldSet(this,_Roi_computed,{},"f")}getMapValue(et,tt){return this.map.data[this.map.width*tt+et]}getRatio(){return this.width/this.height}getMask(et){return getMask(this,et)}get ped(){return this.perimeter/Math.PI}getBorderPoints(et){return getBorderPoints(this,et)}get internalIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"internalIDs",()=>{const et=[this.id],tt=this.map,rt=tt.data;if(this.height>2)for(let it=0;it<this.width;it++){const ot=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,0,it);if(et.includes(rt[ot])){const at=rt[ot+tt.width];!et.includes(at)&&!this.boxIDs.includes(at)&&et.push(at)}}const nt=new Array(4);for(let it=1;it<this.width-1;it++)for(let ot=1;ot<this.height-1;ot++){const at=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,ot,it);if(et.includes(rt[at])){nt[0]=rt[at-1],nt[1]=rt[at+1],nt[2]=rt[at-tt.width],nt[3]=rt[at+tt.width];for(let st=0;st<4;st++){const lt=nt[st];!et.includes(lt)&&!this.boxIDs.includes(lt)&&et.push(lt)}}}return et})}get externalBorders(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"externalBorders",()=>{const et=this.borders,tt=[],rt=[],nt=this.internalIDs;for(const it of et)if(!nt.includes(it.connectedID)){const ot={connectedID:it.connectedID,length:it.length};rt.push(ot.connectedID),tt.push(ot)}return tt})}get perimeterInfo(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"perimeterInfo",()=>{const et=this.map,tt=et.data;let rt=0,nt=0,it=0,ot=0;const at=new Set(this.externalBorders.map(st=>st.connectedID));for(let st=0;st<this.width;st++)for(let lt=0;lt<this.height;lt++){const ct=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,lt,st);if(tt[ct]===this.id){let ut=0;switch((st===0||at.has(tt[ct-1]))&&ut++,(st===et.width-1||at.has(tt[ct+1]))&&ut++,(lt===0||at.has(tt[ct-et.width]))&&ut++,(lt===et.height-1||at.has(tt[ct+et.width]))&&ut++,ut){case 1:rt++;break;case 2:nt++;break;case 3:it++;break;case 4:ot++;break}}}return{one:rt,two:nt,three:it,four:ot}})}get perimeter(){const et=this.perimeterInfo,tt=2-Math.sqrt(2);return et.one+et.two*2+et.three*3+et.four*4-tt*(et.two+et.three*2+et.four)}get points(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"points",()=>{const et=[];for(let tt=0;tt<this.height;tt++)for(let rt=0;rt<this.width;rt++){const nt=(tt+this.origin.row)*this.map.width+rt+this.origin.column;this.map.data[nt]===this.id&&et.push([rt,tt])}return et})}get boxIDs(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"boxIDs",()=>{const et=new Set,tt=this.map,rt=tt.data;for(const nt of[0,this.height-1])for(let it=0;it<this.width;it++){const ot=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,nt,it);if(it-this.origin.column>0&&rt[ot]===this.id&&rt[ot-1]!==this.id){const at=rt[ot-1];et.add(at)}if(tt.width-it-this.origin.column>1&&rt[ot]===this.id&&rt[ot+1]!==this.id){const at=rt[ot+1];et.add(at)}}for(const nt of[0,this.width-1])for(let it=0;it<this.height;it++){const ot=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,it,nt);if(it-this.origin.row>0&&rt[ot]===this.id&&rt[ot-tt.width]!==this.id){const at=rt[ot-tt.width];et.add(at)}if(tt.height-it-this.origin.row>1&&rt[ot]===this.id&&rt[ot+tt.width]!==this.id){const at=rt[ot+tt.width];et.add(at)}}return Array.from(et)})}get eqpc(){return 2*Math.sqrt(this.surface/Math.PI)}get ellipse(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"ellipse",()=>getEllipse(this))}get holesInfo(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"holesInfo",()=>{let et=0;const tt=this.map.data;for(let rt=1;rt<this.width-1;rt++)for(let nt=1;nt<this.height-1;nt++){const it=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,nt,rt);this.internalIDs.includes(tt[it])&&tt[it]!==this.id&&et++}return{number:this.internalIDs.length-1,surface:et}})}get borders(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"borders",()=>{const et=this.map,tt=et.data,rt=new Set,nt=new Map,it=new Set,ot=[1,0,-1,0],at=[0,1,0,-1];for(let lt=this.origin.column;lt<=this.origin.column+this.width;lt++)for(let ct=this.origin.row;ct<=this.origin.row+this.height;ct++){const ut=lt+ct*et.width;if(tt[ut]===this.id)for(let ft=0;ft<4;ft++){const dt=lt+ot[ft],pt=ct+at[ft];if(dt>=0&&pt>=0&&dt<et.width&&pt<et.height){const mt=dt+pt*et.width;if(tt[mt]!==this.id&&!it.has(mt)){it.add(mt),rt.add(tt[mt]);let vt=nt.get(tt[mt]);vt?nt.set(tt[mt],++vt):nt.set(tt[mt],1)}}}}return Array.from(rt).map(lt=>({connectedID:lt,length:nt.get(lt)}))})}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get filledSurface(){return this.surface+this.holesInfo.surface}get solidity(){return this.surface/getConvexHull(this.getMask()).surface}get convexHull(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"convexHull",()=>getConvexHull(this.getMask()))}get mbr(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"mbr",()=>getMbr(this.getMask()))}get roundness(){return 4*this.surface/(Math.PI*this.feret.maxDiameter.length**2)}get feret(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"feret",()=>getFeret(this.getMask()))}toJSON(){return{id:this.id,origin:this.origin,height:this.height,width:this.width,surface:this.surface,eqpc:this.eqpc,ped:this.ped,feret:this.feret,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter,convexHull:this.convexHull,mbr:this.mbr,filledSurface:this.filledSurface,centroid:this.centroid}}get centroid(){return __classPrivateFieldGet(this,_Roi_instances,"m",_Roi_getComputed).call(this,"centroid",()=>{const tt=this.map.data;let rt=0,nt=0;for(let it=0;it<this.width;it++)for(let ot=0;ot<this.height;ot++){const at=__classPrivateFieldGet(this,_Roi_instances,"m",_Roi_computeIndex).call(this,ot,it);tt[at]===this.id&&(rt+=it,nt+=ot)}return{column:rt/this.surface+this.origin.column,row:nt/this.surface+this.origin.row}})}}_Roi_computed=new WeakMap,_Roi_instances=new WeakSet,_Roi_getComputed=function _e(et,tt){if(__classPrivateFieldGet(this,_Roi_computed,"f")[et]===void 0){const rt=tt();return __classPrivateFieldGet(this,_Roi_computed,"f")[et]=rt,rt}return __classPrivateFieldGet(this,_Roi_computed,"f")[et]},_Roi_computeIndex=function _e(et,tt){const rt=this.map;return(et+this.origin.row)*rt.width+tt+this.origin.column};function computeRois(_e){const et=_e.getMap(),tt=new Array(et.nbPositive),rt=new Array(et.nbNegative);for(let nt=0;nt<et.nbPositive;nt++)tt[nt]={minRow:et.height,minColumn:et.width,maxRow:-1,maxColumn:-1,surface:0,id:nt+1};for(let nt=0;nt<et.nbNegative;nt++)rt[nt]={borderLengths:[],borderIDs:[],minRow:et.height,minColumn:et.width,maxRow:-1,maxColumn:-1,surface:0,id:-nt-1};for(let nt=0;nt<et.height;nt++)for(let it=0;it<et.width;it++){const ot=_e.getMapValue(it,nt);if(ot===0)continue;let at;ot<0?at=rt[-ot-1]:at=tt[ot-1],at.surface++,nt<at.minRow&&(at.minRow=nt),nt>at.maxRow&&(at.maxRow=nt),it<at.minColumn&&(at.minColumn=it),it>at.maxColumn&&(at.maxColumn=it)}_e.whiteRois=new Array(et.nbPositive),_e.blackRois=new Array(et.nbNegative);for(let nt=0;nt<et.nbNegative;nt++){const it=rt[nt].maxColumn-rt[nt].minColumn+1,ot=rt[nt].maxRow-rt[nt].minRow+1,at={row:rt[nt].minRow,column:rt[nt].minColumn},st=rt[nt].id,lt=rt[nt].surface,ct=new Roi(et,st,it,ot,at,lt);_e.blackRois[nt]=ct}for(let nt=0;nt<et.nbPositive;nt++){const it=tt[nt].maxColumn-tt[nt].minColumn+1,ot=tt[nt].maxRow-tt[nt].minRow+1,at={row:tt[nt].minRow,column:tt[nt].minColumn},st=tt[nt].id,lt=tt[nt].surface,ct=new Roi(et,st,it,ot,at,lt);_e.whiteRois[nt]=ct}}const RoiKind={BLACK:"black",WHITE:"white",BW:"bw"};function getRois(_e,et={}){const{minSurface:tt=0,maxSurface:rt=Number.MAX_SAFE_INTEGER,kind:nt="white"}=et;_e.blackRois.length===0&&_e.whiteRois.length===0&&computeRois(_e);let it;switch(nt){case"black":{it=_e.blackRois;break}case"white":{it=_e.whiteRois;break}case"bw":{it=[..._e.whiteRois,..._e.blackRois];break}default:throw new RangeError(`invalid ROI kind: ${nt}`)}return it.filter(ot=>ot.surface>=tt&&ot.surface<=rt)}class RoiMapManager{constructor(et){this.map=et,this.whiteRois=[],this.blackRois=[]}getMap(){return this.map}getMapValue(et,tt){return this.map.data[this.map.width*tt+et]}getMapMatrix(){return Matrix.from1DArray(this.map.height,this.map.width,this.map.data).to2DArray()}getRois(et={}){return getRois(this,et)}getRoiById(et){const rt=this.getRois({kind:"bw"}).find(nt=>nt.id===et);if(!rt)throw new Error(`invalid ID: ${et}`);return rt}static fromMask(et,tt={}){return fromMask(et,tt)}}function fromMask(_e,et={}){const{allowCorners:tt=!1}=et,rt=65535,nt=2**31-1,it=-(2**31-1),ot=new Int32Array(_e.size);let at=0,st=0;const lt=new Uint16Array(rt+1),ct=new Uint16Array(rt+1);for(let ft=0;ft<_e.width;ft++)for(let dt=0;dt<_e.height;dt++)ot[dt*_e.width+ft]===0&&ut(ft,dt);function ut(ft,dt){let pt=0,mt=0;const vt=_e.getBit(ft,dt),ht=vt?++at:--st;for(assert$1(at<=nt&&st>=it,"too many regions of interest"),lt[0]=ft,ct[0]=dt;pt<=mt;){const yt=lt[pt&rt],gt=ct[pt&rt];ot[gt*_e.width+yt]=ht,yt>0&&ot[gt*_e.width+yt-1]===0&&_e.getBit(yt-1,gt)===vt&&(mt++,lt[mt&rt]=yt-1,ct[mt&rt]=gt,ot[gt*_e.width+yt-1]=it),gt>0&&ot[(gt-1)*_e.width+yt]===0&&_e.getBit(yt,gt-1)===vt&&(mt++,lt[mt&rt]=yt,ct[mt&rt]=gt-1,ot[(gt-1)*_e.width+yt]=it),yt<_e.width-1&&ot[gt*_e.width+yt+1]===0&&_e.getBit(yt+1,gt)===vt&&(mt++,lt[mt&rt]=yt+1,ct[mt&rt]=gt,ot[gt*_e.width+yt+1]=it),gt<_e.height-1&&ot[(gt+1)*_e.width+yt]===0&&_e.getBit(yt,gt+1)===vt&&(mt++,lt[mt&rt]=yt,ct[mt&rt]=gt+1,ot[(gt+1)*_e.width+yt]=it),tt&&(yt>0&&gt>0&&ot[(gt-1)*_e.width+yt-1]===0&&_e.getBit(yt-1,gt-1)===vt&&(mt++,lt[mt&rt]=yt-1,ct[mt&rt]=gt-1,ot[(gt-1)*_e.width+yt-1]=it),yt<_e.width-1&&gt>0&&ot[(gt-1)*_e.width+yt+1]===0&&_e.getBit(yt+1,gt-1)===vt&&(mt++,lt[mt&rt]=yt+1,ct[mt&rt]=gt-1,ot[(gt-1)*_e.width+yt+1]=it),yt>0&&gt<_e.height-1&&ot[(gt+1)*_e.width+yt-1]===0&&_e.getBit(yt-1,gt+1)===vt&&(mt++,lt[mt&rt]=yt-1,ct[mt&rt]=gt+1,ot[(gt+1)*_e.width+yt-1]=it),yt<_e.width-1&&gt<_e.height-1&&ot[(gt+1)*_e.width+yt+1]===0&&_e.getBit(yt+1,gt+1)===vt&&(mt++,lt[mt&rt]=yt+1,ct[mt&rt]=gt+1,ot[(gt+1)*_e.width+yt+1]=it)),pt++,assert$1(mt-pt<=rt,"fromMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new RoiMapManager({width:_e.width,height:_e.height,data:ot,nbNegative:Math.abs(st),nbPositive:at})}var priorityQueue={exports:{}};(function(_e,et){(function(tt){_e.exports=tt()})(function(){return function tt(rt,nt,it){function ot(lt,ct){if(!nt[lt]){if(!rt[lt]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ct&&ut)return ut(lt,!0);if(at)return at(lt,!0);var ft=new Error("Cannot find module '"+lt+"'");throw ft.code="MODULE_NOT_FOUND",ft}var dt=nt[lt]={exports:{}};rt[lt][0].call(dt.exports,function(pt){var mt=rt[lt][1][pt];return ot(mt||pt)},dt,dt.exports,tt,rt,nt,it)}return nt[lt].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<it.length;st++)ot(it[st]);return ot}({1:[function(tt,rt,nt){var it,ot,at,st,lt,ct=function(ft,dt){for(var pt in dt)ut.call(dt,pt)&&(ft[pt]=dt[pt]);function mt(){this.constructor=ft}return mt.prototype=dt.prototype,ft.prototype=new mt,ft.__super__=dt.prototype,ft},ut={}.hasOwnProperty;it=tt("./PriorityQueue/AbstractPriorityQueue"),ot=tt("./PriorityQueue/ArrayStrategy"),st=tt("./PriorityQueue/BinaryHeapStrategy"),at=tt("./PriorityQueue/BHeapStrategy"),lt=function(ft){ct(dt,ft);function dt(pt){pt||(pt={}),pt.strategy||(pt.strategy=st),pt.comparator||(pt.comparator=function(mt,vt){return(mt||0)-(vt||0)}),dt.__super__.constructor.call(this,pt)}return dt}(it),lt.ArrayStrategy=ot,lt.BinaryHeapStrategy=st,lt.BHeapStrategy=at,rt.exports=lt},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(tt,rt,nt){rt.exports=function(){function it(ot){var at;if((ot!=null?ot.strategy:void 0)==null)throw"Must pass options.strategy, a strategy";if((ot!=null?ot.comparator:void 0)==null)throw"Must pass options.comparator, a comparator";this.priv=new ot.strategy(ot),this.length=(ot!=null&&(at=ot.initialValues)!=null?at.length:void 0)||0}return it.prototype.queue=function(ot){this.length++,this.priv.queue(ot)},it.prototype.dequeue=function(ot){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},it.prototype.peek=function(ot){if(!this.length)throw"Empty queue";return this.priv.peek()},it.prototype.clear=function(){return this.length=0,this.priv.clear()},it}()},{}],3:[function(tt,rt,nt){var it;it=function(ot,at,st){var lt,ct,ut;for(ct=0,lt=ot.length;ct<lt;)ut=ct+lt>>>1,st(ot[ut],at)>=0?ct=ut+1:lt=ut;return ct},rt.exports=function(){function ot(at){var st;this.options=at,this.comparator=this.options.comparator,this.data=((st=this.options.initialValues)!=null?st.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return ot.prototype.queue=function(at){var st;st=it(this.data,at,this.comparator),this.data.splice(st,0,at)},ot.prototype.dequeue=function(){return this.data.pop()},ot.prototype.peek=function(){return this.data[this.data.length-1]},ot.prototype.clear=function(){this.data.length=0},ot}()},{}],4:[function(tt,rt,nt){rt.exports=function(){function it(ot){var at,st,lt,ct,ut,ft,dt,pt;for(this.comparator=(ot!=null?ot.comparator:void 0)||function(mt,vt){return mt-vt},this.pageSize=(ot!=null?ot.pageSize:void 0)||512,this.length=0,dt=0;1<<dt<this.pageSize;)dt+=1;if(1<<dt!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=dt,this._emptyMemoryPageTemplate=at=[],st=0,ut=this.pageSize;0<=ut?st<ut:st>ut;0<=ut?++st:--st)at.push(null);if(this._memory=[],this._mask=this.pageSize-1,ot.initialValues)for(ft=ot.initialValues,lt=0,ct=ft.length;lt<ct;lt++)pt=ft[lt],this.queue(pt)}return it.prototype.queue=function(ot){this.length+=1,this._write(this.length,ot),this._bubbleUp(this.length,ot)},it.prototype.dequeue=function(){var ot,at;return ot=this._read(1),at=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,at),this._bubbleDown(1,at)),ot},it.prototype.peek=function(){return this._read(1)},it.prototype.clear=function(){this.length=0,this._memory.length=0},it.prototype._write=function(ot,at){var st;for(st=ot>>this._shift;st>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[st][ot&this._mask]=at},it.prototype._read=function(ot){return this._memory[ot>>this._shift][ot&this._mask]},it.prototype._bubbleUp=function(ot,at){var st,lt,ct,ut;for(st=this.comparator;ot>1&&(lt=ot&this._mask,ot<this.pageSize||lt>3?ct=ot&~this._mask|lt>>1:lt<2?(ct=ot-this.pageSize>>this._shift,ct+=ct&~(this._mask>>1),ct|=this.pageSize>>1):ct=ot-2,ut=this._read(ct),!(st(ut,at)<0));)this._write(ct,at),this._write(ot,ut),ot=ct},it.prototype._bubbleDown=function(ot,at){var st,lt,ct,ut,ft;for(ft=this.comparator;ot<this.length;)if(ot>this._mask&&!(ot&this._mask-1)?st=lt=ot+2:ot&this.pageSize>>1?(st=(ot&~this._mask)>>1,st|=ot&this._mask>>1,st=st+1<<this._shift,lt=st+1):(st=ot+(ot&this._mask),lt=st+1),st!==lt&&lt<=this.length)if(ct=this._read(st),ut=this._read(lt),ft(ct,at)<0&&ft(ct,ut)<=0)this._write(st,at),this._write(ot,ct),ot=st;else if(ft(ut,at)<0)this._write(lt,at),this._write(ot,ut),ot=lt;else break;else if(st<=this.length)if(ct=this._read(st),ft(ct,at)<0)this._write(st,at),this._write(ot,ct),ot=st;else break;else break},it}()},{}],5:[function(tt,rt,nt){rt.exports=function(){function it(ot){var at;this.comparator=(ot!=null?ot.comparator:void 0)||function(st,lt){return st-lt},this.length=0,this.data=((at=ot.initialValues)!=null?at.slice(0):void 0)||[],this._heapify()}return it.prototype._heapify=function(){var ot,at,st;if(this.data.length>0)for(ot=at=1,st=this.data.length;1<=st?at<st:at>st;ot=1<=st?++at:--at)this._bubbleUp(ot)},it.prototype.queue=function(ot){this.data.push(ot),this._bubbleUp(this.data.length-1)},it.prototype.dequeue=function(){var ot,at;return at=this.data[0],ot=this.data.pop(),this.data.length>0&&(this.data[0]=ot,this._bubbleDown(0)),at},it.prototype.peek=function(){return this.data[0]},it.prototype.clear=function(){this.length=0,this.data.length=0},it.prototype._bubbleUp=function(ot){for(var at,st;ot>0&&(at=ot-1>>>1,this.comparator(this.data[ot],this.data[at])<0);)st=this.data[at],this.data[at]=this.data[ot],this.data[ot]=st,ot=at},it.prototype._bubbleDown=function(ot){var at,st,lt,ct,ut;for(at=this.data.length-1;st=(ot<<1)+1,ct=st+1,lt=ot,st<=at&&this.comparator(this.data[st],this.data[lt])<0&&(lt=st),ct<=at&&this.comparator(this.data[ct],this.data[lt])<0&&(lt=ct),lt!==ot;)ut=this.data[lt],this.data[lt]=this.data[ot],this.data[ot]=ut,ot=lt},it}()},{}]},{},[1])(1)})})(priorityQueue);function encodeJpeg(_e,et={}){const{quality:tt=50}=et;_e.colorModel!=="RGBA"&&(_e=_e.convertColor("RGBA")),_e.bitDepth!==8&&(_e=_e.convertBitDepth(8));const rt=jpegJs.encode(_e.getRawImage(),tt).data;return new Uint8Array(rt,rt.byteOffset,rt.byteLength)}function encodePng(_e,et){const{bitDepth:tt,...rt}=_e.getRawImage();return encodePng$1({depth:tt,...rt},et)}const defaultPng={format:"png"};function encode(_e,et=defaultPng){if(et.format==="png")return encodePng(_e,et.encoderOptions);if(et.format==="jpg"||et.format==="jpeg")return encodeJpeg(_e,et.encoderOptions);throw new RangeError(`invalid format: ${et.format}`)}function writeCanvas(_e,et,tt={}){_e.colorModel!=="RGBA"&&(_e=_e.convertColor("RGBA")),_e.bitDepth!==8&&_e instanceof Image$1&&(_e=_e.convertBitDepth(8));const{resizeCanvas:rt=!0,dx:nt=0,dy:it=0,dirtyX:ot=0,dirtyY:at=0,dirtyWidth:st=_e.width,dirtyHeight:lt=_e.height}=tt;rt&&(et.width=_e.width,et.height=_e.height);const ct=et.getContext("2d");assert$1(ct);const ut=_e.getRawImage().data;ct.putImageData(new ImageData(new Uint8ClampedArray(ut.buffer,ut.byteOffset,ut.byteLength),_e.width,_e.height),nt,it,ot,at,st,lt)}const channelLabels={GREY:["Grey"],GREYA:["Grey","Alpha"],RGB:["Red","Green","Blue"],RGBA:["Red","Green","Blue","Alpha"],BINARY:["Mask"]};class CachedFileItem{constructor(et){this.fileItem=et}async text(){return this.arrayBufferCache?new TextDecoder().decode(this.arrayBufferCache):this.textCache=this.textCache||await this.fileItem.text()}async arrayBuffer(){return this.arrayBufferCache=this.arrayBufferCache||await this.fileItem.arrayBuffer()}stream(){return this.fileItem.stream()}get lastModified(){return this.fileItem.lastModified}get name(){return this.fileItem.name}get relativePath(){return this.fileItem.relativePath}get size(){return this.fileItem.size}get sourceUUID(){return this.fileItem.sourceUUID}}function getNameInfo(_e){const et=new URL(_e,"ium:/");return{url:et,name:et.pathname.split("/").pop(),relativePath:et.pathname}}async function appendArrayBuffer(_e,et,tt,rt={}){const nt=await getExtendedSourceFromArrayBuffer(et,tt,rt);await _e.appendExtendedSource(nt)}async function getExtendedSourceFromArrayBuffer(_e,et,tt={}){const{name:rt,relativePath:nt}=getNameInfo(_e),it=new Blob([await et],{type:"application/octet-stream"});return{uuid:v4(),relativePath:nt,name:rt,lastModified:tt.dateModified||Date.now(),baseURL:"ium:/",text:()=>it.text(),stream:()=>it.stream(),arrayBuffer:()=>it.arrayBuffer()}}async function appendFileList(_e,et){for(const tt of et){const rt={uuid:v4(),name:tt.name,size:tt.size,baseURL:"ium:/",relativePath:tt.webkitRelativePath||tt.path||tt.name,lastModified:tt.lastModified,text:()=>tt.text(),arrayBuffer:()=>tt.arrayBuffer(),stream:()=>tt.stream()};await _e.appendExtendedSource(rt)}}function appendPath(){throw new Error("This method is not available in the browser")}function shouldAddItem(_e,et={}){const{ignoreDotfiles:tt=!0}=et;return tt?_e.split("/").filter(rt=>rt.startsWith(".")).length===0:!0}function sourceItemToExtendedSourceItem(_e,et){let tt=_e.baseURL||et;if(!tt){if(typeof location>"u"||!location.href)throw new Error(`We could not find a baseURL for ${_e.relativePath}`);tt=location.href}const rt=new URL(_e.relativePath,tt);return{uuid:v4(),name:_e.relativePath.split("/").pop()||"",size:_e.size,baseURL:tt,relativePath:_e.relativePath,lastModified:_e.lastModified,text:async()=>(await fetch(rt.toString())).text(),arrayBuffer:async()=>(await fetch(rt.toString())).arrayBuffer(),stream:async()=>(await fetch(rt.toString())).stream()}}async function appendSource(_e,et,tt={}){const{filter:rt}=_e,{entries:nt,baseURL:it}=et;for(const ot of nt){const{relativePath:at}=ot;if(!shouldAddItem(at,rt))continue;const st=it||tt.baseURL,lt=sourceItemToExtendedSourceItem(ot,st);await _e.appendExtendedSource(lt)}}async function appendText(_e,et,tt,rt={}){const nt=await getExtendedSourceFromText(et,tt,rt);await _e.appendExtendedSource(nt)}async function getExtendedSourceFromText(_e,et,tt={}){const{relativePath:rt,name:nt}=getNameInfo(_e),it=new Blob([await et],{type:"text/plain"});return{uuid:v4(),relativePath:rt,name:nt,lastModified:tt.dateModified||Date.now(),baseURL:"ium:/",text:()=>it.text(),stream:()=>it.stream(),arrayBuffer:()=>it.arrayBuffer()}}async function appendWebSource(_e,et,tt={}){const nt=await(await fetch(et)).json();return appendSource(_e,nt,{baseURL:et,...tt})}async function fromIum(_e){const tt=await new JSZip().loadAsync(_e);if(!tt.files["/index.json"])throw new Error("Invalid IUM file: missing index.json");const rt=JSON.parse(await tt.files["/index.json"].async("text")),nt=new FileCollection(rt.options);for(const it of rt.sources){const ot=new URL(it.relativePath,it.baseURL);if(ot.protocol==="ium:"){const at=tt.files[`/data${ot.pathname}`];if(!at)throw new Error(`Invalid IUM file: missing ${ot.pathname}`);await nt.appendArrayBuffer(ot.pathname,at.async("arraybuffer"))}else await nt.appendExtendedSource(sourceItemToExtendedSourceItem(it,void 0))}return nt}async function toIum(_e,et={}){const tt=new JSZip,{includeData:rt=!0}=et,nt=[];for(const at of _e.sources){const st={relativePath:at.relativePath,baseURL:at.baseURL,name:at.name,lastModified:at.lastModified,size:at.size};if(nt.push(st),rt||at.baseURL==="ium:/"){st.baseURL="ium:/";const lt=new URL(`data/${at.relativePath}`,st.baseURL);tt.file(lt.pathname,await at.arrayBuffer())}}const it={options:_e.options,sources:nt},ot=new URL("index.json","ium:/");return tt.file(ot.pathname,JSON.stringify(it,null,2)),tt.generateAsync({type:"uint8array"})}function convertExtendedSourceToFile(_e){let et=_e.stream?()=>{var tt;return(tt=_e.stream)==null?void 0:tt.call(_e)}:()=>new ReadableStream({start:tt=>{_e.arrayBuffer().then(rt=>{tt.enqueue(rt),tt.close()})}});return{sourceUUID:_e.uuid,relativePath:_e.relativePath,name:_e.name,lastModified:_e.lastModified,size:_e.size,baseURL:_e.baseURL,arrayBuffer:()=>_e.arrayBuffer(),text:()=>_e.text(),stream:et}}function ungzipStream(_e){return new ReadableStream({start(et){_e.arrayBuffer().then(tt=>ungzip_1(new Uint8Array(tt))).then(tt=>{et.enqueue(tt),et.close()})}})}async function fileItemUngzip(_e,et={}){const{ungzip:tt={},logger:rt}=et;let{gzipExtensions:nt=["gz"]}=tt;nt=nt.map(ot=>ot.toLowerCase());const it=_e.name.replace(/^.*\./,"").toLowerCase();return nt.includes(it)?await isGzip(_e)?{sourceUUID:_e.sourceUUID,name:_e.name.replace(/\.[^.]+$/,""),size:_e.size,relativePath:_e.relativePath.replace(/\.[^.]+$/,""),lastModified:_e.lastModified,text:()=>_e.arrayBuffer().then(ot=>new TextDecoder("utf8").decode(ungzip_1(new Uint8Array(ot)))),arrayBuffer:()=>_e.arrayBuffer().then(ot=>ungzip_1(new Uint8Array(ot))),stream:()=>ungzipStream(_e)}:(rt&&rt.info(`Could not ungzip the following file: ${_e.relativePath}`),_e):_e}async function isGzip(_e){const et=await _e.arrayBuffer();if(et.byteLength<2)return!1;const tt=new Uint8Array(et);return tt[0]===31&&tt[1]===139}async function fileItemsFromZip(_e,et,tt={}){const nt=await new JSZip().loadAsync(_e);let it=[];for(let ot in nt.files){const at=nt.files[ot];if(at.dir||!shouldAddItem(at.name,tt.filter))continue;const st={name:at.name.replace(/^.*\//,""),sourceUUID:et,relativePath:at.name,lastModified:at.date.getTime(),size:at._data.uncompressedSize,text:()=>at.async("text"),arrayBuffer:()=>at.async("arraybuffer"),stream:()=>new ReadableStream({start(lt){at.async("arraybuffer").then(ct=>{lt.enqueue(ct),lt.close()})}})};it.push(st)}return it}async function fileItemUnzip(_e,et={}){const{unzip:tt={},filter:rt={},logger:nt}=et;let{zipExtensions:it=["zip"],recursive:ot=!0}=tt;it=it.map(ut=>ut.toLowerCase());const at=_e.name.replace(/^.*\./,"").toLowerCase();if(!_e.sourceUUID)throw new Error("fileItem.sourceUUID is not defined");if(!it.includes(at))return[_e];const st=await _e.arrayBuffer();if(!isZip(st))return nt&&nt.info(`Could not unzip the following file: ${_e.relativePath}`),[_e];const lt=await fileItemsFromZip(st,_e.sourceUUID,et),ct=[];for(let ut of lt)ut.relativePath=`${_e.relativePath}/${ut.relativePath}`,ut.sourceUUID=_e.sourceUUID,ot?ct.push(...await expandAndFilter(ut,et)):shouldAddItem(ut.relativePath,rt)&&ct.push(ut);return ct}function isZip(_e){if(_e.byteLength<5)return!1;const et=new Uint8Array(_e);return et[0]===80&&et[1]===75&&(et[2]===3||et[2]===5||et[2]===7)&&(et[3]===4||et[3]===6||et[3]===8)}async function expandAndFilter(_e,et={}){const{filter:tt={}}=et;if(!shouldAddItem(_e.relativePath,tt))return[];let rt=await fileItemUngzip(_e,et);const nt=await fileItemUnzip(rt,et);for(const it of nt)it.sourceUUID=_e.sourceUUID;return nt}class FileCollection{constructor(et={}){this.options=et,this.filter=et.filter||{},this.files=[],this.sources=[],this.cache=et.cache??!1}async appendExtendedSource(et){if(!shouldAddItem(et.relativePath,this.filter))return;this.sources.push(et);const tt=convertExtendedSourceToFile(et),rt=await expandAndFilter(tt,this.options);for(const nt of rt){if(this.files.some(it=>it.relativePath===nt.relativePath))throw new Error(`Duplicate relativePath: ${nt.relativePath}`);this.cache?this.files.push(new CachedFileItem(nt)):this.files.push(nt)}}set(et,tt){this.removeFile(et);const rt=JSON.stringify(tt,(nt,it)=>ArrayBuffer.isView(it)?Array.from(it):it);return this.appendText(et,rt)}removeFile(et){const{relativePath:tt}=getNameInfo(et),rt=this.files.findIndex(it=>it.relativePath===tt);let nt;if(rt!==-1){const it=this.files[rt].sourceUUID;if(nt=this.files.splice(rt,1)[0],this.files.some(at=>at.sourceUUID===it))return;const ot=this.sources.findIndex(at=>at.uuid===it);if(ot!==-1)this.sources.splice(ot,1);else throw new Error(`Source not found for UUID: ${it}`)}return nt}async get(et){const{relativePath:tt}=getNameInfo(et),rt=this.files.find(it=>it.relativePath===tt);if(!rt)throw new Error(`Key not found: ${et}`);const nt=await rt.text();return JSON.parse(nt)}appendWebSource(et,tt={}){return appendWebSource(this,et,tt)}appendFileList(et){return appendFileList(this,et)}appendSource(et,tt={}){return appendSource(this,et,tt)}appendPath(et){return appendPath()}appendText(et,tt,rt={}){return appendText(this,et,tt,rt)}appendArrayBuffer(et,tt,rt={}){return appendArrayBuffer(this,et,tt,rt)}toIum(et={}){return this.alphabetical(),toIum(this,et)}static async fromIum(et){const tt=await fromIum(et);return tt.alphabetical(),tt}alphabetical(){this.sources.sort((et,tt)=>et.relativePath<tt.relativePath?-1:1),this.files.sort((et,tt)=>et.relativePath<tt.relativePath?-1:1)}[Symbol.iterator](){return this.files.values()}}function svgElementToImage(_e,{width:et,height:tt}){return new Promise(rt=>{if(_e===null){rt(null);return}const nt=_e.cloneNode(!0);if(nt===void 0){rt(null);return}nt.width.baseVal.valueAsString=`${et}px`,nt.height.baseVal.valueAsString=`${tt}px`;const it=document.createElement("canvas");it.width=et,it.height=tt;const ot=it.getContext("2d");if(ot===null){rt(null);return}const at=new Image,st=new Blob([nt.outerHTML],{type:"image/svg+xml"}),lt=URL.createObjectURL(st);at.addEventListener("load",()=>{ot.drawImage(at,0,0),URL.revokeObjectURL(lt),rt(readImg(it)),it.remove()}),at.src=lt,nt.remove()})}function saveToClipboard(_e){const et=encodePng(_e),tt=new Blob([et],{type:"image/png"});try{return navigator.clipboard.write([new ClipboardItem({[tt.type]:tt})])}catch{return alert("Your browser does not support this feature, please use Google Chrome."),null}}function saveAsPng(_e,et){const tt=encodePng(_e),rt=new Blob([tt],{type:"image/png"}),nt=URL.createObjectURL(rt),it=document.createElement("a");it.href=nt,it.download=`${et}.png`,it.click(),URL.revokeObjectURL(nt),it.remove()}async function savePixeliumBundle({name:_e,data:et,preferences:tt,view:rt}){const nt=new FileCollection;if(et!==null){const lt={};nt.removeFile("data.json");const ct=JSON.stringify(et,(ut,ft)=>{if(ArrayBuffer.isView(ft))return Array.from(ft);if(ft instanceof Image$1){const dt=v4();return lt[dt]=ft,dt}return ft});await nt.appendText("data.json",ct);for(const ut of Object.keys(lt))await nt.set(`refs/${ut}`,encode(lt[ut]))}if(tt!==null){const lt=JSON.stringify(tt);await nt.appendText("preferences.json",lt)}if(rt!==null){const lt=JSON.stringify(rt,(ct,ut)=>ct==="export"?!1:ut);await nt.appendText("view.json",lt)}const it=await nt.toIum({includeData:!0}),ot=new Blob([it],{type:"application/pixelium"}),at=URL.createObjectURL(ot),st=document.createElement("a");st.href=at,st.download=`${_e}.pixelium`,st.click(),URL.revokeObjectURL(at),st.remove()}async function loadPixeliumBundle(_e,et){const tt=await FileCollection.fromIum(_e);let rt=null,nt=null,it=null;try{rt=await tt.get("data.json")}catch{}try{if(rt!==null)for(const ot of Object.keys(rt.images)){const at=new Uint8Array(await tt.get(`refs/${rt.images[ot].image}`));rt.images[ot].image=decode(at)}}catch(ot){et.error(`Error while loading image in Pixelium file: ${ot}`)}try{nt=await tt.get("preferences.json")}catch{}try{it=await tt.get("view.json")}catch{}return{data:rt,preferences:nt,view:it}}const DispatchContext=reactExports.createContext({data:()=>{throw new Error("DataContext not initialized")},preferences:()=>{throw new Error("PreferencesContext not initialized")},view:()=>{throw new Error("ViewContext not initialized")}}),DispatchProvider=DispatchContext.Provider;function useDataDispatch(){return reactExports.useContext(DispatchContext).data}const levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10,silent:0},labels:{0:"silent",10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};class FifoLogger{constructor(et={}){this.lastID={id:0},this.initialOptions=et,this.uuids=[v4()],this.events=[],this.level=et.level||"info",this.levelAsNumber=levels.values[this.level],this.limit=et.limit??1e3,this.bindings=et.bindings??{},this.onChange=et.onChange}setLevel(et){this.level=et,this.levelAsNumber=levels.values[et]}setLimit(et){this.limit=et,this.checkSize()}checkSize(){this.events.length>this.limit&&this.events.splice(0,this.events.length-this.limit)}clear(){var et;for(let tt=this.events.length-1;tt>=0;tt--)this.events[tt].uuids.includes(this.uuids[0])&&this.events.splice(tt,1);(et=this.onChange)==null||et.call(this,void 0,this.events,{depth:this.uuids.length})}getLogs(et={}){const{level:tt,minLevel:rt,includeChildren:nt}=et;let it=this.events.slice();if(nt?it=it.filter(ot=>ot.uuids.includes(this.uuids[0])):it=it.filter(ot=>ot.uuids[0]===this.uuids[0]),tt){const ot=Number(levels.values[tt]);if(Number.isNaN(ot))throw new Error("Invalid level");it=it.filter(at=>at.level===ot)}if(rt){const ot=Number(levels.values[rt]);if(Number.isNaN(ot))throw new Error("Invalid level");it=it.filter(at=>at.level>=ot)}return it}child(et){const tt=new FifoLogger(this.initialOptions);return tt.events=this.events,tt.uuids=[v4(),...this.uuids],tt.lastID=this.lastID,tt.bindings={...this.bindings,...et},tt}trace(et,tt){addEvent(this,levels.values.trace,et,tt)}debug(et,tt){addEvent(this,levels.values.debug,et,tt)}info(et,tt){addEvent(this,levels.values.info,et,tt)}warn(et,tt){addEvent(this,levels.values.warn,et,tt)}error(et,tt){addEvent(this,levels.values.error,et,tt)}fatal(et,tt){addEvent(this,levels.values.fatal,et,tt)}}function addEvent(_e,et,tt,rt){if(et<_e.levelAsNumber)return;const nt={id:++_e.lastID.id,level:et,levelLabel:levels.labels[et],time:Date.now(),uuids:_e.uuids};if(tt instanceof Error)nt.message=tt.toString(),nt.error=tt,nt.meta={..._e.bindings};else if(rt!==void 0&&typeof tt=="object")nt.message=rt,nt.meta={..._e.bindings,...tt};else if(rt===void 0&&typeof tt=="string")nt.message=tt,nt.meta={..._e.bindings};else throw new Error("Invalid arguments");_e.events.push(nt),_e.checkSize(),_e.onChange&&_e.onChange(nt,_e.events,{depth:_e.uuids.length})}const LogContext=reactExports.createContext(null);function LogProvider({children:_e}){const[et,tt]=reactExports.useState([]),rt=reactExports.useRef(new FifoLogger({onChange:(ut,ft)=>{tt(ft.slice())}}));rt.current;const nt=reactExports.useCallback(()=>{rt.current.clear(),tt([])},[tt]),[it,ot]=reactExports.useState(0),at=reactExports.useCallback(()=>{var ft;if(et.length<=0)return;const ut=((ft=et.at(-1))==null?void 0:ft.id)||0;ot(ut)},[et,ot]),st=reactExports.useMemo(()=>{var ut;return et.length<=0?0:(((ut=et.at(-1))==null?void 0:ut.id)||0)-it},[it,et]),lt=reactExports.useMemo(()=>et.filter(ut=>ut.id>it).reduce((ut,ft)=>ft.level>ut?ft.level:ut,-1),[it,et]),ct=reactExports.useMemo(()=>({logger:rt.current,logs:et,clear:nt,markAsRead:at,unreadCount:st,unreadLevel:lt}),[nt,et,at,st,lt]);return jsx(LogContext.Provider,{value:ct,children:_e})}function useLog(){const _e=reactExports.useContext(LogContext);if(!_e)throw new Error("useLog must be used within a LogProvider");return _e}function usePreferencesDispatch(){return reactExports.useContext(DispatchContext).preferences}function useViewDispatch(){return reactExports.useContext(DispatchContext).view}function useFileLoader(){const _e=useDataDispatch(),et=usePreferencesDispatch(),tt=useViewDispatch(),{logger:rt}=useLog(),nt=reactExports.useCallback(async st=>{const lt=[];let ct;for(const pt of st)if(pt.name.includes(".pixelium")){rt.info(`Loading pixelium file ${pt.name}`);const mt=await pt.arrayBuffer(),{data:vt,preferences:ht,view:yt}=await loadPixeliumBundle(mt,rt);vt!==null&&(_e({type:LOAD_PIXELIUM,payload:vt}),yt===null&&(ct=Object.keys(vt.images).at(-1))),ht!==null&&et({type:INITIALIZE_PREFERENCES,payload:ht}),yt!==null&&tt({type:LOAD_VIEW_STATE,payload:yt})}else try{const mt=decode(new Uint8Array(await pt.arrayBuffer())),vt={name:pt.name,relativePath:pt.relativePath};lt.push({image:mt,metadata:vt,pipeline:[],rois:[]})}catch{rt.error(`Error decoding file ${pt.name}`)}const ut=lt.map(()=>v4());if(lt.length!==ut.length)return rt.error("The number of files and ids must be the same"),0;const ft=Object.fromEntries(ut.map((pt,mt)=>[pt,lt[mt]]));_e({type:LOAD_DROP,payload:ft});const dt=ut.at(-1);return(dt||ct)&&tt({type:OPEN_TAB,payload:dt||ct}),lt.length},[_e,rt,et,tt]),it=reactExports.useCallback(async st=>{const lt=await fileCollectionFromFiles(st).catch(()=>(rt.error("Error loading files"),new FileCollection$1([])));return nt(lt)},[nt,rt]),ot=reactExports.useCallback(st=>{_e({type:SET_LOADING,payload:!0}),it(st).then(lt=>rt.info(lt===0?"No image loaded":`Loaded ${lt} images`)).finally(()=>_e({type:SET_LOADING,payload:!1}))},[_e,it,rt]),at=reactExports.useCallback(st=>(_e({type:SET_LOADING,payload:!0}),fileCollectionFromWebSource(st).then(nt).then(lt=>{lt>0&&rt.info(`${lt} images loaded from WebSource`)}).finally(()=>_e({type:SET_LOADING,payload:!1}))),[_e,nt,rt]);return{handleFileLoad:ot,handleWebSource:at}}function AutoLoader({children:_e,webSource:et}){const{handleWebSource:tt}=useFileLoader(),{logger:rt}=useLog();return reactExports.useEffect(()=>{et!==void 0&&tt(et).catch(nt=>{rt.error(`Error while loading websource: ${nt.message}`)})},[tt,rt,et]),_e}const AutoLoader$1=reactExports.memo(AutoLoader),AnnotationsContext=reactExports.createContext({svgRef:reactExports.createRef(),setSvgRef:()=>{}});function AnnotationsProvider({children:_e}){const[et,tt]=reactExports.useState(reactExports.createRef),rt=reactExports.useMemo(()=>({svgRef:et,setSvgRef:tt}),[et,tt]);return jsx(AnnotationsContext.Provider,{value:rt,children:_e})}const DataContext=reactExports.createContext(initialDataState),DataProvider=DataContext.Provider;function useData(){return reactExports.useContext(DataContext)}const EMPTY_IMAGE=new Image$1(1,1);function runPipeline(_e,et){var nt;const tt=[];let rt;for(const[it,ot]of _e.entries()){if(!ot.isActive)break;const at=((nt=tt[it-1])==null?void 0:nt.result)??et;if(at===void 0)break;try{switch(ot.type){case"GREY_FILTER":{if(at instanceof Image$1){const st=at.grey({algorithm:ot.options.algorithm});tt.push({identifier:ot.identifier,result:st})}break}case"BLUR":{if(at instanceof Image$1){const st=at.blur({width:ot.options.width,height:ot.options.height,borderType:ot.options.borderType,borderValue:ot.options.borderValue});tt.push({identifier:ot.identifier,result:st})}break}case"MASK":{if(at instanceof Image$1){const st=at.threshold({algorithm:ot.options.algorithm,slots:ot.options.slots});tt.push({identifier:ot.identifier,result:st})}break}case"GAUSSIAN_BLUR":{if(at instanceof Image$1){const st=at.gaussianBlur({sigmaX:ot.options.sigmaX,sigmaY:ot.options.sigmaY,sizeX:ot.options.sizeX,sizeY:ot.options.sizeY});tt.push({identifier:ot.identifier,result:st})}break}case"INVERT":{const st=at.invert();tt.push({identifier:ot.identifier,result:st});break}case"FLIP":{if(at instanceof Image$1){const st=at.flip({axis:ot.options.axis});tt.push({identifier:ot.identifier,result:st})}break}case"LEVEL":{if(at instanceof Image$1){const st=at.level({channels:ot.options.channels,inputMin:ot.options.inputMin,inputMax:ot.options.inputMax,outputMin:ot.options.outputMin,outputMax:ot.options.outputMax,gamma:ot.options.gamma});tt.push({identifier:ot.identifier,result:st})}break}case"PIXELATE":{if(at instanceof Image$1){const st=at.pixelate({cellSize:ot.options.cellSize,algorithm:ot.options.algorithm});tt.push({identifier:ot.identifier,result:st})}break}case"MEDIAN_FILTER":{if(at instanceof Image$1){const st=at.medianFilter({cellSize:ot.options.cellSize,borderType:ot.options.borderType,borderValue:ot.options.borderValue});tt.push({identifier:ot.identifier,result:st})}break}case"DILATE":{const st=at.dilate({kernel:ot.options.kernel,iterations:ot.options.iterations});tt.push({identifier:ot.identifier,result:st});break}case"ERODE":{const st=at.erode({kernel:ot.options.kernel,iterations:ot.options.iterations});tt.push({identifier:ot.identifier,result:st});break}case"OPEN":{const st=at.open({kernel:ot.options.kernel,iterations:ot.options.iterations});tt.push({identifier:ot.identifier,result:st});break}case"CLOSE":{const st=at.close({kernel:ot.options.kernel,iterations:ot.options.iterations});tt.push({identifier:ot.identifier,result:st});break}case"RESIZE":{if(at instanceof Image$1){const st=at.resize({width:ot.options.width,height:ot.options.height,interpolationType:ot.options.interpolationType,borderValue:ot.options.borderValue,preserveAspectRatio:ot.options.preserveAspectRatio,borderType:ot.options.borderType});tt.push({identifier:ot.identifier,result:st})}break}case"ROTATE":{if(at instanceof Image$1){const st=at.rotate(ot.options.angle*(ot.options.clockwise?1:-1));tt.push({identifier:ot.identifier,result:st})}break}default:throw new Error(`Unknown operation type ${ot.type}`)}}catch(st){rt=st.message;break}}return{pipelineSteps:tt,pipelineError:rt}}const PipelineContext=reactExports.createContext({pipelined:()=>EMPTY_IMAGE,original:EMPTY_IMAGE}),defaultEmptyArray=[];function PipelineProvider({identifier:_e,children:et}){const{images:tt}=useData(),rt=reactExports.useMemo(()=>_e===void 0||tt[_e]===void 0?{pipeline:defaultEmptyArray,image:EMPTY_IMAGE}:tt[_e],[_e,tt]),{logger:nt}=useLog(),it=reactExports.useMemo(()=>{const{pipelineSteps:st,pipelineError:lt}=runPipeline(rt.pipeline,rt.image);return lt!==void 0&&nt.error(lt),st},[rt.image,rt.pipeline,nt]),ot=reactExports.useCallback(st=>{var ct;if(st===void 0)return((ct=it.at(-1))==null?void 0:ct.result)??rt.image;const lt=it.findIndex(ut=>ut.identifier===st)-1;return lt<0?rt.image:it[lt].result??rt.image},[rt.image,it]),at=reactExports.useMemo(()=>({pipelined:ot,original:rt.image}),[rt.image,ot]);return jsx(PipelineContext.Provider,{value:at,children:et})}const PreferencesContext=reactExports.createContext(initialPreferencesState),PreferencesProvider=PreferencesContext.Provider,RootContext=reactExports.createContext(null),RootProvider=RootContext.Provider,ViewContext=reactExports.createContext(initialViewState),ViewProvider=ViewContext.Provider;function useView(){return reactExports.useContext(ViewContext)}function useCurrentTab(){return useView().currentTab}function assertUnreachable(_e,et){throw new Error(`unreachable: ${et||(typeof _e=="string"?_e:"reached assertUnreachable")}`)}function assert(_e,et){if(!_e)throw new Error(`unreachable${et?`: ${et}`:""}`)}const initialSize$1={width:1,height:1};function isSizeObserved(_e){return _e.targetSize.width!==initialSize$1.height||_e.containerSize.width!==initialSize$1.width}function updateInitialPanZoom(_e){if(isSizeObserved(_e))switch(_e.resizeStrategy){case"contain":updateInitialPanZoomContain(_e);break;case"cover":updateInitialPanZoomCover(_e);break;case"center":updateInitialPanZoomCenter(_e);break;case"none":updateInitialPanZoomNone(_e);break;default:assertUnreachable(_e.resizeStrategy)}}function updateInitialPanZoomCover(_e){const{targetSize:et,containerSize:tt}=_e,rt=et.width/tt.width,nt=et.height/tt.height;rt>1||nt>1?rt>nt?(_e.initialPanZoom.scale=1/nt,_e.initialPanZoom.translation=[-(et.width/nt-tt.width)/2,0]):(_e.initialPanZoom.scale=1/rt,_e.initialPanZoom.translation=[0,-(et.height/rt-tt.height)/2]):(_e.initialPanZoom.scale=1,updateInitialPanZoomCenter(_e))}function updateInitialPanZoomContain(_e){const{targetSize:et,containerSize:tt}=_e,rt=et.width/tt.width,nt=et.height/tt.height;rt>1||nt>1?rt>nt?(_e.initialPanZoom.scale=1/rt,updateInitialPanZoomCenter(_e)):(_e.initialPanZoom.scale=1/nt,updateInitialPanZoomCenter(_e)):(_e.initialPanZoom.scale=1,updateInitialPanZoomCenter(_e))}function updateInitialPanZoomCenter(_e){const{targetSize:et,containerSize:tt,initialPanZoom:rt}=_e;_e.initialPanZoom.translation=[(tt.width-rt.scale*et.width)/2,(tt.height-rt.scale*et.height)/2]}function updateInitialPanZoomNone(_e){_e.initialPanZoom.scale=1,_e.initialPanZoom.translation=[0,0]}const roiStateContext=reactExports.createContext(null),lockContext=reactExports.createContext({lockPan:!1,lockZoom:!1}),roiDispatchContext=reactExports.createContext(null),committedRoisContext=reactExports.createContext(null),roisContext=reactExports.createContext(null),roiContainerRefContext=reactExports.createContext(null),panZoomContext=reactExports.createContext({targetSize:{width:initialSize$1.width,height:initialSize$1.height},containerSize:{width:initialSize$1.width,height:initialSize$1.height},panZoom:{scale:1,translation:[0,0]},initialPanZoom:{scale:1,translation:[0,0]},isReady:!1}),roiStateRefContext=reactExports.createContext(null),callbacksRefContext=reactExports.createContext(null);function applyInverseX(_e,et){return(et-_e.translation[0])/_e.scale}function applyInverseY(_e,et){return(et-_e.translation[1])/_e.scale}function applyTransformX(_e,et){return _e.scale*et+_e.translation[0]}function applyTransformY(_e,et){return _e.scale*et+_e.translation[1]}function computeTotalPanZoom(_e){const{panZoom:{scale:et,translation:tt},initialPanZoom:{scale:rt,translation:nt}}=_e;return{scale:et*rt,translation:[et*nt[0]+tt[0],et*nt[1]+tt[1]]}}function usePanZoom(){return reactExports.useContext(panZoomContext)}function usePanZoomTransform(){const _e=computeTotalPanZoom(usePanZoom());return`matrix(${_e.scale}, 0, 0, ${_e.scale}, ${_e.translation[0]}, ${_e.translation[1]})`}var resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(_e){return _e.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(_e){return _e.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var _e;typeof ErrorEvent=="function"?_e=new ErrorEvent("error",{message:msg}):(_e=document.createEvent("Event"),_e.initEvent("error",!1,!1),_e.message=msg),window.dispatchEvent(_e)},ResizeObserverBoxOptions;(function(_e){_e.BORDER_BOX="border-box",_e.CONTENT_BOX="content-box",_e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(_e){return Object.freeze(_e)},ResizeObserverSize=function(){function _e(et,tt){this.inlineSize=et,this.blockSize=tt,freeze(this)}return _e}(),DOMRectReadOnly=function(){function _e(et,tt,rt,nt){return this.x=et,this.y=tt,this.width=rt,this.height=nt,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return _e.prototype.toJSON=function(){var et=this,tt=et.x,rt=et.y,nt=et.top,it=et.right,ot=et.bottom,at=et.left,st=et.width,lt=et.height;return{x:tt,y:rt,top:nt,right:it,bottom:ot,left:at,width:st,height:lt}},_e.fromRect=function(et){return new _e(et.x,et.y,et.width,et.height)},_e}(),isSVG=function(_e){return _e instanceof SVGElement&&"getBBox"in _e},isHidden=function(_e){if(isSVG(_e)){var et=_e.getBBox(),tt=et.width,rt=et.height;return!tt&&!rt}var nt=_e,it=nt.offsetWidth,ot=nt.offsetHeight;return!(it||ot||_e.getClientRects().length)},isElement=function(_e){var et;if(_e instanceof Element)return!0;var tt=(et=_e==null?void 0:_e.ownerDocument)===null||et===void 0?void 0:et.defaultView;return!!(tt&&_e instanceof tt.Element)},isReplacedElement=function(_e){switch(_e.tagName){case"INPUT":if(_e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global$1=typeof window<"u"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent),parseDimension=function(_e){return parseFloat(_e||"0")},size=function(_e,et,tt){return _e===void 0&&(_e=0),et===void 0&&(et=0),tt===void 0&&(tt=!1),new ResizeObserverSize((tt?et:_e)||0,(tt?_e:et)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size(),borderBoxSize:size(),contentBoxSize:size(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(_e,et){if(et===void 0&&(et=!1),cache.has(_e)&&!et)return cache.get(_e);if(isHidden(_e))return cache.set(_e,zeroBoxes),zeroBoxes;var tt=getComputedStyle(_e),rt=isSVG(_e)&&_e.ownerSVGElement&&_e.getBBox(),nt=!IE&&tt.boxSizing==="border-box",it=verticalRegexp.test(tt.writingMode||""),ot=!rt&&scrollRegexp.test(tt.overflowY||""),at=!rt&&scrollRegexp.test(tt.overflowX||""),st=rt?0:parseDimension(tt.paddingTop),lt=rt?0:parseDimension(tt.paddingRight),ct=rt?0:parseDimension(tt.paddingBottom),ut=rt?0:parseDimension(tt.paddingLeft),ft=rt?0:parseDimension(tt.borderTopWidth),dt=rt?0:parseDimension(tt.borderRightWidth),pt=rt?0:parseDimension(tt.borderBottomWidth),mt=rt?0:parseDimension(tt.borderLeftWidth),vt=ut+lt,ht=st+ct,yt=mt+dt,gt=ft+pt,xt=at?_e.offsetHeight-gt-_e.clientHeight:0,_t=ot?_e.offsetWidth-yt-_e.clientWidth:0,wt=nt?vt+yt:0,Et=nt?ht+gt:0,St=rt?rt.width:parseDimension(tt.width)-wt-_t,Ct=rt?rt.height:parseDimension(tt.height)-Et-xt,bt=St+vt+_t+yt,At=Ct+ht+xt+gt,Tt=freeze({devicePixelContentBoxSize:size(Math.round(St*devicePixelRatio),Math.round(Ct*devicePixelRatio),it),borderBoxSize:size(bt,At,it),contentBoxSize:size(St,Ct,it),contentRect:new DOMRectReadOnly(ut,st,St,Ct)});return cache.set(_e,Tt),Tt},calculateBoxSize=function(_e,et,tt){var rt=calculateBoxSizes(_e,tt),nt=rt.borderBoxSize,it=rt.contentBoxSize,ot=rt.devicePixelContentBoxSize;switch(et){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return ot;case ResizeObserverBoxOptions.BORDER_BOX:return nt;default:return it}},ResizeObserverEntry=function(){function _e(et){var tt=calculateBoxSizes(et);this.target=et,this.contentRect=tt.contentRect,this.borderBoxSize=freeze([tt.borderBoxSize]),this.contentBoxSize=freeze([tt.contentBoxSize]),this.devicePixelContentBoxSize=freeze([tt.devicePixelContentBoxSize])}return _e}(),calculateDepthForNode=function(_e){if(isHidden(_e))return 1/0;for(var et=0,tt=_e.parentNode;tt;)et+=1,tt=tt.parentNode;return et},broadcastActiveObservations=function(){var _e=1/0,et=[];resizeObservers.forEach(function(ot){if(ot.activeTargets.length!==0){var at=[];ot.activeTargets.forEach(function(lt){var ct=new ResizeObserverEntry(lt.target),ut=calculateDepthForNode(lt.target);at.push(ct),lt.lastReportedSize=calculateBoxSize(lt.target,lt.observedBox),ut<_e&&(_e=ut)}),et.push(function(){ot.callback.call(ot.observer,at,ot.observer)}),ot.activeTargets.splice(0,ot.activeTargets.length)}});for(var tt=0,rt=et;tt<rt.length;tt++){var nt=rt[tt];nt()}return _e},gatherActiveObservationsAtDepth=function(_e){resizeObservers.forEach(function(tt){tt.activeTargets.splice(0,tt.activeTargets.length),tt.skippedTargets.splice(0,tt.skippedTargets.length),tt.observationTargets.forEach(function(nt){nt.isActive()&&(calculateDepthForNode(nt.target)>_e?tt.activeTargets.push(nt):tt.skippedTargets.push(nt))})})},process$1=function(){var _e=0;for(gatherActiveObservationsAtDepth(_e);hasActiveObservations();)_e=broadcastActiveObservations(),gatherActiveObservationsAtDepth(_e);return hasSkippedObservations()&&deliverResizeLoopError(),_e>0},trigger,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(_e){return _e()})},queueMicroTask=function(_e){if(!trigger){var et=0,tt=document.createTextNode(""),rt={characterData:!0};new MutationObserver(function(){return notify()}).observe(tt,rt),trigger=function(){tt.textContent="".concat(et?et--:et++)}}callbacks.push(_e),trigger()},queueResizeObserver=function(_e){queueMicroTask(function(){requestAnimationFrame(_e)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time$1=function(_e){return _e===void 0&&(_e=0),Date.now()+_e},scheduled=!1,Scheduler=function(){function _e(){var et=this;this.stopped=!0,this.listener=function(){return et.schedule()}}return _e.prototype.run=function(et){var tt=this;if(et===void 0&&(et=CATCH_PERIOD),!scheduled){scheduled=!0;var rt=time$1(et);queueResizeObserver(function(){var nt=!1;try{nt=process$1()}finally{if(scheduled=!1,et=rt-time$1(),!isWatching())return;nt?tt.run(1e3):et>0?tt.run(et):tt.start()}})}},_e.prototype.schedule=function(){this.stop(),this.run()},_e.prototype.observe=function(){var et=this,tt=function(){return et.observer&&et.observer.observe(document.body,observerConfig)};document.body?tt():global$1.addEventListener("DOMContentLoaded",tt)},_e.prototype.start=function(){var et=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(tt){return global$1.addEventListener(tt,et.listener,!0)}))},_e.prototype.stop=function(){var et=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(tt){return global$1.removeEventListener(tt,et.listener,!0)}),this.stopped=!0)},_e}(),scheduler=new Scheduler,updateCount=function(_e){!watching&&_e>0&&scheduler.start(),watching+=_e,!watching&&scheduler.stop()},skipNotifyOnElement=function(_e){return!isSVG(_e)&&!isReplacedElement(_e)&&getComputedStyle(_e).display==="inline"},ResizeObservation=function(){function _e(et,tt){this.target=et,this.observedBox=tt||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return _e.prototype.isActive=function(){var et=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=et),this.lastReportedSize.inlineSize!==et.inlineSize||this.lastReportedSize.blockSize!==et.blockSize},_e}(),ResizeObserverDetail=function(){function _e(et,tt){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=et,this.callback=tt}return _e}(),observerMap=new WeakMap,getObservationIndex=function(_e,et){for(var tt=0;tt<_e.length;tt+=1)if(_e[tt].target===et)return tt;return-1},ResizeObserverController=function(){function _e(){}return _e.connect=function(et,tt){var rt=new ResizeObserverDetail(et,tt);observerMap.set(et,rt)},_e.observe=function(et,tt,rt){var nt=observerMap.get(et),it=nt.observationTargets.length===0;getObservationIndex(nt.observationTargets,tt)<0&&(it&&resizeObservers.push(nt),nt.observationTargets.push(new ResizeObservation(tt,rt&&rt.box)),updateCount(1),scheduler.schedule())},_e.unobserve=function(et,tt){var rt=observerMap.get(et),nt=getObservationIndex(rt.observationTargets,tt),it=rt.observationTargets.length===1;nt>=0&&(it&&resizeObservers.splice(resizeObservers.indexOf(rt),1),rt.observationTargets.splice(nt,1),updateCount(-1))},_e.disconnect=function(et){var tt=this,rt=observerMap.get(et);rt.observationTargets.slice().forEach(function(nt){return tt.unobserve(et,nt.target)}),rt.activeTargets.splice(0,rt.activeTargets.length)},_e}(),ResizeObserver$2=function(){function _e(et){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof et!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,et)}return _e.prototype.observe=function(et,tt){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(et))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,et,tt)},_e.prototype.unobserve=function(et){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(et))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,et)},_e.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},_e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},_e}();const usePassiveLayoutEffect=React[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],useLayoutEffect=usePassiveLayoutEffect,useLatest=_e=>{const et=reactExports.useRef(_e);return reactExports.useEffect(()=>{et.current=_e}),et},useLatest$1=useLatest,ResizeObserver$1=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:ResizeObserver$2;function _ref(){}function useResizeObserver(_e,et){const tt=getResizeObserver(),rt=useLatest$1(et);return useLayoutEffect(()=>{let nt=!1;const it=_e&&"current"in _e?_e.current:_e;if(!it)return _ref;function ot(at,st){nt||rt.current(at,st)}return tt.subscribe(it,ot),()=>{nt=!0,tt.unsubscribe(it,ot)}},[_e,tt,rt]),tt.observer}function createResizeObserver(){let _e=!1,et=[];const tt=new Map,rt=new ResizeObserver$1((nt,it)=>{et=et.concat(nt);function ot(){const at=new Set;for(let st=0;st<et.length;st++){if(at.has(et[st].target))continue;at.add(et[st].target);const lt=tt.get(et[st].target);lt==null||lt.forEach(ct=>ct(et[st],it))}et=[],_e=!1}_e||window.requestAnimationFrame(ot),_e=!0});return{observer:rt,subscribe(nt,it){var ot;rt.observe(nt);const at=(ot=tt.get(nt))!==null&&ot!==void 0?ot:[];at.push(it),tt.set(nt,at)},unsubscribe(nt,it){var ot;const at=(ot=tt.get(nt))!==null&&ot!==void 0?ot:[];if(at.length===1){rt.unobserve(nt),tt.delete(nt);return}const st=at.indexOf(it);st!==-1&&at.splice(st,1),tt.set(nt,at)}}}let _resizeObserver;const getResizeObserver=()=>_resizeObserver||(_resizeObserver=createResizeObserver());function rectifyPanZoom(_e){const et=computeTotalPanZoom(_e),tt=applyTransformX(et,0),rt=applyTransformX(et,_e.targetSize.width),nt=applyTransformY(et,0),it=applyTransformY(et,_e.targetSize.height),ot=tt/_e.containerSize.width>_e.zoomDomain.spaceAroundTarget,at=rt/_e.containerSize.width<1-_e.zoomDomain.spaceAroundTarget,st=nt/_e.containerSize.height>_e.zoomDomain.spaceAroundTarget,lt=it/_e.containerSize.height<1-_e.zoomDomain.spaceAroundTarget;if(!(ot&&at)&&(ot||at)){const ct=computePanZoomTranslation(_e,0,_e.zoomDomain.spaceAroundTarget*_e.containerSize.width,0),ut=computePanZoomTranslation(_e,_e.targetSize.width,(1-_e.zoomDomain.spaceAroundTarget)*_e.containerSize.width,0),ft=abs(ct-_e.panZoom.translation[0]),dt=abs(ut-_e.panZoom.translation[0]);ft<dt?_e.panZoom.translation[0]=ct:_e.panZoom.translation[0]=ut}if(!(st&&lt)&&(st||lt)){const ct=computePanZoomTranslation(_e,0,_e.zoomDomain.spaceAroundTarget*_e.containerSize.height,1),ut=computePanZoomTranslation(_e,_e.targetSize.height,(1-_e.zoomDomain.spaceAroundTarget)*_e.containerSize.height,1),ft=abs(ct-_e.panZoom.translation[1]),dt=abs(ut-_e.panZoom.translation[1]);ft<dt?_e.panZoom.translation[1]=ct:_e.panZoom.translation[1]=ut}}function computePanZoomTranslation(_e,et,tt,rt){const{initialPanZoom:nt,panZoom:it}=_e;return tt-et*nt.scale*it.scale-it.scale*nt.translation[rt]}function abs(_e){return _e<0?-_e:_e}function zoomAction(_e,et){const{min:tt,max:rt}=_e.zoomDomain,{scale:nt,refBoundingClientRect:it,clientX:ot,clientY:at}=et,{scale:st,translation:lt}=_e.panZoom,ct=Math.max(tt,Math.min(st*nt,rt)),ut=ot-it.left,ft=at-it.top,dt=applyInverseX(_e.panZoom,ut),pt=applyInverseY(_e.panZoom,ft);_e.panZoom.scale=ct,lt[0]=(st-ct)*dt+lt[0],lt[1]=(st-ct)*pt+lt[1],rectifyPanZoom(_e)}function resetZoomAction(_e){_e.panZoom.scale=1,_e.panZoom.translation=[0,0]}function useCallbacksRef(){const _e=reactExports.useContext(callbacksRefContext);if(!_e)throw new Error("useCallbacksRef must be called within an RoiProvider");return _e}function useCurrentState(){const _e=reactExports.useContext(roiStateRefContext);if(_e===null)throw new Error("useStateRef must be used within a RoiProvider");return _e}function useIsKeyDown(_e){const[et,tt]=reactExports.useState(!1);return reactExports.useEffect(()=>{function rt(it){it.key===_e&&tt(!0)}function nt(it){it.key===_e&&tt(!1)}return document.addEventListener("keydown",rt),document.addEventListener("keyup",nt),()=>{document.removeEventListener("keydown",rt),document.removeEventListener("keyup",nt)}},[_e]),et}function useRoiContainerRef(){return reactExports.useContext(roiContainerRefContext)}function useRoiDispatch(){const _e=reactExports.useContext(roiDispatchContext);if(!_e)throw new Error("roiDispatchContext is not defined, please check if you are using RoiProvider");return _e}function normalizeBox(_e){const et=Math.floor(_e.x1),tt=Math.floor(_e.y1),rt=Math.floor(_e.x2),nt=Math.floor(_e.y2);return{x:et,y:tt,width:rt-et,height:nt-tt}}function denormalizeBox(_e){const{x:et,y:tt,width:rt,height:nt}=_e;return{x1:et,y1:tt,x2:et+rt,y2:tt+nt}}function boundRoi(_e,et,tt){const rt={x:_e.x,y:_e.y,width:_e.width,height:_e.height};return tt==="resize"?(rt.x<0&&(rt.width+=rt.x,rt.x=0),rt.y<0&&(rt.height+=rt.y,rt.y=0),rt.height+rt.y>et.height&&(rt.height=et.height-rt.y),rt.width+rt.x>et.width&&(rt.width=et.width-rt.x)):(rt.x<0&&(rt.x=0),rt.y<0&&(rt.y=0),rt.x+rt.width>et.width&&(rt.x=et.width-rt.width),rt.y+rt.height>et.height&&(rt.y=et.height-rt.height)),rt}function updateCommitedRoiPosition(_e,et,tt){const rt=boundRoi(normalizeBox(tt),_e.targetSize,tt.action.type==="moving"?"move":"resize");rt.height===0||rt.width===0||Object.assign(et,rt),Object.assign(tt,denormalizeBox(et))}function createInitialCommittedBox(){return{x:0,y:0,width:0,height:0}}function createCommittedRoi(_e,et={}){return{id:_e,label:"",...createInitialCommittedBox(),...et}}function createRoi(_e,et={}){const tt=createCommittedRoi(_e,et),{x:rt,y:nt,width:it,height:ot,...at}=tt;return{...at,action:{type:"idle"},...denormalizeBox(tt)}}function createCommittedRoiFromRoi(_e,et,tt){const{action:rt,...nt}=_e;return{...nt,...boundRoi(normalizeBox(_e),et,tt)}}function createCommittedRoiFromRoiIfValid(_e,et,tt){const rt=createCommittedRoiFromRoi(_e,et.targetSize,tt);return rt.width<et.minNewRoiSize||rt.height<et.minNewRoiSize?null:rt}function createRoiFromCommittedRoi(_e){const{x:et,y:tt,width:rt,height:nt,...it}=_e;return{...it,action:{type:"idle"},...denormalizeBox(_e)}}function roiHasChanged(_e,et){const tt=_e.committedRois.find(rt=>rt.id===et.id);return assert(tt,"roi not found"),tt.x!==et.x||tt.y!==et.y||tt.width!==et.width||tt.height!==et.height}function throttle(_e,et){let tt=0;return function(...nt){const it=new Date().getTime();it-tt>=et&&(_e(...nt),tt=it)}}function ContainerComponent(_e){const{target:et,children:tt,style:rt,className:nt,id:it,noUnselection:ot,lockZoom:at,lockPan:st,minNewRoiSize:lt=1}=_e,ct=useIsKeyDown("Alt"),ut=useRoiDispatch(),ft=useRoiState(),dt=usePanZoomTransform(),pt=useActions(),mt=useRoiContainerRef(),vt=useCallbacksRef(),ht=useCurrentState(),yt=reactExports.useRef(_e.getNewRoiData);reactExports.useEffect(()=>{yt.current=_e.getNewRoiData},[_e.getNewRoiData]),useResizeObserver(mt,xt=>{const{width:_t,height:wt}=xt.contentRect;_t===0||wt===0||ut({type:"SET_CONTAINER_SIZE",payload:{width:xt.contentRect.width,height:xt.contentRect.height}})}),reactExports.useEffect(()=>{function xt(Ct){ut({type:"POINTER_MOVE",payload:Ct})}function _t(){if(!ht.current)return;const Ct={noUnselection:ot||!1,minNewRoiSize:lt};ut({type:"END_ACTION",payload:Ct}),callPointerUpActionHooks(ht.current,vt.current||{},Ct,pt)}const wt=throttle(Ct=>{var bt;if(mt!=null&&mt.current){const At={scale:Ct.deltaY>0?.92:1.0869565217391304,clientX:Ct.clientX,clientY:Ct.clientY,refBoundingClientRect:mt.current.getBoundingClientRect()};if(ut({type:"ZOOM",payload:At}),ht.current&&((bt=vt.current)!=null&&bt.onAfterZoomChange)){const Tt=produce(ht.current,Ot=>zoomAction(Ot,At));vt.current.onAfterZoomChange(Tt.panZoom)}}},25);function Et(Ct){!Ct.altKey||at||(Ct.preventDefault(),Ct.stopPropagation(),wt(Ct))}const St=mt==null?void 0:mt.current;return document.addEventListener("pointermove",xt),document.addEventListener("pointerup",_t),St==null||St.addEventListener("wheel",Et,{passive:!1}),()=>{document.removeEventListener("pointermove",xt),document.removeEventListener("pointerup",_t),St==null||St.removeEventListener("wheel",Et)}},[ut,mt,vt,at,lt,ot,ht,pt]);const gt=reactExports.useMemo(()=>({lockPan:st,lockZoom:at}),[st,at]);return jsxRuntimeExports.jsx(lockContext.Provider,{value:gt,children:jsxRuntimeExports.jsx("div",{id:it,ref:mt,style:{...rt,position:"relative",overflow:"hidden",margin:0,padding:0,cursor:getCursor$1(ft.mode,ct,ft.action,st),userSelect:"none",WebkitUserSelect:"none",touchAction:"none"},className:nt,onDoubleClick:()=>{var xt;if(ut({type:"RESET_ZOOM"}),ht.current&&((xt=vt.current)!=null&&xt.onAfterZoomChange)){const _t=produce(ht.current,wt=>resetZoomAction(wt));vt.current.onAfterZoomChange(_t.panZoom)}},onPointerDown:xt=>{var _t;if(mt!=null&&mt.current){const wt=mt.current.getBoundingClientRect();ut({type:"START_DRAW",payload:{event:xt,containerBoundingRect:wt,isPanZooming:xt.altKey,lockPan:st,noUnselection:ot,data:(_t=yt.current)==null?void 0:_t.call(yt)}})}},children:jsxRuntimeExports.jsxs("div",{style:{transform:dt,transformOrigin:"0 0"},children:[et,jsxRuntimeExports.jsx("div",{style:{userSelect:"none",WebkitUserSelect:"none",width:"100%",height:"100%",position:"absolute",margin:0,padding:0,top:0,left:0},children:tt})]})})})}function getCursor$1(_e,et,tt,rt){return tt!=="idle"?tt==="drawing"?"crosshair":tt==="panning"?"grab":"auto":_e==="select"&&rt?"default":et&&!rt?"grab":_e!=="select"?"crosshair":"grab"}function callPointerUpActionHooks(_e,et,tt,rt){var nt;switch(_e.action){case"drawing":{if(et.onAfterDraw){const it=_e.rois.find(at=>at.action.type==="drawing");assert(it,'An roi in the "drawing" state should exist while drawing');const ot=createCommittedRoiFromRoiIfValid(it,{targetSize:_e.targetSize,minNewRoiSize:tt.minNewRoiSize},"resize");ot&&et.onAfterDraw(ot,rt)}break}case"moving":{if(et.onAfterMove){const it=_e.rois.find(at=>at.action.type==="moving");assert(it,'An roi in the "moving" state should exist while moving');const ot=createCommittedRoiFromRoiIfValid(it,{targetSize:_e.targetSize,minNewRoiSize:tt.minNewRoiSize},"move");if(ot&&roiHasChanged(_e,ot)){const{id:at,...st}=ot;et.onAfterMove(at,st,rt)}}break}case"resizing":{if(et.onAfterResize){const it=_e.rois.find(at=>at.action.type==="resizing");assert(it,'An roi in the "resizing" state should exist while moving');const ot=createCommittedRoiFromRoiIfValid(it,{targetSize:_e.targetSize,minNewRoiSize:tt.minNewRoiSize},"resize");if(ot&&roiHasChanged(_e,ot)){const{id:at,...st}=ot;et.onAfterResize(at,st,rt)}}break}case"panning":{(nt=et.onAfterZoomChange)==null||nt.call(et,_e.panZoom);break}case"idle":break;default:assertUnreachable(_e.action)}}function RoiContainer(_e){const{children:et,style:tt,lockZoom:rt=!1,lockPan:nt=!1,...it}=_e,ot=usePanZoom();return jsxRuntimeExports.jsx(ContainerComponent,{lockZoom:rt,lockPan:nt,style:{...tt,visibility:ot.isReady?"visible":"hidden"},...it,children:et})}function useLockContext(){return reactExports.useContext(lockContext)}function getAllCorners(_e){const{x:et,y:tt,width:rt,height:nt}=_e;return[{xPosition:"left",yPosition:"top",cursor:"nwse-resize",cx:et,cy:tt},{xPosition:"left",yPosition:"bottom",cursor:"nesw-resize",cx:et,cy:tt+nt},{xPosition:"right",yPosition:"bottom",cursor:"nwse-resize",cx:et+rt,cy:tt+nt},{cursor:"nesw-resize",xPosition:"right",yPosition:"top",cx:et+rt,cy:tt},{xPosition:"middle",yPosition:"top",cursor:"ns-resize",cx:et+rt/2,cy:tt},{xPosition:"middle",yPosition:"bottom",cursor:"ns-resize",cx:et+rt/2,cy:tt+nt},{xPosition:"left",yPosition:"middle",cursor:"ew-resize",cx:et,cy:tt+nt/2},{xPosition:"right",yPosition:"middle",cursor:"ew-resize",cx:et+rt,cy:tt+nt/2}]}function RoiBoxCorner({corner:_e,roiId:et,sizes:tt,handlerColor:rt}){const nt=useRoiDispatch(),it=reactExports.useCallback(ot=>{ot.altKey||(ot.stopPropagation(),nt({type:"START_RESIZE",payload:{id:et,xAxisCorner:_e.xPosition,yAxisCorner:_e.yPosition}}))},[nt,_e,et]);return _e.xPosition==="middle"||_e.yPosition==="middle"?jsxRuntimeExports.jsx(SideHandler,{corner:_e,onPointerDown:it,scaledSizes:tt,handlerColor:rt}):jsxRuntimeExports.jsx(CornerHandler,{corner:_e,onPointerDown:it,scaledSizes:tt,handlerColor:rt})}function SideHandler({corner:_e,onPointerDown:et,scaledSizes:tt,handlerColor:rt="black"}){const nt=getSidePoints(_e,tt),it=getHandlerRect(_e,tt),ot=getTransform(_e,tt);return jsxRuntimeExports.jsxs("g",{transform:ot,children:[jsxRuntimeExports.jsx("line",{...nt,stroke:rt,strokeWidth:tt.handlerBorderWidth,strokeLinecap:"round"}),jsxRuntimeExports.jsx("rect",{...it,cursor:_e.cursor,fill:"transparent",style:{pointerEvents:"initial"},onPointerDown:et})]})}function CornerHandler({corner:_e,onPointerDown:et,scaledSizes:tt,handlerColor:rt="black"}){const nt=getCornerPoints(_e,tt),it=getHandlerRect(_e,tt),ot=getTransform(_e,tt);return jsxRuntimeExports.jsxs("g",{transform:ot,children:[jsxRuntimeExports.jsx("polyline",{points:nt.map(at=>at.join(",")).join(" "),strokeWidth:tt.handlerBorderWidth,stroke:rt,fill:"none",strokeLinecap:"round"}),jsxRuntimeExports.jsx("rect",{...it,cursor:_e.cursor,fill:"transparent",style:{pointerEvents:"initial"},onPointerDown:et})]})}function getSidePoints(_e,et){return _e.xPosition==="left"||_e.xPosition==="right"?{x1:_e.cx,y1:_e.cy-et.handlerSize/2,x2:_e.cx,y2:_e.cy+et.handlerSize/2}:{x1:_e.cx-et.handlerSize/2,y1:_e.cy,x2:_e.cx+et.handlerSize/2,y2:_e.cy}}function getCornerPoints(_e,et){const{handlerSize:tt}=et,rt=_e.xPosition==="left"?+tt:-tt,nt=_e.yPosition==="top"?+tt:-tt;return[[_e.cx+rt,_e.cy],[_e.cx,_e.cy],[_e.cx,_e.cy+nt]]}function getHandlerRect(_e,et){const tt=et.handlerSize*2,rt=tt,nt=_e.cx-et.handlerSize,it=_e.cy-et.handlerSize;return{x:nt,y:it,width:tt,height:rt}}function getTransform(_e,et){const tt=et.handlerBorderWidth/2;let rt=0,nt=0;return _e.xPosition==="left"?rt=tt:_e.xPosition==="right"&&(rt=-tt),_e.yPosition==="top"?nt=tt:_e.yPosition==="bottom"&&(nt=-tt),`translate(${rt}, ${nt})`}const baseSize={handlerSize:12,handlerBorderWidth:3};function getScaledSizes(_e,et){const tt=Math.min(_e.x2-_e.x1,_e.y2-_e.y1),{handlerSize:rt,handlerBorderWidth:nt}=baseSize,it=et.initialPanZoom.scale*et.panZoom.scale;return{handlerSize:Math.floor(Math.max(Math.min(rt/it,tt/3+1),1)),handlerBorderWidth:nt/it}}function roiToFloorBox(_e){const et=Math.floor(_e.x1),tt=Math.floor(_e.y1),rt=Math.floor(_e.x2),nt=Math.floor(_e.y2);return{x:et,width:rt-et,y:tt,height:nt-tt}}function Box({roi:_e,style:et,className:tt,isReadOnly:rt,getStyle:nt}){var mt;const it=useIsKeyDown("Alt"),ot=useRoiDispatch(),at=usePanZoom(),st=useRoiState(),lt=getScaledSizes(_e,at),ct=_e.id===st.selectedRoi,ut=nt(_e,{isReadOnly:rt,isSelected:ct,scaledSizes:lt,zoomScale:at.panZoom.scale*at.initialPanZoom.scale}),ft=`within-roi-${_e.id}`,{lockPan:dt}=useLockContext(),pt=roiToFloorBox(_e);return jsxRuntimeExports.jsxs("svg",{style:{display:"block",overflow:"visible",width:pt.width,height:pt.height,cursor:getCursor(st.mode,rt,it,st.action,dt),...et},viewBox:`${pt.x} ${pt.y} ${pt.width} ${pt.height}`,className:tt,onPointerDown:vt=>{vt.altKey||rt||st.mode==="draw"||(vt.stopPropagation(),ot({type:"SELECT_BOX_AND_START_MOVE",payload:{id:_e.id}}))},children:[(mt=ut.renderCustomPattern)==null?void 0:mt.call(ut),jsxRuntimeExports.jsx("clipPath",{id:ft,children:jsxRuntimeExports.jsx("rect",{x:pt.x,y:pt.y,width:pt.width,height:pt.height})}),jsxRuntimeExports.jsx("rect",{clipPath:`url(#${ft})`,x:pt.x,y:pt.y,width:pt.width,height:pt.height,...ut.rectAttributes}),ct&&getAllCorners(pt).map(vt=>jsxRuntimeExports.jsx(RoiBoxCorner,{corner:vt,roiId:_e.id,sizes:lt,handlerColor:ut.resizeHandlerColor},`corner-${vt.xPosition}-${vt.yPosition}`))]})}function getCursor(_e,et,tt,rt,nt){if(rt!=="idle"){if(rt==="drawing")return"crosshair";if(rt==="moving")return"move";if(rt==="panning")return"grab"}return tt&&!nt?"grab":et?_e!=="select"?!tt&&!nt||nt?"crosshair":tt?"grab":"default":nt?"default":"grab":_e==="draw"?"crosshair":"move"}function RoiBoxInternal(_e){const{roi:et,getStyle:tt,getReadOnly:rt,isSelected:nt,renderLabel:it}=_e,ot=usePanZoom(),{id:at}=et,st=(rt==null?void 0:rt(et))||!1,lt=getScaledSizes(et,ot),ct=useRoiDispatch();reactExports.useEffect(()=>{st&&ct({type:"UNSELECT_ROI",payload:at})},[at,st,ct]);const ut=roiToFloorBox(et);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{"data-testid":et.id,style:{position:"absolute",left:ut.x,top:ut.y,width:ut.width,height:ut.height},children:jsxRuntimeExports.jsx(Box,{roi:et,isReadOnly:st,getStyle:tt})}),jsxRuntimeExports.jsx("div",{"data-testid":`label-${et.id}`,style:{position:"absolute",left:ut.x,top:ut.y,width:ut.width,height:ut.height,pointerEvents:"none",whiteSpace:"pre",userSelect:"none",WebkitUserSelect:"none"},children:it(et,{isReadOnly:st,isSelected:nt,scaledSizes:lt,zoomScale:ot.panZoom.scale*ot.initialPanZoom.scale})})]})}reactExports.memo(RoiBoxInternal);function cancelAction(_e,et){const tt=_e.rois.filter(nt=>nt.action.type!=="idle");if(tt.length===0)return;assert(tt.length===1,"Multiple rois are being edited at the same time");const rt=tt[0];if(rt.action.type==="drawing"){const nt=_e.rois.findIndex(it=>it.id===rt.id);_e.rois.splice(nt,1),et.noUnselection?_e.selectedRoi=rt.action.previousSelectedRoi:_e.selectedRoi=void 0}else{const nt=_e.committedRois.find(it=>it.id===rt.id);assert(nt),Object.assign(rt,denormalizeBox(nt))}_e.action="idle",rt.action={type:"idle"}}function endAction(_e,et){_e.action="idle";const{selectedRoi:tt,rois:rt,committedRois:nt}=_e;if(!tt)return;const it=rt.find(at=>at.id===tt),ot=nt.find(at=>at.id===tt);if(it){if(ot)assert(it.action.type!=="drawing","Drawing ROI should not be committed"),updateCommitedRoiPosition(_e,ot,it);else{assert(it.action.type==="drawing");const at=createCommittedRoiFromRoiIfValid(it,{targetSize:_e.targetSize,minNewRoiSize:et.minNewRoiSize},"resize");if(at===null){const st=_e.rois.findIndex(lt=>lt.id===it.id);_e.rois.splice(st,1),et.noUnselection?_e.selectedRoi=it.action.previousSelectedRoi:_e.selectedRoi=void 0}else updateCommitedRoiPosition(_e,at,it),_e.committedRois.push(at)}it.action={type:"idle"}}}function pointerMove(_e,et){switch(_e.action){case"idle":return;case"panning":_e.panZoom.translation[0]+=et.movementX,_e.panZoom.translation[1]+=et.movementY,rectifyPanZoom(_e);return;case"moving":case"drawing":case"resizing":{const{selectedRoi:tt,rois:rt}=_e,nt=rt.find(it=>it.id===tt);assert(nt),updateRoiBox(_e,nt,{x:et.movementX,y:et.movementY});return}default:assertUnreachable(_e.action,"Invalid action type")}}function updateRoiBox(_e,et,tt){const rt=computeTotalPanZoom(_e),nt=tt.x/rt.scale,it=tt.y/rt.scale;switch(et.action.type){case"idle":return;case"moving":et.x1+=nt,et.y1+=it,et.x2+=nt,et.y2+=it;break;case"resizing":{resize(_e,et,tt);break}case"drawing":resize(_e,et,tt);break;default:assertUnreachable(et.action,"Invalid action type")}}function resize(_e,et,tt){const rt=computeTotalPanZoom(_e);assert(et.action.type==="resizing"||et.action.type==="drawing");const nt=tt.x/rt.scale,it=tt.y/rt.scale,ot=et.action.xAxisCorner;switch(ot){case"left":{const st=et.x1+nt;st<=et.x2?et.x1=st:(et.x1=et.x2,et.x2=st,et.action.xAxisCorner="right");break}case"right":{const st=et.x2+nt;st>=et.x1?et.x2=st:(et.x2=et.x1,et.x1=st,et.action.xAxisCorner="left");break}case"middle":break;default:assertUnreachable(ot)}const at=et.action.yAxisCorner;switch(at){case"top":{const st=et.y1+it;st<=et.y2?et.y1=st:(et.y1=et.y2,et.y2=st,et.action.yAxisCorner="bottom");break}case"bottom":{const st=et.y2+it;st>=et.y1?et.y2=st:(et.y2=et.y1,et.y1=st,et.action.yAxisCorner="top");break}case"middle":break;default:assertUnreachable(at)}}function startDraw(_e,et){const{event:tt,containerBoundingRect:rt,noUnselection:nt,lockPan:it}=et,ot=createRoi(crypto.randomUUID());if(et.isPanZooming&&!it){_e.action="panning";return}const at=computeTotalPanZoom(_e),st=applyInverseX(at,tt.clientX-rt.x),lt=applyInverseY(at,tt.clientY-rt.y);switch(_e.mode){case"hybrid":case"draw":{const ct={...ot,data:et.data,action:{type:"drawing",xAxisCorner:"left",yAxisCorner:"top",previousSelectedRoi:_e.selectedRoi},x1:st,y1:lt,x2:st,y2:lt};_e.selectedRoi=ct.id,_e.rois.push(ct),_e.action="drawing";break}case"select":{nt||(_e.selectedRoi=void 0),it||(_e.action="panning");break}default:assertUnreachable(_e.mode)}}function roiReducer(_e,et){return produce(_e,tt=>{const rt=et.type;switch(rt){case"SET_MODE":tt.mode=et.payload;break;case"SET_SIZE":{if(et.payload.width===0||et.payload.height===0)return;tt.targetSize=et.payload,updateInitialPanZoom(tt);break}case"SET_CONTAINER_SIZE":{tt.containerSize=et.payload,updateInitialPanZoom(tt);break}case"REMOVE_ROI":{cancelAction(tt,{noUnselection:!1});const nt=et.payload??tt.selectedRoi,it=tt.rois.findIndex(ot=>ot.id===nt);if(it===-1)return;tt.rois.splice(it,1),tt.committedRois.splice(it,1),tt.selectedRoi=void 0;return}case"SELECT_ROI":{const nt=et.payload;nt?tt.rois.find(ot=>ot.id===nt)&&(cancelAction(tt,{noUnselection:!1}),tt.selectedRoi=nt):tt.selectedRoi&&(cancelAction(tt,{noUnselection:!1}),tt.selectedRoi=void 0);break}case"UNSELECT_ROI":{const nt=et.payload;tt.selectedRoi===nt&&(cancelAction(tt,{noUnselection:!1}),tt.selectedRoi=void 0);return}case"CREATE_ROI":{const{id:nt,...it}=et.payload;if(tt.committedRois.some(at=>at.id===nt))throw new Error("This id already exists on the draft.");const ot=createCommittedRoi(nt,it);tt.committedRois.push(ot),tt.rois.push(createRoi(nt,it)),tt.selectedRoi=ot.id;break}case"UPDATE_ROI":{const{id:nt,...it}=et.payload;if(!nt)return;const ot=tt.rois.findIndex(st=>st.id===nt),at=tt.committedRois[ot];assert(ot!==-1,"ROI not found"),assert(at,"Committed ROI not found"),Object.assign(at,it),tt.rois[ot]=createRoiFromCommittedRoi(at);break}case"START_RESIZE":{const{id:nt,xAxisCorner:it,yAxisCorner:ot}=et.payload,{rois:at}=tt,st=at.find(lt=>lt.id===nt);assert(st,"ROI not found"),tt.action="resizing",st.action={type:"resizing",xAxisCorner:it,yAxisCorner:ot};break}case"SELECT_BOX_AND_START_MOVE":{const{id:nt}=et.payload;if(!nt)return;if(tt.mode==="draw"){tt.selectedRoi=void 0;return}const{rois:it}=tt;tt.selectedRoi=nt;const ot=it.find(at=>at.id===nt);assert(ot,"ROI not found"),tt.action="moving",ot.action={type:"moving"};break}case"START_DRAW":{startDraw(tt,et.payload);break}case"POINTER_MOVE":{pointerMove(tt,et.payload);break}case"END_ACTION":{endAction(tt,et.payload);break}case"CANCEL_ACTION":{cancelAction(tt,et.payload);break}case"ZOOM":zoomAction(tt,et.payload);break;case"RESET_ZOOM":resetZoomAction(tt);break;default:assertUnreachable(rt)}})}function createInitialState(_e){return{mode:_e.mode,action:"idle",resizeStrategy:_e.resizeStrategy,targetSize:initialSize$1,containerSize:initialSize$1,selectedRoi:_e.selectedRoiId,committedRois:_e.rois,rois:_e.rois.map(et=>createRoiFromCommittedRoi(et)),panZoom:_e.zoom.initial,initialPanZoom:{scale:1,translation:[0,0]},zoomDomain:_e.zoom}}function RoiProvider(_e){var It;const{children:et,initialConfig:tt={},onAfterZoomChange:rt,onAfterDraw:nt,onAfterResize:it,onAfterMove:ot}=_e,{rois:at=[],mode:st="hybrid",zoom:{min:lt=1,max:ct=20,spaceAroundTarget:ut=.5}={},selectedRoiId:ft,resizeStrategy:dt="contain"}=tt,pt=createInitialState({mode:st,rois:at,zoom:{min:lt,max:ct,spaceAroundTarget:ut,initial:((It=tt.zoom)==null?void 0:It.initial)??{scale:1,translation:[0,0]}},resizeStrategy:dt,selectedRoiId:ft}),[mt,vt]=reactExports.useReducer(roiReducer,pt),ht=reactExports.useRef(mt),yt=reactExports.useRef(null),gt=reactExports.useRef({onAfterZoomChange:rt,onAfterDraw:nt,onAfterResize:it,onAfterMove:ot});reactExports.useEffect(()=>{ht.current=mt},[mt]),reactExports.useEffect(()=>{gt.current={onAfterZoomChange:rt,onAfterDraw:nt,onAfterResize:it,onAfterMove:ot}},[rt,nt,it,ot]);const{rois:xt,committedRois:_t,mode:wt,selectedRoi:Et,panZoom:St,initialPanZoom:Ct,targetSize:bt,containerSize:At,action:Tt}=mt,Ot=reactExports.useMemo(()=>({mode:wt,selectedRoi:Et,action:Tt}),[wt,Et,Tt]),$t=reactExports.useMemo(()=>({targetSize:bt,containerSize:At,panZoom:St,initialPanZoom:Ct,isReady:isSizeObserved({targetSize:bt,containerSize:At})}),[St,Ct,bt,At]);return jsxRuntimeExports.jsx(callbacksRefContext.Provider,{value:gt,children:jsxRuntimeExports.jsx(roiStateRefContext.Provider,{value:ht,children:jsxRuntimeExports.jsx(roiContainerRefContext.Provider,{value:yt,children:jsxRuntimeExports.jsx(panZoomContext.Provider,{value:$t,children:jsxRuntimeExports.jsx(roiDispatchContext.Provider,{value:vt,children:jsxRuntimeExports.jsx(roisContext.Provider,{value:xt,children:jsxRuntimeExports.jsx(committedRoisContext.Provider,{value:_t,children:jsxRuntimeExports.jsx(roiStateContext.Provider,{value:Ot,children:et})})})})})})})})}function useActions(){const _e=useRoiDispatch(),et=useRoiContainerRef(),tt=useCallbacksRef(),rt=useCurrentState();return reactExports.useMemo(()=>({cancelAction:(nt,it)=>{nt.preventDefault(),nt.isTrusted&&_e({type:"CANCEL_ACTION",payload:it})},zoom:nt=>{var at;if(!(et!=null&&et.current))return;const it=et.current.getBoundingClientRect(),ot={clientX:it.width/2,clientY:it.height/2,scale:nt,refBoundingClientRect:it};if(_e({type:"ZOOM",payload:ot}),rt.current&&((at=tt.current)!=null&&at.onAfterZoomChange)){const st=produce(rt.current,lt=>zoomAction(lt,ot));tt.current.onAfterZoomChange(st.panZoom)}},createRoi:nt=>{_e({type:"CREATE_ROI",payload:nt})},updateRoi:(nt,it)=>{_e({type:"UPDATE_ROI",payload:{...it,id:nt}})},removeRoi:nt=>{_e({type:"REMOVE_ROI",payload:nt})},selectRoi:nt=>{_e({type:"SELECT_ROI",payload:nt})},setMode:nt=>_e({type:"SET_MODE",payload:nt})}),[_e,et,rt,tt])}function useRoiState(){const _e=reactExports.useContext(roiStateContext);if(!_e)throw new Error("useRoiState must be used within a RoiProvider");return _e}function useTargetRef(){const _e=reactExports.useRef(null),et=useRoiDispatch();return useResizeObserver(_e,tt=>{et({type:"SET_SIZE",payload:{width:tt.contentRect.width,height:tt.contentRect.height}})}),_e}function useImage(_e){const et=reactExports.useContext(PipelineContext);return reactExports.useMemo(()=>({original:et.original,pipelined:et.pipelined(_e)}),[et,_e])}function useAnnotationRef(){return reactExports.useContext(AnnotationsContext)}function useROIs(_e){var tt;return((tt=useData().images[_e])==null?void 0:tt.rois)||[]}function usePreferences(){return reactExports.useContext(PreferencesContext)}function ConvexHullAnnotation({roi:_e}){const et=reactExports.useMemo(()=>_e.convexHull.points.map(ct=>`${ct.column},${ct.row}`).join(" "),[_e.convexHull.points]),tt=usePreferences(),{color:rt,enabled:nt,fontColor:it,fontSize:ot,displayValue:at}=tt.rois.annotations.convexHull,st=reactExports.useMemo(()=>({fill:"none",stroke:rt.hex,strokeOpacity:rt.a,strokewidth:1}),[rt]),lt=reactExports.useMemo(()=>({fill:it.hex,fillOpacity:it.a,fontSize:ot,textAnchor:"middle",dominantBaseline:"text-before-edge"}),[it,ot]);return!nt&&!at?null:jsxs("g",{children:[nt&&jsx("polygon",{points:et,style:st}),at&&jsx("text",{x:_e.width/2,y:_e.height+1,style:lt,children:_e.convexHull.surface})]})}const ConvexHullAnnotation$1=reactExports.memo(ConvexHullAnnotation);function FeretAnnotation({roi:_e}){const{minDiameter:et,maxDiameter:tt}=_e.feret,rt=reactExports.useMemo(()=>[et,tt].map(({points:[{column:ft,row:dt},{column:pt,row:mt}],length:vt})=>({x1:ft,y1:dt,x2:pt,y2:mt,length:vt})),[tt,et]),nt=usePreferences(),{color:it,enabled:ot,fontColor:at,fontSize:st,displayValue:lt}=nt.rois.annotations.feretDiameters,ct=reactExports.useMemo(()=>({fill:"none",stroke:it.hex,strokeOpacity:it.a,strokewidth:2}),[it]),ut=reactExports.useMemo(()=>({fill:at.hex,fillOpacity:at.a,fontSize:st,textAnchor:"middle",dominantBaseline:"central"}),[at,st]);return!ot&&!lt?null:jsx(Fragment,{children:rt.map(({x1:ft,y1:dt,x2:pt,y2:mt,length:vt},ht)=>{const yt=Math.atan((mt-dt)/(pt-ft))*(180/Math.PI),gt=pt>ft?(pt+ft+2)/2:(pt+ft-2)/2,xt=dt>mt?(mt+dt+2)/2:(mt+dt-2)/2;return jsxs("g",{children:[ot&&jsx("line",{x1:ft,y1:dt,x2:pt,y2:mt,style:ct}),lt&&jsx("text",{x:0,y:0,transform:`translate(${gt}, ${xt})  rotate(${yt})`,style:ut,children:vt.toFixed(2)})]},`${_e.id}-${ht}`)})})}const FeretAnnotation$1=reactExports.memo(FeretAnnotation);function MBRAnnotation({roi:_e}){const et=reactExports.useMemo(()=>_e.mbr.points.map(ct=>`${ct.column},${ct.row}`).join(" "),[_e.mbr.points]),tt=usePreferences(),{color:rt,enabled:nt,fontSize:it,fontColor:ot,displayValue:at}=tt.rois.annotations.minimalBoundingRectangle,st=reactExports.useMemo(()=>({fill:"none",stroke:rt.hex,strokeOpacity:rt.a,strokewidth:1}),[rt]),lt=reactExports.useMemo(()=>({fill:ot.hex,fillOpacity:ot.a,fontSize:it,textAnchor:"middle",dominantBaseline:"text-after-edge"}),[ot,it]);return!nt&&!at?null:jsxs("g",{children:[nt&&jsx("polygon",{points:et,style:st}),at&&jsxs("text",{x:_e.width/2,y:-1,style:lt,children:[_e.width,"x",_e.height," (",_e.surface,"px)"]})]})}const MBRAnnotation$1=reactExports.memo(MBRAnnotation);function SurfaceAnnotation({roi:_e}){const et=usePreferences(),{color:tt,enabled:rt}=et.rois.annotations.surface,nt=reactExports.useMemo(()=>{if(!rt)return"";const ot=[],at=_e.getMask(),st=at.width,lt=at.height;for(let ct=0;ct<st;ct++)for(let ut=0;ut<lt;ut++)if(at.getBit(ct,ut)===1){ot.push(`M${ct},${ut}`);let ft=1;for(;ut+ft<=lt&&at.getBit(ct,ut+ft)===1;ft++);ot.push(`V${ut+ft}`,`H${ct+1}`,`V${ut}`),ut=ut+ft}return ot.join(" ")},[_e,rt]),it=reactExports.useMemo(()=>({fill:tt.hex,fillOpacity:tt.a}),[tt]);return rt?jsx("path",{d:nt,style:it}):null}const SurfaceAnnotation$1=reactExports.memo(SurfaceAnnotation);function ROIAnnotation({roi:_e}){const{column:et,row:tt}=_e.origin,rt=reactExports.useMemo(()=>`translate(${et}, ${tt})`,[et,tt]);return jsxs("g",{transform:rt,children:[jsx(SurfaceAnnotation$1,{roi:_e}),jsx(MBRAnnotation$1,{roi:_e}),jsx(FeretAnnotation$1,{roi:_e}),jsx(ConvexHullAnnotation$1,{roi:_e})]})}const ROIAnnotation$1=reactExports.memo(ROIAnnotation);function ROIAnnotations({identifier:_e,width:et=0,height:tt=0}){const rt=useROIs(_e),nt=reactExports.useMemo(()=>rt.map(ct=>jsx(ROIAnnotation$1,{roi:ct},ct.id)),[rt]),it=reactExports.useRef(null),{svgRef:ot,setSvgRef:at}=useAnnotationRef();reactExports.useEffect(()=>{it.current!==null&&at(it)},[at,ot]);const st=reactExports.useMemo(()=>`0 0 ${et} ${tt}`,[et,tt]),lt=reactExports.useMemo(()=>({position:"absolute",left:0,top:0,width:`${et}px`,height:`${tt}px`}),[et,tt]);return jsx("div",{style:lt,children:jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:st,ref:it,children:nt})})}const ROIAnnotations$1=reactExports.memo(ROIAnnotations),RelativeBox=newStyled.div`
  position: relative;
`,canvasStyle={objectFit:"contain",imageRendering:"pixelated"};function TargetCanvas({imageToShow:_e}){const et=useTargetRef();return reactExports.useEffect(()=>{et.current!==null&&writeCanvas(_e,et.current)},[et,_e]),jsx("canvas",{ref:et,style:canvasStyle})}function ImageViewer({identifier:_e,showOriginal:et=!1,image:tt,annotable:rt=!1}){const nt=useView(),it=useViewDispatch(),{original:ot,pipelined:at}=useImage(),st=reactExports.useMemo(()=>tt!==void 0?tt:et?ot:at,[tt,ot,at,et]),lt=reactExports.useMemo(()=>nt.imageViewerProps[_e]||{scale:1,translation:[0,0]},[_e,nt.imageViewerProps]),ct=reactExports.useCallback(ut=>{it({type:SET_PAN_ZOOM,payload:{identifier:_e,panZoom:ut}})},[_e,it]);return jsx(RoiProvider,{initialConfig:{zoom:{initial:lt,min:.1,max:30,spaceAroundTarget:0},resizeStrategy:"contain",mode:"select"},onAfterZoomChange:ct,children:jsx(RoiContainer,{target:jsx(TargetCanvas,{imageToShow:st}),style:{width:"100%",height:"100%"},children:jsx(RelativeBox,{children:rt&&jsx(ROIAnnotations$1,{width:st==null?void 0:st.width,height:st==null?void 0:st.height,identifier:_e})})})})}const ImageViewer$1=reactExports.memo(ImageViewer),StyledCenterPanel=newStyled.div`
  width: 100%;
`;function CenterPanel(){const _e=useCurrentTab(),{handleFileLoad:et}=useFileLoader();return jsx(StyledCenterPanel,{children:jsx(DropZoneContainer,{emptyDescription:"Drag and drop here either an image or a Pixelium file.",onDrop:et,children:_e?jsx(ImageViewer$1,{identifier:_e,annotable:!0},_e):null})})}const CenterPanel$1=reactExports.memo(CenterPanel);function SvgZakodium({title:_e,titleId:et,...tt}){return jsxRuntimeExports.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 588.44 588.44",width:"1em",height:"1em","aria-labelledby":et,...tt,children:[_e?jsxRuntimeExports.jsx("title",{id:et,children:_e}):null,jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("style",{children:".cls-1{fill:#2b143e}"})}),jsxRuntimeExports.jsx("circle",{className:"cls-1",cx:93.23,cy:398.47,r:56.95}),jsxRuntimeExports.jsx("path",{className:"cls-1",d:"M528.16 397.39V455H279l-.46.46h-72.77l.47-.46 44.21-57.57 79.21-102.71 36.39-47 44.21-57.11H205.31V133h321.47l-44.67 57.6L402 294.68l-36.38 47-43.3 55.73z"})]})}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(_e){for(var et,tt=1,rt=arguments.length;tt<rt;tt++){et=arguments[tt];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(_e[nt]=et[nt])}return _e},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(_e,et){var tt={};for(var rt in _e)Object.prototype.hasOwnProperty.call(_e,rt)&&et.indexOf(rt)<0&&(tt[rt]=_e[rt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(_e);nt<rt.length;nt++)et.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(_e,rt[nt])&&(tt[rt[nt]]=_e[rt[nt]]);return tt};function Tree2Element(_e){return _e&&_e.map(function(et,tt){return React.createElement(et.tag,__assign({key:tt},et.attr),Tree2Element(et.child))})}function GenIcon(_e){return function(et){return React.createElement(IconBase,__assign({attr:__assign({},_e.attr)},et),Tree2Element(_e.child))}}function IconBase(_e){var et=function(tt){var rt=_e.attr,nt=_e.size,it=_e.title,ot=__rest(_e,["attr","size","title"]),at=nt||tt.size||"1em",st;return tt.className&&(st=tt.className),_e.className&&(st=(st?st+" ":"")+_e.className),React.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,rt,ot,{className:st,style:__assign(__assign({color:_e.color||tt.color},tt.style),_e.style),height:at,width:at,xmlns:"http://www.w3.org/2000/svg"}),it&&React.createElement("title",null,it),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,function(tt){return et(tt)}):et(DefaultContext)}function FaGithub(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(_e)}function FaBug(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"}}]})(_e)}function FaCopy(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(_e)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(_e)}function FaFileExport(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(_e)}function FaFileImport(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"}}]})(_e)}function FaFileSignature(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"}}]})(_e)}function FaFilter(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(_e)}function FaMask(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z"}}]})(_e)}function FaQuestionCircle(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(_e)}function FaRecordVinyl(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 152a104 104 0 1 0 104 104 104 104 0 0 0-104-104zm0 128a24 24 0 1 1 24-24 24 24 0 0 1-24 24zm0-272C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 376a128 128 0 1 1 128-128 128 128 0 0 1-128 128z"}}]})(_e)}function FaTrash(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(_e)}function FaWrench(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(_e)}function FaRegWindowMaximize(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V192h416v234z"}}]})(_e)}function useMountedState(){var _e=reactExports.useRef(!1),et=reactExports.useCallback(function(){return _e.current},[]);return reactExports.useEffect(function(){return _e.current=!0,function(){_e.current=!1}},[]),et}var useSetState=function(_e){_e===void 0&&(_e={});var et=reactExports.useState(_e),tt=et[0],rt=et[1],nt=reactExports.useCallback(function(it){rt(function(ot){return Object.assign({},ot,it instanceof Function?it(ot):it)})},[]);return[tt,nt]};const useSetState$1=useSetState;var noop=function(){};function on$1(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];_e&&_e.addEventListener&&_e.addEventListener.apply(_e,et)}function off(_e){for(var et=[],tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];_e&&_e.removeEventListener&&_e.removeEventListener.apply(_e,et)}var isBrowser=typeof window<"u",toggleReducer=function(_e,et){return typeof et=="boolean"?et:!_e},useToggle=function(_e){return reactExports.useReducer(toggleReducer,_e)};const useToggle$1=useToggle;var toggleSelection=function(){var _e=document.getSelection();if(!_e.rangeCount)return function(){};for(var et=document.activeElement,tt=[],rt=0;rt<_e.rangeCount;rt++)tt.push(_e.getRangeAt(rt));switch(et.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":et.blur();break;default:et=null;break}return _e.removeAllRanges(),function(){_e.type==="Caret"&&_e.removeAllRanges(),_e.rangeCount||tt.forEach(function(nt){_e.addRange(nt)}),et&&et.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format$1(_e){var et=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return _e.replace(/#{\s*key\s*}/g,et)}function copy$1(_e,et){var tt,rt,nt,it,ot,at,st=!1;et||(et={}),tt=et.debug||!1;try{nt=deselectCurrent(),it=document.createRange(),ot=document.getSelection(),at=document.createElement("span"),at.textContent=_e,at.ariaHidden="true",at.style.all="unset",at.style.position="fixed",at.style.top=0,at.style.clip="rect(0, 0, 0, 0)",at.style.whiteSpace="pre",at.style.webkitUserSelect="text",at.style.MozUserSelect="text",at.style.msUserSelect="text",at.style.userSelect="text",at.addEventListener("copy",function(ct){if(ct.stopPropagation(),et.format)if(ct.preventDefault(),typeof ct.clipboardData>"u"){tt&&console.warn("unable to use e.clipboardData"),tt&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var ut=clipboardToIE11Formatting[et.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(ut,_e)}else ct.clipboardData.clearData(),ct.clipboardData.setData(et.format,_e);et.onCopy&&(ct.preventDefault(),et.onCopy(ct.clipboardData))}),document.body.appendChild(at),it.selectNodeContents(at),ot.addRange(it);var lt=document.execCommand("copy");if(!lt)throw new Error("copy command was unsuccessful");st=!0}catch(ct){tt&&console.error("unable to copy using execCommand: ",ct),tt&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(et.format||"text",_e),et.onCopy&&et.onCopy(window.clipboardData),st=!0}catch(ut){tt&&console.error("unable to copy using clipboardData: ",ut),tt&&console.error("falling back to prompt"),rt=format$1("message"in et?et.message:defaultMessage),window.prompt(rt,_e)}}finally{ot&&(typeof ot.removeRange=="function"?ot.removeRange(it):ot.removeAllRanges()),at&&document.body.removeChild(at),nt()}return st}var copyToClipboard=copy$1;const writeText=getDefaultExportFromCjs(copyToClipboard);var useCopyToClipboard=function(){var _e=useMountedState(),et=useSetState$1({value:void 0,error:void 0,noUserInteraction:!0}),tt=et[0],rt=et[1],nt=reactExports.useCallback(function(it){if(_e()){var ot,at;try{if(typeof it!="string"&&typeof it!="number"){var st=new Error("Cannot copy typeof "+typeof it+" to clipboard, must be a string");rt({value:it,error:st,noUserInteraction:!0});return}else if(it===""){var st=new Error("Cannot copy empty string to clipboard.");rt({value:it,error:st,noUserInteraction:!0});return}at=it.toString(),ot=writeText(at),rt({value:at,error:void 0,noUserInteraction:ot})}catch(lt){rt({value:at,error:lt,noUserInteraction:ot})}}},[]);return[tt,nt]};const useCopyToClipboard$1=useCopyToClipboard;var useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect;const useIsomorphicLayoutEffect$1=useIsomorphicLayoutEffect;var screenfull$1={exports:{}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(_e){(function(){var et=typeof window<"u"&&typeof window.document<"u"?window.document:{},tt=_e.exports,rt=function(){for(var ot,at=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],st=0,lt=at.length,ct={};st<lt;st++)if(ot=at[st],ot&&ot[1]in et){for(st=0;st<ot.length;st++)ct[at[0][st]]=ot[st];return ct}return!1}(),nt={change:rt.fullscreenchange,error:rt.fullscreenerror},it={request:function(ot,at){return new Promise((function(st,lt){var ct=(function(){this.off("change",ct),st()}).bind(this);this.on("change",ct),ot=ot||et.documentElement;var ut=ot[rt.requestFullscreen](at);ut instanceof Promise&&ut.then(ct).catch(lt)}).bind(this))},exit:function(){return new Promise((function(ot,at){if(!this.isFullscreen){ot();return}var st=(function(){this.off("change",st),ot()}).bind(this);this.on("change",st);var lt=et[rt.exitFullscreen]();lt instanceof Promise&&lt.then(st).catch(at)}).bind(this))},toggle:function(ot,at){return this.isFullscreen?this.exit():this.request(ot,at)},onchange:function(ot){this.on("change",ot)},onerror:function(ot){this.on("error",ot)},on:function(ot,at){var st=nt[ot];st&&et.addEventListener(st,at,!1)},off:function(ot,at){var st=nt[ot];st&&et.removeEventListener(st,at,!1)},raw:rt};if(!rt){tt?_e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(it,{isFullscreen:{get:function(){return!!et[rt.fullscreenElement]}},element:{enumerable:!0,get:function(){return et[rt.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!et[rt.fullscreenEnabled]}}}),tt?_e.exports=it:window.screenfull=it})()})(screenfull$1);var screenfullExports=screenfull$1.exports;const screenfull=getDefaultExportFromCjs(screenfullExports);var useFullscreen=function(_e,et,tt){tt===void 0&&(tt={});var rt=tt.video,nt=tt.onClose,it=nt===void 0?noop:nt,ot=reactExports.useState(et),at=ot[0],st=ot[1];return useIsomorphicLayoutEffect$1(function(){if(et&&_e.current){var lt=function(){rt!=null&&rt.current&&off(rt.current,"webkitendfullscreen",lt),it()},ct=function(){if(screenfull.isEnabled){var ut=screenfull.isFullscreen;st(ut),ut||it()}};if(screenfull.isEnabled){try{screenfull.request(_e.current),st(!0)}catch(ut){it(ut),st(!1)}screenfull.on("change",ct)}else rt&&rt.current&&rt.current.webkitEnterFullscreen?(rt.current.webkitEnterFullscreen(),on$1(rt.current,"webkitendfullscreen",lt),st(!0)):(it(),st(!1));return function(){if(st(!1),screenfull.isEnabled)try{screenfull.off("change",ct),screenfull.exit()}catch{}else rt&&rt.current&&rt.current.webkitExitFullscreen&&(off(rt.current,"webkitendfullscreen",lt),rt.current.webkitExitFullscreen())}}},[et,rt,_e]),at};const useFullscreen$1=useFullscreen;function useRoot(){const _e=reactExports.useContext(RootContext);if(!_e)throw new Error("useGlobal must be used within a GlobalProvider");return _e}function useModal(_e){const et=useView(),tt=useViewDispatch(),rt=reactExports.useMemo(()=>et.modals[_e],[et.modals,_e]),nt=reactExports.useCallback(()=>tt({type:OPEN_MODAL,payload:_e}),[tt,_e]),it=reactExports.useCallback(()=>tt({type:CLOSE_MODAL,payload:_e}),[tt,_e]);return{isOpen:rt,open:nt,close:it}}function getNotificationIntent(_e){return _e>40?"danger":_e===40?"primary":"success"}function getRowColor(_e){return _e>40?"pink":_e===40?"lightyellow":"lightgreen"}function PixeliumHeader(){const{rootRef:_e}=useRoot(),[et,tt]=useToggle$1(!1),{open:rt}=useModal("log"),{open:nt}=useModal("about"),{unreadLevel:it,unreadCount:ot,markAsRead:at}=useLog(),st=useFullscreen$1(_e,et,{onClose:()=>tt(!1)});return jsxs(Header$2,{children:[jsx(Toolbar,{children:jsx(Toolbar.Item,{tooltip:"About Pixelium",icon:jsx(SvgZakodium,{}),onClick:nt})}),jsxs(Toolbar,{children:[jsx(Toolbar.Item,{tooltip:"User manual",icon:jsx(FaQuestionCircle,{}),onClick:()=>window.open("https://zakodium.com","_blank")}),jsx(Toolbar.Item,{tooltip:"Logs",icon:jsx(FaBug,{}),tag:ot>0&&ot,tagProps:{intent:getNotificationIntent(it)},onClick:()=>{rt(),at()}}),jsx(Toolbar.Item,{tooltip:"Settings",icon:jsx(FaWrench,{})}),!st&&jsx(Toolbar.Item,{tooltip:"Full Screen",icon:jsx(FaRegWindowMaximize,{}),onClick:tt})]})]})}const Header=reactExports.memo(PixeliumHeader);var toNumber$1=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(_e){if(!_e)return _e===0?_e:0;if(_e=toNumber$1(_e),_e===INFINITY$1||_e===-INFINITY$1){var et=_e<0?-1:1;return et*MAX_INTEGER}return _e===_e?_e:0}var toFinite_1=toFinite$1,toFinite=toFinite_1;function toInteger$1(_e){var et=toFinite(_e),tt=et%1;return et===et?tt?et-tt:et:0}var toInteger_1=toInteger$1,baseTimes=_baseTimes,castFunction=_castFunction,toInteger=toInteger_1,MAX_SAFE_INTEGER=9007199254740991,MAX_ARRAY_LENGTH=4294967295,nativeMin=Math.min;function times(_e,et){if(_e=toInteger(_e),_e<1||_e>MAX_SAFE_INTEGER)return[];var tt=MAX_ARRAY_LENGTH,rt=nativeMin(_e,MAX_ARRAY_LENGTH);et=castFunction(et),_e-=MAX_ARRAY_LENGTH;for(var nt=baseTimes(rt,et);++tt<_e;)et(tt);return nt}var times_1=times;const times$1=getDefaultExportFromCjs(times_1),initialSize={x:0,y:0,width:0,height:0};function useBBoxObserver(){const[_e,et]=reactExports.useState(initialSize),tt=reactExports.useRef(initialSize),rt=reactExports.useRef();return{ref:reactExports.useCallback(it=>{if(rt.current&&rt.current(),it!==null){const ot=new ResizeObserver(([at])=>{const st=at.target.getBBox(),lt=tt.current;if(lt.x!==st.x||lt.y!==st.y||lt.width!==st.width||lt.height!==st.height){const ct={x:st.x,y:st.y,width:st.width,height:st.height};tt.current=ct,et(ct)}});ot.observe(it),rt.current=()=>{ot.unobserve(it)}}},[]),..._e}}function calculatePosition(_e,et,tt,rt){switch(et){case"start":return _e;case"end":return _e-tt;case"middle":return _e-tt/2;case"none":return rt;default:throw new Error(`Unkwnown alignment ${JSON.stringify(et)}`)}}function AlignGroup(_e){const{x:et=0,y:tt=0,verticalAlign:rt="start",horizontalAlign:nt="start",children:it,style:ot={}}=_e,at=useBBoxObserver(),st=reactExports.useMemo(()=>calculatePosition(et-at.x,nt,at.width||0,et),[et,at.x,at.width,nt]),lt=reactExports.useMemo(()=>calculatePosition(tt-at.y,rt,at.height||0,tt),[tt,at.y,at.height,rt]);return jsxRuntimeExports.jsx("g",{style:ot,ref:at.ref,transform:`translate(${st}, ${lt})`,children:it})}function ResponsiveChart(_e){const{width:et,height:tt,minWidth:rt,minHeight:nt,maxWidth:it,maxHeight:ot,children:at}=_e,st=useResizeObserver$1();return jsxRuntimeExports.jsx("div",{ref:st.ref,style:{position:"relative",flex:1,width:et||"100%",height:tt||"100%",minWidth:rt||0,minHeight:nt||0,maxWidth:it,maxHeight:ot},children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0},children:st.width&&st.height?at({width:st.width,height:st.height}):null})})}function textDimensions(_e,et){var tt,rt;const nt=document.createTextNode(_e),it=document.createElementNS("http://www.w3.org/2000/svg","text");it.setAttribute("class","test"),it.appendChild(nt),(tt=et.current)===null||tt===void 0||tt.appendChild(it);const ot=it.getBBox();return(rt=et.current)===null||rt===void 0||rt.removeChild(it),ot}const TEST_HEIGHT$1="+1234567890";function useTicks(_e,et,tt,rt){const nt=_e.range();if(!nt)throw new Error("Range needs to be specified");if(!_e.domain())throw new Error("Domain needs to be specified");const{minSpace:ot=8,tickFormat:at,setTicks:st}=rt,lt=Math.abs(nt[0]-nt[1]);reactExports.useEffect(()=>{if(tt.current){let ct,ut=[];if(et==="horizontal")for(;;){ut=_e.ticks(ct);const ft=ut.map(at);ct=Math.min(ut.length,ct||1/0);const{width:dt}=textDimensions(ft.join(""),tt);if(dt+(ut.length-1)*ot>lt&&ct>1)ct=ct-1;else break}else{const{height:ft}=textDimensions(TEST_HEIGHT$1,tt);for(;ut=_e.ticks(ct),ct=Math.min(ut.length,ct||1/0),ut.length*(ft+ot)-ot>lt&&ct>1;)ct=ct-1}st(ut.map(ft=>({label:at(ft),position:_e(ft),value:ft})))}},[lt,et,ot,tt,_e,st,at])}function useLinearPrimaryTicks(_e,et,tt,rt={}){const[nt,it]=reactExports.useState([]),{tickFormat:ot=String}=rt;return useTicks(_e,et,tt,{...rt,tickFormat:ot,setTicks:it}),nt}const TEST_HEIGHT="+1234567890";function isMainTick(_e){const et=_e/Math.pow(10,Math.round(Math.log10(_e)));return Math.floor(et<1?et*10:et)}function formatTicks(_e,et,tt,rt,nt){const it=_e.filter(ct=>isMainTick(ct)===1).map(et),ot=Math.abs(it[0]-it[1]),at=(rt+nt)/ot,st=at>=1?Math.ceil(at):1;let lt=0;return _e.map(ct=>{const ut=et(ct);let ft="";return isMainTick(ct)===1&&(ft=lt===0?tt(ct):"",lt=(lt+1)%st),{label:ft,position:ut,value:ct}})}function useLogTicks(_e,et,tt,rt={}){const[nt,it]=reactExports.useState(40);if(!_e.range())throw new Error("Range needs to be specified");const at=_e.domain();if(!at)throw new Error("Domain needs to be specified");const{minSpace:st=8}=rt,lt=rt==null?void 0:rt.tickFormat,ct=reactExports.useCallback(ft=>lt?lt(ft):String(ft),[lt]),ut=reactExports.useMemo(()=>_e.ticks(),[_e]);return reactExports.useEffect(()=>{if(tt.current)if(et==="horizontal"){const ft=ut.filter(pt=>isMainTick(pt)===1).map(ct).reduce((pt,mt)=>pt.length<mt.length?mt:pt,""),{width:dt}=textDimensions(ft,tt);it(Math.ceil(dt))}else{const{height:ft}=textDimensions(TEST_HEIGHT,tt);it(Math.ceil(ft))}},[et,at,ct,tt,ut]),formatTicks(ut,_e,ct,nt,st)}function useTimeTicks(_e,et,tt,rt){const{tickFormat:nt=_e.tickFormat()}=rt,[it,ot]=reactExports.useState([]);return useTicks(_e,et,tt,{...rt,setTicks:ot,tickFormat:nt}),it}function ascending(_e,et){return _e==null||et==null?NaN:_e<et?-1:_e>et?1:_e>=et?0:NaN}function descending(_e,et){return _e==null||et==null?NaN:et<_e?-1:et>_e?1:et>=_e?0:NaN}function bisector(_e){let et,tt,rt;_e.length!==2?(et=ascending,tt=(at,st)=>ascending(_e(at),st),rt=(at,st)=>_e(at)-st):(et=_e===ascending||_e===descending?_e:zero,tt=_e,rt=_e);function nt(at,st,lt=0,ct=at.length){if(lt<ct){if(et(st,st)!==0)return ct;do{const ut=lt+ct>>>1;tt(at[ut],st)<0?lt=ut+1:ct=ut}while(lt<ct)}return lt}function it(at,st,lt=0,ct=at.length){if(lt<ct){if(et(st,st)!==0)return ct;do{const ut=lt+ct>>>1;tt(at[ut],st)<=0?lt=ut+1:ct=ut}while(lt<ct)}return lt}function ot(at,st,lt=0,ct=at.length){const ut=nt(at,st,lt,ct-1);return ut>lt&&rt(at[ut-1],st)>-rt(at[ut],st)?ut-1:ut}return{left:nt,center:ot,right:it}}function zero(){return 0}function number$2(_e){return _e===null?NaN:+_e}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;function extent(_e,et){let tt,rt;if(et===void 0)for(const nt of _e)nt!=null&&(tt===void 0?nt>=nt&&(tt=rt=nt):(tt>nt&&(tt=nt),rt<nt&&(rt=nt)));else{let nt=-1;for(let it of _e)(it=et(it,++nt,_e))!=null&&(tt===void 0?it>=it&&(tt=rt=it):(tt>it&&(tt=it),rt<it&&(rt=it)))}return[tt,rt]}class InternMap extends Map{constructor(et,tt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tt}}),et!=null)for(const[rt,nt]of et)this.set(rt,nt)}get(et){return super.get(intern_get(this,et))}has(et){return super.has(intern_get(this,et))}set(et,tt){return super.set(intern_set(this,et),tt)}delete(et){return super.delete(intern_delete(this,et))}}function intern_get({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)?_e.get(rt):tt}function intern_set({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)?_e.get(rt):(_e.set(rt,tt),tt)}function intern_delete({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)&&(tt=_e.get(rt),_e.delete(rt)),tt}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,et,tt){const rt=(et-_e)/Math.max(0,tt),nt=Math.floor(Math.log10(rt)),it=rt/Math.pow(10,nt),ot=it>=e10?10:it>=e5?5:it>=e2?2:1;let at,st,lt;return nt<0?(lt=Math.pow(10,-nt)/ot,at=Math.round(_e*lt),st=Math.round(et*lt),at/lt<_e&&++at,st/lt>et&&--st,lt=-lt):(lt=Math.pow(10,nt)*ot,at=Math.round(_e/lt),st=Math.round(et/lt),at*lt<_e&&++at,st*lt>et&&--st),st<at&&.5<=tt&&tt<2?tickSpec(_e,et,tt*2):[at,st,lt]}function ticks(_e,et,tt){if(et=+et,_e=+_e,tt=+tt,!(tt>0))return[];if(_e===et)return[_e];const rt=et<_e,[nt,it,ot]=rt?tickSpec(et,_e,tt):tickSpec(_e,et,tt);if(!(it>=nt))return[];const at=it-nt+1,st=new Array(at);if(rt)if(ot<0)for(let lt=0;lt<at;++lt)st[lt]=(it-lt)/-ot;else for(let lt=0;lt<at;++lt)st[lt]=(it-lt)*ot;else if(ot<0)for(let lt=0;lt<at;++lt)st[lt]=(nt+lt)/-ot;else for(let lt=0;lt<at;++lt)st[lt]=(nt+lt)*ot;return st}function tickIncrement(_e,et,tt){return et=+et,_e=+_e,tt=+tt,tickSpec(_e,et,tt)[2]}function tickStep(_e,et,tt){et=+et,_e=+_e,tt=+tt;const rt=et<_e,nt=rt?tickIncrement(et,_e,tt):tickIncrement(_e,et,tt);return(rt?-1:1)*(nt<0?1/-nt:nt)}function max(_e,et){let tt;if(et===void 0)for(const rt of _e)rt!=null&&(tt<rt||tt===void 0&&rt>=rt)&&(tt=rt);else{let rt=-1;for(let nt of _e)(nt=et(nt,++rt,_e))!=null&&(tt<nt||tt===void 0&&nt>=nt)&&(tt=nt)}return tt}function min(_e,et){let tt;if(et===void 0)for(const rt of _e)rt!=null&&(tt>rt||tt===void 0&&rt>=rt)&&(tt=rt);else{let rt=-1;for(let nt of _e)(nt=et(nt,++rt,_e))!=null&&(tt>nt||tt===void 0&&nt>=nt)&&(tt=nt)}return tt}function initRange(_e,et){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(et).domain(_e);break}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,et=[],tt=[],rt=implicit;function nt(it){let ot=_e.get(it);if(ot===void 0){if(rt!==implicit)return rt;_e.set(it,ot=et.push(it)-1)}return tt[ot%tt.length]}return nt.domain=function(it){if(!arguments.length)return et.slice();et=[],_e=new InternMap;for(const ot of it)_e.has(ot)||_e.set(ot,et.push(ot)-1);return nt},nt.range=function(it){return arguments.length?(tt=Array.from(it),nt):tt.slice()},nt.unknown=function(it){return arguments.length?(rt=it,nt):rt},nt.copy=function(){return ordinal(et,tt).unknown(rt)},initRange.apply(nt,arguments),nt}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$1(_e){return _e}function normalize(_e,et){return(et-=_e=+_e)?function(tt){return(tt-_e)/et}:constants(isNaN(et)?NaN:.5)}function clamper(_e,et){var tt;return _e>et&&(tt=_e,_e=et,et=tt),function(rt){return Math.max(_e,Math.min(et,rt))}}function bimap(_e,et,tt){var rt=_e[0],nt=_e[1],it=et[0],ot=et[1];return nt<rt?(rt=normalize(nt,rt),it=tt(ot,it)):(rt=normalize(rt,nt),it=tt(it,ot)),function(at){return it(rt(at))}}function polymap(_e,et,tt){var rt=Math.min(_e.length,et.length)-1,nt=new Array(rt),it=new Array(rt),ot=-1;for(_e[rt]<_e[0]&&(_e=_e.slice().reverse(),et=et.slice().reverse());++ot<rt;)nt[ot]=normalize(_e[ot],_e[ot+1]),it[ot]=tt(et[ot],et[ot+1]);return function(at){var st=bisect(_e,at,1,rt)-1;return it[st](nt[st](at))}}function copy(_e,et){return et.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer(){var _e=unit,et=unit,tt=interpolate,rt,nt,it,ot=identity$1,at,st,lt;function ct(){var ft=Math.min(_e.length,et.length);return ot!==identity$1&&(ot=clamper(_e[0],_e[ft-1])),at=ft>2?polymap:bimap,st=lt=null,ut}function ut(ft){return ft==null||isNaN(ft=+ft)?it:(st||(st=at(_e.map(rt),et,tt)))(rt(ot(ft)))}return ut.invert=function(ft){return ot(nt((lt||(lt=at(et,_e.map(rt),interpolateNumber)))(ft)))},ut.domain=function(ft){return arguments.length?(_e=Array.from(ft,number$1),ct()):_e.slice()},ut.range=function(ft){return arguments.length?(et=Array.from(ft),ct()):et.slice()},ut.rangeRound=function(ft){return et=Array.from(ft),tt=interpolateRound,ct()},ut.clamp=function(ft){return arguments.length?(ot=ft?!0:identity$1,ct()):ot!==identity$1},ut.interpolate=function(ft){return arguments.length?(tt=ft,ct()):tt},ut.unknown=function(ft){return arguments.length?(it=ft,ut):it},function(ft,dt){return rt=ft,nt=dt,ct()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,et){if((tt=(_e=et?_e.toExponential(et-1):_e.toExponential()).indexOf("e"))<0)return null;var tt,rt=_e.slice(0,tt);return[rt.length>1?rt[0]+rt.slice(2):rt,+_e.slice(tt+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,et){return function(tt,rt){for(var nt=tt.length,it=[],ot=0,at=_e[0],st=0;nt>0&&at>0&&(st+at+1>rt&&(at=Math.max(1,rt-st)),it.push(tt.substring(nt-=at,nt+at)),!((st+=at+1)>rt));)at=_e[ot=(ot+1)%_e.length];return it.reverse().join(et)}}function formatNumerals(_e){return function(et){return et.replace(/[0-9]/g,function(tt){return _e[+tt]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!(et=re.exec(_e)))throw new Error("invalid format: "+_e);var et;return new FormatSpecifier({fill:et[1],align:et[2],sign:et[3],symbol:et[4],zero:et[5],width:et[6],comma:et[7],precision:et[8]&&et[8].slice(1),trim:et[9],type:et[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var et=_e.length,tt=1,rt=-1,nt;tt<et;++tt)switch(_e[tt]){case".":rt=nt=tt;break;case"0":rt===0&&(rt=tt),nt=tt;break;default:if(!+_e[tt])break e;rt>0&&(rt=0);break}return rt>0?_e.slice(0,rt)+_e.slice(nt+1):_e}var prefixExponent;function formatPrefixAuto(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var rt=tt[0],nt=tt[1],it=nt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nt/3)))*3)+1,ot=rt.length;return it===ot?rt:it>ot?rt+new Array(it-ot+1).join("0"):it>0?rt.slice(0,it)+"."+rt.slice(it):"0."+new Array(1-it).join("0")+formatDecimalParts(_e,Math.max(0,et+it-1))[0]}function formatRounded(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var rt=tt[0],nt=tt[1];return nt<0?"0."+new Array(-nt).join("0")+rt:rt.length>nt+1?rt.slice(0,nt+1)+"."+rt.slice(nt+1):rt+new Array(nt-rt.length+2).join("0")}const formatTypes={"%":(_e,et)=>(_e*100).toFixed(et),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,et)=>_e.toExponential(et),f:(_e,et)=>_e.toFixed(et),g:(_e,et)=>_e.toPrecision(et),o:_e=>Math.round(_e).toString(8),p:(_e,et)=>formatRounded(_e*100,et),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity(_e){return _e}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var et=_e.grouping===void 0||_e.thousands===void 0?identity:formatGroup(map.call(_e.grouping,Number),_e.thousands+""),tt=_e.currency===void 0?"":_e.currency[0]+"",rt=_e.currency===void 0?"":_e.currency[1]+"",nt=_e.decimal===void 0?".":_e.decimal+"",it=_e.numerals===void 0?identity:formatNumerals(map.call(_e.numerals,String)),ot=_e.percent===void 0?"%":_e.percent+"",at=_e.minus===void 0?"−":_e.minus+"",st=_e.nan===void 0?"NaN":_e.nan+"";function lt(ut){ut=formatSpecifier(ut);var ft=ut.fill,dt=ut.align,pt=ut.sign,mt=ut.symbol,vt=ut.zero,ht=ut.width,yt=ut.comma,gt=ut.precision,xt=ut.trim,_t=ut.type;_t==="n"?(yt=!0,_t="g"):formatTypes[_t]||(gt===void 0&&(gt=12),xt=!0,_t="g"),(vt||ft==="0"&&dt==="=")&&(vt=!0,ft="0",dt="=");var wt=mt==="$"?tt:mt==="#"&&/[boxX]/.test(_t)?"0"+_t.toLowerCase():"",Et=mt==="$"?rt:/[%p]/.test(_t)?ot:"",St=formatTypes[_t],Ct=/[defgprs%]/.test(_t);gt=gt===void 0?6:/[gprs]/.test(_t)?Math.max(1,Math.min(21,gt)):Math.max(0,Math.min(20,gt));function bt(At){var Tt=wt,Ot=Et,$t,It,Nt;if(_t==="c")Ot=St(At)+Ot,At="";else{At=+At;var jt=At<0||1/At<0;if(At=isNaN(At)?st:St(Math.abs(At),gt),xt&&(At=formatTrim(At)),jt&&+At==0&&pt!=="+"&&(jt=!1),Tt=(jt?pt==="("?pt:at:pt==="-"||pt==="("?"":pt)+Tt,Ot=(_t==="s"?prefixes[8+prefixExponent/3]:"")+Ot+(jt&&pt==="("?")":""),Ct){for($t=-1,It=At.length;++$t<It;)if(Nt=At.charCodeAt($t),48>Nt||Nt>57){Ot=(Nt===46?nt+At.slice($t+1):At.slice($t))+Ot,At=At.slice(0,$t);break}}}yt&&!vt&&(At=et(At,1/0));var Bt=Tt.length+At.length+Ot.length,Dt=Bt<ht?new Array(ht-Bt+1).join(ft):"";switch(yt&&vt&&(At=et(Dt+At,Dt.length?ht-Ot.length:1/0),Dt=""),dt){case"<":At=Tt+At+Ot+Dt;break;case"=":At=Tt+Dt+At+Ot;break;case"^":At=Dt.slice(0,Bt=Dt.length>>1)+Tt+At+Ot+Dt.slice(Bt);break;default:At=Dt+Tt+At+Ot;break}return it(At)}return bt.toString=function(){return ut+""},bt}function ct(ut,ft){var dt=lt((ut=formatSpecifier(ut),ut.type="f",ut)),pt=Math.max(-8,Math.min(8,Math.floor(exponent(ft)/3)))*3,mt=Math.pow(10,-pt),vt=prefixes[8+pt/3];return function(ht){return dt(mt*ht)+vt}}return{format:lt,formatPrefix:ct}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,et){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(et)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,et){return _e=Math.abs(_e),et=Math.abs(et)-_e,Math.max(0,exponent(et)-exponent(_e))+1}function tickFormat(_e,et,tt,rt){var nt=tickStep(_e,et,tt),it;switch(rt=formatSpecifier(rt??",f"),rt.type){case"s":{var ot=Math.max(Math.abs(_e),Math.abs(et));return rt.precision==null&&!isNaN(it=precisionPrefix(nt,ot))&&(rt.precision=it),formatPrefix(rt,ot)}case"":case"e":case"g":case"p":case"r":{rt.precision==null&&!isNaN(it=precisionRound(nt,Math.max(Math.abs(_e),Math.abs(et))))&&(rt.precision=it-(rt.type==="e"));break}case"f":case"%":{rt.precision==null&&!isNaN(it=precisionFixed(nt))&&(rt.precision=it-(rt.type==="%")*2);break}}return format(rt)}function linearish(_e){var et=_e.domain;return _e.ticks=function(tt){var rt=et();return ticks(rt[0],rt[rt.length-1],tt??10)},_e.tickFormat=function(tt,rt){var nt=et();return tickFormat(nt[0],nt[nt.length-1],tt??10,rt)},_e.nice=function(tt){tt==null&&(tt=10);var rt=et(),nt=0,it=rt.length-1,ot=rt[nt],at=rt[it],st,lt,ct=10;for(at<ot&&(lt=ot,ot=at,at=lt,lt=nt,nt=it,it=lt);ct-- >0;){if(lt=tickIncrement(ot,at,tt),lt===st)return rt[nt]=ot,rt[it]=at,et(rt);if(lt>0)ot=Math.floor(ot/lt)*lt,at=Math.ceil(at/lt)*lt;else if(lt<0)ot=Math.ceil(ot*lt)/lt,at=Math.floor(at*lt)/lt;else break;st=lt}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function nice(_e,et){_e=_e.slice();var tt=0,rt=_e.length-1,nt=_e[tt],it=_e[rt],ot;return it<nt&&(ot=tt,tt=rt,rt=ot,ot=nt,nt=it,it=ot),_e[tt]=et.floor(nt),_e[rt]=et.ceil(it),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:et=>Math.pow(_e,et)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),et=>Math.log(et)/_e)}function reflect(_e){return(et,tt)=>-_e(-et,tt)}function loggish(_e){const et=_e(transformLog,transformExp),tt=et.domain;let rt=10,nt,it;function ot(){return nt=logp(rt),it=powp(rt),tt()[0]<0?(nt=reflect(nt),it=reflect(it),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),et}return et.base=function(at){return arguments.length?(rt=+at,ot()):rt},et.domain=function(at){return arguments.length?(tt(at),ot()):tt()},et.ticks=at=>{const st=tt();let lt=st[0],ct=st[st.length-1];const ut=ct<lt;ut&&([lt,ct]=[ct,lt]);let ft=nt(lt),dt=nt(ct),pt,mt;const vt=at==null?10:+at;let ht=[];if(!(rt%1)&&dt-ft<vt){if(ft=Math.floor(ft),dt=Math.ceil(dt),lt>0){for(;ft<=dt;++ft)for(pt=1;pt<rt;++pt)if(mt=ft<0?pt/it(-ft):pt*it(ft),!(mt<lt)){if(mt>ct)break;ht.push(mt)}}else for(;ft<=dt;++ft)for(pt=rt-1;pt>=1;--pt)if(mt=ft>0?pt/it(-ft):pt*it(ft),!(mt<lt)){if(mt>ct)break;ht.push(mt)}ht.length*2<vt&&(ht=ticks(lt,ct,vt))}else ht=ticks(ft,dt,Math.min(dt-ft,vt)).map(it);return ut?ht.reverse():ht},et.tickFormat=(at,st)=>{if(at==null&&(at=10),st==null&&(st=rt===10?"s":","),typeof st!="function"&&(!(rt%1)&&(st=formatSpecifier(st)).precision==null&&(st.trim=!0),st=format(st)),at===1/0)return st;const lt=Math.max(1,rt*at/et.ticks().length);return ct=>{let ut=ct/it(Math.round(nt(ct)));return ut*rt<rt-.5&&(ut*=rt),ut<=lt?st(ct):""}},et.nice=()=>tt(nice(tt(),{floor:at=>it(Math.floor(nt(at))),ceil:at=>it(Math.ceil(nt(at)))})),et}function log(){const _e=loggish(transformer()).domain([1,10]);return _e.copy=()=>copy(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}const t0=new Date,t1=new Date;function timeInterval(_e,et,tt,rt){function nt(it){return _e(it=arguments.length===0?new Date:new Date(+it)),it}return nt.floor=it=>(_e(it=new Date(+it)),it),nt.ceil=it=>(_e(it=new Date(it-1)),et(it,1),_e(it),it),nt.round=it=>{const ot=nt(it),at=nt.ceil(it);return it-ot<at-it?ot:at},nt.offset=(it,ot)=>(et(it=new Date(+it),ot==null?1:Math.floor(ot)),it),nt.range=(it,ot,at)=>{const st=[];if(it=nt.ceil(it),at=at==null?1:Math.floor(at),!(it<ot)||!(at>0))return st;let lt;do st.push(lt=new Date(+it)),et(it,at),_e(it);while(lt<it&&it<ot);return st},nt.filter=it=>timeInterval(ot=>{if(ot>=ot)for(;_e(ot),!it(ot);)ot.setTime(ot-1)},(ot,at)=>{if(ot>=ot)if(at<0)for(;++at<=0;)for(;et(ot,-1),!it(ot););else for(;--at>=0;)for(;et(ot,1),!it(ot););}),tt&&(nt.count=(it,ot)=>(t0.setTime(+it),t1.setTime(+ot),_e(t0),_e(t1),Math.floor(tt(t0,t1))),nt.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?nt.filter(rt?ot=>rt(ot)%it===0:ot=>nt.count(0,ot)%it===0):nt)),nt}const millisecond=timeInterval(()=>{},(_e,et)=>{_e.setTime(+_e+et)},(_e,et)=>et-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval(et=>{et.setTime(Math.floor(et/_e)*_e)},(et,tt)=>{et.setTime(+et+tt*_e)},(et,tt)=>(tt-et)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,et)=>{_e.setTime(+_e+et*durationSecond)},(_e,et)=>(et-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,et)=>_e.setDate(_e.getDate()+et),(_e,et)=>(et-_e-(et.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval(et=>{et.setDate(et.getDate()-(et.getDay()+7-_e)%7),et.setHours(0,0,0,0)},(et,tt)=>{et.setDate(et.getDate()+tt*7)},(et,tt)=>(tt-et-(tt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval(et=>{et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-_e)%7),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt*7)},(et,tt)=>(tt-et)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setMonth(_e.getMonth()+et)},(_e,et)=>et.getMonth()-_e.getMonth()+(et.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCMonth(_e.getUTCMonth()+et)},(_e,et)=>et.getUTCMonth()-_e.getUTCMonth()+(et.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setFullYear(_e.getFullYear()+et)},(_e,et)=>et.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setFullYear(Math.floor(et.getFullYear()/_e)*_e),et.setMonth(0,1),et.setHours(0,0,0,0)},(et,tt)=>{et.setFullYear(et.getFullYear()+tt*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCFullYear(_e.getUTCFullYear()+et)},(_e,et)=>et.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setUTCFullYear(Math.floor(et.getUTCFullYear()/_e)*_e),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCFullYear(et.getUTCFullYear()+tt*_e)});utcYear.range;function ticker(_e,et,tt,rt,nt,it){const ot=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[it,1,durationMinute],[it,5,5*durationMinute],[it,15,15*durationMinute],[it,30,30*durationMinute],[nt,1,durationHour],[nt,3,3*durationHour],[nt,6,6*durationHour],[nt,12,12*durationHour],[rt,1,durationDay],[rt,2,2*durationDay],[tt,1,durationWeek],[et,1,durationMonth],[et,3,3*durationMonth],[_e,1,durationYear]];function at(lt,ct,ut){const ft=ct<lt;ft&&([lt,ct]=[ct,lt]);const dt=ut&&typeof ut.range=="function"?ut:st(lt,ct,ut),pt=dt?dt.range(lt,+ct+1):[];return ft?pt.reverse():pt}function st(lt,ct,ut){const ft=Math.abs(ct-lt)/ut,dt=bisector(([,,vt])=>vt).right(ot,ft);if(dt===ot.length)return _e.every(tickStep(lt/durationYear,ct/durationYear,ut));if(dt===0)return millisecond.every(Math.max(tickStep(lt,ct,ut),1));const[pt,mt]=ot[ft/ot[dt-1][2]<ot[dt][2]/ft?dt-1:dt];return pt.every(mt)}return[at,st]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return et.setFullYear(_e.y),et}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return et.setUTCFullYear(_e.y),et}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,et,tt){return{y:_e,m:et,d:tt,H:0,M:0,S:0,L:0}}function formatLocale(_e){var et=_e.dateTime,tt=_e.date,rt=_e.time,nt=_e.periods,it=_e.days,ot=_e.shortDays,at=_e.months,st=_e.shortMonths,lt=formatRe(nt),ct=formatLookup(nt),ut=formatRe(it),ft=formatLookup(it),dt=formatRe(ot),pt=formatLookup(ot),mt=formatRe(at),vt=formatLookup(at),ht=formatRe(st),yt=formatLookup(st),gt={a:jt,A:Bt,b:Dt,B:zt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Lt,q:Ft,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},xt={a:Xt,A:Wt,b:Ht,B:nr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:fr,q:dr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},_t={a:bt,A:At,b:Tt,B:Ot,c:$t,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ct,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:It,X:Nt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};gt.x=wt(tt,gt),gt.X=wt(rt,gt),gt.c=wt(et,gt),xt.x=wt(tt,xt),xt.X=wt(rt,xt),xt.c=wt(et,xt);function wt(Qt,sr){return function(ar){var Jt=[],pr=-1,Rt=0,Ut=Qt.length,Gt,Mt,kt;for(ar instanceof Date||(ar=new Date(+ar));++pr<Ut;)Qt.charCodeAt(pr)===37&&(Jt.push(Qt.slice(Rt,pr)),(Mt=pads[Gt=Qt.charAt(++pr)])!=null?Gt=Qt.charAt(++pr):Mt=Gt==="e"?" ":"0",(kt=sr[Gt])&&(Gt=kt(ar,Mt)),Jt.push(Gt),Rt=pr+1);return Jt.push(Qt.slice(Rt,pr)),Jt.join("")}}function Et(Qt,sr){return function(ar){var Jt=newDate(1900,void 0,1),pr=St(Jt,Qt,ar+="",0),Rt,Ut;if(pr!=ar.length)return null;if("Q"in Jt)return new Date(Jt.Q);if("s"in Jt)return new Date(Jt.s*1e3+("L"in Jt?Jt.L:0));if(sr&&!("Z"in Jt)&&(Jt.Z=0),"p"in Jt&&(Jt.H=Jt.H%12+Jt.p*12),Jt.m===void 0&&(Jt.m="q"in Jt?Jt.q:0),"V"in Jt){if(Jt.V<1||Jt.V>53)return null;"w"in Jt||(Jt.w=1),"Z"in Jt?(Rt=utcDate(newDate(Jt.y,0,1)),Ut=Rt.getUTCDay(),Rt=Ut>4||Ut===0?utcMonday.ceil(Rt):utcMonday(Rt),Rt=utcDay.offset(Rt,(Jt.V-1)*7),Jt.y=Rt.getUTCFullYear(),Jt.m=Rt.getUTCMonth(),Jt.d=Rt.getUTCDate()+(Jt.w+6)%7):(Rt=localDate(newDate(Jt.y,0,1)),Ut=Rt.getDay(),Rt=Ut>4||Ut===0?timeMonday.ceil(Rt):timeMonday(Rt),Rt=timeDay.offset(Rt,(Jt.V-1)*7),Jt.y=Rt.getFullYear(),Jt.m=Rt.getMonth(),Jt.d=Rt.getDate()+(Jt.w+6)%7)}else("W"in Jt||"U"in Jt)&&("w"in Jt||(Jt.w="u"in Jt?Jt.u%7:"W"in Jt?1:0),Ut="Z"in Jt?utcDate(newDate(Jt.y,0,1)).getUTCDay():localDate(newDate(Jt.y,0,1)).getDay(),Jt.m=0,Jt.d="W"in Jt?(Jt.w+6)%7+Jt.W*7-(Ut+5)%7:Jt.w+Jt.U*7-(Ut+6)%7);return"Z"in Jt?(Jt.H+=Jt.Z/100|0,Jt.M+=Jt.Z%100,utcDate(Jt)):localDate(Jt)}}function St(Qt,sr,ar,Jt){for(var pr=0,Rt=sr.length,Ut=ar.length,Gt,Mt;pr<Rt;){if(Jt>=Ut)return-1;if(Gt=sr.charCodeAt(pr++),Gt===37){if(Gt=sr.charAt(pr++),Mt=_t[Gt in pads?sr.charAt(pr++):Gt],!Mt||(Jt=Mt(Qt,ar,Jt))<0)return-1}else if(Gt!=ar.charCodeAt(Jt++))return-1}return Jt}function Ct(Qt,sr,ar){var Jt=lt.exec(sr.slice(ar));return Jt?(Qt.p=ct.get(Jt[0].toLowerCase()),ar+Jt[0].length):-1}function bt(Qt,sr,ar){var Jt=dt.exec(sr.slice(ar));return Jt?(Qt.w=pt.get(Jt[0].toLowerCase()),ar+Jt[0].length):-1}function At(Qt,sr,ar){var Jt=ut.exec(sr.slice(ar));return Jt?(Qt.w=ft.get(Jt[0].toLowerCase()),ar+Jt[0].length):-1}function Tt(Qt,sr,ar){var Jt=ht.exec(sr.slice(ar));return Jt?(Qt.m=yt.get(Jt[0].toLowerCase()),ar+Jt[0].length):-1}function Ot(Qt,sr,ar){var Jt=mt.exec(sr.slice(ar));return Jt?(Qt.m=vt.get(Jt[0].toLowerCase()),ar+Jt[0].length):-1}function $t(Qt,sr,ar){return St(Qt,et,sr,ar)}function It(Qt,sr,ar){return St(Qt,tt,sr,ar)}function Nt(Qt,sr,ar){return St(Qt,rt,sr,ar)}function jt(Qt){return ot[Qt.getDay()]}function Bt(Qt){return it[Qt.getDay()]}function Dt(Qt){return st[Qt.getMonth()]}function zt(Qt){return at[Qt.getMonth()]}function Lt(Qt){return nt[+(Qt.getHours()>=12)]}function Ft(Qt){return 1+~~(Qt.getMonth()/3)}function Xt(Qt){return ot[Qt.getUTCDay()]}function Wt(Qt){return it[Qt.getUTCDay()]}function Ht(Qt){return st[Qt.getUTCMonth()]}function nr(Qt){return at[Qt.getUTCMonth()]}function fr(Qt){return nt[+(Qt.getUTCHours()>=12)]}function dr(Qt){return 1+~~(Qt.getUTCMonth()/3)}return{format:function(Qt){var sr=wt(Qt+="",gt);return sr.toString=function(){return Qt},sr},parse:function(Qt){var sr=Et(Qt+="",!1);return sr.toString=function(){return Qt},sr},utcFormat:function(Qt){var sr=wt(Qt+="",xt);return sr.toString=function(){return Qt},sr},utcParse:function(Qt){var sr=Et(Qt+="",!0);return sr.toString=function(){return Qt},sr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,et,tt){var rt=_e<0?"-":"",nt=(rt?-_e:_e)+"",it=nt.length;return rt+(it<tt?new Array(tt-it+1).join(et)+nt:nt)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map((et,tt)=>[et.toLowerCase(),tt]))}function parseWeekdayNumberSunday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.w=+rt[0],tt+rt[0].length):-1}function parseWeekdayNumberMonday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.u=+rt[0],tt+rt[0].length):-1}function parseWeekNumberSunday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.U=+rt[0],tt+rt[0].length):-1}function parseWeekNumberISO(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.V=+rt[0],tt+rt[0].length):-1}function parseWeekNumberMonday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.W=+rt[0],tt+rt[0].length):-1}function parseFullYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+4));return rt?(_e.y=+rt[0],tt+rt[0].length):-1}function parseYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.y=+rt[0]+(+rt[0]>68?1900:2e3),tt+rt[0].length):-1}function parseZone(_e,et,tt){var rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(tt,tt+6));return rt?(_e.Z=rt[1]?0:-(rt[2]+(rt[3]||"00")),tt+rt[0].length):-1}function parseQuarter(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.q=rt[0]*3-3,tt+rt[0].length):-1}function parseMonthNumber(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.m=rt[0]-1,tt+rt[0].length):-1}function parseDayOfMonth(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.d=+rt[0],tt+rt[0].length):-1}function parseDayOfYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+3));return rt?(_e.m=0,_e.d=+rt[0],tt+rt[0].length):-1}function parseHour24(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.H=+rt[0],tt+rt[0].length):-1}function parseMinutes(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.M=+rt[0],tt+rt[0].length):-1}function parseSeconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.S=+rt[0],tt+rt[0].length):-1}function parseMilliseconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+3));return rt?(_e.L=+rt[0],tt+rt[0].length):-1}function parseMicroseconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+6));return rt?(_e.L=Math.floor(rt[0]/1e3),tt+rt[0].length):-1}function parseLiteralPercent(_e,et,tt){var rt=percentRe.exec(et.slice(tt,tt+1));return rt?tt+rt[0].length:-1}function parseUnixTimestamp(_e,et,tt){var rt=numberRe.exec(et.slice(tt));return rt?(_e.Q=+rt[0],tt+rt[0].length):-1}function parseUnixTimestampSeconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt));return rt?(_e.s=+rt[0],tt+rt[0].length):-1}function formatDayOfMonth(_e,et){return pad(_e.getDate(),et,2)}function formatHour24(_e,et){return pad(_e.getHours(),et,2)}function formatHour12(_e,et){return pad(_e.getHours()%12||12,et,2)}function formatDayOfYear(_e,et){return pad(1+timeDay.count(timeYear(_e),_e),et,3)}function formatMilliseconds(_e,et){return pad(_e.getMilliseconds(),et,3)}function formatMicroseconds(_e,et){return formatMilliseconds(_e,et)+"000"}function formatMonthNumber(_e,et){return pad(_e.getMonth()+1,et,2)}function formatMinutes(_e,et){return pad(_e.getMinutes(),et,2)}function formatSeconds(_e,et){return pad(_e.getSeconds(),et,2)}function formatWeekdayNumberMonday(_e){var et=_e.getDay();return et===0?7:et}function formatWeekNumberSunday(_e,et){return pad(timeSunday.count(timeYear(_e)-1,_e),et,2)}function dISO(_e){var et=_e.getDay();return et>=4||et===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,et){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),et,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,et){return pad(timeMonday.count(timeYear(_e)-1,_e),et,2)}function formatYear(_e,et){return pad(_e.getFullYear()%100,et,2)}function formatYearISO(_e,et){return _e=dISO(_e),pad(_e.getFullYear()%100,et,2)}function formatFullYear(_e,et){return pad(_e.getFullYear()%1e4,et,4)}function formatFullYearISO(_e,et){var tt=_e.getDay();return _e=tt>=4||tt===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,et,4)}function formatZone(_e){var et=_e.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+pad(et/60|0,"0",2)+pad(et%60,"0",2)}function formatUTCDayOfMonth(_e,et){return pad(_e.getUTCDate(),et,2)}function formatUTCHour24(_e,et){return pad(_e.getUTCHours(),et,2)}function formatUTCHour12(_e,et){return pad(_e.getUTCHours()%12||12,et,2)}function formatUTCDayOfYear(_e,et){return pad(1+utcDay.count(utcYear(_e),_e),et,3)}function formatUTCMilliseconds(_e,et){return pad(_e.getUTCMilliseconds(),et,3)}function formatUTCMicroseconds(_e,et){return formatUTCMilliseconds(_e,et)+"000"}function formatUTCMonthNumber(_e,et){return pad(_e.getUTCMonth()+1,et,2)}function formatUTCMinutes(_e,et){return pad(_e.getUTCMinutes(),et,2)}function formatUTCSeconds(_e,et){return pad(_e.getUTCSeconds(),et,2)}function formatUTCWeekdayNumberMonday(_e){var et=_e.getUTCDay();return et===0?7:et}function formatUTCWeekNumberSunday(_e,et){return pad(utcSunday.count(utcYear(_e)-1,_e),et,2)}function UTCdISO(_e){var et=_e.getUTCDay();return et>=4||et===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,et){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),et,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,et){return pad(utcMonday.count(utcYear(_e)-1,_e),et,2)}function formatUTCYear(_e,et){return pad(_e.getUTCFullYear()%100,et,2)}function formatUTCYearISO(_e,et){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,et,2)}function formatUTCFullYear(_e,et){return pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCFullYearISO(_e,et){var tt=_e.getUTCDay();return _e=tt>=4||tt===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,et,tt,rt,nt,it,ot,at,st,lt){var ct=continuous(),ut=ct.invert,ft=ct.domain,dt=lt(".%L"),pt=lt(":%S"),mt=lt("%I:%M"),vt=lt("%I %p"),ht=lt("%a %d"),yt=lt("%b %d"),gt=lt("%B"),xt=lt("%Y");function _t(wt){return(st(wt)<wt?dt:at(wt)<wt?pt:ot(wt)<wt?mt:it(wt)<wt?vt:rt(wt)<wt?nt(wt)<wt?ht:yt:tt(wt)<wt?gt:xt)(wt)}return ct.invert=function(wt){return new Date(ut(wt))},ct.domain=function(wt){return arguments.length?ft(Array.from(wt,number)):ft().map(date)},ct.ticks=function(wt){var Et=ft();return _e(Et[0],Et[Et.length-1],wt??10)},ct.tickFormat=function(wt,Et){return Et==null?_t:lt(Et)},ct.nice=function(wt){var Et=ft();return(!wt||typeof wt.range!="function")&&(wt=et(Et[0],Et[Et.length-1],wt??10)),wt?ft(nice(Et,wt)):ct},ct.copy=function(){return copy(ct,calendar(_e,et,tt,rt,nt,it,ot,at,st,lt))},ct}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n(_e){for(var et=arguments.length,tt=Array(et>1?et-1:0),rt=1;rt<et;rt++)tt[rt-1]=arguments[rt];throw Error("[Immer] minified error nr: "+_e+(tt.length?" "+tt.map(function(nt){return"'"+nt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(_e){return!!_e&&!!_e[Q]}function t(_e){var et;return!!_e&&(function(tt){if(!tt||typeof tt!="object")return!1;var rt=Object.getPrototypeOf(tt);if(rt===null)return!0;var nt=Object.hasOwnProperty.call(rt,"constructor")&&rt.constructor;return nt===Object||typeof nt=="function"&&Function.toString.call(nt)===Z}(_e)||Array.isArray(_e)||!!_e[L]||!!(!((et=_e.constructor)===null||et===void 0)&&et[L])||s(_e)||v(_e))}function i(_e,et,tt){tt===void 0&&(tt=!1),o(_e)===0?(tt?Object.keys:nn)(_e).forEach(function(rt){tt&&typeof rt=="symbol"||et(rt,_e[rt],_e)}):_e.forEach(function(rt,nt){return et(nt,rt,_e)})}function o(_e){var et=_e[Q];return et?et.i>3?et.i-4:et.i:Array.isArray(_e)?1:s(_e)?2:v(_e)?3:0}function u(_e,et){return o(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function a(_e,et){return o(_e)===2?_e.get(et):_e[et]}function f(_e,et,tt){var rt=o(_e);rt===2?_e.set(et,tt):rt===3?_e.add(tt):_e[et]=tt}function c(_e,et){return _e===et?_e!==0||1/_e==1/et:_e!=_e&&et!=et}function s(_e){return X&&_e instanceof Map}function v(_e){return q&&_e instanceof Set}function p(_e){return _e.o||_e.t}function l(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var et=rn(_e);delete et[Q];for(var tt=nn(et),rt=0;rt<tt.length;rt++){var nt=tt[rt],it=et[nt];it.writable===!1&&(it.writable=!0,it.configurable=!0),(it.get||it.set)&&(et[nt]={configurable:!0,writable:!0,enumerable:it.enumerable,value:_e[nt]})}return Object.create(Object.getPrototypeOf(_e),et)}function d(_e,et){return et===void 0&&(et=!1),y$1(_e)||r(_e)||!t(_e)||(o(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h),Object.freeze(_e),et&&i(_e,function(tt,rt){return d(rt,!0)},!0)),_e}function h(){n(2)}function y$1(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b(_e){var et=tn[_e];return et||n(18,_e),et}function _(){return U}function j(_e,et){et&&(b("Patches"),_e.u=[],_e.s=[],_e.v=et)}function g(_e){O(_e),_e.p.forEach(S),_e.p=null}function O(_e){_e===U&&(U=_e.l)}function w(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var et=_e[Q];et.i===0||et.i===1?et.j():et.g=!0}function P(_e,et){et._=et.p.length;var tt=et.p[0],rt=_e!==void 0&&_e!==tt;return et.h.O||b("ES5").S(et,_e,rt),rt?(tt[Q].P&&(g(et),n(4)),t(_e)&&(_e=M(et,_e),et.l||x$1(et,_e)),et.u&&b("Patches").M(tt[Q].t,_e,et.u,et.s)):_e=M(et,tt,[]),g(et),et.u&&et.v(et.u,et.s),_e!==H?_e:void 0}function M(_e,et,tt){if(y$1(et))return et;var rt=et[Q];if(!rt)return i(et,function(at,st){return A(_e,rt,et,at,st,tt)},!0),et;if(rt.A!==_e)return et;if(!rt.P)return x$1(_e,rt.t,!0),rt.t;if(!rt.I){rt.I=!0,rt.A._--;var nt=rt.i===4||rt.i===5?rt.o=l(rt.k):rt.o,it=nt,ot=!1;rt.i===3&&(it=new Set(nt),nt.clear(),ot=!0),i(it,function(at,st){return A(_e,rt,nt,at,st,tt,ot)}),x$1(_e,nt,!1),tt&&_e.u&&b("Patches").N(rt,tt,_e.u,_e.s)}return rt.o}function A(_e,et,tt,rt,nt,it,ot){if(r(nt)){var at=M(_e,nt,it&&et&&et.i!==3&&!u(et.R,rt)?it.concat(rt):void 0);if(f(tt,rt,at),!r(at))return;_e.m=!1}else ot&&tt.add(nt);if(t(nt)&&!y$1(nt)){if(!_e.h.D&&_e._<1)return;M(_e,nt),et&&et.A.l||x$1(_e,nt)}}function x$1(_e,et,tt){tt===void 0&&(tt=!1),!_e.l&&_e.h.D&&_e.m&&d(et,tt)}function z(_e,et){var tt=_e[Q];return(tt?p(tt):_e)[et]}function I(_e,et){if(et in _e)for(var tt=Object.getPrototypeOf(_e);tt;){var rt=Object.getOwnPropertyDescriptor(tt,et);if(rt)return rt;tt=Object.getPrototypeOf(tt)}}function k(_e){_e.P||(_e.P=!0,_e.l&&k(_e.l))}function E(_e){_e.o||(_e.o=l(_e.t))}function N(_e,et,tt){var rt=s(et)?b("MapSet").F(et,tt):v(et)?b("MapSet").T(et,tt):_e.O?function(nt,it){var ot=Array.isArray(nt),at={i:ot?1:0,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:nt,k:null,o:null,j:null,C:!1},st=at,lt=en;ot&&(st=[at],lt=on);var ct=Proxy.revocable(st,lt),ut=ct.revoke,ft=ct.proxy;return at.k=ft,at.j=ut,ft}(et,tt):b("ES5").J(et,tt);return(tt?tt.A:_()).p.push(rt),rt}function R(_e){return r(_e)||n(22,_e),function et(tt){if(!t(tt))return tt;var rt,nt=tt[Q],it=o(tt);if(nt){if(!nt.P&&(nt.i<4||!b("ES5").K(nt)))return nt.t;nt.I=!0,rt=D(tt,it),nt.I=!1}else rt=D(tt,it);return i(rt,function(ot,at){nt&&a(nt.t,ot)===at||f(rt,ot,et(at))}),it===3?new Set(rt):rt}(_e)}function D(_e,et){switch(et){case 2:return new Map(_e);case 3:return Array.from(_e)}return l(_e)}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var et={};return nn(_e).forEach(function(tt){et[tt]=Object.getOwnPropertyDescriptor(_e,tt)}),et},tn={},en={get:function(_e,et){if(et===Q)return _e;var tt=p(_e);if(!u(tt,et))return function(nt,it,ot){var at,st=I(it,ot);return st?"value"in st?st.value:(at=st.get)===null||at===void 0?void 0:at.call(nt.k):void 0}(_e,tt,et);var rt=tt[et];return _e.I||!t(rt)?rt:rt===z(_e.t,et)?(E(_e),_e.o[et]=N(_e.A.h,rt,_e)):rt},has:function(_e,et){return et in p(_e)},ownKeys:function(_e){return Reflect.ownKeys(p(_e))},set:function(_e,et,tt){var rt=I(p(_e),et);if(rt!=null&&rt.set)return rt.set.call(_e.k,tt),!0;if(!_e.P){var nt=z(p(_e),et),it=nt==null?void 0:nt[Q];if(it&&it.t===tt)return _e.o[et]=tt,_e.R[et]=!1,!0;if(c(tt,nt)&&(tt!==void 0||u(_e.t,et)))return!0;E(_e),k(_e)}return _e.o[et]===tt&&(tt!==void 0||et in _e.o)||Number.isNaN(tt)&&Number.isNaN(_e.o[et])||(_e.o[et]=tt,_e.R[et]=!0),!0},deleteProperty:function(_e,et){return z(_e.t,et)!==void 0||et in _e.t?(_e.R[et]=!1,E(_e),k(_e)):delete _e.R[et],_e.o&&delete _e.o[et],!0},getOwnPropertyDescriptor:function(_e,et){var tt=p(_e),rt=Reflect.getOwnPropertyDescriptor(tt,et);return rt&&{writable:!0,configurable:_e.i!==1||et!=="length",enumerable:rt.enumerable,value:tt[et]}},defineProperty:function(){n(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n(12)}},on={};i(en,function(_e,et){on[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on.deleteProperty=function(_e,et){return on.set.call(this,_e,et,void 0)},on.set=function(_e,et,tt){return en.set.call(this,_e[0],et,tt,_e[0])};var un=function(){function _e(tt){var rt=this;this.O=B,this.D=!0,this.produce=function(nt,it,ot){if(typeof nt=="function"&&typeof it!="function"){var at=it;it=nt;var st=rt;return function(mt){var vt=this;mt===void 0&&(mt=at);for(var ht=arguments.length,yt=Array(ht>1?ht-1:0),gt=1;gt<ht;gt++)yt[gt-1]=arguments[gt];return st.produce(mt,function(xt){var _t;return(_t=it).call.apply(_t,[vt,xt].concat(yt))})}}var lt;if(typeof it!="function"&&n(6),ot!==void 0&&typeof ot!="function"&&n(7),t(nt)){var ct=w(rt),ut=N(rt,nt,void 0),ft=!0;try{lt=it(ut),ft=!1}finally{ft?g(ct):O(ct)}return typeof Promise<"u"&&lt instanceof Promise?lt.then(function(mt){return j(ct,ot),P(mt,ct)},function(mt){throw g(ct),mt}):(j(ct,ot),P(lt,ct))}if(!nt||typeof nt!="object"){if((lt=it(nt))===void 0&&(lt=nt),lt===H&&(lt=void 0),rt.D&&d(lt,!0),ot){var dt=[],pt=[];b("Patches").M(nt,lt,dt,pt),ot(dt,pt)}return lt}n(21,nt)},this.produceWithPatches=function(nt,it){if(typeof nt=="function")return function(lt){for(var ct=arguments.length,ut=Array(ct>1?ct-1:0),ft=1;ft<ct;ft++)ut[ft-1]=arguments[ft];return rt.produceWithPatches(lt,function(dt){return nt.apply(void 0,[dt].concat(ut))})};var ot,at,st=rt.produce(nt,it,function(lt,ct){ot=lt,at=ct});return typeof Promise<"u"&&st instanceof Promise?st.then(function(lt){return[lt,ot,at]}):[st,ot,at]},typeof(tt==null?void 0:tt.useProxies)=="boolean"&&this.setUseProxies(tt.useProxies),typeof(tt==null?void 0:tt.autoFreeze)=="boolean"&&this.setAutoFreeze(tt.autoFreeze)}var et=_e.prototype;return et.createDraft=function(tt){t(tt)||n(8),r(tt)&&(tt=R(tt));var rt=w(this),nt=N(this,tt,void 0);return nt[Q].C=!0,O(rt),nt},et.finishDraft=function(tt,rt){var nt=tt&&tt[Q],it=nt.A;return j(it,rt),P(void 0,it)},et.setAutoFreeze=function(tt){this.D=tt},et.setUseProxies=function(tt){tt&&!B&&n(20),this.O=tt},et.applyPatches=function(tt,rt){var nt;for(nt=rt.length-1;nt>=0;nt--){var it=rt[nt];if(it.path.length===0&&it.op==="replace"){tt=it.value;break}}nt>-1&&(rt=rt.slice(nt+1));var ot=b("Patches").$;return r(tt)?ot(tt,rt):this.produce(tt,function(at){return ot(at,rt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const context=reactExports.createContext(null);function useLegend(){const _e=reactExports.useContext(context);if(!_e)throw new Error("context was not initialized");return _e}const legendReducer=fn((_e,et)=>{switch(et.type){case"ADD_LEGEND_LABEL":{const{shape:tt,...rt}=et.payload,nt=_e.labels.findIndex(({id:it})=>rt.id===it);if(nt<0)_e.labels.push({...rt,shape:tt,isVisible:!0});else{const it=_e.labels[nt].isVisible;_e.labels[nt]={...rt,isVisible:it,shape:tt}}return}case"REMOVE_LEGEND_LABEL":{const{id:tt}=et.payload,rt=_e.labels.findIndex(nt=>nt.id===tt);rt!==-1&&_e.labels.splice(rt,1);return}case"TOGGLE_VISIBILITY":{const{id:tt}=et.payload,rt=_e.labels.findIndex(nt=>nt.id===tt);rt!==-1&&(_e.labels[rt].isVisible=!_e.labels[rt].isVisible);return}default:throw new Error("unreachable")}}),initialLegendState={labels:[]},LegendProvider=_e=>{const[et,tt]=reactExports.useReducer(legendReducer,initialLegendState),rt=reactExports.useMemo(()=>[et,tt],[et,tt]);return jsxRuntimeExports.jsx(context.Provider,{value:rt,children:_e.children})};let currentValue=1;function getNextId(){return++currentValue}function useId(_e,et){return reactExports.useMemo(()=>_e||`${et}-${getNextId()}`,[_e,et])}const horizontal=["top","bottom"],vertical=["left","right"];function validatePosition(_e,et,tt){if(horizontal.includes(_e)&&!horizontal.includes(et)||vertical.includes(_e)&&!vertical.includes(et))throw new Error(`The positions are ortogonal for ${tt}`)}function validateAxis(_e,et,tt,rt={}){const{onlyOrthogonal:nt=!1}=rt,it=_e[et],ot=_e[tt];if(!it||!ot)return[void 0,void 0];if(nt&&(horizontal.includes(it.position)&&horizontal.includes(ot.position)||vertical.includes(ot.position)&&vertical.includes(it.position)))throw new Error(`The axis ${et} and ${tt} are not orthogonal`);if(!nt&&(horizontal.includes(it.position)?!vertical.includes(ot.position):vertical.includes(it.position)))throw vertical.includes(it.position)||horizontal.includes(ot.position)?new Error(`The axis ${et} should be ${horizontal.join(" ")} and ${tt} should be ${vertical.join(" ")}`):new Error(`The axis ${et} and ${tt} are not orthogonal`);return[it.scale,ot.scale]}function functionalStyle(_e,et,tt,rt,nt){let it={..._e};for(const ot in et)typeof et[ot]=="function"?it[ot]=et[ot](tt,rt,nt):it[ot]=et[ot];return it}function functionalShape(_e,et,tt,rt){let nt;return typeof _e=="function"?nt=_e(et,tt,rt):nt=_e,nt}function functionalLabel(_e,et,tt,rt){let nt;return typeof _e=="function"?nt=_e(et,tt,rt):nt=_e,nt}function validateSeriesPointError(_e){return typeof _e=="number"?[_e,_e]:Array.isArray(_e)&&_e.length>=2?_e:null}function closestPoint(_e,et,tt){let rt={index:0,distance:Number.POSITIVE_INFINITY};for(let nt=0;nt<_e.length;nt++){const it=tt(_e[nt],et);it<rt.distance&&(rt.index=nt,rt.distance=it)}return _e[rt.index]}function toNumber(_e){return typeof _e>"u"||typeof _e=="number"?_e:_e.getTime()}function middlePoint(_e,et){return{x:(_e.x+et.x)/2,y:(_e.y+et.y)/2}}function plotReducer(_e,et){switch(et.type){case"addSeries":{_e.series.push(et.payload);break}case"removeSeries":{const{id:tt}=et.payload,rt=_e.series.filter(nt=>nt.id!==tt);_e.series=rt;break}case"addAxis":{const{id:tt,position:rt,...nt}=et.payload,it=_e.axes[tt];it?(validatePosition(it.position,rt,tt),_e.axes[tt]={...it,position:rt,...nt}):_e.axes[tt]={id:tt,position:rt,...nt};break}case"removeAxis":{const{id:tt}=et.payload;delete _e.axes[tt];break}case"addHeading":{_e.headingPosition=et.payload.position;break}case"removeHeading":{_e.headingPosition=null;break}case"addLegend":{_e.legendPosition=et.payload.position,_e.legendMargin=et.payload.margin;break}case"removeLegend":{_e.legendPosition=null,_e.legendMargin=0;break}default:throw new Error(`Unknown reducer type ${et.type}`)}}const plotContext=reactExports.createContext({width:0,height:0,plotWidth:0,plotHeight:0,colorScaler:ordinal(),axisContext:{}}),plotDispatchContext=reactExports.createContext(()=>{});function usePlotContext(){const _e=reactExports.useContext(plotContext);if(!_e)throw new Error("usePlotContext called outside of Plot context");return _e}function usePlotDispatchContext(){const _e=reactExports.useContext(plotDispatchContext);if(!_e)throw new Error("usePlotDispatchContext called outside of Plot context");return _e}function useAxisContext(_e,et,{plotWidth:tt,plotHeight:rt}){return reactExports.useMemo(()=>{const it={};for(const ot in _e.axes){const at=_e.axes[ot],st=et[ot],lt=["top","bottom"].includes(at.position),ct=lt?"x":"y";let ut=!1,ft;(st==null?void 0:st.min)!=null?(ft=st.min,ut=!0):at.min!=null?(ft=at.min,ut=!0):ft=min(_e.series.filter(xt=>ct!=="x"||!xt.id.startsWith("~")),xt=>xt[ct].axisId===ot?xt[ct].min:void 0);let dt=!1,pt;if((st==null?void 0:st.max)!=null?(pt=st.max,dt=!0):at.max!=null?(pt=at.max,dt=!0):pt=max(_e.series.filter(xt=>ct!=="x"||!xt.id.startsWith("~")),xt=>xt[ct].axisId===ot?xt[ct].max:void 0),ft===void 0||pt===void 0)return{};if(ft>pt)throw new Error(`${ot}: min (${ft}) is bigger than max (${pt})`);const mt=lt?tt:rt,vt=computeAxisPadding(at,pt-ft,mt,ut,dt),ht=lt?[0,tt]:[rt,0],yt=[ft-vt.min,pt+vt.max],gt=function(_t){return _t<yt[0]?yt[0]:_t>yt[1]?yt[1]:_t};switch(at.scale){case"log":{it[ot]={type:at.scale,position:at.position,tickLabelFormat:at.tickLabelFormat,scale:log().domain(yt).range(at.flip?ht.reverse():ht),domain:yt,clampInDomain:gt};break}case"time":{it[ot]={type:at.scale,position:at.position,tickLabelFormat:at.tickLabelFormat,scale:time().domain(yt).range(at.flip?ht.reverse():ht),domain:yt,clampInDomain:gt};break}case"linear":{it[ot]={type:"linear",position:at.position,tickLabelFormat:at.tickLabelFormat,scale:linear().domain(yt).range(at.flip?ht.reverse():ht),domain:yt,clampInDomain:gt};break}default:throw new Error("unreachable")}}return it},[_e.axes,_e.series,et,tt,rt])}function computeAxisPadding(_e,et,tt,rt,nt){const{paddingStart:it,paddingEnd:ot}=_e;if(rt&&nt)return{min:0,max:0};if(nt)return{min:convertAxisPadding(it,0,et,tt).start,max:0};if(rt)return{min:0,max:convertAxisPadding(0,ot,et,tt).end};{const at=convertAxisPadding(it,ot,et,tt);return{min:at.start,max:at.end}}}function convertAxisPadding(_e,et,tt,rt){let nt=0,it=0,ot=tt;typeof _e=="number"&&(ot+=_e,nt=_e),typeof et=="number"&&(ot+=et,it=et);let at=0,st=0;typeof _e=="string"&&(at=toPx(_e,rt)/rt),typeof et=="string"&&(st=toPx(et,rt)/rt);const lt=at+st;if(lt!==0){const ct=lt*ot/(1-lt);nt=at/lt*ct,it=st/lt*ct}return{start:nt,end:it}}function toPx(_e,et){return _e.endsWith("%")?Number(_e.slice(0,-1))/100*et:Number(_e)}function createNestableContext(_e){const et=reactExports.createContext(new Map);function tt(nt){const it=reactExports.useContext(et);return it.has(nt)?it.get(nt):_e}function rt(nt){const{id:it,value:ot,children:at}=nt,st=reactExports.useContext(et),lt=reactExports.useMemo(()=>{const ct=new Map(st);return ct.set(it,ot),ct},[st,it,ot]);return jsxRuntimeExports.jsx(et.Provider,{value:lt,children:at})}return{useNestedContext:tt,NestedContextProvider:rt}}const initialPlotOverridesState={axes:{}},plotOverridesContext=createNestableContext(initialPlotOverridesState);function usePlotOverrides(_e){return plotOverridesContext.useNestedContext(_e==null?void 0:_e.controllerId)}createNestableContext(null);createNestableContext(null);const plotEventsPlotContext=createNestableContext(null);function usePlotEventsPlotContext(_e){return plotEventsPlotContext.useNestedContext(_e==null?void 0:_e.controllerId)}function squaredEuclidean(_e,et){let tt=0;for(let rt=0;rt<_e.length;rt++)tt+=(_e[rt]-et[rt])*(_e[rt]-et[rt]);return tt}function euclidean(_e,et){return Math.sqrt(squaredEuclidean(_e,et))}function convertString(_e,et){return _e.endsWith("%")?Number(_e.slice(0,-1))*et/100:Number(_e)}function convertToPx(_e,et,tt){return tt===void 0?0:typeof _e=="number"?tt(_e)-tt(0):convertString(_e,et)}function useIsSeriesVisible(_e){const[et]=useLegend(),tt=et.labels.find(rt=>rt.id===_e);return tt?tt.isVisible:!0}function useShift(_e){const{axisContext:et,plotWidth:tt,plotHeight:rt}=usePlotContext(),{xAxis:nt,yAxis:it,xShift:ot,yShift:at}=_e,[st,lt]=validateAxis(et,nt,it,{onlyOrthogonal:!0});return{xShift:convertToPx(ot,tt,st),yShift:convertToPx(at,rt,lt)}}const markersComps={circle:Circle,square:Square,diamond:Diamond,triangle:Triangle,cross:Cross,xmark:XMark,pentagon:Pentagon,star:Star,hexagon:Hexagon},halfPi=Math.PI/2,twoPi=Math.PI*2;function Circle({style:_e,size:et}){return jsxRuntimeExports.jsx("circle",{r:et/2,style:_e})}function Square({style:_e,size:et}){const tt=et/2;return jsxRuntimeExports.jsx("rect",{x:-tt,y:-tt,width:et,height:et,style:_e})}function Diamond({size:_e,style:et}){const tt=_e/2;return jsxRuntimeExports.jsx("polygon",{points:`0,${-tt} ${tt},0 0,${tt} ${-tt},0`,style:et})}function Triangle({style:_e,size:et}){const tt=Math.sqrt(3)*et/2,rt=et/2;return jsxRuntimeExports.jsx("polygon",{transform:`translate(0, -${(et-tt)/2})`,points:`${-rt},${rt} ${rt},${rt} 0,${rt-tt}`,style:_e})}function Cross({size:_e,style:et}){const tt=_e/2;return jsxRuntimeExports.jsxs("g",{strokeWidth:1,style:et,children:[jsxRuntimeExports.jsx("line",{x1:0,x2:0,y1:tt,y2:-tt}),jsxRuntimeExports.jsx("line",{x1:-tt,x2:tt,y1:0,y2:0})]})}function XMark(_e){return jsxRuntimeExports.jsx("g",{transform:"rotate(45)",children:jsxRuntimeExports.jsx(Cross,{..._e})})}function Pentagon({style:_e,size:et}){return jsxRuntimeExports.jsx("polygon",{points:Array.from(getPolyPoints(et,5)).join(" "),style:_e})}function Star({style:_e,size:et}){const tt=Array.from(getPolyPoints(et,5,0)),rt=Array.from(getPolyPoints(et/2.5,5,2*Math.PI/10)),nt=[];for(let it=0;it<tt.length;it++)nt.push(tt[it],rt[it]);return jsxRuntimeExports.jsx("polygon",{points:nt.join(" "),style:_e})}function Hexagon({style:_e,size:et}){return jsxRuntimeExports.jsx("polygon",{points:Array.from(getPolyPoints(et,6)).join(" "),style:_e})}function*getPolyPoints(_e,et,tt=0){const rt=_e/2;for(let nt=0;nt<et;nt++){const it=twoPi*nt/et-halfPi+tt,ot=rt*Math.cos(it),at=rt*Math.sin(it);yield`${ot},${at}`}}function Annotations(_e){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.children})}function getInnerOffset(_e,et,tt,rt){return _e||et?0:getOffsetFromTickPosition(tt,rt)}function getOffsetFromTickPosition(_e,et){switch(_e){case"outer":return 0;case"inner":return et;case"center":return et/2;default:throw new Error("unreachable")}}const bboxContext=reactExports.createContext(null);function HorizontalAxisGridLines(_e){const{plotHeight:et,style:tt,primaryTicks:rt,position:nt,primaryGrid:it,secondaryGrid:ot,secondaryStyle:at,scale:st}=_e,lt=reactExports.useMemo(()=>{const ct=[];if(it)for(const{position:ut}of rt)ct.push(jsxRuntimeExports.jsx("line",{x1:ut,x2:ut,y1:nt==="top"?et:-et,y2:"0",stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:tt},ut));if(ot){const ft=(st==null?void 0:st.ticks(rt.length*5))||[];for(const dt of ft){const pt=st==null?void 0:st(dt);if(!pt||rt.map(mt=>mt.position).includes(pt))return null;ct.push(jsxRuntimeExports.jsx("line",{x1:pt,x2:pt,y1:nt==="top"?et:-et,y2:"0",stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:at},pt))}}return ct},[nt,et,it,rt,st,ot,at,tt]);return jsxRuntimeExports.jsx("g",{children:lt})}function HorizontalAxisLabel(_e){const{plotWidth:et,label:tt,labelStyle:rt,verticalAlign:nt}=_e;return jsxRuntimeExports.jsx(AlignGroup,{x:et/2,y:0,horizontalAlign:"middle",verticalAlign:nt,children:jsxRuntimeExports.jsx("text",{textAnchor:"middle",style:rt,children:tt})})}function HorizontalAxisLine(_e){const{plotWidth:et,style:tt}=_e;return jsxRuntimeExports.jsx("line",{x1:0,x2:et,stroke:"black",style:tt})}function Ticks(_e){const{primaryTicks:et,getPositions:tt,secondaryTickLength:rt,scale:nt,secondaryTickStyle:it,style:ot,...at}=_e,st=et.map(ct=>{const{line:ut,text:ft}=tt(ct.position);return jsxRuntimeExports.jsx(Tick,{line:ut,style:ot,text:ft,...at,children:ct.label},ct.position)});let lt=[];if(rt!==0){const ft=(Math.abs((nt==null?void 0:nt.range()[1])-(nt==null?void 0:nt.range()[0]))||0)/et.length<50?5:10;lt=((nt==null?void 0:nt.ticks(et.length*ft))||[]).map(pt=>{if(et.map(ht=>ht.position).includes(nt(pt)))return null;const{line:mt,text:vt}=tt(nt(pt),!0);return jsxRuntimeExports.jsx(Tick,{line:mt,text:vt,secondary:!0,style:it,...at},String(pt))})||[]}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lt,st]})}function Tick(_e){const{line:{x1:et=0,x2:tt=0,y1:rt=0,y2:nt=0},text:{x1:it=0,y1:ot=0},children:at,strokeColor:st="black",strokeHeight:lt=1,anchor:ct="end",secondary:ut=!1,labelStyle:ft,style:dt,dominantBaseline:pt="middle"}=_e;return jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et,x2:ut&&et!==tt?tt*lt:tt,y1:rt,y2:ut&&rt!==nt?nt*lt:nt,stroke:st,strokeWidth:ut?1:1.5,style:dt}),!ut&&jsxRuntimeExports.jsx("text",{x:it,y:ot,textAnchor:ct,dominantBaseline:pt,style:ft,children:at})]})}function HorizontalAxis(_e){const{primaryTickStyle:et,primaryTickLength:tt,tickPosition:rt,hiddenTicks:nt,lineStyle:it,hiddenLine:ot,hidden:at,plotWidth:st,plotHeight:lt,displayPrimaryGridLines:ct,displaySecondaryGridLines:ut,primaryGridLineStyle:ft,secondaryGridLineStyle:dt,label:pt,labelStyle:mt,axisRef:vt,primaryTicks:ht,position:yt,tickLabelStyle:gt,innerOffset:xt,secondaryTickLength:_t,scale:wt,secondaryTickStyle:Et}=_e,St=yt==="bottom",Ct=0,bt=St?`translate(0, ${lt})`:void 0,At=useBBoxObserver();function Tt(Dt,zt=!1){const{y1:Lt,y2:Ft,textPosition:Xt}=Ot(zt);return{line:{x1:Dt,x2:Dt,y1:Lt,y2:Ft},text:{x1:Dt,y1:St?Xt:-Xt}}}function Ot(Dt=!1){const zt=Dt?_t:tt,Lt=St?zt:-zt;switch(rt){case"center":return{y1:Lt/2,y2:-Lt/2,textPosition:Ct+zt/2};case"inner":return{y1:0,y2:-Lt,textPosition:Ct};case"outer":return{y1:0,y2:Lt,textPosition:Ct+zt};default:return{y1:0,y:0,textPosition:0}}}const $t=ct||ut?jsxRuntimeExports.jsx(HorizontalAxisGridLines,{position:yt,plotHeight:lt,primaryTicks:ht,style:ft,primaryGrid:ct,secondaryGrid:ut,secondaryStyle:dt,scale:wt}):null,It=!at&&!nt?jsxRuntimeExports.jsx(Ticks,{anchor:"middle",primaryTicks:ht,getPositions:Tt,labelStyle:gt,style:et,secondaryTickLength:_t,scale:wt,secondaryTickStyle:Et,dominantBaseline:St?"text-before-edge":"text-after-edge"}):null,Nt=!at&&!ot?jsxRuntimeExports.jsx(HorizontalAxisLine,{style:it,plotWidth:st}):null,jt=!at&&pt?jsxRuntimeExports.jsx(HorizontalAxisLabel,{plotWidth:st,label:pt,labelStyle:mt,verticalAlign:St?"start":"end"}):null,Bt=reactExports.useContext(bboxContext);return jsxRuntimeExports.jsxs("g",{transform:bt,children:[$t,jsxRuntimeExports.jsxs("g",{ref:Bt,children:[jsxRuntimeExports.jsx("g",{ref:At.ref,children:It}),jsxRuntimeExports.jsx("g",{ref:vt,children:Nt}),jsxRuntimeExports.jsx("g",{transform:`translate(0, ${(At.height-xt)*(St?1:-1)})`,children:jt})]})]})}function VerticalAxisGridlines(_e){const{plotWidth:et,style:tt,primaryTicks:rt,position:nt,primaryGrid:it,secondaryGrid:ot,scale:at,secondaryStyle:st}=_e,lt=reactExports.useMemo(()=>{const ct=[];if(it)for(const{position:ut}of rt)ct.push(jsxRuntimeExports.jsx("line",{x1:"0",x2:nt==="left"?et:-et,y1:ut,y2:ut,stroke:"black",strokeDasharray:"2,2",strokeOpacity:.5,style:tt},ut));if(ot){const ft=(at==null?void 0:at.ticks(rt.length*5))||[];for(const dt of ft){const pt=(at==null?void 0:at(dt))||0;if(rt.map(mt=>mt.position).includes(pt))return null;ct.push(jsxRuntimeExports.jsx("line",{x1:"0",x2:nt==="left"?et:-et,y1:pt,y2:pt,stroke:"black",strokeDasharray:"5",strokeOpacity:.2,style:st},pt))}}return ct},[nt,et,it,rt,at,ot,st,tt]);return jsxRuntimeExports.jsx("g",{children:lt})}function VerticalText(_e){const{transform:et="",label:tt,...rt}=_e;return jsxRuntimeExports.jsx("text",{...rt,transform:`${et}rotate(-90)`,textAnchor:"middle",children:tt})}function VerticalAxisLabel(_e){const{plotHeight:et,label:tt,labelStyle:rt,horizontalAlign:nt}=_e;return jsxRuntimeExports.jsx(AlignGroup,{x:0,y:et/2,horizontalAlign:nt,verticalAlign:"middle",children:jsxRuntimeExports.jsx(VerticalText,{label:tt,style:rt})})}function VerticalAxisLine(_e){const{plotHeight:et,style:tt}=_e;return jsxRuntimeExports.jsx("line",{y1:0,y2:et,stroke:"black",style:tt})}function VerticalAxis(_e){const{primaryTickStyle:et,primaryTickLength:tt,tickPosition:rt,hiddenTicks:nt,primaryGridLineStyle:it,lineStyle:ot,hiddenLine:at,hidden:st,plotWidth:lt,plotHeight:ct,displayPrimaryGridLines:ut,displaySecondaryGridLines:ft,secondaryGridLineStyle:dt,label:pt,labelStyle:mt,axisRef:vt,primaryTicks:ht,position:yt,tickLabelStyle:gt,innerOffset:xt,secondaryTickLength:_t,scale:wt,secondaryTickStyle:Et}=_e,St=yt==="right",Ct=3,bt=St?`translate(${lt}, 0)`:void 0,At=useBBoxObserver();function Tt(Dt,zt=!1){const{x1:Lt,x2:Ft,textPosition:Xt}=Ot(zt);return{line:{y1:Dt,y2:Dt,x1:Lt,x2:Ft},text:{y1:Dt,x1:St?Xt:-Xt}}}function Ot(Dt=!1){const zt=Dt?_t:tt,Lt=St?zt:-zt;switch(rt){case"center":return{x1:Lt/2,x2:-Lt/2,textPosition:Ct+zt/2};case"inner":return{x1:0,x2:-Lt,textPosition:Ct};case"outer":return{x1:0,x2:Lt,textPosition:Ct+zt};default:return{x1:0,x2:0,textPosition:3}}}const $t=ut||ft?jsxRuntimeExports.jsx(VerticalAxisGridlines,{position:yt,plotWidth:lt,primaryTicks:ht,style:it,primaryGrid:ut,secondaryGrid:ft,secondaryStyle:dt,scale:wt}):null,It=!st&&!nt?jsxRuntimeExports.jsx(Ticks,{anchor:St?"start":"end",primaryTicks:ht,getPositions:Tt,labelStyle:gt,style:et,secondaryTickLength:_t,scale:wt,secondaryTickStyle:Et}):null,Nt=!st&&!at?jsxRuntimeExports.jsx(VerticalAxisLine,{style:ot,plotHeight:ct}):null,jt=!st&&pt?jsxRuntimeExports.jsx(VerticalAxisLabel,{plotHeight:ct,label:pt,labelStyle:mt,horizontalAlign:St?"start":"end"}):null,Bt=reactExports.useContext(bboxContext);return jsxRuntimeExports.jsxs("g",{transform:bt,children:[$t,jsxRuntimeExports.jsxs("g",{ref:Bt,children:[jsxRuntimeExports.jsx("g",{ref:At.ref,children:It}),jsxRuntimeExports.jsx("g",{ref:vt,children:Nt}),jsxRuntimeExports.jsx("g",{transform:`translate(${(At.width-xt)*(St?1:-1)}, 0)`,children:jt})]})]})}function LinearAxis(_e){const{position:et,tickLabelFormat:tt,scale:rt,...nt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useLinearPrimaryTicks(rt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:rt,axisRef:it,primaryTicks:at,position:et,...nt})}const LinearAxis$1=reactExports.memo(LinearAxis);function LogAxis(_e){const{position:et,tickLabelFormat:tt,scale:rt,...nt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useLogTicks(rt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:rt,axisRef:it,primaryTicks:at,position:et,...nt})}const LogAxis$1=reactExports.memo(LogAxis);function TimeAxis(_e){const{position:et,tickLabelFormat:tt,scale:rt,...nt}=_e,it=reactExports.useRef(null),ot=et==="left"||et==="right"?"vertical":"horizontal",at=useTimeTicks(rt,ot,it,{tickFormat:tt}),st=ot==="vertical"?VerticalAxis:HorizontalAxis;return jsxRuntimeExports.jsx(st,{scale:rt,axisRef:it,primaryTicks:at,position:et,...nt})}const TimeAxis$1=reactExports.memo(TimeAxis);function Axis({id:_e,position:et,min:tt,max:rt,paddingStart:nt=0,paddingEnd:it=0,flip:ot=!1,scale:at="linear",label:st,displayPrimaryGridLines:lt=!1,primaryGridLineStyle:ct,displaySecondaryGridLines:ut,secondaryGridLineStyle:ft,labelStyle:dt,hidden:pt=!1,tickLabelStyle:mt,tickLabelFormat:vt=at==="time"?void 0:String,hiddenLine:ht=!1,lineStyle:yt,hiddenTicks:gt=!1,tickPosition:xt="outer",primaryTickLength:_t=5,primaryTickStyle:wt,secondaryTickLength:Et=3,secondaryTickStyle:St}){const Ct=usePlotDispatchContext(),{axisContext:bt,plotWidth:At,plotHeight:Tt}=usePlotContext(),Ot=["top","bottom"].includes(et)?"x":"y",$t=_e||Ot,It=getInnerOffset(pt,gt,xt,_t);reactExports.useEffect(()=>(Ct({type:"addAxis",payload:{id:$t,position:et,min:tt,max:rt,paddingStart:nt,paddingEnd:it,flip:ot,scale:at,innerOffset:It,tickLabelFormat:vt}}),()=>Ct({type:"removeAxis",payload:{id:$t}})),[Ct,ot,It,rt,tt,it,nt,et,at,$t,vt]);const Nt=bt[$t];if(!Nt)return null;const jt={hidden:pt,plotWidth:At,plotHeight:Tt,displayPrimaryGridLines:lt,label:st,labelStyle:dt,tickLabelStyle:mt,position:et,hiddenLine:ht,primaryGridLineStyle:ct,displaySecondaryGridLines:ut,secondaryGridLineStyle:ft,lineStyle:yt,hiddenTicks:gt,tickPosition:xt,primaryTickLength:_t,primaryTickStyle:wt,innerOffset:It,secondaryTickLength:Et,secondaryTickStyle:St};return at==="linear"?jsxRuntimeExports.jsx(LinearAxis$1,{...jt,tickLabelFormat:vt,scale:Nt.scale}):at==="time"?jsxRuntimeExports.jsx(TimeAxis$1,{...jt,tickLabelFormat:vt,scale:Nt.scale}):jsxRuntimeExports.jsx(LogAxis$1,{...jt,tickLabelFormat:vt,scale:Nt.scale})}function parallelPosition(_e){switch(_e){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left";default:throw new Error(`Unknown position ${_e}`)}}function ParallelAxis(_e){const{id:et,hidden:tt=!1,primaryTickLength:rt=5,secondaryTickLength:nt=3,tickPosition:it="outer",hiddenLine:ot=!1,hiddenTicks:at=!1,tickLabelFormat:st,...lt}=_e,{axisContext:ct,plotWidth:ut,plotHeight:ft}=usePlotContext(),dt=getInnerOffset(tt,at,it,rt),pt=ct[et];if(!pt)return null;const mt=parallelPosition(pt.position),{type:vt,scale:ht,tickLabelFormat:yt}=pt,gt=st??yt,xt={plotWidth:ut,plotHeight:ft,position:mt,displayPrimaryGridLines:!1,hidden:tt,primaryTickLength:rt,tickPosition:it,hiddenLine:ot,hiddenTicks:at,innerOffset:dt,secondaryTickLength:nt,...lt};return vt==="linear"?jsxRuntimeExports.jsx(LinearAxis$1,{...xt,tickLabelFormat:gt,scale:ht}):vt==="time"?jsxRuntimeExports.jsx(TimeAxis$1,{...xt,tickLabelFormat:gt,scale:ht}):jsxRuntimeExports.jsx(LogAxis$1,{...xt,tickLabelFormat:gt,scale:ht})}function Heading({title:_e,titleStyle:et,titleClass:tt,subtitle:rt,subtitleStyle:nt,subtitleClass:it,position:ot="top"}){const{width:at,height:st}=usePlotContext(),lt=usePlotDispatchContext(),ct={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"16px",fontWeight:"bold"},ut={dominantBaseline:"hanging",textAnchor:"middle",fontSize:"14px",color:"gray"},ft=useBBoxObserver();return reactExports.useEffect(()=>(lt({type:"addHeading",payload:{position:ot}}),()=>lt({type:"removeHeading"})),[lt,ot]),jsxRuntimeExports.jsxs(AlignGroup,{x:at/2,y:ot==="top"?0:st,horizontalAlign:"middle",verticalAlign:ot==="top"?"start":"end",children:[jsxRuntimeExports.jsx("text",{ref:ft.ref,style:{...ct,...et},className:tt,children:_e}),rt&&jsxRuntimeExports.jsx("text",{transform:`translate(0, ${ft.height})`,style:{...ut,...nt},className:it,children:rt})]})}Heading.defaultProps={position:"top"};const legendOffsetContext=reactExports.createContext(0);function exclusiveProps(_e,et,tt,rt){if(_e[et]!==void 0){if(_e[tt]!==void 0)throw new Error(`${et} and ${tt} should't be both defined for the position ${rt}`);return{key:et,value:_e[et]}}return _e[tt]!==void 0?{key:tt,value:_e[tt]}:{}}function translation(_e,et,tt,rt,nt){switch(_e){case"embedded":{const{key:it="top",value:ot=10}=exclusiveProps(et,"top","bottom",_e),{key:at="left",value:st=10}=exclusiveProps(et,"left","right",_e),lt=at==="right"?tt-st:st,ct=it==="bottom"?rt-ot:ot;return{x:lt,y:ct,horizontalAlign:at==="left"?"start":"end",verticalAlign:it==="top"?"start":"end"}}case"top":{const{value:it=tt/2}=exclusiveProps(et,"left","right",_e),ot=it,at=-(et.bottom||0)-nt;return{x:ot,y:at,horizontalAlign:"middle",verticalAlign:"end"}}case"right":{const{key:it="top",value:ot=rt/2}=exclusiveProps(et,"top","bottom",_e),at=it==="bottom"?-ot:ot;return{x:tt+(et.left||0)+nt,y:at,horizontalAlign:"start",verticalAlign:"middle"}}case"bottom":{const{value:it=tt/2}=exclusiveProps(et,"left","right",_e),ot=it,at=rt+(et.top||0)+nt;return{x:ot,y:at,horizontalAlign:"middle",verticalAlign:"start"}}case"left":{const{key:it="top",value:ot=rt/2}=exclusiveProps(et,"top","bottom",_e),at=it==="bottom"?-ot:ot;return{x:-(et.right||0)-nt,y:at,horizontalAlign:"end",verticalAlign:"middle"}}default:throw new Error(`Position ${JSON.stringify(_e)} unknown`)}}function Legend(_e){const{position:et="embedded",margin:tt=10,onClick:rt,lineStyle:nt={},showHide:it=!1,labelStyle:ot={},...at}=_e,{plotWidth:st,plotHeight:lt}=usePlotContext(),ct=usePlotDispatchContext(),[ut,ft]=useLegend(),dt=reactExports.useContext(legendOffsetContext),pt=reactExports.useMemo(()=>translation(et,at,st,lt,dt),[et,at,st,lt,dt]);reactExports.useEffect(()=>(ct({type:"addLegend",payload:{position:et,margin:tt}}),()=>ct({type:"removeLegend"})),[ct,et,tt]);function mt(vt,ht){rt==null||rt({event:vt,id:ht}),it&&ft({type:"TOGGLE_VISIBILITY",payload:{id:ht}})}return jsxRuntimeExports.jsx(AlignGroup,{...pt,children:ut.labels.map((vt,ht)=>{const yt=functionalStyle({fontSize:"16px"},ot,{id:vt.id}),gt=functionalStyle({},nt,{id:vt.id}),xt=Number.parseInt(String(yt.fontSize),10),_t=10,wt=ht*xt+xt/2+3;if(vt.range)return jsxRuntimeExports.jsxs("g",{onClick:St=>mt(St,vt.id),transform:`translate(${_t}, 0)`,style:{opacity:vt.isVisible?"1":"0.6"},children:[getRangeShape({index:ht,rangeColor:vt.range.rangeColor,lineColor:vt.colorLine,style:gt,height:xt}),jsxRuntimeExports.jsx("text",{style:yt,x:30,y:`${(ht+1)*xt}`,children:vt.label})]},ht);let Et;return vt.shape&&(Et=markersComps[vt.shape.figure]),jsxRuntimeExports.jsxs("g",{onClick:St=>mt(St,vt.id),transform:`translate(${_t}, 0)`,style:{opacity:vt.isVisible?"1":"0.6"},children:[getLineShape({index:ht,color:vt.colorLine,style:gt,height:xt}),jsxRuntimeExports.jsx("g",{transform:`translate(${_t-1}, ${wt})`,children:vt.shape&&Et&&!vt.shape.hidden&&jsxRuntimeExports.jsx(Et,{size:10,style:{fill:vt.shape.color}})}),jsxRuntimeExports.jsx("text",{style:yt,x:30,y:`${(ht+1)*xt}`,children:vt.label})]},ht)})})}function getLineShape(_e){const{index:et,color:tt,style:rt={},height:nt=16}=_e,it=0,{strokeWidth:ot="2px"}=rt,at=et*nt+nt/2+3;return jsxRuntimeExports.jsx("line",{x1:it,x2:it+20,y1:at,y2:at,stroke:tt,style:{...rt,strokeWidth:ot}})}function getRangeShape(_e){const{index:et,rangeColor:tt,lineColor:rt,style:nt={},height:it=16}=_e,{strokeWidth:ot="15px"}=nt,at=Number.parseInt(ot==null?void 0:ot.toString(),10)/5,st=0,lt=et*it+it/2-at;return jsxRuntimeExports.jsxs("g",{transform:`translate(${st}, ${lt})`,children:[jsxRuntimeExports.jsx("rect",{width:"20",height:at*3,fill:tt}),jsxRuntimeExports.jsx("line",{style:nt,x1:0,y:0,x2:20,y2:0,stroke:rt,strokeWidth:at}),jsxRuntimeExports.jsx("line",{style:nt,x1:0,y1:at*3,x2:20,y2:at*3,stroke:rt,strokeWidth:at})]})}function ErrorBars(_e){const{xAxis:et="x",yAxis:tt="y",data:rt,hidden:nt,transform:it,...ot}=_e,{axisContext:at}=usePlotContext(),[st,lt]=validateAxis(at,et,tt),ct=reactExports.useMemo(()=>nt||st===void 0||lt===void 0?null:rt.map((ft,dt)=>{const pt=validateSeriesPointError(ft.xError),mt=validateSeriesPointError(ft.yError);return jsxRuntimeExports.jsx(PointBars,{origin:{x:st(ft.x),y:lt(ft.y)},bottom:mt?lt(ft.y-(mt[0]||0)):null,top:mt?lt(ft.y+(mt[1]||0)):null,left:pt?st(ft.x-(pt[0]||0)):null,right:pt?st(ft.x+(pt[1]||0)):null,...ot},`ErrorBars-${dt}`)}),[rt,st,lt,nt,ot]);return jsxRuntimeExports.jsx("g",{transform:it,children:ct})}function PointBars(_e){const{origin:et,top:tt,bottom:rt,left:nt,right:it,style:ot,capSize:at=10,capStyle:st}=_e,lt="black";return jsxRuntimeExports.jsxs("g",{children:[tt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:et.x,y1:et.y,y2:tt,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:et.x-at/2,x2:et.x+at/2,y1:tt,y2:tt,stroke:lt,...ot,...st})]}),rt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:et.x,y1:et.y,y2:rt,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:et.x-at/2,x2:et.x+at/2,y1:rt,y2:rt,stroke:lt,...ot,...st})]}),nt!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:nt,y1:et.y,y2:et.y,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:nt,x2:nt,y1:et.y-at/2,y2:et.y+at/2,stroke:lt,...ot,...st})]}),it!=null&&jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:et.x,x2:it,y1:et.y,y2:et.y,stroke:lt,...ot}),jsxRuntimeExports.jsx("line",{x1:it,x2:it,y1:et.y-at/2,y2:et.y+at/2,stroke:lt,...ot,...st})]})]})}function ScatterSeries(_e){const et=usePlotDispatchContext(),{colorScaler:tt}=usePlotContext(),[,rt]=useLegend(),nt=useId(_e.id,"series"),{xAxis:it="x",yAxis:ot="y",data:at,label:st,hidden:lt,displayErrorBars:ct=!1,xShift:ut=0,yShift:ft=0,...dt}=_e,{markerShape:pt="circle",markerStyle:mt={},errorBarsStyle:vt,errorBarsCapStyle:ht,errorBarsCapSize:yt}=dt,gt=useIsSeriesVisible(nt),{xShift:xt,yShift:_t}=useShift({xAxis:it,yAxis:ot,xShift:ut,yShift:ft}),wt=`translate(${xt},${_t})`;if(reactExports.useEffect(()=>{var Ct;if(!lt)return rt({type:"ADD_LEGEND_LABEL",payload:{id:nt,label:st,colorLine:"white",shape:{color:((Ct=mt==null?void 0:mt.fill)===null||Ct===void 0?void 0:Ct.toString())||tt(nt),figure:typeof pt=="string"?pt:"circle",hidden:!1}}}),()=>rt({type:"REMOVE_LEGEND_LABEL",payload:{id:nt}})},[tt,lt,nt,st,rt,pt,mt==null?void 0:mt.fill]),reactExports.useEffect(()=>{const[Ct,bt]=extent(at,It=>It.x),[At,Tt]=extent(at,It=>It.y);return et({type:"addSeries",payload:{id:nt,x:{min:Ct,max:bt,axisId:it,shift:ut},y:{min:At,max:Tt,axisId:ot,shift:ft},label:st,data:at}}),()=>et({type:"removeSeries",payload:{id:nt}})},[et,nt,at,it,ot,st,ut,ft]),lt)return null;const Et={data:at,xAxis:it,yAxis:ot},St={hidden:!ct,style:vt,capStyle:ht,capSize:yt,transform:wt};return gt?jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx(ErrorBars,{...Et,...St}),jsxRuntimeExports.jsx(ScatterSeriesRender,{...dt,...Et,id:nt,transform:wt})]}):null}function ScatterSeriesRender({id:_e,data:et,xAxis:tt,yAxis:rt,markerShape:nt="circle",markerSize:it=8,markerStyle:ot={},pointLabel:at="",pointLabelStyle:st={},displayMarkers:lt=!0,lineStyle:ct={},displayLines:ut=!1,transform:ft}){const{axisContext:dt,colorScaler:pt}=usePlotContext(),[mt,vt]=validateAxis(dt,tt,rt),ht=reactExports.useMemo(()=>{if(mt===void 0||vt===void 0)return null;const yt=pt(_e),gt={fill:yt,stroke:yt};return et.map((_t,wt)=>{const Et=functionalStyle(gt,ot,_t,wt,et),St=markersComps[functionalShape(nt,_t,wt,et)],Ct=functionalLabel(at,_t,wt,et),bt=functionalStyle({},st,_t,wt,et),At=[];if(ut){const Tt=functionalStyle({},ct,_t,wt,et),Ot=wt>0?middlePoint(_t,et[wt-1]):void 0,$t=et[wt+1]?middlePoint(_t,et[wt+1]):void 0,It=Ot?jsxRuntimeExports.jsx("line",{x1:0,y1:0,x2:mt(Ot.x)-mt(_t.x),y2:vt(Ot.y)-vt(_t.y),style:{stroke:Et.fill,...Tt}},`markers-${wt}-previous`):null,Nt=$t?jsxRuntimeExports.jsx("line",{x1:0,y1:0,x2:mt($t.x)-mt(_t.x),y2:vt($t.y)-vt(_t.y),style:{stroke:Et.fill,...Tt}},`markers-${wt}-next`):null;At.push(It,Nt)}return jsxRuntimeExports.jsxs("g",{transform:`translate(${mt(_t.x)}, ${vt(_t.y)})`,children:[At,lt?jsxRuntimeExports.jsx(St,{size:it,style:{stroke:Et.fill,...Et}}):null,Ct?jsxRuntimeExports.jsx("text",{style:bt,children:Ct}):null]},`markers-${wt}`)})},[mt,vt,pt,_e,et,ot,nt,at,st,ct,ut,lt,it]);return ht?jsxRuntimeExports.jsx("g",{transform:ft,className:"markers",children:ht}):null}function BarSeries(_e){var et;const[,tt]=useLegend(),{colorScaler:rt}=usePlotContext(),nt=useId(_e.id,"series"),{lineStyle:it={},displayMarkers:ot=!1,hidden:at,...st}=_e,{xAxis:lt="x",yAxis:ct="y",xShift:ut="0",yShift:ft="0",pointLabel:dt,displayErrorBars:pt,label:mt,markerStyle:vt,markerShape:ht}=st,{xShift:yt,yShift:gt}=useShift({xAxis:lt,yAxis:ct,xShift:ut,yShift:ft}),xt={id:nt,data:_e.data,xAxis:lt,yAxis:ct,lineStyle:functionalStyle({},it,{id:nt}),transform:`translate(${yt},${gt})`},_t=it!=null&&it.stroke?it==null?void 0:it.stroke.toString():rt(nt),wt=((et=vt==null?void 0:vt.fill)===null||et===void 0?void 0:et.toString())||rt(nt),Et=ht||"circle",St=reactExports.useMemo(()=>({color:wt,figure:Et,hidden:!ot}),[wt,ot,Et]),Ct=useIsSeriesVisible(nt);return reactExports.useEffect(()=>{if(!at)return tt({type:"ADD_LEGEND_LABEL",payload:{id:nt,label:mt,colorLine:_t,shape:St}}),()=>tt({type:"REMOVE_LEGEND_LABEL",payload:{id:nt}})},[_t,tt,mt,St,nt,at]),at?null:jsxRuntimeExports.jsxs("g",{children:[Ct&&jsxRuntimeExports.jsx(BarSeriesRender,{...xt}),jsxRuntimeExports.jsx(ScatterSeries,{...st,hidden:!ot&&!dt&&!pt,displayMarkers:ot,id:nt})]})}function BarSeriesRender({id:_e,data:et,xAxis:tt,yAxis:rt,lineStyle:nt,transform:it}){const{axisContext:ot,colorScaler:at}=usePlotContext(),[st,lt]=validateAxis(ot,tt,rt),ct=at(_e);if(st===void 0||lt===void 0)return null;const ut={stroke:ct,strokeWidth:2,...nt};return jsxRuntimeExports.jsx("g",{transform:it,children:et.map(({x:ft,y:dt})=>jsxRuntimeExports.jsx("line",{style:ut,x1:st(ft),x2:st(ft),y1:lt(dt),y2:lt(0)},`${ft}-${dt}`))})}function constant(_e){return function(){return _e}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let et=1,tt=_e.length;et<tt;++et)this._+=arguments[et]+_e[et]}function appendRound(_e){let et=Math.floor(_e);if(!(et>=0))throw new Error(`invalid digits: ${_e}`);if(et>15)return append;const tt=10**et;return function(rt){this._+=rt[0];for(let nt=1,it=rt.length;nt<it;++nt)this._+=Math.round(arguments[nt]*tt)/tt+rt[nt]}}class Path{constructor(et){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=et==null?append:appendRound(et)}moveTo(et,tt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(et,tt){this._append`L${this._x1=+et},${this._y1=+tt}`}quadraticCurveTo(et,tt,rt,nt){this._append`Q${+et},${+tt},${this._x1=+rt},${this._y1=+nt}`}bezierCurveTo(et,tt,rt,nt,it,ot){this._append`C${+et},${+tt},${+rt},${+nt},${this._x1=+it},${this._y1=+ot}`}arcTo(et,tt,rt,nt,it){if(et=+et,tt=+tt,rt=+rt,nt=+nt,it=+it,it<0)throw new Error(`negative radius: ${it}`);let ot=this._x1,at=this._y1,st=rt-et,lt=nt-tt,ct=ot-et,ut=at-tt,ft=ct*ct+ut*ut;if(this._x1===null)this._append`M${this._x1=et},${this._y1=tt}`;else if(ft>epsilon)if(!(Math.abs(ut*st-lt*ct)>epsilon)||!it)this._append`L${this._x1=et},${this._y1=tt}`;else{let dt=rt-ot,pt=nt-at,mt=st*st+lt*lt,vt=dt*dt+pt*pt,ht=Math.sqrt(mt),yt=Math.sqrt(ft),gt=it*Math.tan((pi-Math.acos((mt+ft-vt)/(2*ht*yt)))/2),xt=gt/yt,_t=gt/ht;Math.abs(xt-1)>epsilon&&this._append`L${et+xt*ct},${tt+xt*ut}`,this._append`A${it},${it},0,0,${+(ut*dt>ct*pt)},${this._x1=et+_t*st},${this._y1=tt+_t*lt}`}}arc(et,tt,rt,nt,it,ot){if(et=+et,tt=+tt,rt=+rt,ot=!!ot,rt<0)throw new Error(`negative radius: ${rt}`);let at=rt*Math.cos(nt),st=rt*Math.sin(nt),lt=et+at,ct=tt+st,ut=1^ot,ft=ot?nt-it:it-nt;this._x1===null?this._append`M${lt},${ct}`:(Math.abs(this._x1-lt)>epsilon||Math.abs(this._y1-ct)>epsilon)&&this._append`L${lt},${ct}`,rt&&(ft<0&&(ft=ft%tau+tau),ft>tauEpsilon?this._append`A${rt},${rt},0,1,${ut},${et-at},${tt-st}A${rt},${rt},0,1,${ut},${this._x1=lt},${this._y1=ct}`:ft>epsilon&&this._append`A${rt},${rt},0,${+(ft>=pi)},${ut},${this._x1=et+rt*Math.cos(it)},${this._y1=tt+rt*Math.sin(it)}`)}rect(et,tt,rt,nt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}h${rt=+rt}v${+nt}h${-rt}Z`}toString(){return this._}}function withPath(_e){let et=3;return _e.digits=function(tt){if(!arguments.length)return et;if(tt==null)et=null;else{const rt=Math.floor(tt);if(!(rt>=0))throw new RangeError(`invalid digits: ${tt}`);et=rt}return _e},()=>new Path(et)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:this._context.lineTo(_e,et);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function line(_e,et){var tt=constant(!0),rt=null,nt=curveLinear,it=null,ot=withPath(at);_e=typeof _e=="function"?_e:_e===void 0?x:constant(_e),et=typeof et=="function"?et:et===void 0?y:constant(et);function at(st){var lt,ct=(st=array(st)).length,ut,ft=!1,dt;for(rt==null&&(it=nt(dt=ot())),lt=0;lt<=ct;++lt)!(lt<ct&&tt(ut=st[lt],lt,st))===ft&&((ft=!ft)?it.lineStart():it.lineEnd()),ft&&it.point(+_e(ut,lt,st),+et(ut,lt,st));if(dt)return it=null,dt+""||null}return at.x=function(st){return arguments.length?(_e=typeof st=="function"?st:constant(+st),at):_e},at.y=function(st){return arguments.length?(et=typeof st=="function"?st:constant(+st),at):et},at.defined=function(st){return arguments.length?(tt=typeof st=="function"?st:constant(!!st),at):tt},at.curve=function(st){return arguments.length?(nt=st,rt!=null&&(it=nt(rt)),at):nt},at.context=function(st){return arguments.length?(st==null?rt=it=null:it=nt(rt=st),at):rt},at}function area(_e,et,tt){var rt=null,nt=constant(!0),it=null,ot=curveLinear,at=null,st=withPath(lt);_e=typeof _e=="function"?_e:_e===void 0?x:constant(+_e),et=typeof et=="function"?et:constant(et===void 0?0:+et),tt=typeof tt=="function"?tt:tt===void 0?y:constant(+tt);function lt(ut){var ft,dt,pt,mt=(ut=array(ut)).length,vt,ht=!1,yt,gt=new Array(mt),xt=new Array(mt);for(it==null&&(at=ot(yt=st())),ft=0;ft<=mt;++ft){if(!(ft<mt&&nt(vt=ut[ft],ft,ut))===ht)if(ht=!ht)dt=ft,at.areaStart(),at.lineStart();else{for(at.lineEnd(),at.lineStart(),pt=ft-1;pt>=dt;--pt)at.point(gt[pt],xt[pt]);at.lineEnd(),at.areaEnd()}ht&&(gt[ft]=+_e(vt,ft,ut),xt[ft]=+et(vt,ft,ut),at.point(rt?+rt(vt,ft,ut):gt[ft],tt?+tt(vt,ft,ut):xt[ft]))}if(yt)return at=null,yt+""||null}function ct(){return line().defined(nt).curve(ot).context(it)}return lt.x=function(ut){return arguments.length?(_e=typeof ut=="function"?ut:constant(+ut),rt=null,lt):_e},lt.x0=function(ut){return arguments.length?(_e=typeof ut=="function"?ut:constant(+ut),lt):_e},lt.x1=function(ut){return arguments.length?(rt=ut==null?null:typeof ut=="function"?ut:constant(+ut),lt):rt},lt.y=function(ut){return arguments.length?(et=typeof ut=="function"?ut:constant(+ut),tt=null,lt):et},lt.y0=function(ut){return arguments.length?(et=typeof ut=="function"?ut:constant(+ut),lt):et},lt.y1=function(ut){return arguments.length?(tt=ut==null?null:typeof ut=="function"?ut:constant(+ut),lt):tt},lt.lineX0=lt.lineY0=function(){return ct().x(_e).y(et)},lt.lineY1=function(){return ct().x(_e).y(tt)},lt.lineX1=function(){return ct().x(rt).y(et)},lt.defined=function(ut){return arguments.length?(nt=typeof ut=="function"?ut:constant(!!ut),lt):nt},lt.curve=function(ut){return arguments.length?(ot=ut,it!=null&&(at=ot(it)),lt):ot},lt.context=function(ut){return arguments.length?(ut==null?it=at=null:at=ot(it=ut),lt):it},lt}function LineSeriesInner(_e){const[,et]=useLegend(),{colorScaler:tt}=usePlotContext(),rt=useId(_e.id,"series"),{lineStyle:nt={},displayMarkers:it=!1,hidden:ot,...at}=_e,{xAxis:st="x",yAxis:lt="y",xShift:ct="0",yShift:ut="0",pointLabel:ft,displayErrorBars:dt,label:pt,markerStyle:mt,markerShape:vt}=at,{xShift:ht,yShift:yt}=useShift({xAxis:st,yAxis:lt,xShift:ct,yShift:ut}),gt=functionalStyle({},nt,{id:rt}),xt=useIsSeriesVisible(rt);if(reactExports.useEffect(()=>{var wt,Et;if(!ot)return et({type:"ADD_LEGEND_LABEL",payload:{id:rt,label:pt,colorLine:((wt=gt==null?void 0:gt.stroke)===null||wt===void 0?void 0:wt.toString())||tt(rt),shape:{color:((Et=mt==null?void 0:mt.fill)===null||Et===void 0?void 0:Et.toString())||tt(rt),figure:vt||"circle",hidden:!it}}}),()=>et({type:"REMOVE_LEGEND_LABEL",payload:{id:rt}})},[ot,tt,it,rt,et,gt==null?void 0:gt.stroke,pt,vt,mt==null?void 0:mt.fill]),ot)return null;const _t={id:rt,data:_e.data,xAxis:st,yAxis:lt,lineStyle:gt,transform:`translate(${ht},${yt})`};return jsxRuntimeExports.jsxs("g",{children:[xt&&jsxRuntimeExports.jsx(LineSeriesRender,{..._t}),jsxRuntimeExports.jsx(ScatterSeries,{...at,hidden:!it&&!ft&&!dt,displayMarkers:it,id:rt})]})}const LineSeries=reactExports.memo(LineSeriesInner);function LineSeriesRender({id:_e,data:et,xAxis:tt,yAxis:rt,lineStyle:nt,transform:it}){const{axisContext:ot,colorScaler:at}=usePlotContext(),[st,lt]=validateAxis(ot,tt,rt),ct=at(_e),ut=reactExports.useMemo(()=>st===void 0||lt===void 0?null:line().x(pt=>st(pt.x)).y(pt=>lt(pt.y))(et),[et,st,lt]);if(!ut)return null;const ft={stroke:ct,strokeWidth:2,...nt};return jsxRuntimeExports.jsx("path",{transform:it,style:ft,d:ut,fill:"none"})}function FunctionSeries(_e){const{getY:et,xAxis:tt="x",id:rt,...nt}=_e,it=`~${useId(rt,"series")}`,{axisContext:ot,plotWidth:at,plotHeight:st}=usePlotContext(),lt=ot[tt],ct=1,ut=reactExports.useMemo(()=>{const ft=[];if(lt){const pt=(lt?lt.position==="top"||lt.position==="bottom":!1)?at:st,mt=lt.scale;for(let vt=0;vt<=pt;vt+=ct){const ht=toNumber(mt.invert(vt));ft.push({x:ht,y:et(ht)})}return ft}return[{x:0,y:0}]},[lt==null?void 0:lt.domain[0],lt==null?void 0:lt.domain[1]]);return jsxRuntimeExports.jsx(LineSeries,{data:ut,id:it,...nt})}function RangeSeriesInner(_e){const et=useId(_e.id,"series"),[,tt]=useLegend(),{colorScaler:rt}=usePlotContext(),{lineStyle:nt={fill:rt(et),fillOpacity:.5},hidden:it,xAxis:ot="x",yAxis:at="y",data:st,label:lt,xShift:ct="0",yShift:ut="0"}=_e,{xShift:ft,yShift:dt}=useShift({xAxis:ot,yAxis:at,xShift:ct,yShift:ut}),pt=usePlotDispatchContext();reactExports.useEffect(()=>{const[ht,yt]=extent(st,Ct=>Ct.x),[gt,xt]=extent(st,Ct=>Ct.y1),[_t,wt]=extent(st,Ct=>Ct.y2),Et={min:ht,max:yt,shift:ct,axisId:ot},St={min:Math.min(gt,_t),max:Math.max(xt,wt),shift:ut,axisId:at};return pt({type:"addSeries",payload:{id:et,x:Et,y:St,label:lt}}),()=>pt({type:"removeSeries",payload:{id:et}})},[pt,et,st,ot,at,lt,ct,ut]);const mt=useIsSeriesVisible(et);if(reactExports.useEffect(()=>{if(!it)return tt({type:"ADD_LEGEND_LABEL",payload:{id:et,label:lt,colorLine:nt.stroke,range:{rangeColor:nt.fill||"none"}}}),()=>tt({type:"REMOVE_LEGEND_LABEL",payload:{id:et}})},[lt,tt,nt.fill,nt.stroke,et,it]),it)return null;const vt={id:et,data:st,xAxis:ot,yAxis:at,lineStyle:nt,transform:`translate(${ft},${dt})`};return mt?jsxRuntimeExports.jsx(RangeSeriesRender,{...vt}):null}const RangeSeries=reactExports.memo(RangeSeriesInner);function RangeSeriesRender({data:_e,xAxis:et,yAxis:tt,lineStyle:rt,transform:nt}){const{axisContext:it}=usePlotContext(),[ot,at]=validateAxis(it,et,tt),st=reactExports.useMemo(()=>ot===void 0||at===void 0?null:area().x(ut=>ot(ut.x)).y0(ut=>at(ut.y1)).y1(ut=>at(ut.y2))(_e),[_e,ot,at]);if(!st)return null;const lt={strokeWidth:2,...rt};return jsxRuntimeExports.jsx("path",{transform:nt,style:lt,d:st,fill:"none"})}function Series(_e){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.children})}function splitChildren(_e){let et=null,tt=null,rt=null,nt=null,it=[],ot=null,at=null,st=[],lt=[];for(let ct of reactExports.Children.toArray(_e)){if(typeof ct!="object"||!reactExports.isValidElement(ct))throw console.error("Invalid Plot child:",ct),new Error("invalid Plot child");if(ct.type===Series||ct.type===FunctionSeries||ct.type===LineSeries||ct.type===ScatterSeries||ct.type===RangeSeries||ct.type===BarSeries)st.push(ct);else if(ct.type===Annotations)lt.push(ct);else if(ct.type===Axis)switch(ct.props.position){case"top":{if(et!==null)throw new Error("Plot can only have one top axis");et=ct;break}case"right":{if(tt!==null)throw new Error("Plot can only have one right axis");tt=ct;break}case"bottom":{if(rt!==null)throw new Error("Plot can only have one bottom axis");rt=ct;break}case"left":{if(nt!==null)throw new Error("Plot can only have one left axis");nt=ct;break}default:throw new Error("unreachable")}else if(ct.type===ParallelAxis){if(it.length===2)throw new Error("Plot can have at most two parallel axes");it.push(ct)}else if(ct.type===Heading){if(ot!==null)throw new Error("Plot can only have one Heading element");ot=ct}else if(ct.type===Legend){if(at!==null)throw new Error("Plot can only have one Legend element");at=ct}else throw console.error("Invalid Plot child:",ct),new Error("invalid plot child")}!rt&&!et&&(rt=jsxRuntimeExports.jsx(Axis,{position:"bottom"})),!nt&&!tt&&(nt=jsxRuntimeExports.jsx(Axis,{position:"left"}));for(const ct of it){const ut=ct.props.id;if((et==null?void 0:et.props.id)===ut){if(rt!==null)throw new Error("Plot can only have one bottom axis");rt=ct}if((tt==null?void 0:tt.props.id)===ut){if(nt!==null)throw new Error("Plot can only have one left axis");nt=ct}if((rt==null?void 0:rt.props.id)===ut){if(et!==null)throw new Error("Plot can only have one top axis");et=ct}if((nt==null?void 0:nt.props.id)===ut){if(tt!==null)throw new Error("Plot can only have one right axis");tt=ct}}return{topAxis:et,rightAxis:tt,bottomAxis:rt,leftAxis:nt,heading:ot,legend:at,series:st,annotations:lt}}function usePlotSizes({width:_e,height:et,margin:tt,axes:rt,topAxisHeight:nt,rightAxisWidth:it,bottomAxisHeight:ot,leftAxisWidth:at,headingPosition:st,headingHeight:lt,legendPosition:ct,legendMargin:ut,legendWidth:ft,legendHeight:dt}){const{top:pt=0,right:mt=0,bottom:vt=0,left:ht=0}=tt;return reactExports.useMemo(()=>{const yt=axesToOffsets(rt),gt=nt-yt.top,xt=it-yt.right,_t=ot-yt.bottom,wt=at-yt.left;let Et=_e-ht-wt-mt-xt,St=et-pt-lt-gt-vt-_t,Ct=ht+wt,bt=pt+gt;st==="top"&&(bt+=lt);const At=dt+ut,Tt=ft+ut;let Ot=0;switch(ct){case"top":St-=At,bt+=At,Ot=gt+ut;break;case"right":Et-=Tt,Ot=xt+ut;break;case"bottom":St-=At,Ot=_t+ut;break;case"left":Et-=Tt,Ct+=Tt,Ot=wt+ut;break}return{plotWidth:Et,plotHeight:St,leftOffset:Ct,topOffset:bt,legendOffset:Ot}},[_e,et,pt,mt,vt,ht,nt,it,ot,at,st,lt,ct,ut,ft,dt,rt])}function axesToOffsets(_e){const et={top:0,right:0,bottom:0,left:0};for(const tt of Object.values(_e))et[tt.position]=tt.innerOffset;return et}const HORIZONTAL=new Set(["bottom","top"]);function infoFromEvent(_e,et,tt,rt){const{clientX:nt,clientY:it,movementX:ot,movementY:at}=_e,{left:st,top:lt}=rt.getBoundingClientRect(),ct=nt-st,ut=it-lt,ft={},dt={},pt={},mt={};for(const vt in et){const{scale:ht,clampInDomain:yt,position:gt,domain:xt}=et[vt];HORIZONTAL.has(gt)?(ft[vt]=toNumber(ht.invert(ct)),mt[vt]=toNumber(ht.invert(ot))-xt[0]):(ft[vt]=toNumber(ht.invert(ut)),mt[vt]=toNumber(ht.invert(at))-xt[1]),dt[vt]=yt(ft[vt]),pt[vt]=xt}return{event:_e,coordinates:ft,clampedCoordinates:dt,movement:mt,getClosest(vt){return closestCalculation(vt,{x:ct,y:ut},tt,et)},domains:pt}}function closestCalculation(_e,et,tt,rt){let nt={};switch(_e){case"x":{for(const{id:it,x:ot,data:at,label:st}of tt)if(at){const lt=closestPoint(at,et,(ct,ut)=>{const{scale:ft}=rt[ot.axisId],dt=ut[ot.axisId];return Math.abs(ft(ct.x)-dt)});nt[it]={point:lt,label:st,axis:rt[ot.axisId]}}break}case"y":{for(const{id:it,y:ot,data:at,label:st}of tt)if(at){const lt=closestPoint(at,et,(ct,ut)=>{const{scale:ft}=rt[ot.axisId],dt=ut[ot.axisId];return Math.abs(ft(ct.y)-dt)});nt[it]={point:lt,label:st,axis:rt[ot.axisId]}}break}case"euclidean":{for(const{id:it,x:ot,y:at,data:st,label:lt}of tt)if(st){const ct=closestPoint(st,et,(ut,ft)=>{const{scale:dt}=rt[ot.axisId],{scale:pt}=rt[at.axisId],mt=ft[ot.axisId],vt=ft[at.axisId];return euclidean([dt(ut.x),pt(ut.y)],[mt,vt])});nt[it]={point:ct,label:lt,axis:{x:rt[ot.axisId],y:rt[at.axisId]}}}break}default:throw new Error(`Unknown distance name: ${_e}`)}return nt}const nativeEventMap={pointerenter:"onPointerEnter",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerleave:"onPointerLeave",click:"onClick",dblclick:"onDoubleClick",wheel:"onWheel"},nativeEventNames=["pointerenter","pointerdown","pointermove","pointerup","pointerleave","click","dblclick","wheel"],globalNativeEventNames=["pointermove","pointerup"];function Tracking({plotId:_e,plotEvents:et,stateSeries:tt,axisContext:rt,plotHeight:nt,plotWidth:it}){const ot=reactExports.useRef(null),at=reactExports.useRef({plotId:_e,plotEvents:et,stateSeries:tt,axisContext:rt,plotHeight:nt,plotWidth:it});return reactExports.useEffect(()=>{at.current={plotId:_e,plotEvents:et,stateSeries:tt,axisContext:rt,plotHeight:nt,plotWidth:it}},[rt,et,nt,_e,it,tt]),reactExports.useEffect(()=>{const st=ot.current;if(!st)return;function lt(ct){if(ct.type==="pointerdown")for(const ft of globalNativeEventNames)window.addEventListener(ft,lt);else if(ct.type==="pointerup")for(const ft of globalNativeEventNames)window.removeEventListener(ft,lt);const ut=infoFromEvent(ct,at.current.axisContext,at.current.stateSeries,st);et.handleEvent(_e,nativeEventMap[ct.type],ut)}for(const ct of nativeEventNames)st.addEventListener(ct,lt);return()=>{for(const ct of nativeEventNames)st.removeEventListener(ct,lt);for(const ct of globalNativeEventNames)window.removeEventListener(ct,lt)}},[_e,et]),jsxRuntimeExports.jsx("rect",{ref:ot,width:it,height:nt,style:{fillOpacity:0}})}function AnnotationsTrackingLayer(_e){const{width:et,height:tt,svgStyle:rt,svgId:nt,svgClassName:it,topOffset:ot,leftOffset:at,legendOffset:st,legend:lt,legendRef:ct,plotId:ut,annotations:ft,tracking:dt}=_e;return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:et,height:tt,style:rt,id:nt?`${nt}-annotations`:void 0,className:it,children:[jsxRuntimeExports.jsxs("g",{transform:`translate(${at}, ${ot})`,children:[jsxRuntimeExports.jsx("g",{style:{clipPath:`url(#seriesViewportClip-${ut})`},children:ft}),dt]}),jsxRuntimeExports.jsx("g",{transform:`translate(${at}, ${ot})`,children:jsxRuntimeExports.jsx(legendOffsetContext.Provider,{value:st,children:jsxRuntimeExports.jsx("g",{ref:ct,children:lt})})})]})}function TransparentRect(_e){const{style:et}=_e;return jsxRuntimeExports.jsx("rect",{..._e,style:{fillOpacity:et!=null&&et.fill?void 0:0,...et}})}function MainLayer(_e){const{width:et,height:tt,svgStyle:rt,svgId:nt,svgClassName:it,plotViewportStyle:ot,seriesViewportStyle:at,topOffset:st,leftOffset:lt,plotWidth:ct,plotHeight:ut,plotId:ft,series:dt,topAxisRef:pt,topAxis:mt,rightAxisRef:vt,rightAxis:ht,bottomAxisRef:yt,bottomAxis:gt,leftAxisRef:xt,leftAxis:_t,headingRef:wt,heading:Et}=_e;return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:et,height:tt,style:rt,id:nt,className:it,children:[jsxRuntimeExports.jsx(TransparentRect,{width:et,height:tt,style:ot}),jsxRuntimeExports.jsxs("g",{transform:`translate(${lt}, ${st})`,children:[jsxRuntimeExports.jsx(TransparentRect,{width:ct,height:ut,style:at}),jsxRuntimeExports.jsx("clipPath",{id:`seriesViewportClip-${ft}`,children:jsxRuntimeExports.jsx("rect",{width:ct,height:ut})}),jsxRuntimeExports.jsx("g",{style:{clipPath:`url(#seriesViewportClip-${ft})`},children:dt}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:pt,children:jsxRuntimeExports.jsx("g",{children:mt})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:vt,children:jsxRuntimeExports.jsx("g",{children:ht})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:yt,children:jsxRuntimeExports.jsx("g",{children:gt})}),jsxRuntimeExports.jsx(bboxContext.Provider,{value:xt,children:jsxRuntimeExports.jsx("g",{children:_t})})]}),jsxRuntimeExports.jsx("g",{ref:wt,children:Et})]})}const reducerCurr=fn(plotReducer),initialState={headingPosition:null,legendPosition:null,legendMargin:0,series:[],axes:{}},defaultSvgStyle={overflow:"visible",fontFamily:"Arial, Helvetica, sans-serif",userSelect:"none",WebkitUserSelect:"none"},defaultEventSvgStyle={touchAction:"none"};function Plot(_e){const{width:et,height:tt,colorScheme:rt=schemeSet1,margin:nt={},svgStyle:it={},svgId:ot,svgClassName:at,plotViewportStyle:st={},seriesViewportStyle:lt={},controllerId:ct,children:ut}=_e,ft=useId(void 0,"plot"),[dt,pt]=reactExports.useReducer(reducerCurr,initialState,void 0),{series:mt,annotations:vt,topAxis:ht,rightAxis:yt,bottomAxis:gt,leftAxis:xt,heading:_t,legend:wt}=splitChildren(ut);if(et===void 0)throw new Error("width is mandatory");if(tt===void 0)throw new Error("height is mandatory");const Et=usePlotEventsPlotContext({controllerId:ct});reactExports.useEffect(()=>{if(Et)return Et.registerPlot(ft),()=>Et.unregisterPlot(ft)},[Et,ft]);const St=usePlotOverrides({controllerId:ct}),Ct=useBBoxObserver(),bt=useBBoxObserver(),At=useBBoxObserver(),Tt=useBBoxObserver(),Ot=useBBoxObserver(),$t=useBBoxObserver(),{plotWidth:It,plotHeight:Nt,topOffset:jt,leftOffset:Bt,legendOffset:Dt}=usePlotSizes({width:et,height:tt,margin:nt,axes:dt.axes,topAxisHeight:bt.height,rightAxisWidth:At.width,bottomAxisHeight:Tt.height,leftAxisWidth:Ot.width,headingPosition:dt.headingPosition,headingHeight:Ct.height,legendPosition:dt.legendPosition,legendMargin:dt.legendMargin,legendWidth:$t.width,legendHeight:$t.height}),zt=useAxisContext(dt,St.axes,{plotWidth:It,plotHeight:Nt}),Lt=reactExports.useMemo(()=>dt.series.map(({id:Ht})=>Ht),[dt.series]),Ft=reactExports.useMemo(()=>ordinal().range(rt).domain(Lt),[rt,Lt]),Xt=reactExports.useMemo(()=>({width:et,height:tt,plotWidth:It,plotHeight:Nt,axisContext:zt,colorScaler:Ft}),[et,tt,It,Nt,zt,Ft]),Wt={...defaultSvgStyle,...Et?defaultEventSvgStyle:null,...it,position:"absolute",top:"0",left:"0"};return jsxRuntimeExports.jsx(plotContext.Provider,{value:Xt,children:jsxRuntimeExports.jsx(plotDispatchContext.Provider,{value:pt,children:jsxRuntimeExports.jsx(LegendProvider,{children:jsxRuntimeExports.jsxs("div",{style:{position:"relative",width:et,height:tt},children:[jsxRuntimeExports.jsx(MainLayer,{width:et,height:tt,svgStyle:Wt,svgId:ot,svgClassName:at,plotViewportStyle:st,seriesViewportStyle:lt,topOffset:jt,leftOffset:Bt,plotWidth:It,plotHeight:Nt,plotId:ft,series:mt,topAxisRef:bt.ref,topAxis:ht,rightAxisRef:At.ref,rightAxis:yt,bottomAxisRef:Tt.ref,bottomAxis:gt,leftAxisRef:Ot.ref,leftAxis:xt,headingRef:Ct.ref,heading:_t}),jsxRuntimeExports.jsx(AnnotationsTrackingLayer,{width:et,height:tt,svgStyle:Wt,svgId:ot,svgClassName:at,topOffset:jt,leftOffset:Bt,legendOffset:Dt,legend:wt,legendRef:$t.ref,plotId:ft,annotations:vt,tracking:Et?jsxRuntimeExports.jsx(Tracking,{plotId:ft,plotEvents:Et,stateSeries:dt.series,axisContext:zt,plotWidth:It,plotHeight:Nt}):null})]})})})})}function Histogram({image:_e,colorModel:et,channel:tt}){const rt=reactExports.useMemo(()=>_e instanceof Image$1?_e:_e.convertColor(ImageColorModel.GREY),[_e]),nt=reactExports.useMemo(()=>{const{bitDepth:st,maxValue:lt}=_e;return st<=8?lt+1:2**8},[_e]),it=reactExports.useMemo(()=>rt.histogram({channel:tt,slots:nt}),[tt,rt,nt]),ot=Array.from(it).map((st,lt)=>({x:lt,y:st})),at=reactExports.useCallback(st=>`${channelLabels[et][st]} channel`,[et]);return jsx(ResponsiveChart,{children:({width:st,height:lt})=>jsxs(Plot,{width:st,height:lt,margin:{bottom:20,left:20,top:20,right:20},children:[jsx(BarSeries,{data:ot}),jsx(Axis,{position:"bottom",label:"Intensity"}),jsx(Axis,{position:"left",label:"Pixel count"}),jsx(Heading,{title:at(tt)})]})})}const Histogram$1=reactExports.memo(Histogram),HistogramsContainer=newStyled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  padding: 8px 0;
`;function Histograms(){const{pipelined:_e}=useImage();return jsx(HistogramsContainer,{children:times$1(_e.components,et=>jsx(Histogram$1,{image:_e,colorModel:_e.colorModel,channel:et},et))})}const Histograms$1=reactExports.memo(Histograms);function TbDropletFilled(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M10.708 2.372a2.382 2.382 0 0 0 -.71 .686l-4.892 7.26c-1.981 3.314 -1.22 7.466 1.767 9.882c2.969 2.402 7.286 2.402 10.254 0c2.987 -2.416 3.748 -6.569 1.795 -9.836l-4.919 -7.306c-.722 -1.075 -2.192 -1.376 -3.295 -.686z",strokeWidth:"0",fill:"currentColor"}}]})(_e)}function TbDropletHalfFilled(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 2l.07 .003a2.41 2.41 0 0 1 1.825 .907l.108 .148l4.92 7.306c1.952 3.267 1.191 7.42 -1.796 9.836c-2.968 2.402 -7.285 2.402 -10.254 0c-2.917 -2.36 -3.711 -6.376 -1.901 -9.65l.134 -.232l4.893 -7.26c.185 -.275 .426 -.509 .709 -.686a2.426 2.426 0 0 1 1.066 -.36l.226 -.012zm-1 3.149l-4.206 6.24c-1.44 2.41 -.88 5.463 1.337 7.257a6.101 6.101 0 0 0 2.869 1.276v-14.773z",strokeWidth:"0",fill:"currentColor"}}]})(_e)}function TbDroplet(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7.502 19.423c2.602 2.105 6.395 2.105 8.996 0c2.602 -2.105 3.262 -5.708 1.566 -8.546l-4.89 -7.26c-.42 -.625 -1.287 -.803 -1.936 -.397a1.376 1.376 0 0 0 -.41 .397l-4.893 7.26c-1.695 2.838 -1.035 6.441 1.567 8.546z"}}]})(_e)}function TbGeometry(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 21l4 -12m2 0l1.48 4.439m.949 2.847l1.571 4.714"}},{tag:"path",attr:{d:"M12 7m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M4 12c1.526 2.955 4.588 5 8 5c3.41 0 6.473 -2.048 8 -5"}},{tag:"path",attr:{d:"M12 5v-2"}}]})(_e)}function TbNumber16Small(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 10l2 -2v8"}},{tag:"path",attr:{d:"M17 9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-3"}}]})(_e)}function ImagesPanel(){const{images:_e}=useData(),et=useViewDispatch(),tt=useDataDispatch(),rt=reactExports.useMemo(()=>Object.keys(_e).map(lt=>({id:lt,title:_e[lt].metadata.name,width:_e[lt].image.width,height:_e[lt].image.height,bitDepth:_e[lt].image.bitDepth,channels:_e[lt].image.channels,colorModel:_e[lt].image.colorModel})),[_e]),nt=lt=>{const{colorModel:ct}=lt;switch(ct){case"RGB":return jsx(TbDropletFilled,{color:"#6495ED"});case"RGBA":return jsx(TbDropletHalfFilled,{color:"#6495ED"});case"GREY":return jsx(TbDropletFilled,{color:"#5F6B7C"});case"GREYA":return jsx(TbDropletHalfFilled,{color:"#5F6B7C"});case"BINARY":return jsx(TbDroplet,{})}},it=lt=>jsx(Tooltip,{position:"bottom",content:jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[jsxs("div",{children:["Channels : ",lt.channels]}),jsxs("div",{children:["Bit depth : ",lt.bitDepth]})]}),children:jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsx(nt,{colorModel:lt.colorModel}),lt.bitDepth===16&&jsx(TbNumber16Small,{size:20,color:"#5F6B7C"})]})}),ot=useCurrentTab(),at=reactExports.useCallback(lt=>{et({type:OPEN_TAB,payload:lt})},[et]),st=reactExports.useCallback(lt=>{var ct,ut;if(tt({type:CLOSE_IMAGE,payload:lt}),rt.length===1)et({type:CLOSE_TAB});else if(ot===lt){const ft=(ct=rt.at(-1))==null?void 0:ct.id,dt=ft===ot?(ut=rt.at(-2))==null?void 0:ut.id:ft;dt&&et({type:OPEN_TAB,payload:dt})}},[tt,rt,ot,et]);return jsx(Fragment,{children:rt.length>0?jsxs(Table,{compact:!0,bordered:!0,children:[jsxs(Table.Header,{children:[jsx(Header$1,{value:"Title"}),jsx(Header$1,{value:"Width"}),jsx(Header$1,{value:"Height"}),jsx(Header$1,{value:"Color Model"}),jsx(Header$1,{})]}),rt.map(lt=>jsxs(Table.Row,{style:{cursor:"pointer",backgroundColor:ot===lt.id?"#f0f0f0":"white"},onClick:()=>at(lt.id),children:[jsx(Text,{value:lt.title}),jsx(Number$1,{value:lt.width}),jsx(Number$1,{value:lt.height}),jsx(Component,{style:{display:"flex",justifyContent:"center",padding:"4px"},children:jsx(it,{...lt})}),jsx(Component,{style:{display:"flex",justifyContent:"center"},children:jsx(Button,{minimal:!0,small:!0,icon:"cross",onClick:ct=>{ct.stopPropagation(),st(lt.id)}})})]},lt.id))]}):null})}function useImageInformations(_e){return reactExports.useMemo(()=>{var rt;if(_e===null)return{info:{},meta:{}};const et={imageSize:`${_e.width.toLocaleString()} x ${_e.height.toLocaleString()} (${(_e.width*_e.height).toLocaleString()} pixels)`,bitDepth:_e.bitDepth,channels:_e.channels,components:_e.components,colorModel:_e.colorModel},tt=((rt=_e.meta)==null?void 0:rt.tiff.tags)||{};return{info:et,meta:tt}},[_e])}function InformationPanel(){const{original:_e}=useImage(),{info:et,meta:tt}=useImageInformations(_e);return jsx(InfoPanel,{title:"",data:[{description:"General Informations",data:et},{description:"Metadatas",data:tt}]})}var NS=getClassNamespace(),SELECT_POPOVER="".concat(NS,"-select-popover");function renderFilteredItems(_e,et,tt){if(_e.query.length===0&&tt!==void 0)return tt;var rt=_e.filteredItems.map(_e.renderItem).filter(function(nt){return nt!=null});return rt.length>0?rt:et}function executeItemsEqual(_e,et,tt){return _e===void 0||et==null||tt==null?et===tt:isFunction$3(_e)?_e(et,tt):et[_e]===tt[_e]}function getCreateNewItem(){return{__blueprintCreateNewItemBrand:"blueprint-create-new-item"}}function isCreateNewItem(_e){if(_e==null)return!1;var et=Object.keys(_e);return et.length!==1||et[0]!=="__blueprintCreateNewItemBrand"?!1:_e.__blueprintCreateNewItemBrand==="blueprint-create-new-item"}function getActiveItem(_e){return _e==null||isCreateNewItem(_e)?null:_e}var QueryList=function(_e){__extends(et,_e);function et(tt){var rt,nt,it=_e.call(this,tt)||this;it.itemRefs=new Map,it.refHandlers={itemsParent:function(ct){return it.itemsParentRef=ct}},it.shouldCheckActiveItemInViewport=!1,it.expectedNextActiveItem=null,it.isEnterKeyPressed=!1,it.renderItemList=function(ct){var ut=it.props,ft=ut.initialContent,dt=ut.noResults,pt=ct.renderCreateItem(),mt=pt!=null?null:dt,vt=renderFilteredItems(ct,mt,ft);if(vt==null&&pt==null)return null;var ht=it.isCreateItemFirst();return reactExports.createElement(Menu,__assign$1({role:"listbox"},ct.menuProps,{ulRef:ct.itemsParentRef}),ht&&pt,vt,!ht&&pt)},it.renderItem=function(ct,ut){if(it.props.disabled!==!0){var ft=it.state,dt=ft.activeItem,pt=ft.query,mt=ft.filteredItems,vt={active:executeItemsEqual(it.props.itemsEqual,getActiveItem(dt),ct),disabled:isItemDisabled(ct,ut,it.props.itemDisabled),matchesPredicate:mt.indexOf(ct)>=0};return it.props.itemRenderer(ct,{handleClick:function(ht){return it.handleItemSelect(ct,ht)},handleFocus:function(){return it.setActiveItem(ct)},index:ut,modifiers:vt,query:pt,ref:function(ht){ht?it.itemRefs.set(ut,ht):it.itemRefs.delete(ut)}})}return null},it.renderCreateItemMenuItem=function(){if(it.isCreateItemRendered(it.state.createNewItem)){var ct=it.state,ut=ct.activeItem,ft=ct.query,dt=ft.trim(),pt=function(vt){it.handleItemCreate(dt,vt)},mt=isCreateNewItem(ut);return it.props.createNewItemRenderer(dt,mt,pt)}return null},it.handleItemCreate=function(ct,ut){var ft,dt,pt,mt,vt=(dt=(ft=it.props).createNewItemFromQuery)===null||dt===void 0?void 0:dt.call(ft,ct);if(vt!=null){for(var ht=Array.isArray(vt)?vt:[vt],yt=0,gt=ht;yt<gt.length;yt++){var xt=gt[yt];(mt=(pt=it.props).onItemSelect)===null||mt===void 0||mt.call(pt,xt,ut)}it.maybeResetQuery()}},it.handleItemSelect=function(ct,ut){var ft,dt;it.setActiveItem(ct),(dt=(ft=it.props).onItemSelect)===null||dt===void 0||dt.call(ft,ct,ut),it.maybeResetQuery()},it.handlePaste=function(ct){for(var ut=it.props,ft=ut.createNewItemFromQuery,dt=ut.onItemsPaste,pt,mt=[],vt=[],ht=0,yt=ct;ht<yt.length;ht++){var gt=yt[ht],xt=getMatchingItem(gt,it.props);if(xt!==void 0)pt=xt,vt.push(xt);else if(it.canCreateItems()){var _t=ft==null?void 0:ft(gt);if(_t!==void 0){var wt=Array.isArray(_t)?_t:[_t];vt.push.apply(vt,wt)}}else mt.push(gt)}it.setQuery(mt.join(", "),!1),pt!==void 0&&it.setActiveItem(pt),dt==null||dt(vt)},it.handleKeyDown=function(ct){var ut,ft,dt=ct.key;if(dt==="ArrowUp"||dt==="ArrowDown"){ct.preventDefault();var pt=it.getNextActiveItem(dt==="ArrowUp"?-1:1);pt!=null&&it.setActiveItem(pt)}else dt==="Enter"&&(it.isEnterKeyPressed=!0);(ft=(ut=it.props).onKeyDown)===null||ft===void 0||ft.call(ut,ct)},it.handleKeyUp=function(ct){var ut=it.props.onKeyUp,ft=it.state.activeItem;ct.key==="Enter"&&it.isEnterKeyPressed&&(ct.preventDefault(),ft==null||isCreateNewItem(ft)?it.handleItemCreate(it.state.query,ct):it.handleItemSelect(ft,ct),it.isEnterKeyPressed=!1),ut==null||ut(ct)},it.handleInputQueryChange=function(ct){var ut,ft,dt=ct==null?"":ct.target.value;it.setQuery(dt),(ft=(ut=it.props).onQueryChange)===null||ft===void 0||ft.call(ut,dt,ct)};var ot=tt.query,at=ot===void 0?"":ot,st=(rt=tt.createNewItemFromQuery)===null||rt===void 0?void 0:rt.call(tt,at),lt=getFilteredItems(at,tt);return it.state={activeItem:tt.activeItem!==void 0?tt.activeItem:(nt=tt.initialActiveItem)!==null&&nt!==void 0?nt:getFirstEnabledItem(lt,tt.itemDisabled),createNewItem:st,filteredItems:lt,query:at},it}return et.ofType=function(){return et},et.prototype.render=function(){var tt=this.props,rt=tt.className,nt=tt.items,it=tt.renderer,ot=tt.itemListRenderer,at=ot===void 0?this.renderItemList:ot,st=tt.menuProps,lt=this.state;lt.createNewItem;var ct=__rest$1(lt,["createNewItem"]);return it(__assign$1(__assign$1({},ct),{className:rt,handleItemSelect:this.handleItemSelect,handleKeyDown:this.handleKeyDown,handleKeyUp:this.handleKeyUp,handlePaste:this.handlePaste,handleQueryChange:this.handleInputQueryChange,itemList:at(__assign$1(__assign$1({},ct),{items:nt,itemsParentRef:this.refHandlers.itemsParent,menuProps:st,renderCreateItem:this.renderCreateItemMenuItem,renderItem:this.renderItem}))}))},et.prototype.componentDidUpdate=function(tt){var rt=this;this.props.activeItem!==void 0&&this.props.activeItem!==this.state.activeItem&&(this.shouldCheckActiveItemInViewport=!0,this.setState({activeItem:this.props.activeItem})),this.props.query!=null&&this.props.query!==tt.query?this.setQuery(this.props.query,this.props.resetOnQuery,this.props):shallowCompareKeys(this.props,tt,{include:["items","itemListPredicate","itemPredicate"]})||this.setQuery(this.state.query),this.shouldCheckActiveItemInViewport&&(this.requestAnimationFrame(function(){return rt.scrollActiveItemIntoView()}),this.shouldCheckActiveItemInViewport=!1)},et.prototype.scrollActiveItemIntoView=function(){var tt=this.props.scrollToActiveItem!==!1,rt=!executeItemsEqual(this.props.itemsEqual,getActiveItem(this.expectedNextActiveItem),getActiveItem(this.props.activeItem));if(this.expectedNextActiveItem=null,!(!tt&&rt)){var nt=this.getActiveElement();if(this.itemsParentRef!=null&&nt!=null){var it=nt.offsetTop,ot=nt.offsetHeight,at=this.itemsParentRef,st=at.offsetTop,lt=at.scrollTop,ct=at.clientHeight,ut=this.getItemsParentPadding(),ft=ut.paddingTop,dt=ut.paddingBottom,pt=it+ot+dt-st,mt=it-ft-st;pt>=lt+ct?this.itemsParentRef.scrollTop=pt+ot-ct:mt<=lt&&(this.itemsParentRef.scrollTop=mt-ot)}}},et.prototype.setQuery=function(tt,rt,nt){var it;rt===void 0&&(rt=this.props.resetOnQuery),nt===void 0&&(nt=this.props);var ot=nt.createNewItemFromQuery;this.shouldCheckActiveItemInViewport=!0;var at=tt!==this.state.query;at&&((it=nt.onQueryChange)===null||it===void 0||it.call(nt,tt));var st=tt.trim(),lt=getFilteredItems(st,nt),ct=ot!=null&&st!==""?ot(st):void 0;this.setState({createNewItem:ct,filteredItems:lt,query:tt});var ut=this.getActiveIndex(lt),ft=rt||ut<0||isItemDisabled(getActiveItem(this.state.activeItem),ut,nt.itemDisabled);ft&&(this.isCreateItemRendered(ct)&&this.isCreateItemFirst()?this.setActiveItem(getCreateNewItem()):this.setActiveItem(getFirstEnabledItem(lt,nt.itemDisabled)))},et.prototype.setActiveItem=function(tt){var rt,nt,it,ot;this.expectedNextActiveItem=tt,this.props.activeItem===void 0&&(this.shouldCheckActiveItemInViewport=!0,this.setState({activeItem:tt})),isCreateNewItem(tt)?(nt=(rt=this.props).onActiveItemChange)===null||nt===void 0||nt.call(rt,null,!0):(ot=(it=this.props).onActiveItemChange)===null||ot===void 0||ot.call(it,tt,!1)},et.prototype.getActiveElement=function(){var tt,rt=this.state.activeItem;if(this.itemsParentRef!=null)if(isCreateNewItem(rt)){var nt=this.isCreateItemFirst()?0:this.state.filteredItems.length;return this.itemsParentRef.children.item(nt)}else{var it=this.getActiveIndex();return(tt=this.itemRefs.get(it))!==null&&tt!==void 0?tt:this.itemsParentRef.children.item(it)}},et.prototype.getActiveIndex=function(tt){tt===void 0&&(tt=this.state.filteredItems);var rt=this.state.activeItem;if(rt==null||isCreateNewItem(rt))return-1;for(var nt=0;nt<tt.length;++nt)if(executeItemsEqual(this.props.itemsEqual,tt[nt],rt))return nt;return-1},et.prototype.getItemsParentPadding=function(){var tt=getComputedStyle(this.itemsParentRef),rt=tt.paddingTop,nt=tt.paddingBottom;return{paddingBottom:pxToNumber(nt),paddingTop:pxToNumber(rt)}},et.prototype.getNextActiveItem=function(tt,rt){if(rt===void 0&&(rt=this.getActiveIndex()),this.isCreateItemRendered(this.state.createNewItem)){var nt=rt===0&&tt===-1||rt===this.state.filteredItems.length-1&&tt===1;if(nt)return getCreateNewItem()}return getFirstEnabledItem(this.state.filteredItems,this.props.itemDisabled,tt,rt)},et.prototype.isCreateItemRendered=function(tt){return this.canCreateItems()&&this.state.query!==""&&!this.wouldCreatedItemMatchSomeExistingItem(tt)},et.prototype.isCreateItemFirst=function(){return this.props.createNewItemPosition==="first"},et.prototype.canCreateItems=function(){return this.props.createNewItemFromQuery!=null&&this.props.createNewItemRenderer!=null},et.prototype.wouldCreatedItemMatchSomeExistingItem=function(tt){var rt=this;return this.state.filteredItems.some(function(nt){var it=Array.isArray(tt)?tt:[tt];return it.some(function(ot){return executeItemsEqual(rt.props.itemsEqual,nt,ot)})})},et.prototype.maybeResetQuery=function(){this.props.resetOnSelect&&this.setQuery("",!0)},et.displayName="".concat(DISPLAYNAME_PREFIX,".QueryList"),et.defaultProps={disabled:!1,resetOnQuery:!0},et}(AbstractComponent);function pxToNumber(_e){return _e==null?0:parseInt(_e.slice(0,-2),10)}function getMatchingItem(_e,et){var tt=et.items,rt=et.itemPredicate;if(isFunction$3(rt))for(var nt=0;nt<tt.length;nt++){var it=tt[nt];if(rt(_e,it,nt,!0))return it}}function getFilteredItems(_e,et){var tt=et.items,rt=et.itemPredicate,nt=et.itemListPredicate;return isFunction$3(nt)?nt(_e,tt):isFunction$3(rt)?tt.filter(function(it,ot){return rt(_e,it,ot)}):tt}function wrapNumber(_e,et,tt){return _e<et?tt:_e>tt?et:_e}function isItemDisabled(_e,et,tt){return tt==null||_e==null?!1:isFunction$3(tt)?tt(_e,et):!!_e[tt]}function getFirstEnabledItem(_e,et,tt,rt){if(tt===void 0&&(tt=1),rt===void 0&&(rt=_e.length-1),_e.length===0)return null;var nt=rt,it=_e.length-1;do if(nt=wrapNumber(nt+tt,0,it),!isItemDisabled(_e[nt],nt,et))return _e[nt];while(nt!==rt&&rt!==-1);return null}var Select=function(_e){__extends(et,_e);function et(){var tt,rt=_e.apply(this,arguments)||this;return rt.state={isOpen:!1},rt.inputElement=null,rt.queryList=null,rt.handleInputRef=refHandler(rt,"inputElement",(tt=rt.props.inputProps)===null||tt===void 0?void 0:tt.inputRef),rt.handleQueryListRef=function(nt){return rt.queryList=nt},rt.listboxId=uniqueId$1("listbox"),rt.renderQueryList=function(nt){var it=rt.props,ot=it.filterable,at=ot===void 0?!0:ot,st=it.disabled,lt=st===void 0?!1:st,ct=it.inputProps,ut=ct===void 0?{}:ct,ft=it.popoverContentProps,dt=ft===void 0?{}:ft,pt=it.popoverProps,mt=pt===void 0?{}:pt,vt=it.popoverRef,ht=reactExports.createElement(InputGroup,__assign$1({"aria-autocomplete":"list",leftIcon:reactExports.createElement(Search,null),placeholder:"Filter...",rightElement:rt.maybeRenderClearButton(nt.query)},ut,{inputRef:rt.handleInputRef,onChange:nt.handleQueryChange,value:nt.query})),yt=nt.handleKeyDown,gt=nt.handleKeyUp;return reactExports.createElement(Popover,__assign$1({autoFocus:!1,enforceFocus:!1,isOpen:rt.state.isOpen,disabled:lt,placement:mt.position||mt.placement?void 0:"bottom-start"},mt,{className:classNames(nt.className,mt.className),content:reactExports.createElement("div",__assign$1({},dt,{onKeyDown:yt,onKeyUp:gt}),at?ht:void 0,nt.itemList),onClosing:rt.handlePopoverClosing,onInteraction:rt.handlePopoverInteraction,onOpened:rt.handlePopoverOpened,onOpening:rt.handlePopoverOpening,popoverClassName:classNames(SELECT_POPOVER,mt.popoverClassName),popupKind:PopupKind.LISTBOX,ref:vt,renderTarget:rt.getPopoverTargetRenderer(nt,rt.state.isOpen)}))},rt.getPopoverTargetRenderer=function(nt,it){return function(ot){var at;ot.isOpen;var st=ot.ref,lt=__rest$1(ot,["isOpen","ref"]),ct=rt.props,ut=ct.disabled,ft=ct.popoverProps,dt=ft===void 0?{}:ft,pt=ct.popoverTargetProps,mt=nt.handleKeyDown,vt=nt.handleKeyUp,ht=dt.targetTagName,yt=ht===void 0?"div":ht;return reactExports.createElement(yt,__assign$1(__assign$1(__assign$1({"aria-controls":rt.listboxId},pt),lt),{"aria-disabled":ut,"aria-expanded":it,className:classNames(lt.className,pt==null?void 0:pt.className,(at={},at[FILL]=rt.props.fill,at)),onKeyDown:rt.withPopoverTargetPropsHandler("keydown",it?mt:rt.handleTargetKeyDown),onKeyUp:rt.withPopoverTargetPropsHandler("keyup",it?vt:void 0),ref:st,role:"combobox"}),rt.props.children)}},rt.withPopoverTargetPropsHandler=function(nt,it){switch(nt){case"keydown":return function(ot){var at,st;it==null||it(ot),(st=(at=rt.props.popoverTargetProps)===null||at===void 0?void 0:at.onKeyDown)===null||st===void 0||st.call(at,ot)};case"keyup":return function(ot){var at,st;it==null||it(ot),(st=(at=rt.props.popoverTargetProps)===null||at===void 0?void 0:at.onKeyUp)===null||st===void 0||st.call(at,ot)}}},rt.handleTargetKeyDown=function(nt){nt.key==="ArrowUp"||nt.key==="ArrowDown"?(nt.preventDefault(),rt.setState({isOpen:!0})):isKeyboardClick(nt)&&rt.setState({isOpen:!0})},rt.handleItemSelect=function(nt,it){var ot,at,st=it==null?void 0:it.target,lt=st==null?void 0:st.closest(".".concat(MENU_ITEM)),ct=lt==null?void 0:lt.matches(".".concat(POPOVER_DISMISS)),ut=ct??!0;rt.setState({isOpen:!ut}),(at=(ot=rt.props).onItemSelect)===null||at===void 0||at.call(ot,nt,it)},rt.handlePopoverInteraction=function(nt,it){var ot,at;rt.setState({isOpen:nt}),(at=(ot=rt.props.popoverProps)===null||ot===void 0?void 0:ot.onInteraction)===null||at===void 0||at.call(ot,nt,it)},rt.handlePopoverOpening=function(nt){var it,ot,at;rt.previousFocusedElement=(it=getActiveElement(rt.inputElement))!==null&&it!==void 0?it:void 0,rt.props.resetOnClose&&rt.resetQuery(),(at=(ot=rt.props.popoverProps)===null||ot===void 0?void 0:ot.onOpening)===null||at===void 0||at.call(ot,nt)},rt.handlePopoverOpened=function(nt){var it,ot;rt.queryList!=null&&rt.queryList.scrollActiveItemIntoView(),rt.requestAnimationFrame(function(){var at,st=rt.props.inputProps,lt=st===void 0?{}:st;lt.autoFocus!==!1&&((at=rt.inputElement)===null||at===void 0||at.focus())}),(ot=(it=rt.props.popoverProps)===null||it===void 0?void 0:it.onOpened)===null||ot===void 0||ot.call(it,nt)},rt.handlePopoverClosing=function(nt){var it,ot;rt.requestAnimationFrame(function(){rt.previousFocusedElement!==void 0&&(rt.previousFocusedElement.focus(),rt.previousFocusedElement=void 0)}),(ot=(it=rt.props.popoverProps)===null||it===void 0?void 0:it.onClosing)===null||ot===void 0||ot.call(it,nt)},rt.resetQuery=function(){return rt.queryList&&rt.queryList.setQuery("",!0)},rt}return et.ofType=function(){return et},et.prototype.render=function(){var tt=this.props;tt.filterable,tt.inputProps;var rt=tt.menuProps;tt.popoverProps;var nt=__rest$1(tt,["filterable","inputProps","menuProps","popoverProps"]);return reactExports.createElement(QueryList,__assign$1({},nt,{menuProps:__assign$1(__assign$1({"aria-label":"selectable options"},rt),{id:this.listboxId}),onItemSelect:this.handleItemSelect,ref:this.handleQueryListRef,renderer:this.renderQueryList}))},et.prototype.componentDidUpdate=function(tt,rt){var nt,it,ot,at,st;((nt=tt.inputProps)===null||nt===void 0?void 0:nt.inputRef)!==((it=this.props.inputProps)===null||it===void 0?void 0:it.inputRef)&&(setRef$1((ot=tt.inputProps)===null||ot===void 0?void 0:ot.inputRef,null),this.handleInputRef=refHandler(this,"inputElement",(at=this.props.inputProps)===null||at===void 0?void 0:at.inputRef),setRef$1((st=this.props.inputProps)===null||st===void 0?void 0:st.inputRef,this.inputElement)),this.state.isOpen&&!rt.isOpen&&this.queryList!=null&&this.queryList.scrollActiveItemIntoView()},et.prototype.maybeRenderClearButton=function(tt){return tt.length>0?reactExports.createElement(Button$1,{"aria-label":"Clear filter query",icon:reactExports.createElement(Cross$1,null),minimal:!0,onClick:this.resetQuery,title:"Clear filter query"}):void 0},et.displayName="".concat(DISPLAYNAME_PREFIX,".Select"),et}(AbstractPureComponent);const ActionsContainer=newStyled.div`
  display: flex;
  align-items: center;
  justify-content: space-around;
  gap: 0.25rem;
`,Empty$1=newStyled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding-inline: 50px;
`,pointerStyle={cursor:"pointer"};function PipelineTable({identifier:_e}){const et=useData(),tt=useDataDispatch(),rt=useViewDispatch(),nt=useCurrentTab(),it=reactExports.useCallback(ft=>{tt({type:REMOVE_OPERATION,payload:{identifier:_e,opIdentifier:ft}})},[tt,_e]),ot=reactExports.useCallback(ft=>{const dt=et.images[_e].pipeline.find(pt=>pt.identifier===ft);dt&&(rt({type:SET_EDIT_MODE_IDENTIFIER,payload:nt===void 0?null:{identifier:nt,opIdentifier:ft}}),rt({type:OPEN_MODAL,payload:getModalNameFromOperationType(dt.type)}))},[nt,et.images,_e,rt]),at=reactExports.useCallback((ft,dt)=>{tt({type:TOGGLE_OPERATION,payload:{identifier:_e,opIdentifier:ft,checked:dt==="indeterminate"?!0:dt}})},[tt,_e]),st=reactExports.useMemo(()=>{var ft;return((ft=et.images[_e])==null?void 0:ft.pipeline)??[]},[et,_e]),lt=reactExports.useMemo(()=>Object.keys(et.images).filter(ft=>et.images[ft].pipeline.length>0).map(ft=>({label:et.images[ft].metadata.name,value:ft})),[et.images]),[ct,ut]=reactExports.useState();return reactExports.useEffect(()=>{ct!==void 0&&(tt({type:COPY_OPERATIONS,payload:{fromIdentifier:ct,toIdentifier:_e}}),ut(void 0))},[tt,_e,ct]),st.length===0?jsxs(Empty$1,{children:[jsx("p",{children:"Pipeline is empty."}),jsx("p",{children:"Import from another image:"}),jsx(Select,{filterable:!1,activeItem:lt.find(ft=>ft.value===ct),items:lt,itemRenderer:(ft,{handleClick:dt,modifiers:pt})=>ft?jsx(MenuItem,{text:ft.label,onClick:dt,active:pt.active,disabled:pt.disabled},ft.value):null,onItemSelect:ft=>{ut(ft.value)},children:jsx(Button,{text:"Select",rightIcon:"double-caret-vertical"})})]}):jsxs(Table,{children:[jsxs(Table.Header,{children:[jsx(Header$1,{value:"#"}),jsx(Header$1,{value:"Type"}),jsx(Header$1,{value:"Options"}),jsx(Header$1,{value:"Enabled"}),jsx(Header$1,{value:"Actions"})]}),st.map((ft,dt)=>jsxs(Table.Row,{children:[jsx(Number$1,{value:dt+1}),jsx(Text,{value:ft.type,style:pointerStyle}),"options"in ft?jsx(ObjectRenderer,{value:ft.options}):jsx(Text,{value:"N/A"}),jsx(Component,{children:jsx(Checkbox,{checked:ft.isActive,onChange:pt=>at(ft.identifier,pt.target.checked)})}),jsx(Component,{children:jsxs(ActionsContainer,{children:[jsx(Button,{intent:"primary",onClick:()=>ot(ft.identifier),children:jsx(FaEdit,{})}),jsx(Button,{intent:"danger",onClick:()=>it(ft.identifier),children:jsx(FaTrash,{})})]})})]},ft.identifier))]})}const PipelineTable$1=reactExports.memo(PipelineTable);function arrayReduce$1(_e,et,tt,rt){var nt=-1,it=_e==null?0:_e.length;for(rt&&it&&(tt=_e[++nt]);++nt<it;)tt=et(tt,_e[nt],nt,_e);return tt}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(_e){return function(et){return _e==null?void 0:_e[et]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1;function arrayMap$1(_e,et){for(var tt=-1,rt=_e==null?0:_e.length,nt=Array(rt);++tt<rt;)nt[tt]=et(_e[tt],tt,_e);return nt}var _arrayMap=arrayMap$1,Symbol$2=_Symbol,arrayMap=_arrayMap,isArray$2=isArray_1,isSymbol=isSymbol_1,INFINITY=1/0,symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(_e){if(typeof _e=="string")return _e;if(isArray$2(_e))return arrayMap(_e,baseToString$1)+"";if(isSymbol(_e))return symbolToString?symbolToString.call(_e):"";var et=_e+"";return et=="0"&&1/_e==-INFINITY?"-0":et}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(_e){return _e==null?"":baseToString(_e)}var toString_1=toString$3,deburrLetter=_deburrLetter,toString$2=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsCombo$2="["+rsComboRange$3+"]",reComboMark=RegExp(rsCombo$2,"g");function deburr$1(_e){return _e=toString$2(_e),_e&&_e.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(_e){return _e.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(_e){return reHasUnicodeWord.test(_e)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['’]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$2+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(_e){return _e.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$1=toString_1,unicodeWords=_unicodeWords;function words$1(_e,et,tt){return _e=toString$1(_e),et=tt?void 0:et,et===void 0?hasUnicodeWord(_e)?unicodeWords(_e):asciiWords(_e):_e.match(et)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="['’]",reApos=RegExp(rsApos,"g");function createCompounder$1(_e){return function(et){return arrayReduce(words(deburr(et).replace(reApos,"")),_e,"")}}var _createCompounder=createCompounder$1;function baseSlice$1(_e,et,tt){var rt=-1,nt=_e.length;et<0&&(et=-et>nt?0:nt+et),tt=tt>nt?nt:tt,tt<0&&(tt+=nt),nt=et>tt?0:tt-et>>>0,et>>>=0;for(var it=Array(nt);++rt<nt;)it[rt]=_e[rt+et];return it}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(_e,et,tt){var rt=_e.length;return tt=tt===void 0?rt:tt,!et&&tt>=rt?_e:baseSlice(_e,et,tt)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(_e){return reHasUnicode.test(_e)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(_e){return _e.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(_e){return _e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(_e){return hasUnicode$1(_e)?unicodeToArray(_e):asciiToArray(_e)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString=toString_1;function createCaseFirst$1(_e){return function(et){et=toString(et);var tt=hasUnicode(et)?stringToArray(et):void 0,rt=tt?tt[0]:et.charAt(0),nt=tt?castSlice(tt,1).join(""):et.slice(1);return rt[_e]()+nt}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,createCompounder=_createCompounder,upperFirst=upperFirst_1,startCase=createCompounder(function(_e,et,tt){return _e+(tt?" ":"")+upperFirst(et)}),startCase_1=startCase;const startCase$1=getDefaultExportFromCjs(startCase_1),PaddedContent=newStyled.div`
  overflow: auto;
  padding: 0.5rem;
`,RoiEditTitle=newStyled.h3`
  font-size: 1.125rem;
  margin-bottom: 0.5rem;
`,EditGroup=newStyled.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 1rem;
`,tableStyle={width:"100%"};function ROIEditPreference(){const _e=usePreferences(),et=useViewDispatch(),tt=usePreferencesDispatch(),[rt,nt]=reactExports.useState(_e.rois.columns),[it,ot]=reactExports.useState(_e.rois.annotations),at=reactExports.useCallback(ft=>rt.includes(ft),[rt]),st=reactExports.useCallback((ft,dt)=>{nt(dt?[...rt,ft].sort((pt,mt)=>availableRoiColumns.indexOf(pt)-availableRoiColumns.indexOf(mt)):rt.filter(pt=>pt!==ft))},[rt]),lt=reactExports.useCallback(()=>et({type:SET_EDIT_ROI_PREFERENCE,payload:!1}),[et]),ct=reactExports.useCallback(()=>{tt({type:SET_ROIS_COLUMNS,payload:rt}),tt({type:SET_ROIS_ANNOTATIONS,payload:it}),lt()},[it,lt,tt,rt]),ut=reactExports.useMemo(()=>lt,[lt]);return jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},children:[jsx(PanelPreferencesToolbar,{onClose:ut,onSave:ct}),jsxs(PaddedContent,{children:[jsxs(EditGroup,{children:[jsx(RoiEditTitle,{children:"Shown columns"}),jsxs(Table,{style:tableStyle,children:[jsxs(Table.Header,{children:[jsx(Header$1,{value:"Label"}),jsx(Header$1,{value:"Name"}),jsx(Header$1,{value:"Visible"})]}),availableRoiColumns.map(ft=>jsxs(Table.Row,{children:[jsx(Text,{value:startCase$1(ft)}),jsx(Text,{value:ft}),jsx(Component,{children:jsx(Checkbox,{checked:at(ft),onChange:dt=>st(ft,dt.target.checked)})})]},ft))]})]}),jsxs(EditGroup,{children:[jsx(RoiEditTitle,{children:"Annotations"}),jsxs(Table,{style:tableStyle,children:[jsxs(Table.Header,{children:[jsx(Header$1,{value:"Kind"}),jsx(Header$1,{value:"Color"}),jsx(Header$1,{value:"Display"}),jsx(Header$1,{value:"Display value"}),jsx(Header$1,{value:"Font size"}),jsx(Header$1,{value:"Font color"})]}),Object.keys(it).map(ft=>jsxs(Table.Row,{children:[jsx(Text,{value:startCase$1(ft)}),jsx(Component,{children:jsx(ColorPickerDropdown,{color:{hex:w$2(it[ft].color.hex).alpha(it[ft].color.a).toHex()},onChange:dt=>{ot({...it,[ft]:{...it[ft],color:{hex:dt.hex,a:dt.rgb.a}}})}})}),jsx(Component,{children:jsx(Checkbox,{checked:it[ft].enabled,onChange:dt=>ot({...it,[ft]:{...it[ft],enabled:dt.target.checked}})})}),jsx(Component,{children:jsx(Checkbox,{checked:it[ft].displayValue,onChange:dt=>ot({...it,[ft]:{...it[ft],displayValue:dt.target.checked}})})}),jsx(Component,{children:jsx(InputGroup,{type:"number",value:it[ft].fontSize,onChange:dt=>{const pt=dt.target.valueAsNumber;ot({...it,[ft]:{...it[ft],fontSize:pt}})}})}),jsx(Component,{children:jsx(ColorPickerDropdown,{color:{hex:w$2(it[ft].fontColor.hex).alpha(it[ft].fontColor.a).toHex()},onChange:dt=>ot({...it,[ft]:{...it[ft],fontColor:{hex:dt.hex,a:dt.rgb.a}}})})})]},ft))]})]})]})]})}const ROIEditColumnPreference=reactExports.memo(ROIEditPreference),Empty=newStyled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
`;function ROITable({identifier:_e}){const et=useROIs(_e),tt=usePreferences(),rt=reactExports.useMemo(()=>tt.rois.columns,[tt.rois.columns]),nt=reactExports.useCallback((it,ot)=>{const{id:at,width:st,height:lt,surface:ct,feret:ut,roundness:ft,solidity:dt,sphericity:pt,fillRatio:mt,origin:{column:vt,row:ht}}=ot;switch(it){case"id":return jsx(Number$1,{value:at},it);case"column":return jsx(Number$1,{value:vt},it);case"row":return jsx(Number$1,{value:ht},it);case"width":return jsx(Number$1,{value:st},it);case"height":return jsx(Number$1,{value:lt},it);case"surface":return jsx(Number$1,{value:ct},it);case"feretAspectRatio":return jsx(Number$1,{value:ut.aspectRatio,fixed:2},it);case"feretMinDiameter":return jsx(Number$1,{value:ut.minDiameter.length,fixed:2},it);case"feretMaxDiameter":return jsx(Number$1,{value:ut.maxDiameter.length,fixed:2},it);case"roundness":return jsx(Number$1,{value:ft,fixed:2},it);case"solidity":return jsx(Number$1,{value:dt,fixed:2},it);case"sphericity":return jsx(Number$1,{value:pt,fixed:2},it);case"fillRatio":return jsx(Number$1,{value:mt,fixed:2},it);default:throw new Error("Unknown column")}},[]);return et.length===0?jsx(Empty,{children:"No ROIs generated"}):jsx("div",{style:{overflowY:"auto"},children:jsxs(Table,{children:[jsx(Table.Header,{children:rt.map(it=>jsx(Header$1,{value:startCase$1(it)},it))}),et.map(it=>jsx(Table.Row,{children:rt.map(ot=>nt(ot,it))},it.id))]})})}const ROITable$1=reactExports.memo(ROITable);function roisToTSV(_e){return[availableRoiColumns.map(startCase$1).join("	")].concat(_e.map(tt=>[tt.id,tt.width,tt.height,tt.surface,tt.feret.aspectRatio.toFixed(2),tt.feret.minDiameter.length.toFixed(2),tt.feret.maxDiameter.length.toFixed(2),tt.roundness.toFixed(2),tt.solidity.toFixed(2),tt.sphericity.toFixed(2),tt.fillRatio.toFixed(2)].join("	"))).map(tt=>`${tt}
`).join("")}const copyToClipBoardDefaultText="Copy to clipboard";function ROIToolbar({identifier:_e}){const et=useROIs(_e),tt=useViewDispatch(),[rt,nt]=reactExports.useState(copyToClipBoardDefaultText),[,it]=useCopyToClipboard$1(),ot=reactExports.useCallback(()=>{it(roisToTSV(et)),nt("Copied!"),setTimeout(()=>{nt(copyToClipBoardDefaultText)},1e3)},[it,et]),at=reactExports.useCallback(()=>{tt({type:SET_EDIT_ROI_PREFERENCE,payload:!0})},[tt]);return jsx(PanelHeader,{total:et.length,onClickSettings:at,children:et.length>0&&jsx(Toolbar,{children:jsx(Toolbar.Item,{tooltip:rt,icon:jsx(FaCopy,{}),onClick:ot})})})}const ROIToolbar$1=reactExports.memo(ROIToolbar);function ROIAccordion(){const _e=useCurrentTab(),et=useView(),tt=reactExports.useMemo(()=>et.editROIPreference,[et.editROIPreference]);return _e===void 0?null:jsx(Accordion.Item,{title:"ROIs",children:tt?jsx(ROIEditColumnPreference,{}):jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},children:[jsx(ROIToolbar$1,{identifier:_e}),jsx(ROITable$1,{identifier:_e})]})})}const ROIAccordion$1=reactExports.memo(ROIAccordion),StyledSidebar$1=newStyled.div`
  width: 100%;
  white-space: nowrap;
`;function Sidebar$2(){const _e=useCurrentTab();return _e===void 0?null:jsx(StyledSidebar$1,{children:jsxs(Accordion,{children:[jsx(Accordion.Item,{title:"Images",defaultOpened:!0,children:jsx(ImagesPanel,{})}),jsx(Accordion.Item,{title:"Informations",children:jsx(InformationPanel,{})}),jsx(Accordion.Item,{title:"Histograms",children:jsx(Histograms$1,{})}),jsx(Accordion.Item,{title:"Pipeline",children:jsx(PipelineTable$1,{identifier:_e})}),jsx(ROIAccordion$1,{})]})})}const Sidebar$3=reactExports.memo(Sidebar$2),hearcLogo="/assets/hearc-logo-6eaad529.png",zakodiumLogo="/assets/zakodium-logo-2ee8d9d8.png",StyledModalBody=newStyled.div`
  width: 100%;
  height: 100%;
  display: flex;
  padding: 10px 20px;
`,AboutModalStyle=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 500px;

  .container {
    padding: 20px;
  }
`,AboutContent=newStyled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  h2 {
    margin-bottom: 10px;
    font-size: 1.5rem;
    font-weight: bold;
  }

  p {
    margin-bottom: 10px;
    font-size: 1rem;
    text-align: center;
  }
`,ImageColumns=newStyled.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-bottom: 10px;

  a {
    width: 50%;
  }
`,LinksContainer=newStyled.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-around;
  width: 100%;
  font-size: 1rem;

  a {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;

    &:hover {
      text-decoration: underline;
    }

    svg {
      margin-right: 5px;
    }
  }
`;function AboutModal(){const{isOpen:_e,close:et}=useModal("about");return jsx(Dialog,{title:"About Pixelium",isOpen:_e,onClose:et,children:jsxs(AboutModalStyle,{children:[jsx(StyledModalBody,{children:jsx(DialogBody,{children:jsxs(AboutContent,{children:[jsx("h2",{children:"Pixelium"}),jsx("p",{children:"Pixelium is a React component for displaying and processing raster images."}),jsxs(ImageColumns,{children:[jsx("a",{href:"https://zakodium.com/",target:"_blank",rel:"noreferrer",children:jsx("img",{src:zakodiumLogo})}),jsx("a",{href:"https://www.he-arc.ch/",target:"_blank",rel:"noreferrer",children:jsx("img",{src:hearcLogo})})]}),jsx("p",{children:"Initially developed by Xavier Stouder as part of his Bachelor thesis at the University of Applied Sciences and Arts Western Switzerland (HES-SO)."}),jsx("p",{children:"All rights reserved. Released under MIT license."})]})})}),jsx(DialogFooter,{children:jsxs(LinksContainer,{children:[jsxs("a",{href:"https://github.com/zakodium-oss/pixelium",target:"_blank",rel:"noreferrer",children:[jsx(FaGithub,{})," Source code"]}),jsxs("a",{href:"https://github.com/zakodium-oss/pixelium/blob/main/LICENSE",target:"_blank",rel:"noreferrer",children:[jsx(FaFileSignature,{})," License"]})]})})]})})}const AboutModal$1=reactExports.memo(AboutModal),ExportStyle=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 500px;

  .header {
    font-size: 1.25rem;
  }

  .container {
    padding: 20px;
  }
`,SaveButtonInner=newStyled.span`
  display: flex;
  align-items: center;
`;function ExportModal(){const{isOpen:_e,close:et}=useModal("export"),tt=useData(),rt=usePreferences(),nt=useView(),{logger:it}=useLog(),ot=reactExports.useMemo(()=>({name:"",view:!1,preferences:!1,data:!1}),[]),[at,st]=reactExports.useState(ot),lt=reactExports.useCallback(()=>st(ot),[st,ot]),ct=reactExports.useCallback(()=>{savePixeliumBundle({name:at.name.length>0?at.name:"Untitled",view:at.view?nt:null,preferences:at.preferences?rt:null,data:at.data?tt:null}).catch(ut=>{it.error(`Error while exporting Pixelium file: ${ut}`)}).finally(()=>{lt(),et()})},[et,tt,at.data,at.name,at.preferences,at.view,it,rt,lt,nt]);return jsx(Dialog,{title:"Export Pixelium file",isOpen:_e,onClose:et,style:{width:"fit-content"},children:jsxs(ExportStyle,{children:[jsx(DialogBody,{children:jsx(StyledModalBody,{children:jsxs("div",{children:[jsx(FormGroup,{label:"Name",children:jsx(InputGroup,{type:"text",placeholder:"Untitled",value:at.name,onChange:ut=>st({...at,name:ut.target.value})})}),jsx(Checkbox,{label:"Include view",alignIndicator:"right",checked:at.view,onChange:ut=>st({...at,view:ut.target.checked})}),jsx(Checkbox,{label:"Include preferences",alignIndicator:"right",checked:at.preferences,onChange:ut=>st({...at,preferences:ut.target.checked})}),jsx(Checkbox,{label:"Include data",alignIndicator:"right",checked:at.data,onChange:ut=>st({...at,data:ut.target.checked})})]})})}),jsx(DialogFooter,{minimal:!0,actions:jsx(Button,{intent:"primary",onClick:ct,children:jsx(SaveButtonInner,{children:"Save"})})})]})})}const ExportModal$1=reactExports.memo(ExportModal);function isBinary(_e){return _e.colorModel===ImageColorModel.BINARY}const ExtractROIStyle=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 500px;

  .container {
    padding: 20px;
  }
`,FormContent=newStyled.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,defaultFormContent={minSurface:void 0,maxSurface:void 0,kind:RoiKind.WHITE};function ExtractROIModal({identifier:_e}){var ft,dt,pt;const{pipelined:et}=useImage(),tt=useDataDispatch(),{isOpen:rt,close:nt}=useModal("extractROI"),{open:it}=useToggleAccordion(),[ot,at]=reactExports.useState(defaultFormContent),st=reactExports.useCallback(()=>{if(et instanceof Image$1)return;const mt=fromMask(et);tt({type:SET_ROI,payload:{identifier:_e,rois:mt.getRois(ot)}}),at(defaultFormContent),nt(),it("ROIs")},[nt,_e,tt,ot,it,et]),lt=reactExports.useMemo(()=>[{label:"White",value:RoiKind.WHITE},{label:"Black",value:RoiKind.BLACK},{label:"Both",value:RoiKind.BW}],[]),[ct,ut]=reactExports.useState();return et===void 0||!isBinary(et)?null:jsx(Dialog,{title:"Extract ROIs",isOpen:rt,onClose:nt,style:{width:"fit-content"},children:jsxs(ExtractROIStyle,{children:[jsx(DialogBody,{children:jsx(StyledModalBody,{children:jsxs(FormContent,{children:[jsx(FormGroup,{label:"Minimum surface",children:jsx(InputGroup,{type:"number",value:(ft=ot.minSurface)==null?void 0:ft.toString(),onChange:mt=>{const vt=mt.target.valueAsNumber;at({...ot,minSurface:Number.isNaN(vt)?void 0:vt})}})}),jsx(FormGroup,{label:"Maximum surface",children:jsx(InputGroup,{type:"number",value:(dt=ot.maxSurface)==null?void 0:dt.toString(),onChange:mt=>{const vt=mt.target.valueAsNumber;at({...ot,maxSurface:Number.isNaN(vt)?void 0:vt})}})}),jsx(FormGroup,{label:"Kind",children:jsx(Select,{filterable:!1,activeItem:lt.find(mt=>mt.value===ot.kind),items:lt,itemRenderer:(mt,{handleClick:vt,modifiers:ht})=>jsx(MenuItem,{text:mt.label,onClick:vt,active:ht.active,disabled:ht.disabled,selected:mt.value===ot.kind},mt.value),onItemSelect:mt=>{ut(mt.label),at({...ot,kind:mt.value})},children:jsx(Button,{text:ct??((pt=lt.find(mt=>mt.value===ot.kind))==null?void 0:pt.label),rightIcon:"double-caret-vertical"})})})]})})}),jsx(DialogFooter,{minimal:!0,actions:jsx(Button,{intent:"primary",onClick:st,children:"Extract"})})]})})}const ExtractROIModal$1=reactExports.memo(ExtractROIModal),LogModalStyle=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 50vw;
  height: 50vh;

  .table-container {
    width: 100%;
    max-width: 100%;
    overflow-y: auto;
  }

  table {
    width: 100%;
  }

  .no-log {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.25rem;
  }
`,tableHeaderStyle={textAlign:"left"},logsDataFormat=new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric",second:"numeric"});function LogModal(){const{isOpen:_e,close:et}=useModal("log"),{logs:tt,clear:rt}=useLog(),nt=reactExports.useMemo(()=>tt.slice().reverse(),[tt]);return jsx(Dialog,{title:"Log history",isOpen:_e,onClose:et,style:{width:"fit-content"},children:jsxs(LogModalStyle,{children:[jsx(DialogBody,{children:jsx(StyledModalBody,{children:tt.length>0?jsx("div",{className:"table-container",children:jsxs(Table,{children:[jsxs(Table.Header,{children:[jsx(Header$1,{style:tableHeaderStyle,value:"#"}),jsx(Header$1,{style:tableHeaderStyle,value:"Time"}),jsx(Header$1,{style:tableHeaderStyle,value:"Label"}),jsx(Header$1,{style:tableHeaderStyle,value:"Message"})]}),nt.map(it=>{const ot={backgroundColor:getRowColor(it.level)};return jsxs(Table.Row,{style:ot,children:[jsx(Number$1,{value:it.id}),jsx(Text,{value:logsDataFormat.format(it.time)}),jsx(Text,{value:it.levelLabel}),jsx(Text,{value:it.message})]},it.id)})]})}):jsx("div",{className:"no-log",children:"Nothing to see for now."})})}),jsx(DialogFooter,{minimal:!0,actions:jsx(Button,{icon:jsx(FaTrash,{}),intent:"danger",onClick:rt,children:"Clear logs"})})]})})}const LogModal$1=reactExports.memo(LogModal);function useDefaultOptions(_e){const et=useData(),tt=useView(),{editMode:rt}=tt,nt=reactExports.useMemo(()=>{if(rt===null)return null;const{identifier:it,opIdentifier:ot}=rt,at=et.images[it].pipeline.find(st=>st.identifier===ot);if(at===void 0)return null;if("options"in at)return at.options},[et.images,rt]);return{defaultOptions:nt??_e,editing:nt!==null,opIdentifier:(rt==null?void 0:rt.opIdentifier)??void 0}}const PreviewModalStyle=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 75vw;
  max-height: 75vh;
  height: 75vh;
`,ImageViewerContainer=newStyled.div`
  width: 30%;
  flex-grow: 3;
  border: 1px solid #9e9e9e;
  border-radius: 4px;
`,AlgorithmError=newStyled.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;

  color: red;
  font-size: 1.25rem;
  font-weight: bold;
`,CenterColumn=newStyled.div`
  flex-grow: 1;
  padding-inline: 20px;
`;function PreviewModal({isOpenDialog:_e,closeDialog:et,children:tt=null,title:rt,viewIdentifier:nt,apply:it,original:ot,preview:at,editing:st,algoError:lt=void 0}){const ct=useViewDispatch(),ut=reactExports.useCallback(()=>{ct({type:SET_EDIT_MODE_IDENTIFIER,payload:null}),it()},[it,ct]);return jsx(Dialog,{title:st?`Editing : ${rt}`:rt,isOpen:_e,onClose:et,style:{width:"fit-content"},children:jsxs(PreviewModalStyle,{children:[jsx(DialogBody,{children:jsxs(StyledModalBody,{children:[jsx(ImageViewerContainer,{children:jsx(ImageViewer$1,{identifier:nt,image:ot})}),jsx(CenterColumn,{children:tt}),jsx(ImageViewerContainer,{children:at===null?jsxs(AlgorithmError,{children:["Error running algorithm",lt&&`: ${lt}`]}):jsx(ImageViewer$1,{identifier:nt,image:at})})]})}),jsx(DialogFooter,{minimal:!0,actions:jsx(Button,{intent:"primary",onClick:ut,children:st?"Edit operation":"Add operation"})})]})})}const PreviewModal$1=reactExports.memo(PreviewModal);function BlurModal({previewImageIdentifier:_e}){var ht,yt,gt,xt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({width:1,height:1,borderType:BorderType.REFLECT_101,borderValue:void 0}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return nt.blur(it)}catch(_t){return st(_t.message),null}return null},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("blur"),dt=reactExports.useCallback(()=>{ct({type:SET_BLUR,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[it,ft,ct,rt,_e]),pt=reactExports.useMemo(()=>Object.keys(BorderType).map(_t=>({label:BorderType[_t],value:BorderType[_t]})),[]),[mt,vt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Blur image",viewIdentifier:"__blur_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Kernel width",children:jsx(InputGroup,{type:"number",name:"kernelWidth",step:2,min:1,value:(ht=it.width)==null?void 0:ht.toString(),onChange:_t=>{ot({...it,width:_t.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Kernel height",children:jsx(InputGroup,{type:"number",name:"kernelHeight",step:2,min:1,value:(yt=it.height)==null?void 0:yt.toString(),onChange:_t=>{ot({...it,height:_t.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Border type",children:jsx(Select,{filterable:!1,activeItem:pt.find(_t=>_t.value===it.borderType),items:pt,itemRenderer:(_t,{handleClick:wt,modifiers:Et})=>jsx(MenuItem,{text:_t.label,onClick:wt,active:Et.active,disabled:Et.disabled,selected:_t.value===it.borderType},_t.value),onItemSelect:_t=>{vt(_t.label),ot({...it,borderType:_t.value})},children:jsx(Button$1,{text:mt??((gt=pt.find(_t=>_t.value===it.borderType))==null?void 0:gt.label),rightIcon:"double-caret-vertical"})})}),it.borderType===BorderType.CONSTANT&&jsx(InputGroup,{type:"number",name:"borderValue",value:(xt=it.borderValue)==null?void 0:xt.toString(),onChange:_t=>{ot({...it,borderValue:_t.target.valueAsNumber})}})]})}const BlurModal$1=reactExports.memo(BlurModal),Container=newStyled.div`
  overflow-y: auto;
  height: 100%;
`,List=newStyled.ul`
  display: flex;
  flex-direction: column;
  border-radius: 6px;
`,ListElement=newStyled.li`
  padding: 10px;
  border: 1px solid #9e9e9e;
  border-top-width: 0px;
  width: 100%;
  height: 100%;
  font-size: 1.125rem;
  display: flex;
  justify-content: center;
  align-items: center;

  &:first-of-type {
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
    border-top-width: 1px;
  }

  &:last-of-type {
    border-bottom-left-radius: 6px;
    border-bottom-right-radius: 6px;
  }

  background-color: ${({selected:_e})=>_e?"royalblue":"white"};
  color: ${({selected:_e})=>_e?"white":"black"};
`;function FastSelector({options:_e,selected:et,setSelected:tt}){const rt=_e.reduce((ot,at)=>(ot[at]=reactExports.createRef(),ot),{}),nt=reactExports.useCallback(ot=>{var at;tt(ot),(at=rt[ot].current)==null||at.scrollIntoView({behavior:"smooth",block:"nearest"})},[rt,tt]),it=useKbs([{shortcut:"ArrowUp",handler:()=>{if(et===void 0)return nt(_e[0]);const ot=_e.indexOf(et);ot!==-1&&ot!==0&&nt(_e[ot-1])}},{shortcut:"ArrowDown",handler:()=>{if(et===void 0){const at=_e.at(-1)||_e[0];return nt(at)}const ot=_e.indexOf(et);ot!==-1&&ot!==_e.length-1&&nt(_e[ot+1])}}]);return jsx(Container,{...it,children:jsx(List,{children:_e.map(ot=>jsx(ListElement,{selected:ot===et,onClick:()=>tt(ot),ref:rt[ot],children:ot},ot))})})}function ExploreGreyModal({previewImageIdentifier:_e}){const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({algorithm:GreyAlgorithm.LUMA_709}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return nt.grey(it)}catch(pt){return st(pt.message),null}return null},[nt,it]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("grey"),dt=reactExports.useCallback(()=>{ct({type:SET_GREY_FILTER,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,it,rt,_e]);return jsx(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Explore grey filters",viewIdentifier:"__grey_filter_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:jsx(FastSelector,{options:Object.values(GreyAlgorithm),selected:it.algorithm,setSelected:pt=>ot({algorithm:pt})})})}const ExploreGreyModal$1=reactExports.memo(ExploreGreyModal);function FlipModal({previewImageIdentifier:_e}){var ht;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({axis:"horizontal"}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),at=reactExports.useMemo(()=>[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Both",value:"both"}],[]),[st,lt]=reactExports.useState(),ct=reactExports.useMemo(()=>{if(lt(void 0),nt instanceof Image$1)try{return nt.flip(it)}catch(yt){return lt(yt.message),null}return null},[it,nt]),ut=useDataDispatch(),{isOpen:ft,close:dt}=useModal("flip"),pt=reactExports.useCallback(()=>{ut({type:SET_FLIP,payload:{identifier:_e,opIdentifier:rt,options:it}}),dt()},[dt,ut,rt,it,_e]),[mt,vt]=reactExports.useState();return jsx(PreviewModal$1,{closeDialog:dt,isOpenDialog:ft,title:"Flip image",viewIdentifier:"__flip_preview",apply:pt,original:nt,preview:ct,editing:tt,algoError:st,children:jsx(FormGroup,{label:"Axis",children:jsx(Select,{filterable:!1,activeItem:at.find(yt=>yt.value===it.axis),items:at,itemRenderer:(yt,{handleClick:gt,modifiers:xt})=>jsx(MenuItem,{text:yt.label,onClick:gt,active:xt.active,disabled:xt.disabled,selected:yt.value===it.axis},yt.value),onItemSelect:yt=>{vt(yt.label),ot({axis:yt.value})},children:jsx(Button$1,{text:mt??((ht=at.find(yt=>yt.value===it.axis))==null?void 0:ht.label),rightIcon:"double-caret-vertical"})})})})}const FlipModal$1=reactExports.memo(FlipModal),RowInputs$1=newStyled.div`
  display: flex;
  justify-content: space-between;
`;function GaussianBlurModal({previewImageIdentifier:_e}){var ht,yt,gt,xt,_t;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({sigmaX:1,sigmaY:1,sizeX:1,sizeY:1,borderType:"reflect"}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return nt.gaussianBlur(it)}catch(wt){return st(wt.message),null}return null},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("gaussianBlur"),dt=reactExports.useCallback(()=>{ct({type:SET_GAUSSIAN_BLUR,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ct,_e,rt,it,ft]),pt=reactExports.useMemo(()=>Object.keys(BorderType).map(wt=>({label:BorderType[wt],value:BorderType[wt]})),[]),[mt,vt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Gaussian blur image",viewIdentifier:"__gaussian_blur_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsxs(RowInputs$1,{children:[jsx(FormGroup,{label:"Sigma X",children:jsx(InputGroup,{type:"number",name:"sigmaX",value:(ht=it.sigmaX)==null?void 0:ht.toString(),onChange:wt=>{ot({...it,sigmaX:wt.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Sigma Y",children:jsx(InputGroup,{type:"number",name:"sigmaY",value:(yt=it.sigmaY)==null?void 0:yt.toString(),onChange:wt=>{ot({...it,sigmaY:wt.target.valueAsNumber})}})})]}),jsxs(RowInputs$1,{children:[jsx(FormGroup,{label:"Size X",children:jsx(InputGroup,{type:"number",name:"sizeX",min:1,step:2,value:(gt=it.sizeX)==null?void 0:gt.toString(),onChange:wt=>{ot({...it,sizeX:wt.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Size Y",children:jsx(InputGroup,{type:"number",name:"sizeY",min:1,step:2,value:(xt=it.sizeY)==null?void 0:xt.toString(),onChange:wt=>{ot({...it,sizeY:wt.target.valueAsNumber})}})})]}),jsx(FormGroup,{label:"Border type",children:jsx(Select,{filterable:!1,activeItem:pt.find(wt=>wt.value===it.borderType),items:pt,itemRenderer:(wt,{handleClick:Et,modifiers:St})=>jsx(MenuItem,{text:wt.label,onClick:Et,active:St.active,disabled:St.disabled,selected:wt.value===it.borderType},wt.value),onItemSelect:wt=>{vt(wt.label),ot({...it,borderType:wt.value})},children:jsx(Button$1,{text:mt??((_t=pt.find(wt=>wt.value===it.borderType))==null?void 0:_t.label),rightIcon:"double-caret-vertical"})})})]})}const GaussianBlurModal$1=reactExports.memo(GaussianBlurModal);function InvertModal({previewImageIdentifier:_e}){const{editing:et,opIdentifier:tt}=useDefaultOptions(void 0),{pipelined:rt}=useImage(tt),nt=reactExports.useMemo(()=>rt.invert(),[rt]),it=useDataDispatch(),{isOpen:ot,close:at}=useModal("invert"),st=reactExports.useCallback(()=>{it({type:SET_INVERT,payload:{identifier:_e,opIdentifier:tt}}),at()},[at,it,tt,_e]);return jsx(PreviewModal$1,{closeDialog:at,isOpenDialog:ot,title:"Invert image",viewIdentifier:"__invert_preview",apply:st,original:rt,preview:nt,editing:et})}const InvertModal$1=reactExports.memo(InvertModal),RowInputs=newStyled.div`
  display: flex;
  justify-content: space-between;
`;function LevelModal({previewImageIdentifier:_e}){var mt,vt,ht,yt,gt,xt;const et=useView(),{pipelined:tt}=useImage((mt=et.editMode)==null?void 0:mt.opIdentifier),{defaultOptions:rt,editing:nt,opIdentifier:it}=useDefaultOptions({channels:times$1(tt.components,_t=>_t),inputMin:0,inputMax:tt.maxValue,outputMin:0,outputMax:tt.maxValue,gamma:1}),[ot,at]=reactExports.useState(rt),[st,lt]=reactExports.useState(),ct=reactExports.useMemo(()=>{if(lt(void 0),tt instanceof Image$1)try{return tt.level(ot)}catch(_t){return lt(_t.message),null}return null},[ot,tt]),ut=useDataDispatch(),{isOpen:ft,close:dt}=useModal("level"),pt=reactExports.useCallback(()=>{ut({type:SET_LEVEL,payload:{identifier:_e,opIdentifier:it,options:ot}}),dt()},[dt,ut,it,ot,_e]);return jsxs(PreviewModal$1,{closeDialog:dt,isOpenDialog:ft,title:"Level image",viewIdentifier:"__level_preview",apply:pt,original:tt,preview:ct,editing:nt,algoError:st,children:[jsx(FormGroup,{label:"Level",children:times$1(tt.components,_t=>jsx(Checkbox,{inline:!0,label:`Channel ${channelLabels[tt.colorModel][_t]}`,checked:ot.channels.includes(_t),onChange:wt=>at({...ot,channels:wt.target.checked?[...ot.channels,_t]:ot.channels.filter(Et=>Et!==_t)})},_t))}),jsxs(RowInputs,{children:[jsx(FormGroup,{label:"Input min",children:jsx(InputGroup,{type:"number",value:(vt=ot.inputMin)==null?void 0:vt.toString(),onChange:_t=>at({...ot,inputMin:_t.target.valueAsNumber})})}),jsx(FormGroup,{label:"Input max",children:jsx(InputGroup,{type:"number",value:(ht=ot.inputMax)==null?void 0:ht.toString(),onChange:_t=>at({...ot,inputMax:_t.target.valueAsNumber})})})]}),jsxs(RowInputs,{children:[jsx(FormGroup,{label:"Output min",children:jsx(InputGroup,{type:"number",value:(yt=ot.outputMin)==null?void 0:yt.toString(),onChange:_t=>at({...ot,outputMin:_t.target.valueAsNumber})})}),jsx(FormGroup,{label:"Output max",children:jsx(InputGroup,{type:"number",value:(gt=ot.outputMax)==null?void 0:gt.toString(),onChange:_t=>at({...ot,outputMax:_t.target.valueAsNumber})})})]}),jsx(FormGroup,{label:"Gamma",children:jsx(InputGroup,{type:"number",value:(xt=ot.gamma)==null?void 0:xt.toString(),onChange:_t=>at({...ot,gamma:_t.target.valueAsNumber})})})]})}const LevelModal$1=reactExports.memo(LevelModal);function MedianFilterModal({previewImageIdentifier:_e}){var ht,yt,gt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({cellSize:1,borderType:BorderType.REFLECT_101,borderValue:void 0}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return nt.medianFilter(it)}catch(xt){return st(xt.message),null}return null},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("median"),dt=reactExports.useCallback(()=>{ct({type:SET_MEDIAN_FILTER,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ct,_e,rt,it,ft]),pt=reactExports.useMemo(()=>Object.keys(BorderType).map(xt=>({label:BorderType[xt],value:BorderType[xt]})),[]),[mt,vt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Median filter",viewIdentifier:"__median_filter_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Cell size",children:jsx(InputGroup,{type:"number",step:2,min:1,value:(ht=it.cellSize)==null?void 0:ht.toString(),onChange:xt=>{ot({...it,cellSize:xt.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Border type",children:jsx(Select,{filterable:!1,activeItem:pt.find(xt=>xt.value===it.borderType),items:pt,itemRenderer:(xt,{handleClick:_t,modifiers:wt})=>jsx(MenuItem,{text:xt.label,onClick:_t,active:wt.active,disabled:wt.disabled,selected:xt.value===it.borderType},xt.value),onItemSelect:xt=>{vt(xt.label),ot({...it,borderType:xt.value})},children:jsx(Button$1,{text:mt??((yt=pt.find(xt=>xt.value===it.borderType))==null?void 0:yt.label),rightIcon:"double-caret-vertical"})})}),it.borderType===BorderType.CONSTANT&&jsx(InputGroup,{type:"number",name:"borderValue",value:(gt=it.borderValue)==null?void 0:gt.toString(),onChange:xt=>{ot({...it,borderValue:xt.target.valueAsNumber})}})]})}const MedianFilterModal$1=reactExports.memo(MedianFilterModal);function PixelateModal({previewImageIdentifier:_e}){var ht,yt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({cellSize:2,algorithm:"center"}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),at=reactExports.useMemo(()=>[{label:"Center",value:"center"},{label:"Mean",value:"mean"},{label:"Median",value:"median"}],[]),[st,lt]=reactExports.useState(),ct=reactExports.useMemo(()=>{if(lt(void 0),nt instanceof Image$1)try{return nt.pixelate(it)}catch(gt){return lt(gt.message),null}return null},[it,nt]),ut=useDataDispatch(),{isOpen:ft,close:dt}=useModal("pixelate"),pt=reactExports.useCallback(()=>{ut({type:SET_PIXELATE,payload:{identifier:_e,opIdentifier:rt,options:it}}),dt()},[dt,ut,rt,it,_e]),[mt,vt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:dt,isOpenDialog:ft,title:"Pixelate image",viewIdentifier:"__pixelate_preview",apply:pt,original:nt,preview:ct,editing:tt,algoError:st,children:[jsx(FormGroup,{label:"Cell size",children:jsx(InputGroup,{type:"number",min:2,value:(ht=it.cellSize)==null?void 0:ht.toString(),onChange:gt=>ot({...it,cellSize:gt.target.valueAsNumber})})}),jsx(FormGroup,{label:"Algorithm",children:jsx(Select,{filterable:!1,activeItem:at.find(gt=>gt.value===it.algorithm),items:at,itemRenderer:(gt,{handleClick:xt,modifiers:_t})=>jsx(MenuItem,{text:gt.label,onClick:xt,active:_t.active,disabled:_t.disabled,selected:gt.value===it.algorithm},gt.value),onItemSelect:gt=>{vt(gt.label),ot({...it,algorithm:gt.value})},children:jsx(Button$1,{text:mt??((yt=at.find(gt=>gt.value===it.algorithm))==null?void 0:yt.label),rightIcon:"double-caret-vertical"})})})]})}const PixelateModal$1=reactExports.memo(PixelateModal);function ResizeModal({previewImageIdentifier:_e}){var xt,_t,wt,Et,St;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({width:0,height:0,preserveAspectRatio:!0,interpolationType:"bilinear",borderType:BorderType.CONSTANT,borderValue:0}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState({...et});reactExports.useEffect(()=>{ot(Ct=>({...Ct,width:nt.width,height:nt.height}))},[nt]);const[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return nt.resize(it)}catch(Ct){return st(Ct.message),null}return null},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("resize"),dt=reactExports.useCallback(()=>{ct({type:SET_RESIZE,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,rt,_e,it]),pt=reactExports.useMemo(()=>Object.keys(BorderType).map(Ct=>({label:BorderType[Ct],value:BorderType[Ct]})),[]),mt=reactExports.useMemo(()=>Object.keys(InterpolationType).map(Ct=>({label:InterpolationType[Ct],value:InterpolationType[Ct]})),[]),[vt,ht]=reactExports.useState(),[yt,gt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Resize image",viewIdentifier:"__resize_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(Checkbox,{label:"Preserve aspect ratio",alignIndicator:"right",checked:it.preserveAspectRatio,onChange:Ct=>ot({...it,preserveAspectRatio:Ct.target.checked})}),jsx(FormGroup,{label:"Output width",children:jsx(InputGroup,{type:"number",name:"outputWidth",value:(xt=it.width)==null?void 0:xt.toString(),onChange:Ct=>{const bt=(it.width??0)/(it.height??1);ot({...it,width:Ct.target.valueAsNumber,height:it.preserveAspectRatio?Math.round((Ct.target.valueAsNumber??0)/bt):it.height})}})}),jsx(FormGroup,{label:"Output height",children:jsx(InputGroup,{type:"number",name:"outputHeight",value:(_t=it.height)==null?void 0:_t.toString(),onChange:Ct=>{const bt=(it.width??0)/(it.height??1);ot({...it,height:Ct.target.valueAsNumber,width:it.preserveAspectRatio?Math.round((Ct.target.valueAsNumber??0)*bt):it.width})}})}),jsx(FormGroup,{label:"Interpolation type",children:jsx(Select,{filterable:!1,activeItem:mt.find(Ct=>Ct.value===it.interpolationType),items:mt,itemRenderer:(Ct,{handleClick:bt,modifiers:At})=>jsx(MenuItem,{text:Ct.label,onClick:bt,active:At.active,disabled:At.disabled,selected:Ct.value===it.interpolationType},Ct.value),onItemSelect:Ct=>{ht(Ct.label),ot({...it,interpolationType:Ct.value})},children:jsx(Button$1,{text:vt??((wt=mt.find(Ct=>Ct.value===it.interpolationType))==null?void 0:wt.label),rightIcon:"double-caret-vertical"})})}),jsx(FormGroup,{label:"Border type",children:jsx(Select,{filterable:!1,activeItem:pt.find(Ct=>Ct.value===it.borderType),items:pt,itemRenderer:(Ct,{handleClick:bt,modifiers:At})=>jsx(MenuItem,{text:Ct.label,onClick:bt,active:At.active,disabled:At.disabled,selected:Ct.value===it.borderType},Ct.value),onItemSelect:Ct=>{gt(Ct.value),ot({...it,borderType:Ct.value})},children:jsx(Button$1,{text:yt??((Et=pt.find(Ct=>Ct.value===it.borderType))==null?void 0:Et.label),rightIcon:"double-caret-vertical"})})}),it.borderType===BorderType.CONSTANT&&jsx(FormGroup,{label:"Border value",children:jsx(InputGroup,{type:"number",name:"borderValue",value:(St=it.borderValue)==null?void 0:St.toString(),onChange:Ct=>{ot({...it,borderValue:Ct.target.valueAsNumber})}})})]})}const ResizeModal$1=reactExports.memo(ResizeModal);function RotateModal({previewImageIdentifier:_e}){var ht;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({angle:0,clockwise:!0}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Image$1)try{return it.angle===0?nt:nt.rotate(it.angle*(it.clockwise?1:-1))}catch(yt){return st(yt.message),null}return null},[nt,it.angle,it.clockwise]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("rotate"),dt=reactExports.useCallback(()=>{ct({type:SET_ROTATE,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,rt,_e,it]),pt=reactExports.useMemo(()=>[0,90,180,270].map(yt=>({label:`${yt}`,value:`${yt}`})),[]),[mt,vt]=reactExports.useState();return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Rotate image",viewIdentifier:"__rotate_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(Checkbox,{label:"Clockwise",alignIndicator:"right",checked:it.clockwise,onChange:yt=>ot({...it,clockwise:yt.target.checked})}),jsx(FormGroup,{label:"Angle",children:jsx(Select,{filterable:!1,activeItem:pt.find(yt=>yt.value===`${it.angle}`),items:pt,itemRenderer:(yt,{handleClick:gt,modifiers:xt})=>jsx(MenuItem,{text:yt.label,onClick:gt,active:xt.active,disabled:xt.disabled,selected:yt.value===`${it.angle}`},yt.value),onItemSelect:yt=>{yt!==void 0&&(vt(yt.label),ot({...it,angle:Number.parseInt(yt.value,10)}))},children:jsx(Button$1,{text:mt??((ht=pt.find(yt=>yt.value===`${it.angle}`))==null?void 0:ht.label),rightIcon:"double-caret-vertical"})})})]})}const RotateModal$1=reactExports.memo(RotateModal);function ExploreMaskModal({previewImageIdentifier:_e}){const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({algorithm:ThresholdAlgorithm.HUANG,slots:256}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState(et),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{if(st(void 0),nt instanceof Mask)return nt;try{return nt.threshold(it)}catch(pt){return st(pt.message),null}},[nt,it]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("mask"),dt=reactExports.useCallback(()=>{ct({type:SET_MASK,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ct,_e,rt,it,ft]);return jsx(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Explore mask",viewIdentifier:"__mask_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:jsx(FastSelector,{options:Object.values(ThresholdAlgorithm),selected:it.algorithm,setSelected:pt=>ot({...it,algorithm:pt})})})}const ExploreMaskModal$1=reactExports.memo(ExploreMaskModal);function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(_e,et){return _e===et||_e!==_e&&et!==et}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(_e,et){for(var tt=_e.length;tt--;)if(eq$1(_e[tt][0],et))return tt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(_e){var et=this.__data__,tt=assocIndexOf$3(et,_e);if(tt<0)return!1;var rt=et.length-1;return tt==rt?et.pop():splice.call(et,tt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(_e){var et=this.__data__,tt=assocIndexOf$2(et,_e);return tt<0?void 0:et[tt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(_e){return assocIndexOf$1(this.__data__,_e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(_e,et){var tt=this.__data__,rt=assocIndexOf(tt,_e);return rt<0?(++this.size,tt.push([_e,et])):tt[rt][1]=et,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(_e){var et=this.__data__,tt=et.delete(_e);return this.size=et.size,tt}var _stackDelete=stackDelete$1;function stackGet$1(_e){return this.__data__.get(_e)}var _stackGet=stackGet$1;function stackHas$1(_e){return this.__data__.has(_e)}var _stackHas=stackHas$1,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var _e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function isMasked$1(_e){return!!maskSrcKey&&maskSrcKey in _e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(_e){if(_e!=null){try{return funcToString$1.call(_e)}catch{}try{return _e+""}catch{}}return""}var _toSource=toSource$2,isFunction=isFunction_1,isMasked=_isMasked,isObject$4=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$6=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$6.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$5).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(_e){if(!isObject$4(_e)||isMasked(_e))return!1;var et=isFunction(_e)?reIsNative:reIsHostCtor;return et.test(toSource$1(_e))}var _baseIsNative=baseIsNative$1;function getValue$1(_e,et){return _e==null?void 0:_e[et]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(_e,et){var tt=getValue(_e,et);return baseIsNative(tt)?tt:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$4=getNative$6(root$6,"Map"),_Map=Map$4,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(_e){var et=this.has(_e)&&delete this.__data__[_e];return this.size-=et?1:0,et}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashGet$1(_e){var et=this.__data__;if(nativeCreate$2){var tt=et[_e];return tt===HASH_UNDEFINED$1?void 0:tt}return hasOwnProperty$4.call(et,_e)?et[_e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas$1(_e){var et=this.__data__;return nativeCreate$1?et[_e]!==void 0:hasOwnProperty$3.call(et,_e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet$1(_e,et){var tt=this.__data__;return this.size+=this.has(_e)?0:1,tt[_e]=nativeCreate&&et===void 0?HASH_UNDEFINED:et,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(_e){var et=typeof _e;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?_e!=="__proto__":_e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(_e,et){var tt=_e.__data__;return isKeyable(et)?tt[typeof et=="string"?"string":"hash"]:tt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(_e){var et=getMapData$3(this,_e).delete(_e);return this.size-=et?1:0,et}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(_e){return getMapData$2(this,_e).get(_e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(_e){return getMapData$1(this,_e).has(_e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(_e,et){var tt=getMapData(this,_e),rt=tt.size;return tt.set(_e,et),this.size+=tt.size==rt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$1(_e){var et=-1,tt=_e==null?0:_e.length;for(this.clear();++et<tt;){var rt=_e[et];this.set(rt[0],rt[1])}}MapCache$1.prototype.clear=mapCacheClear;MapCache$1.prototype.delete=mapCacheDelete;MapCache$1.prototype.get=mapCacheGet;MapCache$1.prototype.has=mapCacheHas;MapCache$1.prototype.set=mapCacheSet;var _MapCache=MapCache$1,ListCache$1=_ListCache,Map$2=_Map,MapCache=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(_e,et){var tt=this.__data__;if(tt instanceof ListCache$1){var rt=tt.__data__;if(!Map$2||rt.length<LARGE_ARRAY_SIZE-1)return rt.push([_e,et]),this.size=++tt.size,this;tt=this.__data__=new MapCache(rt)}return tt.set(_e,et),this.size=tt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(_e){var et=this.__data__=new ListCache(_e);this.size=et.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,getNative$4=_getNative,defineProperty$1=function(){try{var _e=getNative$4(Object,"defineProperty");return _e({},"",{}),_e}catch{}}(),_defineProperty=defineProperty$1,defineProperty=_defineProperty;function baseAssignValue$2(_e,et,tt){et=="__proto__"&&defineProperty?defineProperty(_e,et,{configurable:!0,enumerable:!0,value:tt,writable:!0}):_e[et]=tt}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function assignValue$2(_e,et,tt){var rt=_e[et];(!(hasOwnProperty$2.call(_e,et)&&eq(rt,tt))||tt===void 0&&!(et in _e))&&baseAssignValue$1(_e,et,tt)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$4(_e,et,tt,rt){var nt=!tt;tt||(tt={});for(var it=-1,ot=et.length;++it<ot;){var at=et[it],st=rt?rt(tt[at],_e[at],at,tt,_e):void 0;st===void 0&&(st=_e[at]),nt?baseAssignValue(tt,at,st):assignValue$1(tt,at,st)}return tt}var _copyObject=copyObject$4,copyObject$3=_copyObject,keys$2=keys_1;function baseAssign$1(_e,et){return _e&&copyObject$3(et,keys$2(et),_e)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(_e){var et=[];if(_e!=null)for(var tt in Object(_e))et.push(tt);return et}var _nativeKeysIn=nativeKeysIn$1,isObject$3=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty;function baseKeysIn$1(_e){if(!isObject$3(_e))return nativeKeysIn(_e);var et=isPrototype$1(_e),tt=[];for(var rt in _e)rt=="constructor"&&(et||!hasOwnProperty$1.call(_e,rt))||tt.push(rt);return tt}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(_e){return isArrayLike(_e)?arrayLikeKeys(_e,!0):baseKeysIn(_e)}var keysIn_1=keysIn$3,copyObject$2=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(_e,et){return _e&&copyObject$2(et,keysIn$2(et),_e)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(_e,et){var tt=_root,rt=et&&!et.nodeType&&et,nt=rt&&!0&&_e&&!_e.nodeType&&_e,it=nt&&nt.exports===rt,ot=it?tt.Buffer:void 0,at=ot?ot.allocUnsafe:void 0;function st(lt,ct){if(ct)return lt.slice();var ut=lt.length,ft=at?at(ut):new lt.constructor(ut);return lt.copy(ft),ft}_e.exports=st})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$1(_e,et){var tt=-1,rt=_e.length;for(et||(et=Array(rt));++tt<rt;)et[tt]=_e[tt];return et}var _copyArray=copyArray$1;function arrayFilter$1(_e,et){for(var tt=-1,rt=_e==null?0:_e.length,nt=0,it=[];++tt<rt;){var ot=_e[tt];et(ot,tt,_e)&&(it[nt++]=ot)}return it}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$1=Object.prototype,propertyIsEnumerable=objectProto$1.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(_e){return _e==null?[]:(_e=Object(_e),arrayFilter(nativeGetSymbols$1(_e),function(et){return propertyIsEnumerable.call(_e,et)}))}:stubArray$1,_getSymbols=getSymbols$3,copyObject$1=_copyObject,getSymbols$2=_getSymbols;function copySymbols$1(_e,et){return copyObject$1(_e,getSymbols$2(_e),et)}var _copySymbols=copySymbols$1;function arrayPush$2(_e,et){for(var tt=-1,rt=et.length,nt=_e.length;++tt<rt;)_e[nt+tt]=et[tt];return _e}var _arrayPush=arrayPush$2,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush$1=_arrayPush,getPrototype$1=_getPrototype,getSymbols$1=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(_e){for(var et=[];_e;)arrayPush$1(et,getSymbols$1(_e)),_e=getPrototype$1(_e);return et}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(_e,et){return copyObject(_e,getSymbolsIn$1(_e),et)}var _copySymbolsIn=copySymbolsIn$1,arrayPush=_arrayPush,isArray$1=isArray_1;function baseGetAllKeys$2(_e,et,tt){var rt=et(_e);return isArray$1(_e)?rt:arrayPush(rt,tt(_e))}var _baseGetAllKeys=baseGetAllKeys$2,baseGetAllKeys$1=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1(_e){return baseGetAllKeys$1(_e,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(_e){return baseGetAllKeys(_e,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,getNative$3=_getNative,root$5=_root,DataView$2=getNative$3(root$5,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$4=_root,Promise$2=getNative$2(root$4,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$3=_root,Set$2=getNative$1(root$3,"Set"),_Set=Set$2,getNative=_getNative,root$2=_root,WeakMap$2=getNative(root$2,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$3=baseGetTag;(DataView$1&&getTag$3(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$3(new Map$1)!=mapTag$3||Promise$1&&getTag$3(Promise$1.resolve())!=promiseTag||Set$1&&getTag$3(new Set$1)!=setTag$3||WeakMap$1&&getTag$3(new WeakMap$1)!=weakMapTag$1)&&(getTag$3=function(_e){var et=baseGetTag(_e),tt=et==objectTag$1?_e.constructor:void 0,rt=tt?toSource(tt):"";if(rt)switch(rt){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return et});var _getTag=getTag$3,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(_e){var et=_e.length,tt=new _e.constructor(et);return et&&typeof _e[0]=="string"&&hasOwnProperty.call(_e,"index")&&(tt.index=_e.index,tt.input=_e.input),tt}var _initCloneArray=initCloneArray$1,root$1=_root,Uint8Array$2=root$1.Uint8Array,_Uint8Array=Uint8Array$2,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(_e){var et=new _e.constructor(_e.byteLength);return new Uint8Array$1(et).set(new Uint8Array$1(_e)),et}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(_e,et){var tt=et?cloneArrayBuffer$2(_e.buffer):_e.buffer;return new _e.constructor(tt,_e.byteOffset,_e.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(_e){var et=new _e.constructor(_e.source,reFlags.exec(_e));return et.lastIndex=_e.lastIndex,et}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(_e){return symbolValueOf?Object(symbolValueOf.call(_e)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(_e,et){var tt=et?cloneArrayBuffer$1(_e.buffer):_e.buffer;return new _e.constructor(tt,_e.byteOffset,_e.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(_e,et,tt){var rt=_e.constructor;switch(et){case arrayBufferTag$1:return cloneArrayBuffer(_e);case boolTag$1:case dateTag$1:return new rt(+_e);case dataViewTag$1:return cloneDataView(_e,tt);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(_e,tt);case mapTag$2:return new rt;case numberTag$1:case stringTag$1:return new rt(_e);case regexpTag$1:return cloneRegExp(_e);case setTag$2:return new rt;case symbolTag$1:return cloneSymbol(_e)}}var _initCloneByTag=initCloneByTag$1,isObject$2=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function _e(){}return function(et){if(!isObject$2(et))return{};if(objectCreate)return objectCreate(et);_e.prototype=et;var tt=new _e;return _e.prototype=void 0,tt}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(_e){return typeof _e.constructor=="function"&&!isPrototype(_e)?baseCreate(getPrototype(_e)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$1=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(_e){return isObjectLike$1(_e)&&getTag$2(_e)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(_e){return isObjectLike(_e)&&getTag$1(_e)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject$1=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(_e,et,tt,rt,nt,it){var ot,at=et&CLONE_DEEP_FLAG$1,st=et&CLONE_FLAT_FLAG,lt=et&CLONE_SYMBOLS_FLAG$1;if(tt&&(ot=nt?tt(_e,rt,nt,it):tt(_e)),ot!==void 0)return ot;if(!isObject$1(_e))return _e;var ct=isArray(_e);if(ct){if(ot=initCloneArray(_e),!at)return copyArray(_e,ot)}else{var ut=getTag(_e),ft=ut==funcTag||ut==genTag;if(isBuffer(_e))return cloneBuffer(_e,at);if(ut==objectTag||ut==argsTag||ft&&!nt){if(ot=st||ft?{}:initCloneObject(_e),!at)return st?copySymbolsIn(_e,baseAssignIn(ot,_e)):copySymbols(_e,baseAssign(ot,_e))}else{if(!cloneableTags[ut])return nt?_e:{};ot=initCloneByTag(_e,ut,at)}}it||(it=new Stack);var dt=it.get(_e);if(dt)return dt;it.set(_e,ot),isSet(_e)?_e.forEach(function(vt){ot.add(baseClone$1(vt,et,tt,vt,_e,it))}):isMap(_e)&&_e.forEach(function(vt,ht){ot.set(ht,baseClone$1(vt,et,tt,ht,_e,it))});var pt=lt?st?getAllKeysIn:getAllKeys:st?keysIn:keys,mt=ct?void 0:pt(_e);return arrayEach(mt||_e,function(vt,ht){mt&&(ht=vt,vt=_e[ht]),assignValue(ot,ht,baseClone$1(vt,et,tt,ht,_e,it))}),ot}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(_e){return baseClone(_e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;const cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1);function changeKernelCell(_e,et,tt,rt){const nt=cloneDeep$1(_e);return nt[tt][et]=rt?1:0,nt}function resizeKernel(_e,et,tt){const rt=cloneDeep$1(_e),nt=tt==="x"?_e[0].length:_e.length;if(et>nt){const it=et-nt;times$1(it,()=>{if(tt==="x")for(const ot of rt)ot.push(0);else rt.push(new Array(et).fill(0))})}else if(et<nt){const it=nt-et;times$1(it,()=>{if(tt==="x")for(const ot of rt)ot.pop();else rt.pop()})}return rt}const KernelRow$3=newStyled.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,KernelGrid$3=newStyled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function CloseModal({previewImageIdentifier:_e}){var pt,mt,vt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({kernel:[[1,1,1],[1,1,1],[1,1,1]],iterations:1}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState({...et}),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{st(void 0);try{return nt.close(it)}catch(ht){return st(ht.message),null}},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("close"),dt=reactExports.useCallback(()=>{ct({type:SET_CLOSE,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,it,rt,_e]);return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Close image",viewIdentifier:"__close_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Iterations",children:jsx(InputGroup,{type:"number",name:"iterations",min:1,value:(pt=it.iterations)==null?void 0:pt.toString(),onChange:ht=>{ot({...it,iterations:ht.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Kernel width",children:jsx(InputGroup,{type:"number",name:"kernelWidth",step:2,min:1,value:(mt=it.kernel[0].length)==null?void 0:mt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"x")})}})}),jsx(FormGroup,{label:"Kernel height",children:jsx(InputGroup,{type:"number",name:"kernelHeight",step:2,min:1,value:(vt=it.kernel.length)==null?void 0:vt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"y")})}})}),jsx(FormGroup,{label:"Kernel",children:jsx(KernelGrid$3,{children:times$1(it.kernel.length,ht=>jsx(KernelRow$3,{children:times$1(it.kernel[0].length,yt=>jsx(Checkbox,{checked:it.kernel[ht][yt]===1,onChange:gt=>ot({...it,kernel:changeKernelCell(it.kernel,yt,ht,gt.target.checked)})},yt))},ht))})})]})}const CloseModal$1=reactExports.memo(CloseModal),KernelRow$2=newStyled.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,KernelGrid$2=newStyled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function DilateModal({previewImageIdentifier:_e}){var pt,mt,vt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({kernel:[[1,1,1],[1,1,1],[1,1,1]],iterations:1}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState({...et}),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{st(void 0);try{return nt.dilate(it)}catch(ht){return st(ht.message),null}},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("dilate"),dt=reactExports.useCallback(()=>{ct({type:SET_DILATE,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,it,rt,_e]);return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Dilate image",viewIdentifier:"__dilate_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Iterations",children:jsx(InputGroup,{type:"number",name:"iterations",min:1,value:(pt=it.iterations)==null?void 0:pt.toString(),onChange:ht=>{ot({...it,iterations:ht.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Kernel width",children:jsx(InputGroup,{type:"number",name:"kernelWidth",step:2,min:1,value:(mt=it.kernel[0].length)==null?void 0:mt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"x")})}})}),jsx(FormGroup,{label:"Kernel height",children:jsx(InputGroup,{type:"number",name:"kernelHeight",step:2,min:1,value:(vt=it.kernel.length)==null?void 0:vt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"y")})}})}),jsx(FormGroup,{label:"Kernel",children:jsx(KernelGrid$2,{children:times$1(it.kernel.length,ht=>jsx(KernelRow$2,{children:times$1(it.kernel[0].length,yt=>jsx(Checkbox,{checked:it.kernel[ht][yt]===1,onChange:gt=>ot({...it,kernel:changeKernelCell(it.kernel,yt,ht,gt.target.checked)})},yt))},ht))})})]})}const DilateModal$1=reactExports.memo(DilateModal),KernelRow$1=newStyled.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,KernelGrid$1=newStyled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function ErodeModal({previewImageIdentifier:_e}){var pt,mt,vt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({kernel:[[1,1,1],[1,1,1],[1,1,1]],iterations:1}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState({...et}),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{st(void 0);try{return nt.erode(it)}catch(ht){return st(ht.message),null}},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("erode"),dt=reactExports.useCallback(()=>{ct({type:SET_ERODE,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,it,rt,_e]);return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Erode image",viewIdentifier:"__erode_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Iterations",children:jsx(InputGroup,{type:"number",name:"iterations",min:1,value:(pt=it.iterations)==null?void 0:pt.toString(),onChange:ht=>{ot({...it,iterations:ht.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Kernel width",children:jsx(InputGroup,{type:"number",name:"kernelWidth",step:2,min:1,value:(mt=it.kernel[0].length)==null?void 0:mt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"x")})}})}),jsx(FormGroup,{label:"Kernel height",children:jsx(InputGroup,{type:"number",name:"kernelHeight",step:2,min:1,value:(vt=it.kernel.length)==null?void 0:vt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"y")})}})}),jsx(FormGroup,{label:"Kernel",children:jsx(KernelGrid$1,{children:times$1(it.kernel.length,ht=>jsx(KernelRow$1,{children:times$1(it.kernel[0].length,yt=>jsx(Checkbox,{checked:it.kernel[ht][yt]===1,onChange:gt=>ot({...it,kernel:changeKernelCell(it.kernel,yt,ht,gt.target.checked)})},yt))},ht))})})]})}const ErodeModal$1=reactExports.memo(ErodeModal),KernelRow=newStyled.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,KernelGrid=newStyled.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`;function OpenModal({previewImageIdentifier:_e}){var pt,mt,vt;const{defaultOptions:et,editing:tt,opIdentifier:rt}=useDefaultOptions({kernel:[[1,1,1],[1,1,1],[1,1,1]],iterations:1}),{pipelined:nt}=useImage(rt),[it,ot]=reactExports.useState({...et}),[at,st]=reactExports.useState(),lt=reactExports.useMemo(()=>{st(void 0);try{return nt.open(it)}catch(ht){return st(ht.message),null}},[it,nt]),ct=useDataDispatch(),{isOpen:ut,close:ft}=useModal("open"),dt=reactExports.useCallback(()=>{ct({type:SET_OPEN,payload:{identifier:_e,opIdentifier:rt,options:it}}),ft()},[ft,ct,it,rt,_e]);return jsxs(PreviewModal$1,{closeDialog:ft,isOpenDialog:ut,title:"Open image",viewIdentifier:"__open_preview",apply:dt,original:nt,preview:lt,editing:tt,algoError:at,children:[jsx(FormGroup,{label:"Iterations",children:jsx(InputGroup,{type:"number",name:"iterations",min:1,value:(pt=it.iterations)==null?void 0:pt.toString(),onChange:ht=>{ot({...it,iterations:ht.target.valueAsNumber})}})}),jsx(FormGroup,{label:"Kernel width",children:jsx(InputGroup,{type:"number",name:"kernelWidth",step:2,min:1,value:(mt=it.kernel[0].length)==null?void 0:mt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"x")})}})}),jsx(FormGroup,{label:"Kernel height",children:jsx(InputGroup,{type:"number",name:"kernelHeight",step:2,min:1,value:(vt=it.kernel.length)==null?void 0:vt.toString(),onChange:ht=>{ot({...it,kernel:resizeKernel(it.kernel,ht.target.valueAsNumber,"y")})}})}),jsx(FormGroup,{label:"Kernel",children:jsx(KernelGrid,{children:times$1(it.kernel.length,ht=>jsx(KernelRow,{children:times$1(it.kernel[0].length,yt=>jsx(Checkbox,{checked:it.kernel[ht][yt]===1,onChange:gt=>ot({...it,kernel:changeKernelCell(it.kernel,yt,ht,gt.target.checked)})},yt))},ht))})})]})}const OpenModal$1=reactExports.memo(OpenModal);function ModalContainer(){const _e=useView(),et=useCurrentTab();return jsxs(Fragment,{children:[et!==void 0&&jsxs(Fragment,{children:[_e.modals.mask&&jsx(ExploreMaskModal$1,{previewImageIdentifier:et}),_e.modals.grey&&jsx(ExploreGreyModal$1,{previewImageIdentifier:et}),_e.modals.blur&&jsx(BlurModal$1,{previewImageIdentifier:et}),_e.modals.gaussianBlur&&jsx(GaussianBlurModal$1,{previewImageIdentifier:et}),_e.modals.invert&&jsx(InvertModal$1,{previewImageIdentifier:et}),_e.modals.flip&&jsx(FlipModal$1,{previewImageIdentifier:et}),_e.modals.level&&jsx(LevelModal$1,{previewImageIdentifier:et}),_e.modals.pixelate&&jsx(PixelateModal$1,{previewImageIdentifier:et}),_e.modals.median&&jsx(MedianFilterModal$1,{previewImageIdentifier:et}),_e.modals.dilate&&jsx(DilateModal$1,{previewImageIdentifier:et}),_e.modals.erode&&jsx(ErodeModal$1,{previewImageIdentifier:et}),_e.modals.open&&jsx(OpenModal$1,{previewImageIdentifier:et}),_e.modals.close&&jsx(CloseModal$1,{previewImageIdentifier:et}),_e.modals.export&&jsx(ExportModal$1,{}),_e.modals.resize&&jsx(ResizeModal$1,{previewImageIdentifier:et}),_e.modals.rotate&&jsx(RotateModal$1,{previewImageIdentifier:et}),_e.modals.extractROI&&jsx(ExtractROIModal$1,{identifier:et})]}),_e.modals.log&&jsx(LogModal$1,{}),_e.modals.about&&jsx(AboutModal$1,{})]})}const ModalContainer$1=reactExports.memo(ModalContainer);function ExportTool(){const _e=useCurrentTab(),{pipelined:et}=useImage(),{logger:tt}=useLog(),{svgRef:rt}=useAnnotationRef(),{open:nt}=useModal("export"),it={id:"export",icon:jsx(FaFileExport,{}),tooltip:"Export"},ot=reactExports.useMemo(()=>[{label:"Export as png",data:"png",type:"option"},{label:"Copy to clipboard",data:"clipboard",type:"option"},{label:"Export as Pixelium file",data:"pixelium",type:"option"}],[]),at=jsx(Menu,{children:ot.map(ft=>jsx(MenuItem,{text:ft.label,onClick:()=>ut(ft)},ft.data))}),st=reactExports.useCallback(async()=>{const ft=rt.current,dt=await svgElementToImage(ft,{width:et.width,height:et.height}),pt=et.colorModel===ImageColorModel.RGBA?et:et.convertColor(ImageColorModel.RGBA);return dt===null?pt:dt.copyTo(pt)},[et,rt]),lt=reactExports.useCallback(async()=>st().then(ft=>saveAsPng(ft,`${_e||"unnamed"}.png`)),[_e,st]),ct=reactExports.useCallback(()=>st().then(ft=>saveToClipboard(ft)),[st]),ut=reactExports.useCallback(ft=>{ft.data==="png"?lt().catch(dt=>tt.error(`Failed to generate PNG: ${dt}`)):ft.data==="clipboard"?ct().catch(dt=>tt.error(`Failed to copy to clipboard: ${dt}`)):ft.data==="pixelium"&&nt()},[ct,lt,tt,nt]);return jsx(Toolbar.PopoverItem,{content:at,itemProps:it})}const ExportTool$1=reactExports.memo(ExportTool);function isColor(_e){return _e.colorModel.includes("RGB")}function FilterTool(){const _e=useViewDispatch(),et=useCurrentTab(),{pipelined:tt}=useImage(),rt={id:"filter",icon:jsx(FaFilter,{}),tooltip:"Filters"},nt=reactExports.useMemo(()=>[{label:"Grey filters",data:"grey",type:"option",disabled:!isColor(tt)},{label:"Blur",data:"blur",type:"option",disabled:isBinary(tt)},{label:"Gaussian blur",data:"gaussianBlur",type:"option",disabled:isBinary(tt)},{label:"Invert",data:"invert",type:"option"},{label:"Flip",data:"flip",type:"option",disabled:isBinary(tt)},{label:"Level",data:"level",type:"option",disabled:isBinary(tt)},{label:"Pixelate",data:"pixelate",type:"option",disabled:isBinary(tt)},{label:"Median filter",data:"median",type:"option",disabled:isBinary(tt)}],[tt]),it=jsx(Menu,{children:nt.map(at=>jsx(MenuItem,{text:at.label,disabled:at.disabled,onClick:()=>ot(at)},at.label))}),ot=reactExports.useCallback(at=>{at.data!==void 0&&_e({type:OPEN_MODAL,payload:at.data})},[_e]);return et===void 0||tt===void 0?null:jsx(Toolbar.PopoverItem,{content:it,itemProps:rt})}const GreyTool=reactExports.memo(FilterTool);function GeometryTool(){const _e=useViewDispatch(),et=useCurrentTab(),{pipelined:tt}=useImage(),rt={id:"geometry",icon:jsx(TbGeometry,{}),tooltip:"Geometry"},nt=reactExports.useMemo(()=>[{label:"Resize",data:"resize",type:"option"},{label:"Rotate",data:"rotate",type:"option"}],[]),it=jsx(Menu,{children:nt.map(at=>jsx(MenuItem,{text:at.label,onClick:()=>ot(at)},at.label))}),ot=reactExports.useCallback(at=>{at.data!==void 0&&_e({type:OPEN_MODAL,payload:at.data})},[_e]);return et===void 0||tt===void 0||isBinary(tt)?null:jsx(Toolbar.PopoverItem,{content:it,itemProps:rt})}const GeometryTool$1=reactExports.memo(GeometryTool),StyledImportInput=newStyled.input`
  display: none;
`;function ImportTool(){const _e=reactExports.useRef(null),et=reactExports.useCallback(()=>{_e.current&&_e.current.click()},[]),{handleFileLoad:tt}=useFileLoader(),rt=reactExports.useCallback(nt=>{tt(nt.target.files)},[tt]);return jsxs(Fragment,{children:[jsx(Toolbar.Item,{tooltip:"Import file",icon:jsx(FaFileImport,{}),onClick:et}),jsx(StyledImportInput,{ref:_e,type:"file",multiple:!0,onChange:rt})]})}const ImportTool$1=reactExports.memo(ImportTool);function isGrey(_e){return _e.colorModel.includes("GREY")}function MaskTool(){const{open:_e}=useModal("mask"),et=useCurrentTab(),{pipelined:tt}=useImage();return et===void 0||tt===void 0||!isGrey(tt)?null:jsx(Toolbar.Item,{tooltip:"Mask",icon:jsx(FaMask,{}),onClick:_e})}const MaskTool$1=reactExports.memo(MaskTool);function MorphologyTool(){const _e=useViewDispatch(),et=useCurrentTab(),{pipelined:tt}=useImage(),rt={id:"morphology",icon:jsx(FaRecordVinyl,{}),tooltip:"Morphology"},nt=reactExports.useMemo(()=>[{label:"Dilate",data:"dilate",type:"option"},{label:"Erode",data:"erode",type:"option"},{label:"Open",data:"open",type:"option"},{label:"Close",data:"close",type:"option"}],[]),it=jsx(Menu,{children:nt.map(at=>jsx(MenuItem,{text:at.label,onClick:()=>ot(at)},at.label))}),ot=reactExports.useCallback(at=>{at.data!==void 0&&_e({type:OPEN_MODAL,payload:at.data})},[_e]);return et===void 0||tt===void 0||isColor(tt)?null:jsx(Toolbar.PopoverItem,{content:it,itemProps:rt})}const MorphologyTool$1=reactExports.memo(MorphologyTool);function LuFocus(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M3 7V5a2 2 0 0 1 2-2h2"}},{tag:"path",attr:{d:"M17 3h2a2 2 0 0 1 2 2v2"}},{tag:"path",attr:{d:"M21 17v2a2 2 0 0 1-2 2h-2"}},{tag:"path",attr:{d:"M7 21H5a2 2 0 0 1-2-2v-2"}}]})(_e)}function ROITool(){const{open:_e}=useModal("extractROI"),{pipelined:et}=useImage();return et===void 0||!isBinary(et)?null:jsx(Toolbar.Item,{tooltip:"Extract ROI",icon:jsx(LuFocus,{}),onClick:_e})}const ROITool$1=reactExports.memo(ROITool),PixeliumStyle=newStyled.div`
  width: 100%;
  height: 100%;
  background-color: white;
  display: flex;
  flex-direction: column;
`,PixeliumMainStyle=newStyled.div`
  display: flex;
  flex-direction: row;
  height: 100%;
  overflow: hidden;
`;function Pixelium({data:_e,preferences:et,view:tt,webSource:rt}){const nt=reactExports.useRef(null),[it,ot]=reactExports.useReducer(dataReducer,_e??initialDataState),[at,st]=reactExports.useReducer(preferencesReducer,et??initialPreferencesState),[lt,ct]=reactExports.useReducer(viewReducer,tt??initialViewState),ut=reactExports.useMemo(()=>({data:ot,preferences:st,view:ct}),[ot,st,ct]);return jsx(RootLayout,{children:jsx(RootProvider,{value:{rootRef:nt},children:jsx(KbsProvider,{children:jsx(LogProvider,{children:jsx(DataProvider,{value:it,children:jsx(PreferencesProvider,{value:at,children:jsx(ViewProvider,{value:lt,children:jsx(DispatchProvider,{value:ut,children:jsx(PipelineProvider,{identifier:lt.currentTab,children:jsx(AnnotationsProvider,{children:jsx(AutoLoader$1,{webSource:rt,children:jsxs(PixeliumStyle,{ref:nt,children:[jsx(Header,{}),jsxs(PixeliumMainStyle,{children:[jsxs(Toolbar,{vertical:!0,children:[jsx(ImportTool$1,{}),jsx(ExportTool$1,{}),jsx(GreyTool,{}),jsx(MaskTool$1,{}),jsx(MorphologyTool$1,{}),jsx(GeometryTool$1,{}),jsx(ROITool$1,{}),jsx(ModalContainer$1,{})]}),jsxs(SplitPane,{direction:"horizontal",size:"300px",controlledSide:"end",children:[jsx(CenterPanel$1,{}),jsx(Sidebar$3,{})]})]})]})})})})})})})})})})})})}const Pixelium$1=reactExports.memo(Pixelium);/*! MIT License © Sindre Sorhus */const globals={},getGlobal=_e=>{if(typeof self<"u"&&self&&_e in self)return self;if(typeof window<"u"&&window&&_e in window)return window;if(typeof global<"u"&&global&&_e in global)return global;if(typeof globalThis<"u"&&globalThis)return globalThis},globalProperties=["Headers","Request","Response","ReadableStream","fetch","AbortController","FormData"];for(const _e of globalProperties)Object.defineProperty(globals,_e,{get(){const et=getGlobal(_e),tt=et&&et[_e];return typeof tt=="function"?tt.bind(et):tt}});const isObject=_e=>_e!==null&&typeof _e=="object",supportsAbortController=typeof globals.AbortController=="function",supportsStreams=typeof globals.ReadableStream=="function",supportsFormData=typeof globals.FormData=="function",mergeHeaders=(_e,et)=>{const tt=new globals.Headers(_e||{}),rt=et instanceof globals.Headers,nt=new globals.Headers(et||{});for(const[it,ot]of nt)rt&&ot==="undefined"||ot===void 0?tt.delete(it):tt.set(it,ot);return tt},deepMerge=(..._e)=>{let et={},tt={};for(const rt of _e){if(Array.isArray(rt))Array.isArray(et)||(et=[]),et=[...et,...rt];else if(isObject(rt)){for(let[nt,it]of Object.entries(rt))isObject(it)&&nt in et&&(it=deepMerge(et[nt],it)),et={...et,[nt]:it};isObject(rt.headers)&&(tt=mergeHeaders(tt,rt.headers))}et.headers=tt}return et},requestMethods=["get","post","put","patch","head","delete"],responseTypes={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},retryMethods=["get","put","head","delete","options","trace"],retryStatusCodes=[408,413,429,500,502,503,504],retryAfterStatusCodes=[413,429,503],stop=Symbol("stop");class HTTPError extends Error{constructor(et){super(et.statusText||String(et.status===0||et.status?et.status:"Unknown response error")),this.name="HTTPError",this.response=et}}class TimeoutError extends Error{constructor(et){super("Request timed out"),this.name="TimeoutError",this.request=et}}const delay=_e=>new Promise(et=>setTimeout(et,_e)),timeout=(_e,et,tt)=>new Promise((rt,nt)=>{const it=setTimeout(()=>{et&&et.abort(),nt(new TimeoutError(_e))},tt.timeout);tt.fetch(_e).then(rt).catch(nt).then(()=>{clearTimeout(it)})}),normalizeRequestMethod=_e=>requestMethods.includes(_e)?_e.toUpperCase():_e,defaultRetryOptions={limit:2,methods:retryMethods,statusCodes:retryStatusCodes,afterStatusCodes:retryAfterStatusCodes},normalizeRetryOptions=(_e={})=>{if(typeof _e=="number")return{...defaultRetryOptions,limit:_e};if(_e.methods&&!Array.isArray(_e.methods))throw new Error("retry.methods must be an array");if(_e.statusCodes&&!Array.isArray(_e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...defaultRetryOptions,..._e,afterStatusCodes:retryAfterStatusCodes}},maxSafeTimeout=2147483647;class Ky{constructor(et,tt={}){if(this._retryCount=0,this._input=et,this._options={credentials:this._input.credentials||"same-origin",...tt,headers:mergeHeaders(this._input.headers,tt.headers),hooks:deepMerge({beforeRequest:[],beforeRetry:[],afterResponse:[]},tt.hooks),method:normalizeRequestMethod(tt.method||this._input.method),prefixUrl:String(tt.prefixUrl||""),retry:normalizeRetryOptions(tt.retry),throwHttpErrors:tt.throwHttpErrors!==!1,timeout:typeof tt.timeout>"u"?1e4:tt.timeout,fetch:tt.fetch||globals.fetch},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globals.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(supportsAbortController&&(this.abortController=new globals.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globals.Request(this._input,this._options),this._options.searchParams){const ot="?"+new URLSearchParams(this._options.searchParams).toString(),at=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,ot);(supportsFormData&&this._options.body instanceof globals.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globals.Request(new globals.Request(at,this.request),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globals.Request(this.request,{body:this._options.body}));const rt=async()=>{if(this._options.timeout>maxSafeTimeout)throw new RangeError(`The \`timeout\` option cannot be greater than ${maxSafeTimeout}`);await delay(1);let ot=await this._fetch();for(const at of this._options.hooks.afterResponse){const st=await at(this.request,this._options,this._decorateResponse(ot.clone()));st instanceof globals.Response&&(ot=st)}if(this._decorateResponse(ot),!ot.ok&&this._options.throwHttpErrors)throw new HTTPError(ot);if(this._options.onDownloadProgress){if(typeof this._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!supportsStreams)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(ot.clone(),this._options.onDownloadProgress)}return ot},it=this._options.retry.methods.includes(this.request.method.toLowerCase())?this._retry(rt):rt();for(const[ot,at]of Object.entries(responseTypes))it[ot]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||at);const st=(await it).clone();if(ot==="json"){if(st.status===204)return"";if(tt.parseJson)return tt.parseJson(await st.text())}return st[ot]()};return it}_calculateRetryDelay(et){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(et instanceof TimeoutError)){if(et instanceof HTTPError){if(!this._options.retry.statusCodes.includes(et.response.status))return 0;const rt=et.response.headers.get("Retry-After");if(rt&&this._options.retry.afterStatusCodes.includes(et.response.status)){let nt=Number(rt);return Number.isNaN(nt)?nt=Date.parse(rt)-Date.now():nt*=1e3,typeof this._options.retry.maxRetryAfter<"u"&&nt>this._options.retry.maxRetryAfter?0:nt}if(et.response.status===413)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(et){return this._options.parseJson&&(et.json=async()=>this._options.parseJson(await et.text())),et}async _retry(et){try{return await et()}catch(tt){const rt=Math.min(this._calculateRetryDelay(tt),maxSafeTimeout);if(rt!==0&&this._retryCount>0){await delay(rt);for(const nt of this._options.hooks.beforeRetry)if(await nt({request:this.request,options:this._options,error:tt,retryCount:this._retryCount})===stop)return;return this._retry(et)}if(this._options.throwHttpErrors)throw tt}}async _fetch(){for(const et of this._options.hooks.beforeRequest){const tt=await et(this.request,this._options);if(tt instanceof Request){this.request=tt;break}if(tt instanceof Response)return tt}return this._options.timeout===!1?this._options.fetch(this.request.clone()):timeout(this.request.clone(),this.abortController,this._options)}_stream(et,tt){const rt=Number(et.headers.get("content-length"))||0;let nt=0;return new globals.Response(new globals.ReadableStream({start(it){const ot=et.body.getReader();tt&&tt({percent:0,transferredBytes:0,totalBytes:rt},new Uint8Array);async function at(){const{done:st,value:lt}=await ot.read();if(st){it.close();return}if(tt){nt+=lt.byteLength;const ct=rt===0?0:nt/rt;tt({percent:ct,transferredBytes:nt,totalBytes:rt},lt)}it.enqueue(lt),at()}at()}}))}}const validateAndMerge=(..._e)=>{for(const et of _e)if((!isObject(et)||Array.isArray(et))&&typeof et<"u")throw new TypeError("The `options` argument must be an object");return deepMerge({},..._e)},createInstance=_e=>{const et=(tt,rt)=>new Ky(tt,validateAndMerge(_e,rt));for(const tt of requestMethods)et[tt]=(rt,nt)=>new Ky(rt,validateAndMerge(_e,nt,{method:tt}));return et.HTTPError=HTTPError,et.TimeoutError=TimeoutError,et.create=tt=>createInstance(validateAndMerge(tt)),et.extend=tt=>createInstance(validateAndMerge(_e,tt)),et.stop=stop,et},ky=createInstance(),StyledSidebar=newStyled.div`
  display: flex;
  flex-direction: column;
  width: 300px;
  color: white;
  background-color: cornflowerblue;
  padding: 0 20px;
  overflow-y: auto;

  h1 {
    font-size: 1.5rem;
    margin: 0;
    padding: 20px 0;
    border-bottom: 1px solid white;
  }

  h2 {
    font-size: 1.2rem;
    margin: 0;
    padding: 10px 0;
    border-bottom: 1px solid white;
  }

  button {
    cursor: pointer;
  }
`,ButtonGroup=newStyled.div`
  display: flex;
  flex-direction: column;
  margin: 10px 0;
  gap: 10px;
`;function Sidebar({setWebSource:_e}){const[et,tt]=reactExports.useState({title:"",sections:[]}),[rt,nt]=reactExports.useState();return reactExports.useEffect(()=>{ky.get("https://image-js.github.io/image-dataset-demo/toc.json").json().then(tt).catch(it=>{console.error(it)})},[]),reactExports.useEffect(()=>{rt&&_e(rt)},[rt,_e]),jsxs(StyledSidebar,{children:[jsx("h1",{children:"Pixelium"}),et.sections.map(it=>jsxs(reactExports.Fragment,{children:[jsx("h2",{children:it.title}),jsx(ButtonGroup,{children:it.sources.filter(ot=>!ot.name.includes(".json")).map(ot=>jsx(Button,{onClick:()=>{nt(ot.source)},fill:!0,children:ot.name},ot.name))})]},it.title))]})}const Sidebar$1=reactExports.memo(Sidebar),MainViewWrapper=newStyled.div`
  display: flex;
  max-width: 100vw;
  height: 100vh;
  flex-direction: row;
  overflow: hidden;
`,PixeliumWrapper=newStyled.div`
  flex: 1;
  padding: 20px;
  background-color: lightgray;
  min-width: 0;
`;function MainView(){const[_e,et]=reactExports.useState();return jsxs(MainViewWrapper,{children:[jsx(Sidebar$1,{setWebSource:et}),jsx(PixeliumWrapper,{children:jsx(Pixelium$1,{webSource:_e})})]})}const MainView$1=reactExports.memo(MainView),modernNormalize="",rootElement=document.querySelector("#root");if(!rootElement)throw new Error("#root element not found");const root=createRoot(rootElement);root.render(jsx(HashRouter,{children:jsx(Routes,{children:jsx(Route,{path:"*",element:jsx(MainView$1,{})})})}));export{IconSize as I,__awaiter as _,__generator as a,__vitePreload as b,pascalCase as p};
